var Tl=Object.defineProperty;var Sl=(e,i,s)=>i in e?Tl(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var mn=(e,i,s)=>(Sl(e,typeof i!="symbol"?i+"":i,s),s),Ps=(e,i,s)=>{if(!i.has(e))throw TypeError("Cannot "+s)};var Mt=(e,i,s)=>(Ps(e,i,"read from private field"),s?s.call(e):i.get(e)),lr=(e,i,s)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,s)},Tr=(e,i,s,a)=>(Ps(e,i,"write to private field"),a?a.call(e,s):i.set(e,s),s);var zn=(e,i,s,a)=>({set _(o){Tr(e,i,o,s)},get _(){return Mt(e,i,a)}}),gr=(e,i,s)=>(Ps(e,i,"access private method"),s);function _mergeNamespaces(e,i){for(var s=0;s<i.length;s++){const a=i[s];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const et=Object.getOwnPropertyDescriptor(a,o);et&&Object.defineProperty(e,o,et.get?et:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const et of o)if(et.type==="childList")for(const ot of et.addedNodes)ot.tagName==="LINK"&&ot.rel==="modulepreload"&&a(ot)}).observe(document,{childList:!0,subtree:!0});function s(o){const et={};return o.integrity&&(et.integrity=o.integrity),o.referrerPolicy&&(et.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?et.credentials="include":o.crossOrigin==="anonymous"?et.credentials="omit":et.credentials="same-origin",et}function a(o){if(o.ep)return;o.ep=!0;const et=s(o);fetch(o.href,et)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function a(){return this instanceof a?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react$1={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$4(e){return e===null||typeof e!="object"?null:(e=z$4&&e[z$4]||e["@@iterator"],typeof e=="function"?e:null)}var B$4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$5=Object.assign,D$5={};function E$3(e,i,s){this.props=e,this.context=i,this.refs=D$5,this.updater=s||B$4}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$3.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F$3(){}F$3.prototype=E$3.prototype;function G$3(e,i,s){this.props=e,this.context=i,this.refs=D$5,this.updater=s||B$4}var H$4=G$3.prototype=new F$3;H$4.constructor=G$3;C$5(H$4,E$3.prototype);H$4.isPureReactComponent=!0;var I$4=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$4(e,i,s){var a,o={},et=null,ot=null;if(i!=null)for(a in i.ref!==void 0&&(ot=i.ref),i.key!==void 0&&(et=""+i.key),i)J$2.call(i,a)&&!L$3.hasOwnProperty(a)&&(o[a]=i[a]);var ft=arguments.length-2;if(ft===1)o.children=s;else if(1<ft){for(var dt=Array(ft),mt=0;mt<ft;mt++)dt[mt]=arguments[mt+2];o.children=dt}if(e&&e.defaultProps)for(a in ft=e.defaultProps,ft)o[a]===void 0&&(o[a]=ft[a]);return{$$typeof:l$2,type:e,key:et,ref:ot,props:o,_owner:K$3.current}}function N$3(e,i){return{$$typeof:l$2,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$4(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$2}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return i[s]})}var P$3=/\/+/g;function Q$4(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$4(e,i,s,a,o){var et=typeof e;(et==="undefined"||et==="boolean")&&(e=null);var ot=!1;if(e===null)ot=!0;else switch(et){case"string":case"number":ot=!0;break;case"object":switch(e.$$typeof){case l$2:case n$1:ot=!0}}if(ot)return ot=e,o=o(ot),e=a===""?"."+Q$4(ot,0):a,I$4(o)?(s="",e!=null&&(s=e.replace(P$3,"$&/")+"/"),R$4(o,i,s,"",function(mt){return mt})):o!=null&&(O$4(o)&&(o=N$3(o,s+(!o.key||ot&&ot.key===o.key?"":(""+o.key).replace(P$3,"$&/")+"/")+e)),i.push(o)),1;if(ot=0,a=a===""?".":a+":",I$4(e))for(var ft=0;ft<e.length;ft++){et=e[ft];var dt=a+Q$4(et,ft);ot+=R$4(et,i,s,dt,o)}else if(dt=A$4(e),typeof dt=="function")for(e=dt.call(e),ft=0;!(et=e.next()).done;)et=et.value,dt=a+Q$4(et,ft++),ot+=R$4(et,i,s,dt,o);else if(et==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return ot}function S$5(e,i,s){if(e==null)return e;var a=[],o=0;return R$4(e,a,"","",function(et){return i.call(s,et,o++)}),a}function T$4(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$3={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};react_production_min.Children={map:S$5,forEach:function(e,i,s){S$5(e,function(){i.apply(this,arguments)},s)},count:function(e){var i=0;return S$5(e,function(){i++}),i},toArray:function(e){return S$5(e,function(i){return i})||[]},only:function(e){if(!O$4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$3;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.cloneElement=function(e,i,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=C$5({},e.props),o=e.key,et=e.ref,ot=e._owner;if(i!=null){if(i.ref!==void 0&&(et=i.ref,ot=K$3.current),i.key!==void 0&&(o=""+i.key),e.type&&e.type.defaultProps)var ft=e.type.defaultProps;for(dt in i)J$2.call(i,dt)&&!L$3.hasOwnProperty(dt)&&(a[dt]=i[dt]===void 0&&ft!==void 0?ft[dt]:i[dt])}var dt=arguments.length-2;if(dt===1)a.children=s;else if(1<dt){ft=Array(dt);for(var mt=0;mt<dt;mt++)ft[mt]=arguments[mt+2];a.children=ft}return{$$typeof:l$2,type:e.type,key:o,ref:et,props:a,_owner:ot}};react_production_min.createContext=function(e){return e={$$typeof:u$1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$4;react_production_min.createFactory=function(e){var i=M$4.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$6,render:e}};react_production_min.isValidElement=O$4;react_production_min.lazy=function(e){return{$$typeof:y$3,_payload:{_status:-1,_result:e},_init:T$4}};react_production_min.memo=function(e,i){return{$$typeof:x$3,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$3.transition;V$3.transition={};try{e()}finally{V$3.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,i){return U$3.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$3.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$3.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$3.current.useEffect(e,i)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(e,i,s){return U$3.current.useImperativeHandle(e,i,s)};react_production_min.useInsertionEffect=function(e,i){return U$3.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$3.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$3.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,s){return U$3.current.useReducer(e,i,s)};react_production_min.useRef=function(e){return U$3.current.useRef(e)};react_production_min.useState=function(e){return U$3.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,s){return U$3.current.useSyncExternalStore(e,i,s)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react$1.exports=react_production_min;var reactExports=react$1.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$3=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$3(e,i,s){var a,o={},et=null,ot=null;s!==void 0&&(et=""+s),i.key!==void 0&&(et=""+i.key),i.ref!==void 0&&(ot=i.ref);for(a in i)m$3.call(i,a)&&!p$3.hasOwnProperty(a)&&(o[a]=i[a]);if(e&&e.defaultProps)for(a in i=e.defaultProps,i)o[a]===void 0&&(o[a]=i[a]);return{$$typeof:k$3,type:e,key:et,ref:ot,props:o,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(kt,Ft){var Qt=kt.length;kt.push(Ft);e:for(;0<Qt;){var Zt=Qt-1>>>1,rr=kt[Zt];if(0<o(rr,Ft))kt[Zt]=Ft,kt[Qt]=rr,Qt=Zt;else break e}}function s(kt){return kt.length===0?null:kt[0]}function a(kt){if(kt.length===0)return null;var Ft=kt[0],Qt=kt.pop();if(Qt!==Ft){kt[0]=Qt;e:for(var Zt=0,rr=kt.length,qt=rr>>>1;Zt<qt;){var Dt=2*(Zt+1)-1,Vt=kt[Dt],Lt=Dt+1,jt=kt[Lt];if(0>o(Vt,Qt))Lt<rr&&0>o(jt,Vt)?(kt[Zt]=jt,kt[Lt]=Qt,Zt=Lt):(kt[Zt]=Vt,kt[Dt]=Qt,Zt=Dt);else if(Lt<rr&&0>o(jt,Qt))kt[Zt]=jt,kt[Lt]=Qt,Zt=Lt;else break e}}return Ft}function o(kt,Ft){var Qt=kt.sortIndex-Ft.sortIndex;return Qt!==0?Qt:kt.id-Ft.id}if(typeof performance=="object"&&typeof performance.now=="function"){var et=performance;e.unstable_now=function(){return et.now()}}else{var ot=Date,ft=ot.now();e.unstable_now=function(){return ot.now()-ft}}var dt=[],mt=[],gt=1,bt=null,vt=3,Pt=!1,Tt=!1,At=!1,wt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function yt(kt){for(var Ft=s(mt);Ft!==null;){if(Ft.callback===null)a(mt);else if(Ft.startTime<=kt)a(mt),Ft.sortIndex=Ft.expirationTime,i(dt,Ft);else break;Ft=s(mt)}}function St(kt){if(At=!1,yt(kt),!Tt)if(s(dt)!==null)Tt=!0,zt(xt);else{var Ft=s(mt);Ft!==null&&Ut(St,Ft.startTime-kt)}}function xt(kt,Ft){Tt=!1,At&&(At=!1,_t(Rt),Rt=-1),Pt=!0;var Qt=vt;try{for(yt(Ft),bt=s(dt);bt!==null&&(!(bt.expirationTime>Ft)||kt&&!Ot());){var Zt=bt.callback;if(typeof Zt=="function"){bt.callback=null,vt=bt.priorityLevel;var rr=Zt(bt.expirationTime<=Ft);Ft=e.unstable_now(),typeof rr=="function"?bt.callback=rr:bt===s(dt)&&a(dt),yt(Ft)}else a(dt);bt=s(dt)}if(bt!==null)var qt=!0;else{var Dt=s(mt);Dt!==null&&Ut(St,Dt.startTime-Ft),qt=!1}return qt}finally{bt=null,vt=Qt,Pt=!1}}var Ct=!1,$t=null,Rt=-1,It=5,Nt=-1;function Ot(){return!(e.unstable_now()-Nt<It)}function Gt(){if($t!==null){var kt=e.unstable_now();Nt=kt;var Ft=!0;try{Ft=$t(!0,kt)}finally{Ft?Xt():(Ct=!1,$t=null)}}else Ct=!1}var Xt;if(typeof Et=="function")Xt=function(){Et(Gt)};else if(typeof MessageChannel<"u"){var Ht=new MessageChannel,Yt=Ht.port2;Ht.port1.onmessage=Gt,Xt=function(){Yt.postMessage(null)}}else Xt=function(){wt(Gt,0)};function zt(kt){$t=kt,Ct||(Ct=!0,Xt())}function Ut(kt,Ft){Rt=wt(function(){kt(e.unstable_now())},Ft)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(kt){kt.callback=null},e.unstable_continueExecution=function(){Tt||Pt||(Tt=!0,zt(xt))},e.unstable_forceFrameRate=function(kt){0>kt||125<kt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):It=0<kt?Math.floor(1e3/kt):5},e.unstable_getCurrentPriorityLevel=function(){return vt},e.unstable_getFirstCallbackNode=function(){return s(dt)},e.unstable_next=function(kt){switch(vt){case 1:case 2:case 3:var Ft=3;break;default:Ft=vt}var Qt=vt;vt=Ft;try{return kt()}finally{vt=Qt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(kt,Ft){switch(kt){case 1:case 2:case 3:case 4:case 5:break;default:kt=3}var Qt=vt;vt=kt;try{return Ft()}finally{vt=Qt}},e.unstable_scheduleCallback=function(kt,Ft,Qt){var Zt=e.unstable_now();switch(typeof Qt=="object"&&Qt!==null?(Qt=Qt.delay,Qt=typeof Qt=="number"&&0<Qt?Zt+Qt:Zt):Qt=Zt,kt){case 1:var rr=-1;break;case 2:rr=250;break;case 5:rr=1073741823;break;case 4:rr=1e4;break;default:rr=5e3}return rr=Qt+rr,kt={id:gt++,callback:Ft,priorityLevel:kt,startTime:Qt,expirationTime:rr,sortIndex:-1},Qt>Zt?(kt.sortIndex=Qt,i(mt,kt),s(dt)===null&&kt===s(mt)&&(At?(_t(Rt),Rt=-1):At=!0,Ut(St,Qt-Zt))):(kt.sortIndex=rr,i(dt,kt),Tt||Pt||(Tt=!0,zt(xt))),kt},e.unstable_shouldYield=Ot,e.unstable_wrapCallback=function(kt){var Ft=vt;return function(){var Qt=vt;vt=Ft;try{return kt.apply(this,arguments)}finally{vt=Qt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$2(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1(e,i){ha$1(e,i),ha$1(e+"Capture",i)}function ha$1(e,i){for(ea$1[e]=i,e=0;e<i.length;e++)da$1.add(i[e])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma$1={};function oa$1(e){return ja$1.call(ma$1,e)?!0:ja$1.call(la,e)?!1:ka$1.test(e)?ma$1[e]=!0:(la[e]=!0,!1)}function pa$1(e,i,s,a){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa$1(e,i,s,a){if(i===null||typeof i>"u"||pa$1(e,i,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$5(e,i,s,a,o,et,ot){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=o,this.mustUseProperty=s,this.propertyName=e,this.type=i,this.sanitizeURL=et,this.removeEmptyString=ot}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z$3[e]=new v$5(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z$3[i]=new v$5(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z$3[e]=new v$5(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z$3[e]=new v$5(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z$3[e]=new v$5(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z$3[e]=new v$5(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z$3[e]=new v$5(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z$3[e]=new v$5(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z$3[e]=new v$5(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(ra$1,sa$1);z$3[i]=new v$5(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(ra$1,sa$1);z$3[i]=new v$5(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(ra$1,sa$1);z$3[i]=new v$5(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z$3[e]=new v$5(e,1,!1,e.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z$3[e]=new v$5(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta$1(e,i,s,a){var o=z$3.hasOwnProperty(i)?z$3[i]:null;(o!==null?o.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa$1(i,s,o,a)&&(s=null),a||o===null?oa$1(i)&&(s===null?e.removeAttribute(i):e.setAttribute(i,""+s)):o.mustUseProperty?e[o.propertyName]=s===null?o.type===3?!1:"":s:(i=o.attributeName,a=o.attributeNamespace,s===null?e.removeAttribute(i):(o=o.type,s=o===3||o===4&&s===!0?"":""+s,a?e.setAttributeNS(a,i,s):e.setAttribute(i,s))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$1=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja$1&&e[Ja$1]||e["@@iterator"],typeof e=="function"?e:null)}var A$3=Object.assign,La;function Ma$1(e){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+e}var Na$1=!1;function Oa$1(e,i){if(!e||Na$1)return"";Na$1=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(mt){var a=mt}Reflect.construct(e,[],i)}else{try{i.call()}catch(mt){a=mt}e.call(i.prototype)}else{try{throw Error()}catch(mt){a=mt}e()}}catch(mt){if(mt&&a&&typeof mt.stack=="string"){for(var o=mt.stack.split(`
`),et=a.stack.split(`
`),ot=o.length-1,ft=et.length-1;1<=ot&&0<=ft&&o[ot]!==et[ft];)ft--;for(;1<=ot&&0<=ft;ot--,ft--)if(o[ot]!==et[ft]){if(ot!==1||ft!==1)do if(ot--,ft--,0>ft||o[ot]!==et[ft]){var dt=`
`+o[ot].replace(" at new "," at ");return e.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",e.displayName)),dt}while(1<=ot&&0<=ft);break}}}finally{Na$1=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma$1(e):""}function Pa$1(e){switch(e.tag){case 5:return Ma$1(e.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return e=Oa$1(e.type,!1),e;case 11:return e=Oa$1(e.type.render,!1),e;case 1:return e=Oa$1(e.type,!0),e;default:return""}}function Qa$1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa$1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca$1:return(e.displayName||"Context")+".Consumer";case Ba$1:return(e._context.displayName||"Context")+".Provider";case Da$1:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga$1:return i=e.displayName||null,i!==null?i:Qa$1(e.type)||"Memo";case Ha$1:i=e._payload,e=e._init;try{return Qa$1(e(i))}catch{}}return null}function Ra$1(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(i);case 8:return i===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa$1(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta$1(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua$1(e){var i=Ta$1(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),a=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,et=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return o.call(this)},set:function(ot){a=""+ot,et.call(this,ot)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(ot){a=""+ot},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Va$1(e){e._valueTracker||(e._valueTracker=Ua$1(e))}function Wa$1(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),a="";return e&&(a=Ta$1(e)?e.checked?"true":"false":e.value),e=a,e!==s?(i.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya$1(e,i){var s=i.checked;return A$3({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za$1(e,i){var s=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;s=Sa$1(i.value!=null?i.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab$1(e,i){i=i.checked,i!=null&&ta$1(e,"checked",i,!1)}function bb$1(e,i){ab$1(e,i);var s=Sa$1(i.value),a=i.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?cb$1(e,i.type,s):i.hasOwnProperty("defaultValue")&&cb$1(e,i.type,Sa$1(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function db$1(e,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,s||i===e.value||(e.value=i),e.defaultValue=i}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb$1(e,i,s){(i!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb$1=Array.isArray;function fb$1(e,i,s,a){if(e=e.options,i){i={};for(var o=0;o<s.length;o++)i["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=i.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Sa$1(s),i=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}i!==null||e[o].disabled||(i=e[o])}i!==null&&(i.selected=!0)}}function gb$1(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$3({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb$1(e,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p$2(92));if(eb$1(s)){if(1<s.length)throw Error(p$2(93));s=s[0]}i=s}i==null&&(i=""),s=i}e._wrapperState={initialValue:Sa$1(s)}}function ib$1(e,i){var s=Sa$1(i.value),a=Sa$1(i.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),i.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function jb$1(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function kb$1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?kb$1(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb$1,nb$1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,a,o){MSApp.execUnsafeLocalFunction(function(){return e(i,s,a,o)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb$1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function ob$1(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(e){qb$1.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),pb$1[i]=pb$1[e]})});function rb$1(e,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb$1.hasOwnProperty(e)&&pb$1[e]?(""+i).trim():i+"px"}function sb$1(e,i){e=e.style;for(var s in i)if(i.hasOwnProperty(s)){var a=s.indexOf("--")===0,o=rb$1(s,i[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,o):e[s]=o}}var tb$1=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(e,i){if(i){if(tb$1[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$2(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$2(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$2(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$2(62))}}function vb$1(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(e){if(e=Cb$1(e)){if(typeof yb$1!="function")throw Error(p$2(280));var i=e.stateNode;i&&(i=Db(i),yb$1(e.stateNode,e.type,i))}}function Eb$1(e){zb$1?Ab$1?Ab$1.push(e):Ab$1=[e]:zb$1=e}function Fb$1(){if(zb$1){var e=zb$1,i=Ab$1;if(Ab$1=zb$1=null,Bb$1(e),i)for(e=0;e<i.length;e++)Bb$1(i[e])}}function Gb$1(e,i){return e(i)}function Hb$1(){}var Ib$1=!1;function Jb$1(e,i,s){if(Ib$1)return e(i,s);Ib$1=!0;try{return Gb$1(e,i,s)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb$1(e,i){var s=e.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p$2(231,i,typeof s));return s}var Lb$1=!1;if(ia$1)try{var Mb$1={};Object.defineProperty(Mb$1,"passive",{get:function(){Lb$1=!0}}),window.addEventListener("test",Mb$1,Mb$1),window.removeEventListener("test",Mb$1,Mb$1)}catch{Lb$1=!1}function Nb$1(e,i,s,a,o,et,ot,ft,dt){var mt=Array.prototype.slice.call(arguments,3);try{i.apply(s,mt)}catch(gt){this.onError(gt)}}var Ob$1=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(e){Ob$1=!0,Pb$1=e}};function Tb$1(e,i,s,a,o,et,ot,ft,dt){Ob$1=!1,Pb$1=null,Nb$1.apply(Sb$1,arguments)}function Ub$1(e,i,s,a,o,et,ot,ft,dt){if(Tb$1.apply(this,arguments),Ob$1){if(Ob$1){var mt=Pb$1;Ob$1=!1,Pb$1=null}else throw Error(p$2(198));Qb$1||(Qb$1=!0,Rb$1=mt)}}function Vb$1(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function Wb$1(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Xb$1(e){if(Vb$1(e)!==e)throw Error(p$2(188))}function Yb$1(e){var i=e.alternate;if(!i){if(i=Vb$1(e),i===null)throw Error(p$2(188));return i!==e?null:e}for(var s=e,a=i;;){var o=s.return;if(o===null)break;var et=o.alternate;if(et===null){if(a=o.return,a!==null){s=a;continue}break}if(o.child===et.child){for(et=o.child;et;){if(et===s)return Xb$1(o),e;if(et===a)return Xb$1(o),i;et=et.sibling}throw Error(p$2(188))}if(s.return!==a.return)s=o,a=et;else{for(var ot=!1,ft=o.child;ft;){if(ft===s){ot=!0,s=o,a=et;break}if(ft===a){ot=!0,a=o,s=et;break}ft=ft.sibling}if(!ot){for(ft=et.child;ft;){if(ft===s){ot=!0,s=et,a=o;break}if(ft===a){ot=!0,a=et,s=o;break}ft=ft.sibling}if(!ot)throw Error(p$2(189))}}if(s.alternate!==a)throw Error(p$2(190))}if(s.tag!==3)throw Error(p$2(188));return s.stateNode.current===s?e:i}function Zb$1(e){return e=Yb$1(e),e!==null?$b$1(e):null}function $b$1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=$b$1(e);if(i!==null)return i;e=e.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc$1=ca$1.unstable_requestPaint,B$3=ca$1.unstable_now,ec$1=ca$1.unstable_getCurrentPriorityLevel,fc$1=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc$1=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(e){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,e,void 0,(e.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(e){return e>>>=0,e===0?32:31-(pc$1(e)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc$1(e,i){var s=e.pendingLanes;if(s===0)return 0;var a=0,o=e.suspendedLanes,et=e.pingedLanes,ot=s&268435455;if(ot!==0){var ft=ot&~o;ft!==0?a=tc$1(ft):(et&=ot,et!==0&&(a=tc$1(et)))}else ot=s&~o,ot!==0?a=tc$1(ot):et!==0&&(a=tc$1(et));if(a===0)return 0;if(i!==0&&i!==a&&!(i&o)&&(o=a&-a,et=i&-i,o>=et||o===16&&(et&4194240)!==0))return i;if(a&4&&(a|=s&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=a;0<i;)s=31-oc$1(i),o=1<<s,a|=e[s],i&=~o;return a}function vc$1(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(e,i){for(var s=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,et=e.pendingLanes;0<et;){var ot=31-oc$1(et),ft=1<<ot,dt=o[ot];dt===-1?(!(ft&s)||ft&a)&&(o[ot]=vc$1(ft,i)):dt<=i&&(e.expiredLanes|=ft),et&=~ft}}function xc$1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc$1(){var e=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),e}function zc$1(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Ac$1(e,i,s){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-oc$1(i),e[i]=s}function Bc$1(e,i){var s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var o=31-oc$1(s),et=1<<o;i[o]=0,a[o]=-1,e[o]=-1,s&=~et}}function Cc$1(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var a=31-oc$1(s),o=1<<a;o&i|e[a]&i&&(e[a]|=i),s&=~o}}var C$4=0;function Dc$1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(e,i){switch(e){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(i.pointerId)}}function Tc$1(e,i,s,a,o,et){return e===null||e.nativeEvent!==et?(e={blockedOn:i,domEventName:s,eventSystemFlags:a,nativeEvent:et,targetContainers:[o]},i!==null&&(i=Cb$1(i),i!==null&&Fc$1(i)),e):(e.eventSystemFlags|=a,i=e.targetContainers,o!==null&&i.indexOf(o)===-1&&i.push(o),e)}function Uc$1(e,i,s,a,o){switch(i){case"focusin":return Lc$1=Tc$1(Lc$1,e,i,s,a,o),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,e,i,s,a,o),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,e,i,s,a,o),!0;case"pointerover":var et=o.pointerId;return Oc$1.set(et,Tc$1(Oc$1.get(et)||null,e,i,s,a,o)),!0;case"gotpointercapture":return et=o.pointerId,Pc$1.set(et,Tc$1(Pc$1.get(et)||null,e,i,s,a,o)),!0}return!1}function Vc$1(e){var i=Wc$1(e.target);if(i!==null){var s=Vb$1(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb$1(s),i!==null){e.blockedOn=i,Ic$1(e.priority,function(){Gc$1(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc$1(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Yc$1(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);wb$1=a,s.target.dispatchEvent(a),wb$1=null}else return i=Cb$1(s),i!==null&&Fc$1(i),e.blockedOn=s,!1;i.shift()}return!0}function Zc$1(e,i,s){Xc$1(e)&&s.delete(i)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad$1(e,i){e.blockedOn===i&&(e.blockedOn=null,Jc$1||(Jc$1=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c$1)))}function bd$1(e){function i(o){return ad$1(o,e)}if(0<Kc$1.length){ad$1(Kc$1[0],e);for(var s=1;s<Kc$1.length;s++){var a=Kc$1[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Lc$1!==null&&ad$1(Lc$1,e),Mc$1!==null&&ad$1(Mc$1,e),Nc$1!==null&&ad$1(Nc$1,e),Oc$1.forEach(i),Pc$1.forEach(i),s=0;s<Qc$1.length;s++)a=Qc$1[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Qc$1.length&&(s=Qc$1[0],s.blockedOn===null);)Vc$1(s),s.blockedOn===null&&Qc$1.shift()}var cd$1=ua$1.ReactCurrentBatchConfig,dd$1=!0;function ed$1(e,i,s,a){var o=C$4,et=cd$1.transition;cd$1.transition=null;try{C$4=1,fd$1(e,i,s,a)}finally{C$4=o,cd$1.transition=et}}function gd$1(e,i,s,a){var o=C$4,et=cd$1.transition;cd$1.transition=null;try{C$4=4,fd$1(e,i,s,a)}finally{C$4=o,cd$1.transition=et}}function fd$1(e,i,s,a){if(dd$1){var o=Yc$1(e,i,s,a);if(o===null)hd$1(e,i,a,id$1,s),Sc$1(e,a);else if(Uc$1(o,e,i,s,a))a.stopPropagation();else if(Sc$1(e,a),i&4&&-1<Rc$1.indexOf(e)){for(;o!==null;){var et=Cb$1(o);if(et!==null&&Ec$1(et),et=Yc$1(e,i,s,a),et===null&&hd$1(e,i,a,id$1,s),et===o)break;o=et}o!==null&&a.stopPropagation()}else hd$1(e,i,a,null,s)}}var id$1=null;function Yc$1(e,i,s,a){if(id$1=null,e=xb$1(a),e=Wc$1(e),e!==null)if(i=Vb$1(e),i===null)e=null;else if(s=i.tag,s===13){if(e=Wb$1(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return id$1=e,null}function jd$1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var e,i=ld$1,s=i.length,a,o="value"in kd$1?kd$1.value:kd$1.textContent,et=o.length;for(e=0;e<s&&i[e]===o[e];e++);var ot=s-e;for(a=1;a<=ot&&i[s-a]===o[et-a];a++);return md$1=o.slice(e,1<a?1-a:void 0)}function od$1(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(e){function i(s,a,o,et,ot){this._reactName=s,this._targetInst=o,this.type=a,this.nativeEvent=et,this.target=ot,this.currentTarget=null;for(var ft in e)e.hasOwnProperty(ft)&&(s=e[ft],this[ft]=s?s(et):et[ft]);return this.isDefaultPrevented=(et.defaultPrevented!=null?et.defaultPrevented:et.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$3(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),i}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$3({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$3({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd$1&&(yd$1&&e.type==="mousemove"?(wd$1=e.screenX-yd$1.screenX,xd$1=e.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=e),wd$1)},movementY:function(e){return"movementY"in e?e.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$3({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$3({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$3({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$3({},sd$1,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd$1=A$3({},sd$1,{data:0}),Ld$1=rd$1(Kd$1),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$1(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Od$1[e])?!!i[e]:!1}function zd$1(){return Pd$1}var Qd$1=A$3({},ud$1,{key:function(e){if(e.key){var i=Md$1[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=od$1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd$1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(e){return e.type==="keypress"?od$1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od$1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd$1=rd$1(Qd$1),Sd$1=A$3({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$1),Ud$1=A$3({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd$1=A$3({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd$1=rd$1(Wd$1),Yd$1=A$3({},Ad$1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd$1=rd$1(Yd$1),$d$1=[9,13,27,32],ae$3=ia$1&&"CompositionEvent"in window,be$2=null;ia$1&&"documentMode"in document&&(be$2=document.documentMode);var ce$1=ia$1&&"TextEvent"in window&&!be$2,de$1=ia$1&&(!ae$3||be$2&&8<be$2&&11>=be$2),ee$2=" ",fe$1=!1;function ge$2(e,i){switch(e){case"keyup":return $d$1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie$2=!1;function je$1(e,i){switch(e){case"compositionend":return he$2(i);case"keypress":return i.which!==32?null:(fe$1=!0,ee$2);case"textInput":return e=i.data,e===ee$2&&fe$1?null:e;default:return null}}function ke$1(e,i){if(ie$2)return e==="compositionend"||!ae$3&&ge$2(e,i)?(e=nd$1(),md$1=ld$1=kd$1=null,ie$2=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de$1&&i.locale!=="ko"?null:i.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!le$2[e.type]:i==="textarea"}function ne$1(e,i,s,a){Eb$1(a),i=oe$2(i,"onChange"),0<i.length&&(s=new td$1("onChange","change",null,s,a),e.push({event:s,listeners:i}))}var pe$1=null,qe$1=null;function re$2(e){se$2(e,0)}function te$2(e){var i=ue$2(e);if(Wa$1(i))return e}function ve$1(e,i){if(e==="change")return i}var we$1=!1;if(ia$1){var xe$1;if(ia$1){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(e){if(e.propertyName==="value"&&te$2(qe$1)){var i=[];ne$1(i,qe$1,e,xb$1(e)),Jb$1(re$2,i)}}function Ce$1(e,i,s){e==="focusin"?(Ae$2(),pe$1=i,qe$1=s,pe$1.attachEvent("onpropertychange",Be$1)):e==="focusout"&&Ae$2()}function De$1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te$2(qe$1)}function Ee$1(e,i){if(e==="click")return te$2(i)}function Fe$1(e,i){if(e==="input"||e==="change")return te$2(i)}function Ge$1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$2(e,i){if(He$1(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),a=Object.keys(i);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var o=s[a];if(!ja$1.call(i,o)||!He$1(e[o],i[o]))return!1}return!0}function Je$1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke$1(e,i){var s=Je$1(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=i&&a>=i)return{node:s,offset:i-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je$1(s)}}function Le(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Le(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Me$1(){for(var e=window,i=Xa();i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Xa(e.document)}return i}function Ne$1(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Oe$1(e){var i=Me$1(),s=e.focusedElem,a=e.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(a!==null&&Ne$1(s)){if(i=a.start,e=a.end,e===void 0&&(e=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(e,s.value.length);else if(e=(i=s.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var o=s.textContent.length,et=Math.min(a.start,o);a=a.end===void 0?et:Math.min(a.end,o),!e.extend&&et>a&&(o=a,a=et,et=o),o=Ke$1(s,et);var ot=Ke$1(s,a);o&&ot&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==ot.node||e.focusOffset!==ot.offset)&&(i=i.createRange(),i.setStart(o.node,o.offset),e.removeAllRanges(),et>a?(e.addRange(i),e.extend(ot.node,ot.offset)):(i.setEnd(ot.node,ot.offset),e.addRange(i)))}}for(i=[],e=s;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)e=i[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe$2=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$2=null,Se$1=null,Te$1=!1;function Ue$1(e,i,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te$1||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne$1(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se$1&&Ie$2(Se$1,a)||(Se$1=a,a=oe$2(Re$2,"onSelect"),0<a.length&&(i=new td$1("onSelect","select",null,i,s),e.push({event:i,listeners:a}),i.target=Qe)))}function Ve$2(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var We$1={animationend:Ve$2("Animation","AnimationEnd"),animationiteration:Ve$2("Animation","AnimationIteration"),animationstart:Ve$2("Animation","AnimationStart"),transitionend:Ve$2("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia$1&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(e){if(Xe$1[e])return Xe$1[e];if(!We$1[e])return e;var i=We$1[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye$1)return Xe$1[e]=i[s];return e}var $e=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,i){df.set(e,i),fa$1(i,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,i,s){var a=e.type||"unknown-event";e.currentTarget=s,Ub$1(a,i,void 0,e),e.currentTarget=null}function se$2(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],o=a.event;a=a.listeners;e:{var et=void 0;if(i)for(var ot=a.length-1;0<=ot;ot--){var ft=a[ot],dt=ft.instance,mt=ft.currentTarget;if(ft=ft.listener,dt!==et&&o.isPropagationStopped())break e;nf(o,ft,mt),et=dt}else for(ot=0;ot<a.length;ot++){if(ft=a[ot],dt=ft.instance,mt=ft.currentTarget,ft=ft.listener,dt!==et&&o.isPropagationStopped())break e;nf(o,ft,mt),et=dt}}}if(Qb$1)throw e=Rb$1,Qb$1=!1,Rb$1=null,e}function D$4(e,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var a=e+"__bubble";s.has(a)||(pf(i,e,2,!1),s.add(a))}function qf(e,i,s){var a=0;i&&(a|=4),pf(s,e,a,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da$1.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(e,i,s,a){switch(jd$1(i)){case 1:var o=ed$1;break;case 4:o=gd$1;break;default:o=fd$1}s=o.bind(null,i,s,e),o=void 0,!Lb$1||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(i,s,{capture:!0,passive:o}):e.addEventListener(i,s,!0):o!==void 0?e.addEventListener(i,s,{passive:o}):e.addEventListener(i,s,!1)}function hd$1(e,i,s,a,o){var et=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var ot=a.tag;if(ot===3||ot===4){var ft=a.stateNode.containerInfo;if(ft===o||ft.nodeType===8&&ft.parentNode===o)break;if(ot===4)for(ot=a.return;ot!==null;){var dt=ot.tag;if((dt===3||dt===4)&&(dt=ot.stateNode.containerInfo,dt===o||dt.nodeType===8&&dt.parentNode===o))return;ot=ot.return}for(;ft!==null;){if(ot=Wc$1(ft),ot===null)return;if(dt=ot.tag,dt===5||dt===6){a=et=ot;continue e}ft=ft.parentNode}}a=a.return}Jb$1(function(){var mt=et,gt=xb$1(s),bt=[];e:{var vt=df.get(e);if(vt!==void 0){var Pt=td$1,Tt=e;switch(e){case"keypress":if(od$1(s)===0)break e;case"keydown":case"keyup":Pt=Rd$1;break;case"focusin":Tt="focus",Pt=Fd$1;break;case"focusout":Tt="blur",Pt=Fd$1;break;case"beforeblur":case"afterblur":Pt=Fd$1;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pt=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pt=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pt=Vd$1;break;case $e:case af:case bf:Pt=Hd$1;break;case cf:Pt=Xd$1;break;case"scroll":Pt=vd$1;break;case"wheel":Pt=Zd$1;break;case"copy":case"cut":case"paste":Pt=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pt=Td$1}var At=(i&4)!==0,wt=!At&&e==="scroll",_t=At?vt!==null?vt+"Capture":null:vt;At=[];for(var Et=mt,yt;Et!==null;){yt=Et;var St=yt.stateNode;if(yt.tag===5&&St!==null&&(yt=St,_t!==null&&(St=Kb$1(Et,_t),St!=null&&At.push(tf(Et,St,yt)))),wt)break;Et=Et.return}0<At.length&&(vt=new Pt(vt,Tt,null,s,gt),bt.push({event:vt,listeners:At}))}}if(!(i&7)){e:{if(vt=e==="mouseover"||e==="pointerover",Pt=e==="mouseout"||e==="pointerout",vt&&s!==wb$1&&(Tt=s.relatedTarget||s.fromElement)&&(Wc$1(Tt)||Tt[uf]))break e;if((Pt||vt)&&(vt=gt.window===gt?gt:(vt=gt.ownerDocument)?vt.defaultView||vt.parentWindow:window,Pt?(Tt=s.relatedTarget||s.toElement,Pt=mt,Tt=Tt?Wc$1(Tt):null,Tt!==null&&(wt=Vb$1(Tt),Tt!==wt||Tt.tag!==5&&Tt.tag!==6)&&(Tt=null)):(Pt=null,Tt=mt),Pt!==Tt)){if(At=Bd$1,St="onMouseLeave",_t="onMouseEnter",Et="mouse",(e==="pointerout"||e==="pointerover")&&(At=Td$1,St="onPointerLeave",_t="onPointerEnter",Et="pointer"),wt=Pt==null?vt:ue$2(Pt),yt=Tt==null?vt:ue$2(Tt),vt=new At(St,Et+"leave",Pt,s,gt),vt.target=wt,vt.relatedTarget=yt,St=null,Wc$1(gt)===mt&&(At=new At(_t,Et+"enter",Tt,s,gt),At.target=yt,At.relatedTarget=wt,St=At),wt=St,Pt&&Tt)t:{for(At=Pt,_t=Tt,Et=0,yt=At;yt;yt=vf(yt))Et++;for(yt=0,St=_t;St;St=vf(St))yt++;for(;0<Et-yt;)At=vf(At),Et--;for(;0<yt-Et;)_t=vf(_t),yt--;for(;Et--;){if(At===_t||_t!==null&&At===_t.alternate)break t;At=vf(At),_t=vf(_t)}At=null}else At=null;Pt!==null&&wf(bt,vt,Pt,At,!1),Tt!==null&&wt!==null&&wf(bt,wt,Tt,At,!0)}}e:{if(vt=mt?ue$2(mt):window,Pt=vt.nodeName&&vt.nodeName.toLowerCase(),Pt==="select"||Pt==="input"&&vt.type==="file")var xt=ve$1;else if(me$2(vt))if(we$1)xt=Fe$1;else{xt=De$1;var Ct=Ce$1}else(Pt=vt.nodeName)&&Pt.toLowerCase()==="input"&&(vt.type==="checkbox"||vt.type==="radio")&&(xt=Ee$1);if(xt&&(xt=xt(e,mt))){ne$1(bt,xt,s,gt);break e}Ct&&Ct(e,vt,mt),e==="focusout"&&(Ct=vt._wrapperState)&&Ct.controlled&&vt.type==="number"&&cb$1(vt,"number",vt.value)}switch(Ct=mt?ue$2(mt):window,e){case"focusin":(me$2(Ct)||Ct.contentEditable==="true")&&(Qe=Ct,Re$2=mt,Se$1=null);break;case"focusout":Se$1=Re$2=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(bt,s,gt);break;case"selectionchange":if(Pe$2)break;case"keydown":case"keyup":Ue$1(bt,s,gt)}var $t;if(ae$3)e:{switch(e){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else ie$2?ge$2(e,s)&&(Rt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Rt="onCompositionStart");Rt&&(de$1&&s.locale!=="ko"&&(ie$2||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&ie$2&&($t=nd$1()):(kd$1=gt,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$2=!0)),Ct=oe$2(mt,Rt),0<Ct.length&&(Rt=new Ld$1(Rt,e,null,s,gt),bt.push({event:Rt,listeners:Ct}),$t?Rt.data=$t:($t=he$2(s),$t!==null&&(Rt.data=$t)))),($t=ce$1?je$1(e,s):ke$1(e,s))&&(mt=oe$2(mt,"onBeforeInput"),0<mt.length&&(gt=new Ld$1("onBeforeInput","beforeinput",null,s,gt),bt.push({event:gt,listeners:mt}),gt.data=$t))}se$2(bt,i)})}function tf(e,i,s){return{instance:e,listener:i,currentTarget:s}}function oe$2(e,i){for(var s=i+"Capture",a=[];e!==null;){var o=e,et=o.stateNode;o.tag===5&&et!==null&&(o=et,et=Kb$1(e,s),et!=null&&a.unshift(tf(e,et,o)),et=Kb$1(e,i),et!=null&&a.push(tf(e,et,o))),e=e.return}return a}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,i,s,a,o){for(var et=i._reactName,ot=[];s!==null&&s!==a;){var ft=s,dt=ft.alternate,mt=ft.stateNode;if(dt!==null&&dt===a)break;ft.tag===5&&mt!==null&&(ft=mt,o?(dt=Kb$1(s,et),dt!=null&&ot.unshift(tf(s,dt,ft))):o||(dt=Kb$1(s,et),dt!=null&&ot.push(tf(s,dt,ft)))),s=s.return}ot.length!==0&&e.push({event:i,listeners:ot})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,i,s){if(i=zf(i),zf(e)!==i&&s)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,i){var s=i,a=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(a===0){e.removeChild(o),bd$1(i);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=o}while(s);bd$1(i)}function Lf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(e){var i=e[Of];if(i)return i;for(var s=e.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return i}e=s,s=e.parentNode}return null}function Cb$1(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue$2(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p$2(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E$2(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(e,i){Tf++,Sf[Tf]=e.current,e.current=i}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,i){var s=e.type.contextTypes;if(!s)return Vf;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var o={},et;for(et in s)o[et]=i[et];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),o}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E$2(Wf),E$2(H$3)}function ag(e,i,s){if(H$3.current!==Vf)throw Error(p$2(168));G$2(H$3,i),G$2(Wf,s)}function bg(e,i,s){var a=e.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var o in a)if(!(o in i))throw Error(p$2(108,Ra$1(e)||"Unknown",o));return A$3({},s,a)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$2(H$3,e),G$2(Wf,Wf.current),!0}function dg(e,i,s){var a=e.stateNode;if(!a)throw Error(p$2(169));s?(e=bg(e,i,Xf),a.__reactInternalMemoizedMergedChildContext=e,E$2(Wf),E$2(H$3),G$2(H$3,e)):E$2(Wf),G$2(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,i=C$4;try{var s=eg;for(C$4=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(o){throw eg!==null&&(eg=eg.slice(e+1)),ac$1(fc$1,jg),o}finally{C$4=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,i){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=i}function ug(e,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var a=rg;e=sg;var o=32-oc$1(a)-1;a&=~(1<<o),s+=1;var et=32-oc$1(i)+o;if(30<et){var ot=o-o%5;et=(a&(1<<ot)-1).toString(32),a>>=ot,o-=ot,rg=1<<32-oc$1(i)+o|s<<o|a,sg=et+e}else rg=1<<et|s<<o|a,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(e,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=e,i=e.deletions,i===null?(e.deletions=[s],e.flags|=16):i.push(s)}function Cg(e,i){switch(e.tag){case 5:var s=e.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,xg=e,yg=Lf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,xg=e,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I$3){var i=yg;if(i){var s=i;if(!Cg(e,i)){if(Dg(e))throw Error(p$2(418));i=Lf(s.nextSibling);var a=xg;i&&Cg(e,i)?Ag(a,s):(e.flags=e.flags&-4097|2,I$3=!1,xg=e)}}else{if(Dg(e))throw Error(p$2(418));e.flags=e.flags&-4097|2,I$3=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I$3)return Fg(e),I$3=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ef(e.type,e.memoizedProps)),i&&(i=yg)){if(Dg(e))throw Hg(),Error(p$2(418));for(;i;)Ag(e,i),i=Lf(i.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p$2(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(i===0){yg=Lf(e.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(e,i){if(e&&e.defaultProps){i=A$3({},i),e=e.defaultProps;for(var s in e)i[s]===void 0&&(i[s]=e[s]);return i}return i}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(e){var i=Mg.current;E$2(Mg),e._currentValue=i}function Sg(e,i,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),e===s)break;e=e.return}}function Tg(e,i){Ng=e,Pg=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&i&&(Ug=!0),e.firstContext=null)}function Vg(e){var i=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:i,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=e,Ng.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return i}var Wg=null;function Xg(e){Wg===null?Wg=[e]:Wg.push(e)}function Yg(e,i,s,a){var o=i.interleaved;return o===null?(s.next=s,Xg(i)):(s.next=o.next,o.next=s),i.interleaved=s,Zg(e,a)}function Zg(e,i){e.lanes|=i;var s=e.alternate;for(s!==null&&(s.lanes|=i),s=e,e=e.return;e!==null;)e.childLanes|=i,s=e.alternate,s!==null&&(s.childLanes|=i),s=e,e=e.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ch(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function dh(e,i,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,K$2&2){var o=a.pending;return o===null?i.next=i:(i.next=o.next,o.next=i),a.pending=i,Zg(e,s)}return o=a.interleaved,o===null?(i.next=i,Xg(a)):(i.next=o.next,o.next=i),a.interleaved=i,Zg(e,s)}function eh(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var a=i.lanes;a&=e.pendingLanes,s|=a,i.lanes=s,Cc$1(e,s)}}function fh(e,i){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var o=null,et=null;if(s=s.firstBaseUpdate,s!==null){do{var ot={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};et===null?o=et=ot:et=et.next=ot,s=s.next}while(s!==null);et===null?o=et=i:et=et.next=i}else o=et=i;s={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:et,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}function gh(e,i,s,a){var o=e.updateQueue;$g=!1;var et=o.firstBaseUpdate,ot=o.lastBaseUpdate,ft=o.shared.pending;if(ft!==null){o.shared.pending=null;var dt=ft,mt=dt.next;dt.next=null,ot===null?et=mt:ot.next=mt,ot=dt;var gt=e.alternate;gt!==null&&(gt=gt.updateQueue,ft=gt.lastBaseUpdate,ft!==ot&&(ft===null?gt.firstBaseUpdate=mt:ft.next=mt,gt.lastBaseUpdate=dt))}if(et!==null){var bt=o.baseState;ot=0,gt=mt=dt=null,ft=et;do{var vt=ft.lane,Pt=ft.eventTime;if((a&vt)===vt){gt!==null&&(gt=gt.next={eventTime:Pt,lane:0,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null});e:{var Tt=e,At=ft;switch(vt=i,Pt=s,At.tag){case 1:if(Tt=At.payload,typeof Tt=="function"){bt=Tt.call(Pt,bt,vt);break e}bt=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=At.payload,vt=typeof Tt=="function"?Tt.call(Pt,bt,vt):Tt,vt==null)break e;bt=A$3({},bt,vt);break e;case 2:$g=!0}}ft.callback!==null&&ft.lane!==0&&(e.flags|=64,vt=o.effects,vt===null?o.effects=[ft]:vt.push(ft))}else Pt={eventTime:Pt,lane:vt,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null},gt===null?(mt=gt=Pt,dt=bt):gt=gt.next=Pt,ot|=vt;if(ft=ft.next,ft===null){if(ft=o.shared.pending,ft===null)break;vt=ft,ft=vt.next,vt.next=null,o.lastBaseUpdate=vt,o.shared.pending=null}}while(!0);if(gt===null&&(dt=bt),o.baseState=dt,o.firstBaseUpdate=mt,o.lastBaseUpdate=gt,i=o.shared.interleaved,i!==null){o=i;do ot|=o.lane,o=o.next;while(o!==i)}else et===null&&(o.shared.lanes=0);hh|=ot,e.lanes=ot,e.memoizedState=bt}}function ih(e,i,s){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var a=e[i],o=a.callback;if(o!==null){if(a.callback=null,a=s,typeof o!="function")throw Error(p$2(191,o));o.call(a)}}}var jh=new aa$1.Component().refs;function kh(e,i,s,a){i=e.memoizedState,s=s(a,i),s=s==null?i:A$3({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vb$1(e)===e:!1},enqueueSetState:function(e,i,s){e=e._reactInternals;var a=L$2(),o=lh(e),et=ch(a,o);et.payload=i,s!=null&&(et.callback=s),i=dh(e,et,o),i!==null&&(mh(i,e,o,a),eh(i,e,o))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var a=L$2(),o=lh(e),et=ch(a,o);et.tag=1,et.payload=i,s!=null&&(et.callback=s),i=dh(e,et,o),i!==null&&(mh(i,e,o,a),eh(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=L$2(),a=lh(e),o=ch(s,a);o.tag=2,i!=null&&(o.callback=i),i=dh(e,o,a),i!==null&&(mh(i,e,a,s),eh(i,e,a))}};function oh(e,i,s,a,o,et,ot){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,et,ot):i.prototype&&i.prototype.isPureReactComponent?!Ie$2(s,a)||!Ie$2(o,et):!0}function ph(e,i,s){var a=!1,o=Vf,et=i.contextType;return typeof et=="object"&&et!==null?et=Vg(et):(o=Zf(i)?Xf:H$3.current,a=i.contextTypes,et=(a=a!=null)?Yf(e,o):Vf),i=new i(s,et),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nh,e.stateNode=i,i._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=et),i}function qh(e,i,s,a){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,a),i.state!==e&&nh.enqueueReplaceState(i,i.state,null)}function rh(e,i,s,a){var o=e.stateNode;o.props=s,o.state=e.memoizedState,o.refs=jh,ah(e);var et=i.contextType;typeof et=="object"&&et!==null?o.context=Vg(et):(et=Zf(i)?Xf:H$3.current,o.context=Yf(e,et)),o.state=e.memoizedState,et=i.getDerivedStateFromProps,typeof et=="function"&&(kh(e,i,et,s),o.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(i=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),i!==o.state&&nh.enqueueReplaceState(o,o.state,null),gh(e,s,o,a),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function sh$1(e,i,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$2(309));var a=s.stateNode}if(!a)throw Error(p$2(147,e));var o=a,et=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===et?i.ref:(i=function(ot){var ft=o.refs;ft===jh&&(ft=o.refs={}),ot===null?delete ft[et]:ft[et]=ot},i._stringRef=et,i)}if(typeof e!="string")throw Error(p$2(284));if(!s._owner)throw Error(p$2(290,e))}return e}function th(e,i){throw e=Object.prototype.toString.call(i),Error(p$2(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function uh(e){var i=e._init;return i(e._payload)}function vh(e){function i(_t,Et){if(e){var yt=_t.deletions;yt===null?(_t.deletions=[Et],_t.flags|=16):yt.push(Et)}}function s(_t,Et){if(!e)return null;for(;Et!==null;)i(_t,Et),Et=Et.sibling;return null}function a(_t,Et){for(_t=new Map;Et!==null;)Et.key!==null?_t.set(Et.key,Et):_t.set(Et.index,Et),Et=Et.sibling;return _t}function o(_t,Et){return _t=wh(_t,Et),_t.index=0,_t.sibling=null,_t}function et(_t,Et,yt){return _t.index=yt,e?(yt=_t.alternate,yt!==null?(yt=yt.index,yt<Et?(_t.flags|=2,Et):yt):(_t.flags|=2,Et)):(_t.flags|=1048576,Et)}function ot(_t){return e&&_t.alternate===null&&(_t.flags|=2),_t}function ft(_t,Et,yt,St){return Et===null||Et.tag!==6?(Et=xh(yt,_t.mode,St),Et.return=_t,Et):(Et=o(Et,yt),Et.return=_t,Et)}function dt(_t,Et,yt,St){var xt=yt.type;return xt===ya$1?gt(_t,Et,yt.props.children,St,yt.key):Et!==null&&(Et.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha$1&&uh(xt)===Et.type)?(St=o(Et,yt.props),St.ref=sh$1(_t,Et,yt),St.return=_t,St):(St=yh(yt.type,yt.key,yt.props,null,_t.mode,St),St.ref=sh$1(_t,Et,yt),St.return=_t,St)}function mt(_t,Et,yt,St){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==yt.containerInfo||Et.stateNode.implementation!==yt.implementation?(Et=zh(yt,_t.mode,St),Et.return=_t,Et):(Et=o(Et,yt.children||[]),Et.return=_t,Et)}function gt(_t,Et,yt,St,xt){return Et===null||Et.tag!==7?(Et=Ah(yt,_t.mode,St,xt),Et.return=_t,Et):(Et=o(Et,yt),Et.return=_t,Et)}function bt(_t,Et,yt){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Et=xh(""+Et,_t.mode,yt),Et.return=_t,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va$1:return yt=yh(Et.type,Et.key,Et.props,null,_t.mode,yt),yt.ref=sh$1(_t,null,Et),yt.return=_t,yt;case wa$1:return Et=zh(Et,_t.mode,yt),Et.return=_t,Et;case Ha$1:var St=Et._init;return bt(_t,St(Et._payload),yt)}if(eb$1(Et)||Ka(Et))return Et=Ah(Et,_t.mode,yt,null),Et.return=_t,Et;th(_t,Et)}return null}function vt(_t,Et,yt,St){var xt=Et!==null?Et.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return xt!==null?null:ft(_t,Et,""+yt,St);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va$1:return yt.key===xt?dt(_t,Et,yt,St):null;case wa$1:return yt.key===xt?mt(_t,Et,yt,St):null;case Ha$1:return xt=yt._init,vt(_t,Et,xt(yt._payload),St)}if(eb$1(yt)||Ka(yt))return xt!==null?null:gt(_t,Et,yt,St,null);th(_t,yt)}return null}function Pt(_t,Et,yt,St,xt){if(typeof St=="string"&&St!==""||typeof St=="number")return _t=_t.get(yt)||null,ft(Et,_t,""+St,xt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va$1:return _t=_t.get(St.key===null?yt:St.key)||null,dt(Et,_t,St,xt);case wa$1:return _t=_t.get(St.key===null?yt:St.key)||null,mt(Et,_t,St,xt);case Ha$1:var Ct=St._init;return Pt(_t,Et,yt,Ct(St._payload),xt)}if(eb$1(St)||Ka(St))return _t=_t.get(yt)||null,gt(Et,_t,St,xt,null);th(Et,St)}return null}function Tt(_t,Et,yt,St){for(var xt=null,Ct=null,$t=Et,Rt=Et=0,It=null;$t!==null&&Rt<yt.length;Rt++){$t.index>Rt?(It=$t,$t=null):It=$t.sibling;var Nt=vt(_t,$t,yt[Rt],St);if(Nt===null){$t===null&&($t=It);break}e&&$t&&Nt.alternate===null&&i(_t,$t),Et=et(Nt,Et,Rt),Ct===null?xt=Nt:Ct.sibling=Nt,Ct=Nt,$t=It}if(Rt===yt.length)return s(_t,$t),I$3&&tg(_t,Rt),xt;if($t===null){for(;Rt<yt.length;Rt++)$t=bt(_t,yt[Rt],St),$t!==null&&(Et=et($t,Et,Rt),Ct===null?xt=$t:Ct.sibling=$t,Ct=$t);return I$3&&tg(_t,Rt),xt}for($t=a(_t,$t);Rt<yt.length;Rt++)It=Pt($t,_t,Rt,yt[Rt],St),It!==null&&(e&&It.alternate!==null&&$t.delete(It.key===null?Rt:It.key),Et=et(It,Et,Rt),Ct===null?xt=It:Ct.sibling=It,Ct=It);return e&&$t.forEach(function(Ot){return i(_t,Ot)}),I$3&&tg(_t,Rt),xt}function At(_t,Et,yt,St){var xt=Ka(yt);if(typeof xt!="function")throw Error(p$2(150));if(yt=xt.call(yt),yt==null)throw Error(p$2(151));for(var Ct=xt=null,$t=Et,Rt=Et=0,It=null,Nt=yt.next();$t!==null&&!Nt.done;Rt++,Nt=yt.next()){$t.index>Rt?(It=$t,$t=null):It=$t.sibling;var Ot=vt(_t,$t,Nt.value,St);if(Ot===null){$t===null&&($t=It);break}e&&$t&&Ot.alternate===null&&i(_t,$t),Et=et(Ot,Et,Rt),Ct===null?xt=Ot:Ct.sibling=Ot,Ct=Ot,$t=It}if(Nt.done)return s(_t,$t),I$3&&tg(_t,Rt),xt;if($t===null){for(;!Nt.done;Rt++,Nt=yt.next())Nt=bt(_t,Nt.value,St),Nt!==null&&(Et=et(Nt,Et,Rt),Ct===null?xt=Nt:Ct.sibling=Nt,Ct=Nt);return I$3&&tg(_t,Rt),xt}for($t=a(_t,$t);!Nt.done;Rt++,Nt=yt.next())Nt=Pt($t,_t,Rt,Nt.value,St),Nt!==null&&(e&&Nt.alternate!==null&&$t.delete(Nt.key===null?Rt:Nt.key),Et=et(Nt,Et,Rt),Ct===null?xt=Nt:Ct.sibling=Nt,Ct=Nt);return e&&$t.forEach(function(Gt){return i(_t,Gt)}),I$3&&tg(_t,Rt),xt}function wt(_t,Et,yt,St){if(typeof yt=="object"&&yt!==null&&yt.type===ya$1&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va$1:e:{for(var xt=yt.key,Ct=Et;Ct!==null;){if(Ct.key===xt){if(xt=yt.type,xt===ya$1){if(Ct.tag===7){s(_t,Ct.sibling),Et=o(Ct,yt.props.children),Et.return=_t,_t=Et;break e}}else if(Ct.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha$1&&uh(xt)===Ct.type){s(_t,Ct.sibling),Et=o(Ct,yt.props),Et.ref=sh$1(_t,Ct,yt),Et.return=_t,_t=Et;break e}s(_t,Ct);break}else i(_t,Ct);Ct=Ct.sibling}yt.type===ya$1?(Et=Ah(yt.props.children,_t.mode,St,yt.key),Et.return=_t,_t=Et):(St=yh(yt.type,yt.key,yt.props,null,_t.mode,St),St.ref=sh$1(_t,Et,yt),St.return=_t,_t=St)}return ot(_t);case wa$1:e:{for(Ct=yt.key;Et!==null;){if(Et.key===Ct)if(Et.tag===4&&Et.stateNode.containerInfo===yt.containerInfo&&Et.stateNode.implementation===yt.implementation){s(_t,Et.sibling),Et=o(Et,yt.children||[]),Et.return=_t,_t=Et;break e}else{s(_t,Et);break}else i(_t,Et);Et=Et.sibling}Et=zh(yt,_t.mode,St),Et.return=_t,_t=Et}return ot(_t);case Ha$1:return Ct=yt._init,wt(_t,Et,Ct(yt._payload),St)}if(eb$1(yt))return Tt(_t,Et,yt,St);if(Ka(yt))return At(_t,Et,yt,St);th(_t,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?(yt=""+yt,Et!==null&&Et.tag===6?(s(_t,Et.sibling),Et=o(Et,yt),Et.return=_t,_t=Et):(s(_t,Et),Et=xh(yt,_t.mode,St),Et.return=_t,_t=Et),ot(_t)):s(_t,Et)}return wt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(e){if(e===Dh)throw Error(p$2(174));return e}function Ih(e,i){switch(G$2(Gh,i),G$2(Fh,e),G$2(Eh,Dh),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb$1(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=lb$1(i,e)}E$2(Eh),G$2(Eh,i)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(e){Hh(Gh.current);var i=Hh(Eh.current),s=lb$1(i,e.type);i!==s&&(G$2(Fh,e),G$2(Eh,s))}function Lh(e){Fh.current===e&&(E$2(Eh),E$2(Fh))}var M$3=Uf(0);function Mh(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nh=[];function Oh(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$1.ReactCurrentDispatcher,Qh=ua$1.ReactCurrentBatchConfig,Rh=0,N$2=null,O$3=null,P$2=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$3(){throw Error(p$2(321))}function Wh(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!He$1(e[s],i[s]))return!1;return!0}function Xh(e,i,s,a,o,et){if(Rh=et,N$2=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ph.current=e===null||e.memoizedState===null?Yh:Zh,e=s(a,o),Th){et=0;do{if(Th=!1,Uh=0,25<=et)throw Error(p$2(301));et+=1,P$2=O$3=null,i.updateQueue=null,Ph.current=$h,e=s(a,o)}while(Th)}if(Ph.current=ai,i=O$3!==null&&O$3.next!==null,Rh=0,P$2=O$3=N$2=null,Sh=!1,i)throw Error(p$2(300));return e}function bi(){var e=Uh!==0;return Uh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$2===null?N$2.memoizedState=P$2=e:P$2=P$2.next=e,P$2}function di(){if(O$3===null){var e=N$2.alternate;e=e!==null?e.memoizedState:null}else e=O$3.next;var i=P$2===null?N$2.memoizedState:P$2.next;if(i!==null)P$2=i,O$3=e;else{if(e===null)throw Error(p$2(310));O$3=e,e={memoizedState:O$3.memoizedState,baseState:O$3.baseState,baseQueue:O$3.baseQueue,queue:O$3.queue,next:null},P$2===null?N$2.memoizedState=P$2=e:P$2=P$2.next=e}return P$2}function ei(e,i){return typeof i=="function"?i(e):i}function fi(e){var i=di(),s=i.queue;if(s===null)throw Error(p$2(311));s.lastRenderedReducer=e;var a=O$3,o=a.baseQueue,et=s.pending;if(et!==null){if(o!==null){var ot=o.next;o.next=et.next,et.next=ot}a.baseQueue=o=et,s.pending=null}if(o!==null){et=o.next,a=a.baseState;var ft=ot=null,dt=null,mt=et;do{var gt=mt.lane;if((Rh&gt)===gt)dt!==null&&(dt=dt.next={lane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),a=mt.hasEagerState?mt.eagerState:e(a,mt.action);else{var bt={lane:gt,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null};dt===null?(ft=dt=bt,ot=a):dt=dt.next=bt,N$2.lanes|=gt,hh|=gt}mt=mt.next}while(mt!==null&&mt!==et);dt===null?ot=a:dt.next=ft,He$1(a,i.memoizedState)||(Ug=!0),i.memoizedState=a,i.baseState=ot,i.baseQueue=dt,s.lastRenderedState=a}if(e=s.interleaved,e!==null){o=e;do et=o.lane,N$2.lanes|=et,hh|=et,o=o.next;while(o!==e)}else o===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function gi(e){var i=di(),s=i.queue;if(s===null)throw Error(p$2(311));s.lastRenderedReducer=e;var a=s.dispatch,o=s.pending,et=i.memoizedState;if(o!==null){s.pending=null;var ot=o=o.next;do et=e(et,ot.action),ot=ot.next;while(ot!==o);He$1(et,i.memoizedState)||(Ug=!0),i.memoizedState=et,i.baseQueue===null&&(i.baseState=et),s.lastRenderedState=et}return[et,a]}function hi(){}function ii(e,i){var s=N$2,a=di(),o=i(),et=!He$1(a.memoizedState,o);if(et&&(a.memoizedState=o,Ug=!0),a=a.queue,ji(ki.bind(null,s,a,e),[e]),a.getSnapshot!==i||et||P$2!==null&&P$2.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,a,o,i),void 0,null),R$3===null)throw Error(p$2(349));Rh&30||ni(s,i,o)}return o}function ni(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=N$2.updateQueue,i===null?(i={lastEffect:null,stores:null},N$2.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function mi(e,i,s,a){i.value=s,i.getSnapshot=a,oi(i)&&pi(e)}function ki(e,i,s){return s(function(){oi(i)&&pi(e)})}function oi(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!He$1(e,s)}catch{return!0}}function pi(e){var i=Zg(e,1);i!==null&&mh(i,e,1,-1)}function qi(e){var i=ci();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},i.queue=e,e=e.dispatch=ri.bind(null,N$2,e),[i.memoizedState,e]}function li(e,i,s,a){return e={tag:e,create:i,destroy:s,deps:a,next:null},i=N$2.updateQueue,i===null?(i={lastEffect:null,stores:null},N$2.updateQueue=i,i.lastEffect=e.next=e):(s=i.lastEffect,s===null?i.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,i.lastEffect=e)),e}function si(){return di().memoizedState}function ti(e,i,s,a){var o=ci();N$2.flags|=e,o.memoizedState=li(1|i,s,void 0,a===void 0?null:a)}function ui(e,i,s,a){var o=di();a=a===void 0?null:a;var et=void 0;if(O$3!==null){var ot=O$3.memoizedState;if(et=ot.destroy,a!==null&&Wh(a,ot.deps)){o.memoizedState=li(i,s,et,a);return}}N$2.flags|=e,o.memoizedState=li(1|i,s,et,a)}function vi(e,i){return ti(8390656,8,e,i)}function ji(e,i){return ui(2048,8,e,i)}function wi(e,i){return ui(4,2,e,i)}function xi(e,i){return ui(4,4,e,i)}function yi(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function zi(e,i,s){return s=s!=null?s.concat([e]):null,ui(4,4,yi.bind(null,i,e),s)}function Ai(){}function Bi(e,i){var s=di();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Wh(i,a[1])?a[0]:(s.memoizedState=[e,i],e)}function Ci(e,i){var s=di();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Wh(i,a[1])?a[0]:(e=e(),s.memoizedState=[e,i],e)}function Di(e,i,s){return Rh&21?(He$1(s,i)||(s=yc$1(),N$2.lanes|=s,hh|=s,e.baseState=!0),i):(e.baseState&&(e.baseState=!1,Ug=!0),e.memoizedState=s)}function Ei(e,i){var s=C$4;C$4=s!==0&&4>s?s:4,e(!0);var a=Qh.transition;Qh.transition={};try{e(!1),i()}finally{C$4=s,Qh.transition=a}}function Fi(){return di().memoizedState}function Gi(e,i,s){var a=lh(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(e))Ii(i,s);else if(s=Yg(e,i,s,a),s!==null){var o=L$2();mh(s,e,a,o),Ji(s,i,a)}}function ri(e,i,s){var a=lh(e),o={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Ii(i,o);else{var et=e.alternate;if(e.lanes===0&&(et===null||et.lanes===0)&&(et=i.lastRenderedReducer,et!==null))try{var ot=i.lastRenderedState,ft=et(ot,s);if(o.hasEagerState=!0,o.eagerState=ft,He$1(ft,ot)){var dt=i.interleaved;dt===null?(o.next=o,Xg(i)):(o.next=dt.next,dt.next=o),i.interleaved=o;return}}catch{}finally{}s=Yg(e,i,o,a),s!==null&&(o=L$2(),mh(s,e,a,o),Ji(s,i,a))}}function Hi(e){var i=e.alternate;return e===N$2||i!==null&&i===N$2}function Ii(e,i){Th=Sh=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Ji(e,i,s){if(s&4194240){var a=i.lanes;a&=e.pendingLanes,s|=a,i.lanes=s,Cc$1(e,s)}}var ai={readContext:Vg,useCallback:Q$3,useContext:Q$3,useEffect:Q$3,useImperativeHandle:Q$3,useInsertionEffect:Q$3,useLayoutEffect:Q$3,useMemo:Q$3,useReducer:Q$3,useRef:Q$3,useState:Q$3,useDebugValue:Q$3,useDeferredValue:Q$3,useTransition:Q$3,useMutableSource:Q$3,useSyncExternalStore:Q$3,useId:Q$3,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(e,i){return ci().memoizedState=[e,i===void 0?null:i],e},useContext:Vg,useEffect:vi,useImperativeHandle:function(e,i,s){return s=s!=null?s.concat([e]):null,ti(4194308,4,yi.bind(null,i,e),s)},useLayoutEffect:function(e,i){return ti(4194308,4,e,i)},useInsertionEffect:function(e,i){return ti(4,2,e,i)},useMemo:function(e,i){var s=ci();return i=i===void 0?null:i,e=e(),s.memoizedState=[e,i],e},useReducer:function(e,i,s){var a=ci();return i=s!==void 0?s(i):i,a.memoizedState=a.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Gi.bind(null,N$2,e),[a.memoizedState,e]},useRef:function(e){var i=ci();return e={current:e},i.memoizedState=e},useState:qi,useDebugValue:Ai,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=qi(!1),i=e[0];return e=Ei.bind(null,e[1]),ci().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,s){var a=N$2,o=ci();if(I$3){if(s===void 0)throw Error(p$2(407));s=s()}else{if(s=i(),R$3===null)throw Error(p$2(349));Rh&30||ni(a,i,s)}o.memoizedState=s;var et={value:s,getSnapshot:i};return o.queue=et,vi(ki.bind(null,a,et,e),[e]),a.flags|=2048,li(9,mi.bind(null,a,et,s,i),void 0,null),s},useId:function(){var e=ci(),i=R$3.identifierPrefix;if(I$3){var s=sg,a=rg;s=(a&~(1<<32-oc$1(a)-1)).toString(32)+s,i=":"+i+"R"+s,s=Uh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Vh++,i=":"+i+"r"+s.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var i=di();return Di(i,O$3.memoizedState,e)},useTransition:function(){var e=fi(ei)[0],i=di().memoizedState;return[e,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var i=di();return O$3===null?i.memoizedState=e:Di(i,O$3.memoizedState,e)},useTransition:function(){var e=gi(ei)[0],i=di().memoizedState;return[e,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(e,i){try{var s="",a=i;do s+=Pa$1(a),a=a.return;while(a);var o=s}catch(et){o=`
Error generating stack: `+et.message+`
`+et.stack}return{value:e,source:i,stack:o,digest:null}}function Li(e,i,s){return{value:e,source:null,stack:s??null,digest:i??null}}function Mi(e,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(e,i,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var a=i.value;return s.callback=function(){Pi||(Pi=!0,Qi=a),Mi(e,i)},s}function Ri(e,i,s){s=ch(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var o=i.value;s.payload=function(){return a(o)},s.callback=function(){Mi(e,i)}}var et=e.stateNode;return et!==null&&typeof et.componentDidCatch=="function"&&(s.callback=function(){Mi(e,i),typeof a!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var ot=i.stack;this.componentDidCatch(i.value,{componentStack:ot!==null?ot:""})}),s}function Ti(e,i,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Ni;var o=new Set;a.set(i,o)}else o=a.get(i),o===void 0&&(o=new Set,a.set(i,o));o.has(s)||(o.add(s),e=Ui.bind(null,e,i,s),i.then(e,e))}function Vi(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Wi(e,i,s,a,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===i?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=ch(-1,1),i.tag=2,dh(s,i,1))),s.lanes|=1),e)}var Xi=ua$1.ReactCurrentOwner,Ug=!1;function Yi(e,i,s,a){i.child=e===null?Ch(i,null,s,a):Bh(i,e.child,s,a)}function Zi(e,i,s,a,o){s=s.render;var et=i.ref;return Tg(i,o),a=Xh(e,i,s,a,et,o),s=bi(),e!==null&&!Ug?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o,$i(e,i,o)):(I$3&&s&&vg(i),i.flags|=1,Yi(e,i,a,o),i.child)}function aj(e,i,s,a,o){if(e===null){var et=s.type;return typeof et=="function"&&!bj(et)&&et.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=et,cj(e,i,et,a,o)):(e=yh(s.type,null,a,i,i.mode,o),e.ref=i.ref,e.return=i,i.child=e)}if(et=e.child,!(e.lanes&o)){var ot=et.memoizedProps;if(s=s.compare,s=s!==null?s:Ie$2,s(ot,a)&&e.ref===i.ref)return $i(e,i,o)}return i.flags|=1,e=wh(et,a),e.ref=i.ref,e.return=i,i.child=e}function cj(e,i,s,a,o){if(e!==null){var et=e.memoizedProps;if(Ie$2(et,a)&&e.ref===i.ref)if(Ug=!1,i.pendingProps=a=et,(e.lanes&o)!==0)e.flags&131072&&(Ug=!0);else return i.lanes=e.lanes,$i(e,i,o)}return dj(e,i,s,a,o)}function ej(e,i,s){var a=i.pendingProps,o=a.children,et=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(fj,gj),gj|=s;else{if(!(s&1073741824))return e=et!==null?et.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G$2(fj,gj),gj|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=et!==null?et.baseLanes:s,G$2(fj,gj),gj|=a}else et!==null?(a=et.baseLanes|s,i.memoizedState=null):a=s,G$2(fj,gj),gj|=a;return Yi(e,i,o,s),i.child}function hj(e,i){var s=i.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function dj(e,i,s,a,o){var et=Zf(s)?Xf:H$3.current;return et=Yf(i,et),Tg(i,o),s=Xh(e,i,s,a,et,o),a=bi(),e!==null&&!Ug?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o,$i(e,i,o)):(I$3&&a&&vg(i),i.flags|=1,Yi(e,i,s,o),i.child)}function ij(e,i,s,a,o){if(Zf(s)){var et=!0;cg(i)}else et=!1;if(Tg(i,o),i.stateNode===null)jj(e,i),ph(i,s,a),rh(i,s,a,o),a=!0;else if(e===null){var ot=i.stateNode,ft=i.memoizedProps;ot.props=ft;var dt=ot.context,mt=s.contextType;typeof mt=="object"&&mt!==null?mt=Vg(mt):(mt=Zf(s)?Xf:H$3.current,mt=Yf(i,mt));var gt=s.getDerivedStateFromProps,bt=typeof gt=="function"||typeof ot.getSnapshotBeforeUpdate=="function";bt||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(ft!==a||dt!==mt)&&qh(i,ot,a,mt),$g=!1;var vt=i.memoizedState;ot.state=vt,gh(i,a,ot,o),dt=i.memoizedState,ft!==a||vt!==dt||Wf.current||$g?(typeof gt=="function"&&(kh(i,s,gt,a),dt=i.memoizedState),(ft=$g||oh(i,s,ft,a,vt,dt,mt))?(bt||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount()),typeof ot.componentDidMount=="function"&&(i.flags|=4194308)):(typeof ot.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=dt),ot.props=a,ot.state=dt,ot.context=mt,a=ft):(typeof ot.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{ot=i.stateNode,bh(e,i),ft=i.memoizedProps,mt=i.type===i.elementType?ft:Lg(i.type,ft),ot.props=mt,bt=i.pendingProps,vt=ot.context,dt=s.contextType,typeof dt=="object"&&dt!==null?dt=Vg(dt):(dt=Zf(s)?Xf:H$3.current,dt=Yf(i,dt));var Pt=s.getDerivedStateFromProps;(gt=typeof Pt=="function"||typeof ot.getSnapshotBeforeUpdate=="function")||typeof ot.UNSAFE_componentWillReceiveProps!="function"&&typeof ot.componentWillReceiveProps!="function"||(ft!==bt||vt!==dt)&&qh(i,ot,a,dt),$g=!1,vt=i.memoizedState,ot.state=vt,gh(i,a,ot,o);var Tt=i.memoizedState;ft!==bt||vt!==Tt||Wf.current||$g?(typeof Pt=="function"&&(kh(i,s,Pt,a),Tt=i.memoizedState),(mt=$g||oh(i,s,mt,a,vt,Tt,dt)||!1)?(gt||typeof ot.UNSAFE_componentWillUpdate!="function"&&typeof ot.componentWillUpdate!="function"||(typeof ot.componentWillUpdate=="function"&&ot.componentWillUpdate(a,Tt,dt),typeof ot.UNSAFE_componentWillUpdate=="function"&&ot.UNSAFE_componentWillUpdate(a,Tt,dt)),typeof ot.componentDidUpdate=="function"&&(i.flags|=4),typeof ot.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof ot.componentDidUpdate!="function"||ft===e.memoizedProps&&vt===e.memoizedState||(i.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||ft===e.memoizedProps&&vt===e.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=Tt),ot.props=a,ot.state=Tt,ot.context=dt,a=mt):(typeof ot.componentDidUpdate!="function"||ft===e.memoizedProps&&vt===e.memoizedState||(i.flags|=4),typeof ot.getSnapshotBeforeUpdate!="function"||ft===e.memoizedProps&&vt===e.memoizedState||(i.flags|=1024),a=!1)}return kj(e,i,s,a,et,o)}function kj(e,i,s,a,o,et){hj(e,i);var ot=(i.flags&128)!==0;if(!a&&!ot)return o&&dg(i,s,!1),$i(e,i,et);a=i.stateNode,Xi.current=i;var ft=ot&&typeof s.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,e!==null&&ot?(i.child=Bh(i,e.child,null,et),i.child=Bh(i,null,ft,et)):Yi(e,i,ft,et),i.memoizedState=a.state,o&&dg(i,s,!0),i.child}function lj(e){var i=e.stateNode;i.pendingContext?ag(e,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(e,i.context,!1),Ih(e,i.containerInfo)}function mj(e,i,s,a,o){return Ig(),Jg(o),i.flags|=256,Yi(e,i,s,a),i.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function pj(e,i,s){var a=i.pendingProps,o=M$3.current,et=!1,ot=(i.flags&128)!==0,ft;if((ft=ot)||(ft=e!==null&&e.memoizedState===null?!1:(o&2)!==0),ft?(et=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),G$2(M$3,o&1),e===null)return Eg(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(i.mode&1?e.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(ot=a.children,e=a.fallback,et?(a=i.mode,et=i.child,ot={mode:"hidden",children:ot},!(a&1)&&et!==null?(et.childLanes=0,et.pendingProps=ot):et=qj(ot,a,0,null),e=Ah(e,a,s,null),et.return=i,e.return=i,et.sibling=e,i.child=et,i.child.memoizedState=oj(s),i.memoizedState=nj,e):rj(i,ot));if(o=e.memoizedState,o!==null&&(ft=o.dehydrated,ft!==null))return sj(e,i,ot,a,ft,o,s);if(et){et=a.fallback,ot=i.mode,o=e.child,ft=o.sibling;var dt={mode:"hidden",children:a.children};return!(ot&1)&&i.child!==o?(a=i.child,a.childLanes=0,a.pendingProps=dt,i.deletions=null):(a=wh(o,dt),a.subtreeFlags=o.subtreeFlags&14680064),ft!==null?et=wh(ft,et):(et=Ah(et,ot,s,null),et.flags|=2),et.return=i,a.return=i,a.sibling=et,i.child=a,a=et,et=i.child,ot=e.child.memoizedState,ot=ot===null?oj(s):{baseLanes:ot.baseLanes|s,cachePool:null,transitions:ot.transitions},et.memoizedState=ot,et.childLanes=e.childLanes&~s,i.memoizedState=nj,a}return et=e.child,e=et.sibling,a=wh(et,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=s),a.return=i,a.sibling=null,e!==null&&(s=i.deletions,s===null?(i.deletions=[e],i.flags|=16):s.push(e)),i.child=a,i.memoizedState=null,a}function rj(e,i){return i=qj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function tj(e,i,s,a){return a!==null&&Jg(a),Bh(i,e.child,null,s),e=rj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function sj(e,i,s,a,o,et,ot){if(s)return i.flags&256?(i.flags&=-257,a=Li(Error(p$2(422))),tj(e,i,ot,a)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(et=a.fallback,o=i.mode,a=qj({mode:"visible",children:a.children},o,0,null),et=Ah(et,o,ot,null),et.flags|=2,a.return=i,et.return=i,a.sibling=et,i.child=a,i.mode&1&&Bh(i,e.child,null,ot),i.child.memoizedState=oj(ot),i.memoizedState=nj,et);if(!(i.mode&1))return tj(e,i,ot,null);if(o.data==="$!"){if(a=o.nextSibling&&o.nextSibling.dataset,a)var ft=a.dgst;return a=ft,et=Error(p$2(419)),a=Li(et,a,void 0),tj(e,i,ot,a)}if(ft=(ot&e.childLanes)!==0,Ug||ft){if(a=R$3,a!==null){switch(ot&-ot){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(a.suspendedLanes|ot)?0:o,o!==0&&o!==et.retryLane&&(et.retryLane=o,Zg(e,o),mh(a,e,o,-1))}return uj(),a=Li(Error(p$2(421))),tj(e,i,ot,a)}return o.data==="$?"?(i.flags|=128,i.child=e.child,i=vj.bind(null,e),o._reactRetry=i,null):(e=et.treeContext,yg=Lf(o.nextSibling),xg=i,I$3=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=i),i=rj(i,a.children),i.flags|=4096,i)}function wj(e,i,s){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i),Sg(e.return,i,s)}function xj(e,i,s,a,o){var et=e.memoizedState;et===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:o}:(et.isBackwards=i,et.rendering=null,et.renderingStartTime=0,et.last=a,et.tail=s,et.tailMode=o)}function yj(e,i,s){var a=i.pendingProps,o=a.revealOrder,et=a.tail;if(Yi(e,i,a.children,s),a=M$3.current,a&2)a=a&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wj(e,s,i);else if(e.tag===19)wj(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(G$2(M$3,a),!(i.mode&1))i.memoizedState=null;else switch(o){case"forwards":for(s=i.child,o=null;s!==null;)e=s.alternate,e!==null&&Mh(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=i.child,i.child=null):(o=s.sibling,s.sibling=null),xj(i,!1,o,s,et);break;case"backwards":for(s=null,o=i.child,i.child=null;o!==null;){if(e=o.alternate,e!==null&&Mh(e)===null){i.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}xj(i,!0,s,null,et);break;case"together":xj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jj(e,i){!(i.mode&1)&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function $i(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),hh|=i.lanes,!(s&i.childLanes))return null;if(e!==null&&i.child!==e.child)throw Error(p$2(153));if(i.child!==null){for(e=i.child,s=wh(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=wh(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function zj(e,i,s){switch(i.tag){case 3:lj(i),Ig();break;case 5:Kh(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:Ih(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,o=i.memoizedProps.value;G$2(Mg,a._currentValue),a._currentValue=o;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(G$2(M$3,M$3.current&1),i.flags|=128,null):s&i.child.childLanes?pj(e,i,s):(G$2(M$3,M$3.current&1),e=$i(e,i,s),e!==null?e.sibling:null);G$2(M$3,M$3.current&1);break;case 19:if(a=(s&i.childLanes)!==0,e.flags&128){if(a)return yj(e,i,s);i.flags|=128}if(o=i.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),G$2(M$3,M$3.current),a)break;return null;case 22:case 23:return i.lanes=0,ej(e,i,s)}return $i(e,i,s)}var Aj,Bj,Cj,Dj;Aj=function(e,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(e,i,s,a){var o=e.memoizedProps;if(o!==a){e=i.stateNode,Hh(Eh.current);var et=null;switch(s){case"input":o=Ya$1(e,o),a=Ya$1(e,a),et=[];break;case"select":o=A$3({},o,{value:void 0}),a=A$3({},a,{value:void 0}),et=[];break;case"textarea":o=gb$1(e,o),a=gb$1(e,a),et=[];break;default:typeof o.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bf)}ub$1(s,a);var ot;s=null;for(mt in o)if(!a.hasOwnProperty(mt)&&o.hasOwnProperty(mt)&&o[mt]!=null)if(mt==="style"){var ft=o[mt];for(ot in ft)ft.hasOwnProperty(ot)&&(s||(s={}),s[ot]="")}else mt!=="dangerouslySetInnerHTML"&&mt!=="children"&&mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&mt!=="autoFocus"&&(ea$1.hasOwnProperty(mt)?et||(et=[]):(et=et||[]).push(mt,null));for(mt in a){var dt=a[mt];if(ft=o!=null?o[mt]:void 0,a.hasOwnProperty(mt)&&dt!==ft&&(dt!=null||ft!=null))if(mt==="style")if(ft){for(ot in ft)!ft.hasOwnProperty(ot)||dt&&dt.hasOwnProperty(ot)||(s||(s={}),s[ot]="");for(ot in dt)dt.hasOwnProperty(ot)&&ft[ot]!==dt[ot]&&(s||(s={}),s[ot]=dt[ot])}else s||(et||(et=[]),et.push(mt,s)),s=dt;else mt==="dangerouslySetInnerHTML"?(dt=dt?dt.__html:void 0,ft=ft?ft.__html:void 0,dt!=null&&ft!==dt&&(et=et||[]).push(mt,dt)):mt==="children"?typeof dt!="string"&&typeof dt!="number"||(et=et||[]).push(mt,""+dt):mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(mt)?(dt!=null&&mt==="onScroll"&&D$4("scroll",e),et||ft===dt||(et=[])):(et=et||[]).push(mt,dt))}s&&(et=et||[]).push("style",s);var mt=et;(i.updateQueue=mt)&&(i.flags|=4)}};Dj=function(e,i,s,a){s!==a&&(i.flags|=4)};function Ej(e,i){if(!I$3)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function S$4(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(i)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags&14680064,a|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=s,i}function Fj(e,i,s){var a=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4(i),null;case 1:return Zf(i.type)&&$f(),S$4(i),null;case 3:return a=i.stateNode,Jh(),E$2(Wf),E$2(H$3),Oh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gg(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(e,i),S$4(i),null;case 5:Lh(i);var o=Hh(Gh.current);if(s=i.type,e!==null&&i.stateNode!=null)Cj(e,i,s,a,o),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(p$2(166));return S$4(i),null}if(e=Hh(Eh.current),Gg(i)){a=i.stateNode,s=i.type;var et=i.memoizedProps;switch(a[Of]=i,a[Pf]=et,e=(i.mode&1)!==0,s){case"dialog":D$4("cancel",a),D$4("close",a);break;case"iframe":case"object":case"embed":D$4("load",a);break;case"video":case"audio":for(o=0;o<lf.length;o++)D$4(lf[o],a);break;case"source":D$4("error",a);break;case"img":case"image":case"link":D$4("error",a),D$4("load",a);break;case"details":D$4("toggle",a);break;case"input":Za$1(a,et),D$4("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!et.multiple},D$4("invalid",a);break;case"textarea":hb$1(a,et),D$4("invalid",a)}ub$1(s,et),o=null;for(var ot in et)if(et.hasOwnProperty(ot)){var ft=et[ot];ot==="children"?typeof ft=="string"?a.textContent!==ft&&(et.suppressHydrationWarning!==!0&&Af(a.textContent,ft,e),o=["children",ft]):typeof ft=="number"&&a.textContent!==""+ft&&(et.suppressHydrationWarning!==!0&&Af(a.textContent,ft,e),o=["children",""+ft]):ea$1.hasOwnProperty(ot)&&ft!=null&&ot==="onScroll"&&D$4("scroll",a)}switch(s){case"input":Va$1(a),db$1(a,et,!0);break;case"textarea":Va$1(a),jb$1(a);break;case"select":case"option":break;default:typeof et.onClick=="function"&&(a.onclick=Bf)}a=o,i.updateQueue=a,a!==null&&(i.flags|=4)}else{ot=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb$1(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=ot.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=ot.createElement(s,{is:a.is}):(e=ot.createElement(s),s==="select"&&(ot=e,a.multiple?ot.multiple=!0:a.size&&(ot.size=a.size))):e=ot.createElementNS(e,s),e[Of]=i,e[Pf]=a,Aj(e,i,!1,!1),i.stateNode=e;e:{switch(ot=vb$1(s,a),s){case"dialog":D$4("cancel",e),D$4("close",e),o=a;break;case"iframe":case"object":case"embed":D$4("load",e),o=a;break;case"video":case"audio":for(o=0;o<lf.length;o++)D$4(lf[o],e);o=a;break;case"source":D$4("error",e),o=a;break;case"img":case"image":case"link":D$4("error",e),D$4("load",e),o=a;break;case"details":D$4("toggle",e),o=a;break;case"input":Za$1(e,a),o=Ya$1(e,a),D$4("invalid",e);break;case"option":o=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},o=A$3({},a,{value:void 0}),D$4("invalid",e);break;case"textarea":hb$1(e,a),o=gb$1(e,a),D$4("invalid",e);break;default:o=a}ub$1(s,o),ft=o;for(et in ft)if(ft.hasOwnProperty(et)){var dt=ft[et];et==="style"?sb$1(e,dt):et==="dangerouslySetInnerHTML"?(dt=dt?dt.__html:void 0,dt!=null&&nb$1(e,dt)):et==="children"?typeof dt=="string"?(s!=="textarea"||dt!=="")&&ob$1(e,dt):typeof dt=="number"&&ob$1(e,""+dt):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea$1.hasOwnProperty(et)?dt!=null&&et==="onScroll"&&D$4("scroll",e):dt!=null&&ta$1(e,et,dt,ot))}switch(s){case"input":Va$1(e),db$1(e,a,!1);break;case"textarea":Va$1(e),jb$1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Sa$1(a.value));break;case"select":e.multiple=!!a.multiple,et=a.value,et!=null?fb$1(e,!!a.multiple,et,!1):a.defaultValue!=null&&fb$1(e,!!a.multiple,a.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S$4(i),null;case 6:if(e&&i.stateNode!=null)Dj(e,i,e.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(p$2(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(i)){if(a=i.stateNode,s=i.memoizedProps,a[Of]=i,(et=a.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(e.mode&1)!==0)}et&&(i.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=i,i.stateNode=a}return S$4(i),null;case 13:if(E$2(M$3),a=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,et=!1;else if(et=Gg(i),a!==null&&a.dehydrated!==null){if(e===null){if(!et)throw Error(p$2(318));if(et=i.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$2(317));et[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S$4(i),et=!1}else zg!==null&&(Gj(zg),zg=null),et=!0;if(!et)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(e===null||M$3.current&1?T$3===0&&(T$3=3):uj())),i.updateQueue!==null&&(i.flags|=4),S$4(i),null);case 4:return Jh(),Bj(e,i),e===null&&sf(i.stateNode.containerInfo),S$4(i),null;case 10:return Rg(i.type._context),S$4(i),null;case 17:return Zf(i.type)&&$f(),S$4(i),null;case 19:if(E$2(M$3),et=i.memoizedState,et===null)return S$4(i),null;if(a=(i.flags&128)!==0,ot=et.rendering,ot===null)if(a)Ej(et,!1);else{if(T$3!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(ot=Mh(e),ot!==null){for(i.flags|=128,Ej(et,!1),a=ot.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=s,s=i.child;s!==null;)et=s,e=a,et.flags&=14680066,ot=et.alternate,ot===null?(et.childLanes=0,et.lanes=e,et.child=null,et.subtreeFlags=0,et.memoizedProps=null,et.memoizedState=null,et.updateQueue=null,et.dependencies=null,et.stateNode=null):(et.childLanes=ot.childLanes,et.lanes=ot.lanes,et.child=ot.child,et.subtreeFlags=0,et.deletions=null,et.memoizedProps=ot.memoizedProps,et.memoizedState=ot.memoizedState,et.updateQueue=ot.updateQueue,et.type=ot.type,e=ot.dependencies,et.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G$2(M$3,M$3.current&1|2),i.child}e=e.sibling}et.tail!==null&&B$3()>Hj&&(i.flags|=128,a=!0,Ej(et,!1),i.lanes=4194304)}else{if(!a)if(e=Mh(ot),e!==null){if(i.flags|=128,a=!0,s=e.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Ej(et,!0),et.tail===null&&et.tailMode==="hidden"&&!ot.alternate&&!I$3)return S$4(i),null}else 2*B$3()-et.renderingStartTime>Hj&&s!==1073741824&&(i.flags|=128,a=!0,Ej(et,!1),i.lanes=4194304);et.isBackwards?(ot.sibling=i.child,i.child=ot):(s=et.last,s!==null?s.sibling=ot:i.child=ot,et.last=ot)}return et.tail!==null?(i=et.tail,et.rendering=i,et.tail=i.sibling,et.renderingStartTime=B$3(),i.sibling=null,s=M$3.current,G$2(M$3,a?s&1|2:s&1),i):(S$4(i),null);case 22:case 23:return Ij(),a=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?gj&1073741824&&(S$4(i),i.subtreeFlags&6&&(i.flags|=8192)):S$4(i),null;case 24:return null;case 25:return null}throw Error(p$2(156,i.tag))}function Jj(e,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Jh(),E$2(Wf),E$2(H$3),Oh(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 5:return Lh(i),null;case 13:if(E$2(M$3),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p$2(340));Ig()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E$2(M$3),null;case 4:return Jh(),null;case 10:return Rg(i.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(e,i){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W$2(e,i,a)}else s.current=null}function Nj(e,i,s){try{s()}catch(a){W$2(e,i,a)}}var Oj=!1;function Pj(e,i){if(Cf=dd$1,e=Me$1(),Ne$1(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var o=a.anchorOffset,et=a.focusNode;a=a.focusOffset;try{s.nodeType,et.nodeType}catch{s=null;break e}var ot=0,ft=-1,dt=-1,mt=0,gt=0,bt=e,vt=null;t:for(;;){for(var Pt;bt!==s||o!==0&&bt.nodeType!==3||(ft=ot+o),bt!==et||a!==0&&bt.nodeType!==3||(dt=ot+a),bt.nodeType===3&&(ot+=bt.nodeValue.length),(Pt=bt.firstChild)!==null;)vt=bt,bt=Pt;for(;;){if(bt===e)break t;if(vt===s&&++mt===o&&(ft=ot),vt===et&&++gt===a&&(dt=ot),(Pt=bt.nextSibling)!==null)break;bt=vt,vt=bt.parentNode}bt=Pt}s=ft===-1||dt===-1?null:{start:ft,end:dt}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd$1=!1,V$2=i;V$2!==null;)if(i=V$2,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,V$2=e;else for(;V$2!==null;){i=V$2;try{var Tt=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Tt!==null){var At=Tt.memoizedProps,wt=Tt.memoizedState,_t=i.stateNode,Et=_t.getSnapshotBeforeUpdate(i.elementType===i.type?At:Lg(i.type,At),wt);_t.__reactInternalSnapshotBeforeUpdate=Et}break;case 3:var yt=i.stateNode.containerInfo;yt.nodeType===1?yt.textContent="":yt.nodeType===9&&yt.documentElement&&yt.removeChild(yt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(St){W$2(i,i.return,St)}if(e=i.sibling,e!==null){e.return=i.return,V$2=e;break}V$2=i.return}return Tt=Oj,Oj=!1,Tt}function Qj(e,i,s){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&e)===e){var et=o.destroy;o.destroy=void 0,et!==void 0&&Nj(i,s,et)}o=o.next}while(o!==a)}}function Rj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==i)}}function Sj(e){var i=e.ref;if(i!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof i=="function"?i(e):i.current=e}}function Tj(e){var i=e.alternate;i!==null&&(e.alternate=null,Tj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uj(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,i,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(e,i):s.insertBefore(e,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(e,s)):(i=s,i.appendChild(e)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(a!==4&&(e=e.child,e!==null))for(Wj(e,i,s),e=e.sibling;e!==null;)Wj(e,i,s),e=e.sibling}function Xj(e,i,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Xj(e,i,s),e=e.sibling;e!==null;)Xj(e,i,s),e=e.sibling}var X$2=null,Yj=!1;function Zj(e,i,s){for(s=s.child;s!==null;)ak(e,i,s),s=s.sibling}function ak(e,i,s){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,s)}catch{}switch(s.tag){case 5:U$2||Mj(s,i);case 6:var a=X$2,o=Yj;X$2=null,Zj(e,i,s),X$2=a,Yj=o,X$2!==null&&(Yj?(e=X$2,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X$2.removeChild(s.stateNode));break;case 18:X$2!==null&&(Yj?(e=X$2,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd$1(e)):Kf(X$2,s.stateNode));break;case 4:a=X$2,o=Yj,X$2=s.stateNode.containerInfo,Yj=!0,Zj(e,i,s),X$2=a,Yj=o;break;case 0:case 11:case 14:case 15:if(!U$2&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){o=a=a.next;do{var et=o,ot=et.destroy;et=et.tag,ot!==void 0&&(et&2||et&4)&&Nj(s,i,ot),o=o.next}while(o!==a)}Zj(e,i,s);break;case 1:if(!U$2&&(Mj(s,i),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(ft){W$2(s,i,ft)}Zj(e,i,s);break;case 21:Zj(e,i,s);break;case 22:s.mode&1?(U$2=(a=U$2)||s.memoizedState!==null,Zj(e,i,s),U$2=a):Zj(e,i,s);break;default:Zj(e,i,s)}}function bk(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Lj),i.forEach(function(a){var o=ck.bind(null,e,a);s.has(a)||(s.add(a),a.then(o,o))})}}function dk(e,i){var s=i.deletions;if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];try{var et=e,ot=i,ft=ot;e:for(;ft!==null;){switch(ft.tag){case 5:X$2=ft.stateNode,Yj=!1;break e;case 3:X$2=ft.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=ft.stateNode.containerInfo,Yj=!0;break e}ft=ft.return}if(X$2===null)throw Error(p$2(160));ak(et,ot,o),X$2=null,Yj=!1;var dt=o.alternate;dt!==null&&(dt.return=null),o.return=null}catch(mt){W$2(o,i,mt)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ek(i,e),i=i.sibling}function ek(e,i){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dk(i,e),fk(e),a&4){try{Qj(3,e,e.return),Rj(3,e)}catch(At){W$2(e,e.return,At)}try{Qj(5,e,e.return)}catch(At){W$2(e,e.return,At)}}break;case 1:dk(i,e),fk(e),a&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(i,e),fk(e),a&512&&s!==null&&Mj(s,s.return),e.flags&32){var o=e.stateNode;try{ob$1(o,"")}catch(At){W$2(e,e.return,At)}}if(a&4&&(o=e.stateNode,o!=null)){var et=e.memoizedProps,ot=s!==null?s.memoizedProps:et,ft=e.type,dt=e.updateQueue;if(e.updateQueue=null,dt!==null)try{ft==="input"&&et.type==="radio"&&et.name!=null&&ab$1(o,et),vb$1(ft,ot);var mt=vb$1(ft,et);for(ot=0;ot<dt.length;ot+=2){var gt=dt[ot],bt=dt[ot+1];gt==="style"?sb$1(o,bt):gt==="dangerouslySetInnerHTML"?nb$1(o,bt):gt==="children"?ob$1(o,bt):ta$1(o,gt,bt,mt)}switch(ft){case"input":bb$1(o,et);break;case"textarea":ib$1(o,et);break;case"select":var vt=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!et.multiple;var Pt=et.value;Pt!=null?fb$1(o,!!et.multiple,Pt,!1):vt!==!!et.multiple&&(et.defaultValue!=null?fb$1(o,!!et.multiple,et.defaultValue,!0):fb$1(o,!!et.multiple,et.multiple?[]:"",!1))}o[Pf]=et}catch(At){W$2(e,e.return,At)}}break;case 6:if(dk(i,e),fk(e),a&4){if(e.stateNode===null)throw Error(p$2(162));o=e.stateNode,et=e.memoizedProps;try{o.nodeValue=et}catch(At){W$2(e,e.return,At)}}break;case 3:if(dk(i,e),fk(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd$1(i.containerInfo)}catch(At){W$2(e,e.return,At)}break;case 4:dk(i,e),fk(e);break;case 13:dk(i,e),fk(e),o=e.child,o.flags&8192&&(et=o.memoizedState!==null,o.stateNode.isHidden=et,!et||o.alternate!==null&&o.alternate.memoizedState!==null||(gk=B$3())),a&4&&bk(e);break;case 22:if(gt=s!==null&&s.memoizedState!==null,e.mode&1?(U$2=(mt=U$2)||gt,dk(i,e),U$2=mt):dk(i,e),fk(e),a&8192){if(mt=e.memoizedState!==null,(e.stateNode.isHidden=mt)&&!gt&&e.mode&1)for(V$2=e,gt=e.child;gt!==null;){for(bt=V$2=gt;V$2!==null;){switch(vt=V$2,Pt=vt.child,vt.tag){case 0:case 11:case 14:case 15:Qj(4,vt,vt.return);break;case 1:Mj(vt,vt.return);var Tt=vt.stateNode;if(typeof Tt.componentWillUnmount=="function"){a=vt,s=vt.return;try{i=a,Tt.props=i.memoizedProps,Tt.state=i.memoizedState,Tt.componentWillUnmount()}catch(At){W$2(a,s,At)}}break;case 5:Mj(vt,vt.return);break;case 22:if(vt.memoizedState!==null){hk(bt);continue}}Pt!==null?(Pt.return=vt,V$2=Pt):hk(bt)}gt=gt.sibling}e:for(gt=null,bt=e;;){if(bt.tag===5){if(gt===null){gt=bt;try{o=bt.stateNode,mt?(et=o.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none"):(ft=bt.stateNode,dt=bt.memoizedProps.style,ot=dt!=null&&dt.hasOwnProperty("display")?dt.display:null,ft.style.display=rb$1("display",ot))}catch(At){W$2(e,e.return,At)}}}else if(bt.tag===6){if(gt===null)try{bt.stateNode.nodeValue=mt?"":bt.memoizedProps}catch(At){W$2(e,e.return,At)}}else if((bt.tag!==22&&bt.tag!==23||bt.memoizedState===null||bt===e)&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===e)break e;for(;bt.sibling===null;){if(bt.return===null||bt.return===e)break e;gt===bt&&(gt=null),bt=bt.return}gt===bt&&(gt=null),bt.sibling.return=bt.return,bt=bt.sibling}}break;case 19:dk(i,e),fk(e),a&4&&bk(e);break;case 21:break;default:dk(i,e),fk(e)}}function fk(e){var i=e.flags;if(i&2){try{e:{for(var s=e.return;s!==null;){if(Uj(s)){var a=s;break e}s=s.return}throw Error(p$2(160))}switch(a.tag){case 5:var o=a.stateNode;a.flags&32&&(ob$1(o,""),a.flags&=-33);var et=Vj(e);Xj(e,et,o);break;case 3:case 4:var ot=a.stateNode.containerInfo,ft=Vj(e);Wj(e,ft,ot);break;default:throw Error(p$2(161))}}catch(dt){W$2(e,e.return,dt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function ik(e,i,s){V$2=e,jk(e)}function jk(e,i,s){for(var a=(e.mode&1)!==0;V$2!==null;){var o=V$2,et=o.child;if(o.tag===22&&a){var ot=o.memoizedState!==null||Kj;if(!ot){var ft=o.alternate,dt=ft!==null&&ft.memoizedState!==null||U$2;ft=Kj;var mt=U$2;if(Kj=ot,(U$2=dt)&&!mt)for(V$2=o;V$2!==null;)ot=V$2,dt=ot.child,ot.tag===22&&ot.memoizedState!==null?kk(o):dt!==null?(dt.return=ot,V$2=dt):kk(o);for(;et!==null;)V$2=et,jk(et),et=et.sibling;V$2=o,Kj=ft,U$2=mt}lk(e)}else o.subtreeFlags&8772&&et!==null?(et.return=o,V$2=et):lk(e)}}function lk(e){for(;V$2!==null;){var i=V$2;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U$2||Rj(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!U$2)if(s===null)a.componentDidMount();else{var o=i.elementType===i.type?s.memoizedProps:Lg(i.type,s.memoizedProps);a.componentDidUpdate(o,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var et=i.updateQueue;et!==null&&ih(i,et,a);break;case 3:var ot=i.updateQueue;if(ot!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}ih(i,ot,s)}break;case 5:var ft=i.stateNode;if(s===null&&i.flags&4){s=ft;var dt=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":dt.autoFocus&&s.focus();break;case"img":dt.src&&(s.src=dt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var mt=i.alternate;if(mt!==null){var gt=mt.memoizedState;if(gt!==null){var bt=gt.dehydrated;bt!==null&&bd$1(bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$2||i.flags&512&&Sj(i)}catch(vt){W$2(i,i.return,vt)}}if(i===e){V$2=null;break}if(s=i.sibling,s!==null){s.return=i.return,V$2=s;break}V$2=i.return}}function hk(e){for(;V$2!==null;){var i=V$2;if(i===e){V$2=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V$2=s;break}V$2=i.return}}function kk(e){for(;V$2!==null;){var i=V$2;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Rj(4,i)}catch(dt){W$2(i,s,dt)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var o=i.return;try{a.componentDidMount()}catch(dt){W$2(i,o,dt)}}var et=i.return;try{Sj(i)}catch(dt){W$2(i,et,dt)}break;case 5:var ot=i.return;try{Sj(i)}catch(dt){W$2(i,ot,dt)}}}catch(dt){W$2(i,i.return,dt)}if(i===e){V$2=null;break}var ft=i.sibling;if(ft!==null){ft.return=i.return,V$2=ft;break}V$2=i.return}}var mk=Math.ceil,nk=ua$1.ReactCurrentDispatcher,ok=ua$1.ReactCurrentOwner,pk=ua$1.ReactCurrentBatchConfig,K$2=0,R$3=null,Y$2=null,Z$2=0,gj=0,fj=Uf(0),T$3=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return K$2&6?B$3():Bk!==-1?Bk:Bk=B$3()}function lh(e){return e.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc$1()),Ck):(e=C$4,e!==0||(e=window.event,e=e===void 0?16:jd$1(e.type)),e):1}function mh(e,i,s,a){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac$1(e,s,a),(!(K$2&2)||e!==R$3)&&(e===R$3&&(!(K$2&2)&&(rk|=s),T$3===4&&Dk(e,Z$2)),Ek(e,a),s===1&&K$2===0&&!(i.mode&1)&&(Hj=B$3()+500,fg&&jg()))}function Ek(e,i){var s=e.callbackNode;wc$1(e,i);var a=uc$1(e,e===R$3?Z$2:0);if(a===0)s!==null&&bc$1(s),e.callbackNode=null,e.callbackPriority=0;else if(i=a&-a,e.callbackPriority!==i){if(s!=null&&bc$1(s),i===1)e.tag===0?ig(Fk.bind(null,e)):hg(Fk.bind(null,e)),Jf(function(){!(K$2&6)&&jg()}),s=null;else{switch(Dc$1(a)){case 1:s=fc$1;break;case 4:s=gc$1;break;case 16:s=hc$1;break;case 536870912:s=jc$1;break;default:s=hc$1}s=Gk(s,Hk.bind(null,e))}e.callbackPriority=i,e.callbackNode=s}}function Hk(e,i){if(Bk=-1,Ck=0,K$2&6)throw Error(p$2(327));var s=e.callbackNode;if(Ik()&&e.callbackNode!==s)return null;var a=uc$1(e,e===R$3?Z$2:0);if(a===0)return null;if(a&30||a&e.expiredLanes||i)i=Jk(e,a);else{i=a;var o=K$2;K$2|=2;var et=Kk();(R$3!==e||Z$2!==i)&&(vk=null,Hj=B$3()+500,Lk(e,i));do try{Mk();break}catch(ft){Nk(e,ft)}while(!0);Qg(),nk.current=et,K$2=o,Y$2!==null?i=0:(R$3=null,Z$2=0,i=T$3)}if(i!==0){if(i===2&&(o=xc$1(e),o!==0&&(a=o,i=Ok(e,o))),i===1)throw s=qk,Lk(e,0),Dk(e,a),Ek(e,B$3()),s;if(i===6)Dk(e,a);else{if(o=e.current.alternate,!(a&30)&&!Pk(o)&&(i=Jk(e,a),i===2&&(et=xc$1(e),et!==0&&(a=et,i=Ok(e,et))),i===1))throw s=qk,Lk(e,0),Dk(e,a),Ek(e,B$3()),s;switch(e.finishedWork=o,e.finishedLanes=a,i){case 0:case 1:throw Error(p$2(345));case 2:Qk(e,uk,vk);break;case 3:if(Dk(e,a),(a&130023424)===a&&(i=gk+500-B$3(),10<i)){if(uc$1(e,0)!==0)break;if(o=e.suspendedLanes,(o&a)!==a){L$2(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),i);break}Qk(e,uk,vk);break;case 4:if(Dk(e,a),(a&4194240)===a)break;for(i=e.eventTimes,o=-1;0<a;){var ot=31-oc$1(a);et=1<<ot,ot=i[ot],ot>o&&(o=ot),a&=~et}if(a=o,a=B$3()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*mk(a/1960))-a,10<a){e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),a);break}Qk(e,uk,vk);break;case 5:Qk(e,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(e,B$3()),e.callbackNode===s?Hk.bind(null,e):null}function Ok(e,i){var s=tk;return e.current.memoizedState.isDehydrated&&(Lk(e,i).flags|=256),e=Jk(e,i),e!==2&&(i=uk,uk=s,i!==null&&Gj(i)),e}function Gj(e){uk===null?uk=e:uk.push.apply(uk,e)}function Pk(e){for(var i=e;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var o=s[a],et=o.getSnapshot;o=o.value;try{if(!He$1(et(),o))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dk(e,i){for(i&=~sk,i&=~rk,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var s=31-oc$1(i),a=1<<s;e[s]=-1,i&=~a}}function Fk(e){if(K$2&6)throw Error(p$2(327));Ik();var i=uc$1(e,0);if(!(i&1))return Ek(e,B$3()),null;var s=Jk(e,i);if(e.tag!==0&&s===2){var a=xc$1(e);a!==0&&(i=a,s=Ok(e,a))}if(s===1)throw s=qk,Lk(e,0),Dk(e,i),Ek(e,B$3()),s;if(s===6)throw Error(p$2(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Qk(e,uk,vk),Ek(e,B$3()),null}function Rk(e,i){var s=K$2;K$2|=1;try{return e(i)}finally{K$2=s,K$2===0&&(Hj=B$3()+500,fg&&jg())}}function Sk(e){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var i=K$2;K$2|=1;var s=pk.transition,a=C$4;try{if(pk.transition=null,C$4=1,e)return e()}finally{C$4=a,pk.transition=s,K$2=i,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(e,i){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y$2!==null)for(s=Y$2.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$3),Oh();break;case 5:Lh(a);break;case 4:Jh();break;case 13:E$2(M$3);break;case 19:E$2(M$3);break;case 10:Rg(a.type._context);break;case 22:case 23:Ij()}s=s.return}if(R$3=e,Y$2=e=wh(e.current,null),Z$2=gj=i,T$3=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(i=0;i<Wg.length;i++)if(s=Wg[i],a=s.interleaved,a!==null){s.interleaved=null;var o=a.next,et=s.pending;if(et!==null){var ot=et.next;et.next=o,a.next=ot}s.pending=a}Wg=null}return e}function Nk(e,i){do{var s=Y$2;try{if(Qg(),Ph.current=ai,Sh){for(var a=N$2.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Sh=!1}if(Rh=0,P$2=O$3=N$2=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T$3=1,qk=i,Y$2=null;break}e:{var et=e,ot=s.return,ft=s,dt=i;if(i=Z$2,ft.flags|=32768,dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var mt=dt,gt=ft,bt=gt.tag;if(!(gt.mode&1)&&(bt===0||bt===11||bt===15)){var vt=gt.alternate;vt?(gt.updateQueue=vt.updateQueue,gt.memoizedState=vt.memoizedState,gt.lanes=vt.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var Pt=Vi(ot);if(Pt!==null){Pt.flags&=-257,Wi(Pt,ot,ft,et,i),Pt.mode&1&&Ti(et,mt,i),i=Pt,dt=mt;var Tt=i.updateQueue;if(Tt===null){var At=new Set;At.add(dt),i.updateQueue=At}else Tt.add(dt);break e}else{if(!(i&1)){Ti(et,mt,i),uj();break e}dt=Error(p$2(426))}}else if(I$3&&ft.mode&1){var wt=Vi(ot);if(wt!==null){!(wt.flags&65536)&&(wt.flags|=256),Wi(wt,ot,ft,et,i),Jg(Ki(dt,ft));break e}}et=dt=Ki(dt,ft),T$3!==4&&(T$3=2),tk===null?tk=[et]:tk.push(et),et=ot;do{switch(et.tag){case 3:et.flags|=65536,i&=-i,et.lanes|=i;var _t=Oi(et,dt,i);fh(et,_t);break e;case 1:ft=dt;var Et=et.type,yt=et.stateNode;if(!(et.flags&128)&&(typeof Et.getDerivedStateFromError=="function"||yt!==null&&typeof yt.componentDidCatch=="function"&&(Si===null||!Si.has(yt)))){et.flags|=65536,i&=-i,et.lanes|=i;var St=Ri(et,ft,i);fh(et,St);break e}}et=et.return}while(et!==null)}Tk(s)}catch(xt){i=xt,Y$2===s&&s!==null&&(Y$2=s=s.return);continue}break}while(!0)}function Kk(){var e=nk.current;return nk.current=ai,e===null?ai:e}function uj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),R$3===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$3,Z$2)}function Jk(e,i){var s=K$2;K$2|=2;var a=Kk();(R$3!==e||Z$2!==i)&&(vk=null,Lk(e,i));do try{Uk();break}catch(o){Nk(e,o)}while(!0);if(Qg(),K$2=s,nk.current=a,Y$2!==null)throw Error(p$2(261));return R$3=null,Z$2=0,T$3}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc$1();)Vk(Y$2)}function Vk(e){var i=Wk(e.alternate,e,gj);e.memoizedProps=e.pendingProps,i===null?Tk(e):Y$2=i,ok.current=null}function Tk(e){var i=e;do{var s=i.alternate;if(e=i.return,i.flags&32768){if(s=Jj(s,i),s!==null){s.flags&=32767,Y$2=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T$3=6,Y$2=null;return}}else if(s=Fj(s,i,gj),s!==null){Y$2=s;return}if(i=i.sibling,i!==null){Y$2=i;return}Y$2=i=e}while(i!==null);T$3===0&&(T$3=5)}function Qk(e,i,s){var a=C$4,o=pk.transition;try{pk.transition=null,C$4=1,Xk(e,i,s,a)}finally{pk.transition=o,C$4=a}return null}function Xk(e,i,s,a){do Ik();while(xk!==null);if(K$2&6)throw Error(p$2(327));s=e.finishedWork;var o=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p$2(177));e.callbackNode=null,e.callbackPriority=0;var et=s.lanes|s.childLanes;if(Bc$1(e,et),e===R$3&&(Y$2=R$3=null,Z$2=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc$1,function(){return Ik(),null})),et=(s.flags&15990)!==0,s.subtreeFlags&15990||et){et=pk.transition,pk.transition=null;var ot=C$4;C$4=1;var ft=K$2;K$2|=4,ok.current=null,Pj(e,s),ek(s,e),Oe$1(Df),dd$1=!!Cf,Df=Cf=null,e.current=s,ik(s),dc$1(),K$2=ft,C$4=ot,pk.transition=et}else e.current=s;if(wk&&(wk=!1,xk=e,yk=o),et=e.pendingLanes,et===0&&(Si=null),mc$1(s.stateNode),Ek(e,B$3()),i!==null)for(a=e.onRecoverableError,s=0;s<i.length;s++)o=i[s],a(o.value,{componentStack:o.stack,digest:o.digest});if(Pi)throw Pi=!1,e=Qi,Qi=null,e;return yk&1&&e.tag!==0&&Ik(),et=e.pendingLanes,et&1?e===Ak?zk++:(zk=0,Ak=e):zk=0,jg(),null}function Ik(){if(xk!==null){var e=Dc$1(yk),i=pk.transition,s=C$4;try{if(pk.transition=null,C$4=16>e?16:e,xk===null)var a=!1;else{if(e=xk,xk=null,yk=0,K$2&6)throw Error(p$2(331));var o=K$2;for(K$2|=4,V$2=e.current;V$2!==null;){var et=V$2,ot=et.child;if(V$2.flags&16){var ft=et.deletions;if(ft!==null){for(var dt=0;dt<ft.length;dt++){var mt=ft[dt];for(V$2=mt;V$2!==null;){var gt=V$2;switch(gt.tag){case 0:case 11:case 15:Qj(8,gt,et)}var bt=gt.child;if(bt!==null)bt.return=gt,V$2=bt;else for(;V$2!==null;){gt=V$2;var vt=gt.sibling,Pt=gt.return;if(Tj(gt),gt===mt){V$2=null;break}if(vt!==null){vt.return=Pt,V$2=vt;break}V$2=Pt}}}var Tt=et.alternate;if(Tt!==null){var At=Tt.child;if(At!==null){Tt.child=null;do{var wt=At.sibling;At.sibling=null,At=wt}while(At!==null)}}V$2=et}}if(et.subtreeFlags&2064&&ot!==null)ot.return=et,V$2=ot;else e:for(;V$2!==null;){if(et=V$2,et.flags&2048)switch(et.tag){case 0:case 11:case 15:Qj(9,et,et.return)}var _t=et.sibling;if(_t!==null){_t.return=et.return,V$2=_t;break e}V$2=et.return}}var Et=e.current;for(V$2=Et;V$2!==null;){ot=V$2;var yt=ot.child;if(ot.subtreeFlags&2064&&yt!==null)yt.return=ot,V$2=yt;else e:for(ot=Et;V$2!==null;){if(ft=V$2,ft.flags&2048)try{switch(ft.tag){case 0:case 11:case 15:Rj(9,ft)}}catch(xt){W$2(ft,ft.return,xt)}if(ft===ot){V$2=null;break e}var St=ft.sibling;if(St!==null){St.return=ft.return,V$2=St;break e}V$2=ft.return}}if(K$2=o,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,e)}catch{}a=!0}return a}finally{C$4=s,pk.transition=i}}return!1}function Yk(e,i,s){i=Ki(s,i),i=Oi(e,i,1),e=dh(e,i,1),i=L$2(),e!==null&&(Ac$1(e,1,i),Ek(e,i))}function W$2(e,i,s){if(e.tag===3)Yk(e,e,s);else for(;i!==null;){if(i.tag===3){Yk(i,e,s);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Si===null||!Si.has(a))){e=Ki(s,e),e=Ri(i,e,1),i=dh(i,e,1),e=L$2(),i!==null&&(Ac$1(i,1,e),Ek(i,e));break}}i=i.return}}function Ui(e,i,s){var a=e.pingCache;a!==null&&a.delete(i),i=L$2(),e.pingedLanes|=e.suspendedLanes&s,R$3===e&&(Z$2&s)===s&&(T$3===4||T$3===3&&(Z$2&130023424)===Z$2&&500>B$3()-gk?Lk(e,0):sk|=s),Ek(e,i)}function Zk(e,i){i===0&&(e.mode&1?(i=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):i=1);var s=L$2();e=Zg(e,i),e!==null&&(Ac$1(e,i,s),Ek(e,s))}function vj(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Zk(e,s)}function ck(e,i){var s=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(p$2(314))}a!==null&&a.delete(i),Zk(e,s)}var Wk;Wk=function(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps||Wf.current)Ug=!0;else{if(!(e.lanes&s)&&!(i.flags&128))return Ug=!1,zj(e,i,s);Ug=!!(e.flags&131072)}else Ug=!1,I$3&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;jj(e,i),e=i.pendingProps;var o=Yf(i,H$3.current);Tg(i,s),o=Xh(null,i,a,e,o,s);var et=bi();return i.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(a)?(et=!0,cg(i)):et=!1,i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ah(i),o.updater=nh,i.stateNode=o,o._reactInternals=i,rh(i,a,e,s),i=kj(null,i,a,!0,et,s)):(i.tag=0,I$3&&et&&vg(i),Yi(null,i,o,s),i=i.child),i;case 16:a=i.elementType;e:{switch(jj(e,i),e=i.pendingProps,o=a._init,a=o(a._payload),i.type=a,o=i.tag=$k(a),e=Lg(a,e),o){case 0:i=dj(null,i,a,e,s);break e;case 1:i=ij(null,i,a,e,s);break e;case 11:i=Zi(null,i,a,e,s);break e;case 14:i=aj(null,i,a,Lg(a.type,e),s);break e}throw Error(p$2(306,a,""))}return i;case 0:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Lg(a,o),dj(e,i,a,o,s);case 1:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Lg(a,o),ij(e,i,a,o,s);case 3:e:{if(lj(i),e===null)throw Error(p$2(387));a=i.pendingProps,et=i.memoizedState,o=et.element,bh(e,i),gh(i,a,null,s);var ot=i.memoizedState;if(a=ot.element,et.isDehydrated)if(et={element:a,isDehydrated:!1,cache:ot.cache,pendingSuspenseBoundaries:ot.pendingSuspenseBoundaries,transitions:ot.transitions},i.updateQueue.baseState=et,i.memoizedState=et,i.flags&256){o=Ki(Error(p$2(423)),i),i=mj(e,i,a,s,o);break e}else if(a!==o){o=Ki(Error(p$2(424)),i),i=mj(e,i,a,s,o);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I$3=!0,zg=null,s=Ch(i,null,a,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===o){i=$i(e,i,s);break e}Yi(e,i,a,s)}i=i.child}return i;case 5:return Kh(i),e===null&&Eg(i),a=i.type,o=i.pendingProps,et=e!==null?e.memoizedProps:null,ot=o.children,Ef(a,o)?ot=null:et!==null&&Ef(a,et)&&(i.flags|=32),hj(e,i),Yi(e,i,ot,s),i.child;case 6:return e===null&&Eg(i),null;case 13:return pj(e,i,s);case 4:return Ih(i,i.stateNode.containerInfo),a=i.pendingProps,e===null?i.child=Bh(i,null,a,s):Yi(e,i,a,s),i.child;case 11:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Lg(a,o),Zi(e,i,a,o,s);case 7:return Yi(e,i,i.pendingProps,s),i.child;case 8:return Yi(e,i,i.pendingProps.children,s),i.child;case 12:return Yi(e,i,i.pendingProps.children,s),i.child;case 10:e:{if(a=i.type._context,o=i.pendingProps,et=i.memoizedProps,ot=o.value,G$2(Mg,a._currentValue),a._currentValue=ot,et!==null)if(He$1(et.value,ot)){if(et.children===o.children&&!Wf.current){i=$i(e,i,s);break e}}else for(et=i.child,et!==null&&(et.return=i);et!==null;){var ft=et.dependencies;if(ft!==null){ot=et.child;for(var dt=ft.firstContext;dt!==null;){if(dt.context===a){if(et.tag===1){dt=ch(-1,s&-s),dt.tag=2;var mt=et.updateQueue;if(mt!==null){mt=mt.shared;var gt=mt.pending;gt===null?dt.next=dt:(dt.next=gt.next,gt.next=dt),mt.pending=dt}}et.lanes|=s,dt=et.alternate,dt!==null&&(dt.lanes|=s),Sg(et.return,s,i),ft.lanes|=s;break}dt=dt.next}}else if(et.tag===10)ot=et.type===i.type?null:et.child;else if(et.tag===18){if(ot=et.return,ot===null)throw Error(p$2(341));ot.lanes|=s,ft=ot.alternate,ft!==null&&(ft.lanes|=s),Sg(ot,s,i),ot=et.sibling}else ot=et.child;if(ot!==null)ot.return=et;else for(ot=et;ot!==null;){if(ot===i){ot=null;break}if(et=ot.sibling,et!==null){et.return=ot.return,ot=et;break}ot=ot.return}et=ot}Yi(e,i,o.children,s),i=i.child}return i;case 9:return o=i.type,a=i.pendingProps.children,Tg(i,s),o=Vg(o),a=a(o),i.flags|=1,Yi(e,i,a,s),i.child;case 14:return a=i.type,o=Lg(a,i.pendingProps),o=Lg(a.type,o),aj(e,i,a,o,s);case 15:return cj(e,i,i.type,i.pendingProps,s);case 17:return a=i.type,o=i.pendingProps,o=i.elementType===a?o:Lg(a,o),jj(e,i),i.tag=1,Zf(a)?(e=!0,cg(i)):e=!1,Tg(i,s),ph(i,a,o),rh(i,a,o,s),kj(null,i,a,!0,e,s);case 19:return yj(e,i,s);case 22:return ej(e,i,s)}throw Error(p$2(156,i.tag))};function Gk(e,i){return ac$1(e,i)}function al(e,i,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,i,s,a){return new al(e,i,s,a)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da$1)return 11;if(e===Ga$1)return 14}return 2}function wh(e,i){var s=e.alternate;return s===null?(s=Bg(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function yh(e,i,s,a,o,et){var ot=2;if(a=e,typeof e=="function")bj(e)&&(ot=1);else if(typeof e=="string")ot=5;else e:switch(e){case ya$1:return Ah(s.children,o,et,i);case za$1:ot=8,o|=8;break;case Aa$1:return e=Bg(12,s,i,o|2),e.elementType=Aa$1,e.lanes=et,e;case Ea$1:return e=Bg(13,s,i,o),e.elementType=Ea$1,e.lanes=et,e;case Fa$1:return e=Bg(19,s,i,o),e.elementType=Fa$1,e.lanes=et,e;case Ia$1:return qj(s,o,et,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba$1:ot=10;break e;case Ca$1:ot=9;break e;case Da$1:ot=11;break e;case Ga$1:ot=14;break e;case Ha$1:ot=16,a=null;break e}throw Error(p$2(130,e==null?e:typeof e,""))}return i=Bg(ot,s,i,o),i.elementType=e,i.type=a,i.lanes=et,i}function Ah(e,i,s,a){return e=Bg(7,e,a,i),e.lanes=s,e}function qj(e,i,s,a){return e=Bg(22,e,a,i),e.elementType=Ia$1,e.lanes=s,e.stateNode={isHidden:!1},e}function xh(e,i,s){return e=Bg(6,e,null,i),e.lanes=s,e}function zh(e,i,s){return i=Bg(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function bl(e,i,s,a,o){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=a,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function cl(e,i,s,a,o,et,ot,ft,dt){return e=new bl(e,i,s,ft,dt),i===1?(i=1,et===!0&&(i|=8)):i=0,et=Bg(3,null,null,i),e.current=et,et.stateNode=e,et.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(et),e}function dl(e,i,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:a==null?null:""+a,children:e,containerInfo:i,implementation:s}}function el(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb$1(e)!==e||e.tag!==1)throw Error(p$2(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$2(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,i)}return i}function fl(e,i,s,a,o,et,ot,ft,dt){return e=cl(s,a,!0,e,o,et,ot,ft,dt),e.context=el(null),s=e.current,a=L$2(),o=lh(s),et=ch(a,o),et.callback=i??null,dh(s,et,o),e.current.lanes=o,Ac$1(e,o,a),Ek(e,a),e}function gl(e,i,s,a){var o=i.current,et=L$2(),ot=lh(o);return s=el(s),i.context===null?i.context=s:i.pendingContext=s,i=ch(et,ot),i.payload={element:e},a=a===void 0?null:a,a!==null&&(i.callback=a),e=dh(o,i,ot),e!==null&&(mh(e,o,ot,et),eh(e,o,ot)),ot}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function il(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function jl(e,i){il(e,i),(e=e.alternate)&&il(e,i)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(e){console.error(e)};function ml(e){this._internalRoot=e}nl.prototype.render=ml.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p$2(409));gl(e,i,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Sk(function(){gl(null,e,null,null)}),i[uf]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var i=Hc$1();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Qc$1.length&&i!==0&&i<Qc$1[s].priority;s++);Qc$1.splice(s,0,e),s===0&&Vc$1(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl$1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(e,i,s,a,o){if(o){if(typeof a=="function"){var et=a;a=function(){var mt=hl(ot);et.call(mt)}}var ot=fl(i,a,e,0,null,!1,!1,"",ql);return e._reactRootContainer=ot,e[uf]=ot.current,sf(e.nodeType===8?e.parentNode:e),Sk(),ot}for(;o=e.lastChild;)e.removeChild(o);if(typeof a=="function"){var ft=a;a=function(){var mt=hl(dt);ft.call(mt)}}var dt=cl(e,0,!1,null,null,!1,!1,"",ql);return e._reactRootContainer=dt,e[uf]=dt.current,sf(e.nodeType===8?e.parentNode:e),Sk(function(){gl(i,dt,s,a)}),dt}function sl(e,i,s,a,o){var et=s._reactRootContainer;if(et){var ot=et;if(typeof o=="function"){var ft=o;o=function(){var dt=hl(ot);ft.call(dt)}}gl(i,ot,e,o)}else ot=rl(s,i,e,o,a);return hl(ot)}Ec$1=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc$1(i.pendingLanes);s!==0&&(Cc$1(i,s|1),Ek(i,B$3()),!(K$2&6)&&(Hj=B$3()+500,jg()))}break;case 13:Sk(function(){var a=Zg(e,1);if(a!==null){var o=L$2();mh(a,e,1,o)}}),jl(e,1)}};Fc$1=function(e){if(e.tag===13){var i=Zg(e,134217728);if(i!==null){var s=L$2();mh(i,e,134217728,s)}jl(e,134217728)}};Gc$1=function(e){if(e.tag===13){var i=lh(e),s=Zg(e,i);if(s!==null){var a=L$2();mh(s,e,i,a)}jl(e,i)}};Hc$1=function(){return C$4};Ic$1=function(e,i){var s=C$4;try{return C$4=e,i()}finally{C$4=s}};yb$1=function(e,i,s){switch(i){case"input":if(bb$1(e,s),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var a=s[i];if(a!==e&&a.form===e.form){var o=Db(a);if(!o)throw Error(p$2(90));Wa$1(a),bb$1(a,o)}}}break;case"textarea":ib$1(e,s);break;case"select":i=s.value,i!=null&&fb$1(e,!!s.multiple,i,!1)}};Gb$1=Rk;Hb$1=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb$1,ue$2,Db,Eb$1,Fb$1,Rk]},ul={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb$1(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc$1=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(e,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(i))throw Error(p$2(200));return dl(e,i,null,s)};reactDom_production_min.createRoot=function(e,i){if(!ol(e))throw Error(p$2(299));var s=!1,a="",o=ll;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(o=i.onRecoverableError)),i=cl(e,1,!1,null,null,s,!1,a,o),e[uf]=i.current,sf(e.nodeType===8?e.parentNode:e),new ml(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p$2(188)):(e=Object.keys(e).join(","),Error(p$2(268,e)));return e=Zb$1(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Sk(e)};reactDom_production_min.hydrate=function(e,i,s){if(!pl$1(i))throw Error(p$2(200));return sl(null,e,i,!0,s)};reactDom_production_min.hydrateRoot=function(e,i,s){if(!ol(e))throw Error(p$2(405));var a=s!=null&&s.hydratedSources||null,o=!1,et="",ot=ll;if(s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(et=s.identifierPrefix),s.onRecoverableError!==void 0&&(ot=s.onRecoverableError)),i=fl(i,null,e,1,s??null,o,!1,et,ot),e[uf]=i.current,sf(e),a)for(e=0;e<a.length;e++)s=a[e],o=s._getVersion,o=o(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,o]:i.mutableSourceEagerHydrationData.push(s,o);return new nl(i)};reactDom_production_min.render=function(e,i,s){if(!pl$1(i))throw Error(p$2(200));return sl(null,e,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!pl$1(e))throw Error(p$2(40));return e._reactRootContainer?(Sk(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,s,a){if(!pl$1(s))throw Error(p$2(200));if(e==null||e._reactInternals===void 0)throw Error(p$2(38));return sl(e,i,s,!1,a)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;function r$1(e){var i,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(i=0;i<o;i++)e[i]&&(s=r$1(e[i]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function clsx(){for(var e,i,s=0,a="",o=arguments.length;s<o;s++)(e=arguments[s])&&(i=r$1(e))&&(a&&(a+=" "),a+=i);return a}const c=e=>typeof e=="number"&&!isNaN(e),d=e=>typeof e=="string",u=e=>typeof e=="function",p$1=e=>d(e)||u(e)?e:null,m$1=e=>reactExports.isValidElement(e)||d(e)||u(e)||c(e);function f$1(e,i,s){s===void 0&&(s=300);const{scrollHeight:a,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=a+"px",o.transition=`all ${s}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(i,s)})})}function g$1(e){let{enter:i,exit:s,appendPosition:a=!1,collapse:o=!0,collapseDuration:et=300}=e;return function(ot){let{children:ft,position:dt,preventExitTransition:mt,done:gt,nodeRef:bt,isIn:vt,playToast:Pt}=ot;const Tt=a?`${i}--${dt}`:i,At=a?`${s}--${dt}`:s,wt=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{const _t=bt.current,Et=Tt.split(" "),yt=St=>{St.target===bt.current&&(Pt(),_t.removeEventListener("animationend",yt),_t.removeEventListener("animationcancel",yt),wt.current===0&&St.type!=="animationcancel"&&_t.classList.remove(...Et))};_t.classList.add(...Et),_t.addEventListener("animationend",yt),_t.addEventListener("animationcancel",yt)},[]),reactExports.useEffect(()=>{const _t=bt.current,Et=()=>{_t.removeEventListener("animationend",Et),o?f$1(_t,gt,et):gt()};vt||(mt?Et():(wt.current=1,_t.className+=` ${At}`,_t.addEventListener("animationend",Et)))},[vt]),React.createElement(React.Fragment,null,ft)}}function y$2(e,i){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:i}:{}}const v$4=new Map;let h$1=[];const T$2=new Set,E$1=e=>T$2.forEach(i=>i(e)),b$1=()=>v$4.size>0;function I$2(e,i){var s;if(i)return!((s=v$4.get(i))==null||!s.isToastActive(e));let a=!1;return v$4.forEach(o=>{o.isToastActive(e)&&(a=!0)}),a}function _$1(e,i){m$1(e)&&(b$1()||h$1.push({content:e,options:i}),v$4.forEach(s=>{s.buildToast(e,i)}))}function C$3(e,i){v$4.forEach(s=>{i!=null&&i!=null&&i.containerId?(i==null?void 0:i.containerId)===s.id&&s.toggle(e,i==null?void 0:i.id):s.toggle(e,i==null?void 0:i.id)})}function L$1(e){const{subscribe:i,getSnapshot:s,setProps:a}=reactExports.useRef(function(et){const ot=et.containerId||1;return{subscribe(ft){const dt=function(gt,bt,vt){let Pt=1,Tt=0,At=[],wt=[],_t=[],Et=bt;const yt=new Map,St=new Set,xt=()=>{_t=Array.from(yt.values()),St.forEach(Rt=>Rt())},Ct=Rt=>{wt=Rt==null?[]:wt.filter(It=>It!==Rt),xt()},$t=Rt=>{const{toastId:It,onOpen:Nt,updateId:Ot,children:Gt}=Rt.props,Xt=Ot==null;Rt.staleId&&yt.delete(Rt.staleId),yt.set(It,Rt),wt=[...wt,Rt.props.toastId].filter(Ht=>Ht!==Rt.staleId),xt(),vt(y$2(Rt,Xt?"added":"updated")),Xt&&u(Nt)&&Nt(reactExports.isValidElement(Gt)&&Gt.props)};return{id:gt,props:Et,observe:Rt=>(St.add(Rt),()=>St.delete(Rt)),toggle:(Rt,It)=>{yt.forEach(Nt=>{It!=null&&It!==Nt.props.toastId||u(Nt.toggle)&&Nt.toggle(Rt)})},removeToast:Ct,toasts:yt,clearQueue:()=>{Tt-=At.length,At=[]},buildToast:(Rt,It)=>{if((rr=>{let{containerId:qt,toastId:Dt,updateId:Vt}=rr;const Lt=qt?qt!==gt:gt!==1,jt=yt.has(Dt)&&Vt==null;return Lt||jt})(It))return;const{toastId:Nt,updateId:Ot,data:Gt,staleId:Xt,delay:Ht}=It,Yt=()=>{Ct(Nt)},zt=Ot==null;zt&&Tt++;const Ut={...Et,style:Et.toastStyle,key:Pt++,...Object.fromEntries(Object.entries(It).filter(rr=>{let[qt,Dt]=rr;return Dt!=null})),toastId:Nt,updateId:Ot,data:Gt,closeToast:Yt,isIn:!1,className:p$1(It.className||Et.toastClassName),bodyClassName:p$1(It.bodyClassName||Et.bodyClassName),progressClassName:p$1(It.progressClassName||Et.progressClassName),autoClose:!It.isLoading&&(kt=It.autoClose,Ft=Et.autoClose,kt===!1||c(kt)&&kt>0?kt:Ft),deleteToast(){const rr=yt.get(Nt),{onClose:qt,children:Dt}=rr.props;u(qt)&&qt(reactExports.isValidElement(Dt)&&Dt.props),vt(y$2(rr,"removed")),yt.delete(Nt),Tt--,Tt<0&&(Tt=0),At.length>0?$t(At.shift()):xt()}};var kt,Ft;Ut.closeButton=Et.closeButton,It.closeButton===!1||m$1(It.closeButton)?Ut.closeButton=It.closeButton:It.closeButton===!0&&(Ut.closeButton=!m$1(Et.closeButton)||Et.closeButton);let Qt=Rt;reactExports.isValidElement(Rt)&&!d(Rt.type)?Qt=reactExports.cloneElement(Rt,{closeToast:Yt,toastProps:Ut,data:Gt}):u(Rt)&&(Qt=Rt({closeToast:Yt,toastProps:Ut,data:Gt}));const Zt={content:Qt,props:Ut,staleId:Xt};Et.limit&&Et.limit>0&&Tt>Et.limit&&zt?At.push(Zt):c(Ht)?setTimeout(()=>{$t(Zt)},Ht):$t(Zt)},setProps(Rt){Et=Rt},setToggle:(Rt,It)=>{yt.get(Rt).toggle=It},isToastActive:Rt=>wt.some(It=>It===Rt),getSnapshot:()=>Et.newestOnTop?_t.reverse():_t}}(ot,et,E$1);v$4.set(ot,dt);const mt=dt.observe(ft);return h$1.forEach(gt=>_$1(gt.content,gt.options)),h$1=[],()=>{mt(),v$4.delete(ot)}},setProps(ft){var dt;(dt=v$4.get(ot))==null||dt.setProps(ft)},getSnapshot(){var ft;return(ft=v$4.get(ot))==null?void 0:ft.getSnapshot()}}}(e)).current;a(e);const o=reactExports.useSyncExternalStore(i,s,s);return{getToastToRender:function(et){if(!o)return[];const ot=new Map;return o.forEach(ft=>{const{position:dt}=ft.props;ot.has(dt)||ot.set(dt,[]),ot.get(dt).push(ft)}),Array.from(ot,ft=>et(ft[0],ft[1]))},isToastActive:I$2,count:o==null?void 0:o.length}}function N$1(e){const[i,s]=reactExports.useState(!1),[a,o]=reactExports.useState(!1),et=reactExports.useRef(null),ot=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:ft,pauseOnHover:dt,closeToast:mt,onClick:gt,closeOnClick:bt}=e;var vt,Pt;function Tt(){s(!0)}function At(){s(!1)}function wt(yt){const St=et.current;ot.canDrag&&St&&(ot.didMove=!0,i&&At(),ot.delta=e.draggableDirection==="x"?yt.clientX-ot.start:yt.clientY-ot.start,ot.start!==yt.clientX&&(ot.canCloseOnClick=!1),St.style.transform=`translate3d(${e.draggableDirection==="x"?`${ot.delta}px, var(--y)`:`0, calc(${ot.delta}px + var(--y))`},0)`,St.style.opacity=""+(1-Math.abs(ot.delta/ot.removalDistance)))}function _t(){document.removeEventListener("pointermove",wt),document.removeEventListener("pointerup",_t);const yt=et.current;if(ot.canDrag&&ot.didMove&&yt){if(ot.canDrag=!1,Math.abs(ot.delta)>ot.removalDistance)return o(!0),e.closeToast(),void e.collapseAll();yt.style.transition="transform 0.2s, opacity 0.2s",yt.style.removeProperty("transform"),yt.style.removeProperty("opacity")}}(Pt=v$4.get((vt={id:e.toastId,containerId:e.containerId,fn:s}).containerId||1))==null||Pt.setToggle(vt.id,vt.fn),reactExports.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||At(),window.addEventListener("focus",Tt),window.addEventListener("blur",At),()=>{window.removeEventListener("focus",Tt),window.removeEventListener("blur",At)}},[e.pauseOnFocusLoss]);const Et={onPointerDown:function(yt){if(e.draggable===!0||e.draggable===yt.pointerType){ot.didMove=!1,document.addEventListener("pointermove",wt),document.addEventListener("pointerup",_t);const St=et.current;ot.canCloseOnClick=!0,ot.canDrag=!0,St.style.transition="none",e.draggableDirection==="x"?(ot.start=yt.clientX,ot.removalDistance=St.offsetWidth*(e.draggablePercent/100)):(ot.start=yt.clientY,ot.removalDistance=St.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(yt){const{top:St,bottom:xt,left:Ct,right:$t}=et.current.getBoundingClientRect();yt.nativeEvent.type!=="touchend"&&e.pauseOnHover&&yt.clientX>=Ct&&yt.clientX<=$t&&yt.clientY>=St&&yt.clientY<=xt?At():Tt()}};return ft&&dt&&(Et.onMouseEnter=At,e.stacked||(Et.onMouseLeave=Tt)),bt&&(Et.onClick=yt=>{gt&&gt(yt),ot.canCloseOnClick&&mt()}),{playToast:Tt,pauseToast:At,isRunning:i,preventExitTransition:a,toastRef:et,eventHandlers:Et}}function $$1(e){let{delay:i,isRunning:s,closeToast:a,type:o="default",hide:et,className:ot,style:ft,controlledProgress:dt,progress:mt,rtl:gt,isIn:bt,theme:vt}=e;const Pt=et||dt&&mt===0,Tt={...ft,animationDuration:`${i}ms`,animationPlayState:s?"running":"paused"};dt&&(Tt.transform=`scaleX(${mt})`);const At=clsx("Toastify__progress-bar",dt?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${vt}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":gt}),wt=u(ot)?ot({rtl:gt,type:o,defaultClassName:At}):clsx(At,ot),_t={[dt&&mt>=1?"onTransitionEnd":"onAnimationEnd"]:dt&&mt<1?null:()=>{bt&&a()}};return React.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":Pt},React.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${vt} Toastify__progress-bar--${o}`}),React.createElement("div",{role:"progressbar","aria-hidden":Pt?"true":"false","aria-label":"notification timer",className:wt,style:Tt,..._t}))}let w$4=1;const k$2=()=>""+w$4++;function P$1(e){return e&&(d(e.toastId)||c(e.toastId))?e.toastId:k$2()}function M$2(e,i){return _$1(e,i),i.toastId}function x$2(e,i){return{...i,type:i&&i.type||e,toastId:P$1(i)}}function A$2(e){return(i,s)=>M$2(i,x$2(e,s))}function B$2(e,i){return M$2(e,x$2("default",i))}B$2.loading=(e,i)=>M$2(e,x$2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...i})),B$2.promise=function(e,i,s){let a,{pending:o,error:et,success:ot}=i;o&&(a=d(o)?B$2.loading(o,s):B$2.loading(o.render,{...s,...o}));const ft={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},dt=(gt,bt,vt)=>{if(bt==null)return void B$2.dismiss(a);const Pt={type:gt,...ft,...s,data:vt},Tt=d(bt)?{render:bt}:bt;return a?B$2.update(a,{...Pt,...Tt}):B$2(Tt.render,{...Pt,...Tt}),vt},mt=u(e)?e():e;return mt.then(gt=>dt("success",ot,gt)).catch(gt=>dt("error",et,gt)),mt},B$2.success=A$2("success"),B$2.info=A$2("info"),B$2.error=A$2("error"),B$2.warning=A$2("warning"),B$2.warn=B$2.warning,B$2.dark=(e,i)=>M$2(e,x$2("default",{theme:"dark",...i})),B$2.dismiss=function(e){(function(i){var s;if(b$1()){if(i==null||d(s=i)||c(s))v$4.forEach(o=>{o.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){var a;(a=v$4.get(i.containerId))!=null&&a.removeToast(i.id)||v$4.forEach(o=>{o.removeToast(i.id)})}}else h$1=h$1.filter(o=>i!=null&&o.options.toastId!==i)})(e)},B$2.clearWaitingQueue=function(e){e===void 0&&(e={}),v$4.forEach(i=>{!i.props.limit||e.containerId&&i.id!==e.containerId||i.clearQueue()})},B$2.isActive=I$2,B$2.update=function(e,i){i===void 0&&(i={});const s=((a,o)=>{var et;let{containerId:ot}=o;return(et=v$4.get(ot||1))==null?void 0:et.toasts.get(a)})(e,i);if(s){const{props:a,content:o}=s,et={delay:100,...a,...i,toastId:i.toastId||e,updateId:k$2()};et.toastId!==e&&(et.staleId=e);const ot=et.render||o;delete et.render,M$2(ot,et)}},B$2.done=e=>{B$2.update(e,{progress:1})},B$2.onChange=function(e){return T$2.add(e),()=>{T$2.delete(e)}},B$2.play=e=>C$3(!0,e),B$2.pause=e=>C$3(!1,e);const O$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,D$3=e=>{let{theme:i,type:s,isLoading:a,...o}=e;return React.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...o})},z$2={info:function(e){return React.createElement(D$3,{...e},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return React.createElement(D$3,{...e},React.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return React.createElement(D$3,{...e},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return React.createElement(D$3,{...e},React.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return React.createElement("div",{className:"Toastify__spinner"})}},R$2=e=>{const{isRunning:i,preventExitTransition:s,toastRef:a,eventHandlers:o,playToast:et}=N$1(e),{closeButton:ot,children:ft,autoClose:dt,onClick:mt,type:gt,hideProgressBar:bt,closeToast:vt,transition:Pt,position:Tt,className:At,style:wt,bodyClassName:_t,bodyStyle:Et,progressClassName:yt,progressStyle:St,updateId:xt,role:Ct,progress:$t,rtl:Rt,toastId:It,deleteToast:Nt,isIn:Ot,isLoading:Gt,closeOnClick:Xt,theme:Ht}=e,Yt=clsx("Toastify__toast",`Toastify__toast-theme--${Ht}`,`Toastify__toast--${gt}`,{"Toastify__toast--rtl":Rt},{"Toastify__toast--close-on-click":Xt}),zt=u(At)?At({rtl:Rt,position:Tt,type:gt,defaultClassName:Yt}):clsx(Yt,At),Ut=function(Zt){let{theme:rr,type:qt,isLoading:Dt,icon:Vt}=Zt,Lt=null;const jt={theme:rr,type:qt};return Vt===!1||(u(Vt)?Lt=Vt({...jt,isLoading:Dt}):reactExports.isValidElement(Vt)?Lt=reactExports.cloneElement(Vt,jt):Dt?Lt=z$2.spinner():(Wt=>Wt in z$2)(qt)&&(Lt=z$2[qt](jt))),Lt}(e),kt=!!$t||!dt,Ft={closeToast:vt,type:gt,theme:Ht};let Qt=null;return ot===!1||(Qt=u(ot)?ot(Ft):reactExports.isValidElement(ot)?reactExports.cloneElement(ot,Ft):function(Zt){let{closeToast:rr,theme:qt,ariaLabel:Dt="close"}=Zt;return React.createElement("button",{className:`Toastify__close-button Toastify__close-button--${qt}`,type:"button",onClick:Vt=>{Vt.stopPropagation(),rr(Vt)},"aria-label":Dt},React.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Ft)),React.createElement(Pt,{isIn:Ot,done:Nt,position:Tt,preventExitTransition:s,nodeRef:a,playToast:et},React.createElement("div",{id:It,onClick:mt,"data-in":Ot,className:zt,...o,style:wt,ref:a},React.createElement("div",{...Ot&&{role:Ct},className:u(_t)?_t({type:gt}):clsx("Toastify__toast-body",_t),style:Et},Ut!=null&&React.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Gt})},Ut),React.createElement("div",null,ft)),Qt,React.createElement($$1,{...xt&&!kt?{key:`pb-${xt}`}:{},rtl:Rt,theme:Ht,delay:dt,isRunning:i,isIn:Ot,closeToast:vt,hide:bt,type:gt,style:St,className:yt,controlledProgress:kt,progress:$t||0})))},S$3=function(e,i){return i===void 0&&(i=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:i}},H$2=g$1(S$3("bounce",!0));g$1(S$3("slide",!0));g$1(S$3("zoom"));g$1(S$3("flip"));const q$2={position:"top-right",transition:H$2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Q$2(e){let i={...q$2,...e};const s=e.stacked,[a,o]=reactExports.useState(!0),et=reactExports.useRef(null),{getToastToRender:ot,isToastActive:ft,count:dt}=L$1(i),{className:mt,style:gt,rtl:bt,containerId:vt}=i;function Pt(At){const wt=clsx("Toastify__toast-container",`Toastify__toast-container--${At}`,{"Toastify__toast-container--rtl":bt});return u(mt)?mt({position:At,rtl:bt,defaultClassName:wt}):clsx(wt,p$1(mt))}function Tt(){s&&(o(!0),B$2.play())}return O$2(()=>{if(s){var At;const wt=et.current.querySelectorAll('[data-in="true"]'),_t=12,Et=(At=i.position)==null?void 0:At.includes("top");let yt=0,St=0;Array.from(wt).reverse().forEach((xt,Ct)=>{const $t=xt;$t.classList.add("Toastify__toast--stacked"),Ct>0&&($t.dataset.collapsed=`${a}`),$t.dataset.pos||($t.dataset.pos=Et?"top":"bot");const Rt=yt*(a?.2:1)+(a?0:_t*Ct);$t.style.setProperty("--y",`${Et?Rt:-1*Rt}px`),$t.style.setProperty("--g",`${_t}`),$t.style.setProperty("--s",""+(1-(a?St:0))),yt+=$t.offsetHeight,St+=.025})}},[a,dt,s]),React.createElement("div",{ref:et,className:"Toastify",id:vt,onMouseEnter:()=>{s&&(o(!1),B$2.pause())},onMouseLeave:Tt},ot((At,wt)=>{const _t=wt.length?{...gt}:{...gt,pointerEvents:"none"};return React.createElement("div",{className:Pt(At),style:_t,key:`container-${At}`},wt.map(Et=>{let{content:yt,props:St}=Et;return React.createElement(R$2,{...St,stacked:s,collapseAll:Tt,isIn:ft(St.toastId,St.containerId),style:St.style,key:`toast-${St.key}`},yt)}))}))}/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$2.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function i(a,o){let{pathname:et,search:ot,hash:ft}=a.location;return createLocation("",{pathname:et,search:ot,hash:ft},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(a,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(i,s,null,e)}function invariant$1(e,i){if(e===!1||e===null||typeof e>"u")throw new Error(i)}function warning$1(e,i){if(!e){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,i){return{usr:e.state,key:e.key,idx:i}}function createLocation(e,i,s,a){return s===void 0&&(s=null),_extends$2({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof i=="string"?parsePath(i):i,{state:s,key:i&&i.key||a||createKey()})}function createPath(e){let{pathname:i="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(i+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function parsePath(e){let i={};if(e){let s=e.indexOf("#");s>=0&&(i.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(i.search=e.substr(a),e=e.substr(0,a)),e&&(i.pathname=e)}return i}function getUrlBasedHistory(e,i,s,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:et=!1}=a,ot=o.history,ft=Action.Pop,dt=null,mt=gt();mt==null&&(mt=0,ot.replaceState(_extends$2({},ot.state,{idx:mt}),""));function gt(){return(ot.state||{idx:null}).idx}function bt(){ft=Action.Pop;let wt=gt(),_t=wt==null?null:wt-mt;mt=wt,dt&&dt({action:ft,location:At.location,delta:_t})}function vt(wt,_t){ft=Action.Push;let Et=createLocation(At.location,wt,_t);s&&s(Et,wt),mt=gt()+1;let yt=getHistoryState(Et,mt),St=At.createHref(Et);try{ot.pushState(yt,"",St)}catch(xt){if(xt instanceof DOMException&&xt.name==="DataCloneError")throw xt;o.location.assign(St)}et&&dt&&dt({action:ft,location:At.location,delta:1})}function Pt(wt,_t){ft=Action.Replace;let Et=createLocation(At.location,wt,_t);s&&s(Et,wt),mt=gt();let yt=getHistoryState(Et,mt),St=At.createHref(Et);ot.replaceState(yt,"",St),et&&dt&&dt({action:ft,location:At.location,delta:0})}function Tt(wt){let _t=o.location.origin!=="null"?o.location.origin:o.location.href,Et=typeof wt=="string"?wt:createPath(wt);return invariant$1(_t,"No window.location.(origin|href) available to create URL for href: "+Et),new URL(Et,_t)}let At={get action(){return ft},get location(){return e(o,ot)},listen(wt){if(dt)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,bt),dt=wt,()=>{o.removeEventListener(PopStateEventType,bt),dt=null}},createHref(wt){return i(o,wt)},createURL:Tt,encodeLocation(wt){let _t=Tt(wt);return{pathname:_t.pathname,search:_t.search,hash:_t.hash}},push:vt,replace:Pt,go(wt){return ot.go(wt)}};return At}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,i,s){s===void 0&&(s="/");let a=typeof i=="string"?parsePath(i):i,o=stripBasename(a.pathname||"/",s);if(o==null)return null;let et=flattenRoutes(e);rankRouteBranches(et);let ot=null;for(let ft=0;ot==null&&ft<et.length;++ft)ot=matchRouteBranch(et[ft],safelyDecodeURI(o));return ot}function flattenRoutes(e,i,s,a){i===void 0&&(i=[]),s===void 0&&(s=[]),a===void 0&&(a="");let o=(et,ot,ft)=>{let dt={relativePath:ft===void 0?et.path||"":ft,caseSensitive:et.caseSensitive===!0,childrenIndex:ot,route:et};dt.relativePath.startsWith("/")&&(invariant$1(dt.relativePath.startsWith(a),'Absolute route path "'+dt.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),dt.relativePath=dt.relativePath.slice(a.length));let mt=joinPaths([a,dt.relativePath]),gt=s.concat(dt);et.children&&et.children.length>0&&(invariant$1(et.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+mt+'".')),flattenRoutes(et.children,i,gt,mt)),!(et.path==null&&!et.index)&&i.push({path:mt,score:computeScore(mt,et.index),routesMeta:gt})};return e.forEach((et,ot)=>{var ft;if(et.path===""||!((ft=et.path)!=null&&ft.includes("?")))o(et,ot);else for(let dt of explodeOptionalSegments(et.path))o(et,ot,dt)}),i}function explodeOptionalSegments(e){let i=e.split("/");if(i.length===0)return[];let[s,...a]=i,o=s.endsWith("?"),et=s.replace(/\?$/,"");if(a.length===0)return o?[et,""]:[et];let ot=explodeOptionalSegments(a.join("/")),ft=[];return ft.push(...ot.map(dt=>dt===""?et:[et,dt].join("/"))),o&&ft.push(...ot),ft.map(dt=>e.startsWith("/")&&dt===""?"/":dt)}function rankRouteBranches(e){e.sort((i,s)=>i.score!==s.score?s.score-i.score:compareIndexes(i.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,i){let s=e.split("/"),a=s.length;return s.some(isSplat)&&(a+=splatPenalty),i&&(a+=indexRouteValue),s.filter(o=>!isSplat(o)).reduce((o,et)=>o+(paramRe.test(et)?dynamicSegmentValue:et===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(e,i){return e.length===i.length&&e.slice(0,-1).every((a,o)=>a===i[o])?e[e.length-1]-i[i.length-1]:0}function matchRouteBranch(e,i){let{routesMeta:s}=e,a={},o="/",et=[];for(let ot=0;ot<s.length;++ot){let ft=s[ot],dt=ot===s.length-1,mt=o==="/"?i:i.slice(o.length)||"/",gt=matchPath({path:ft.relativePath,caseSensitive:ft.caseSensitive,end:dt},mt);if(!gt)return null;Object.assign(a,gt.params);let bt=ft.route;et.push({params:a,pathname:joinPaths([o,gt.pathname]),pathnameBase:normalizePathname(joinPaths([o,gt.pathnameBase])),route:bt}),gt.pathnameBase!=="/"&&(o=joinPaths([o,gt.pathnameBase]))}return et}function matchPath(e,i){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=compilePath(e.path,e.caseSensitive,e.end),o=i.match(s);if(!o)return null;let et=o[0],ot=et.replace(/(.)\/+$/,"$1"),ft=o.slice(1);return{params:a.reduce((mt,gt,bt)=>{let{paramName:vt,isOptional:Pt}=gt;if(vt==="*"){let At=ft[bt]||"";ot=et.slice(0,et.length-At.length).replace(/(.)\/+$/,"$1")}const Tt=ft[bt];return Pt&&!Tt?mt[vt]=void 0:mt[vt]=safelyDecodeURIComponent(Tt||"",vt),mt},{}),pathname:et,pathnameBase:ot,pattern:e}}function compilePath(e,i,s){i===void 0&&(i=!1),s===void 0&&(s=!0),warning$1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(ot,ft,dt)=>(a.push({paramName:ft,isOptional:dt!=null}),dt?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,i?void 0:"i"),a]}function safelyDecodeURI(e){try{return decodeURI(e)}catch(i){return warning$1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),e}}function safelyDecodeURIComponent(e,i){try{return decodeURIComponent(e)}catch(s){return warning$1(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),e}}function stripBasename(e,i){if(i==="/")return e;if(!e.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function resolvePath(e,i){i===void 0&&(i="/");let{pathname:s,search:a="",hash:o=""}=typeof e=="string"?parsePath(e):e;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,i):i,search:normalizeSearch(a),hash:normalizeHash(o)}}function resolvePathname(e,i){let s=i.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(e,i,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function getResolveToMatches(e,i){let s=getPathContributingMatches(e);return i?s.map((a,o)=>o===e.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function resolveTo(e,i,s,a){a===void 0&&(a=!1);let o;typeof e=="string"?o=parsePath(e):(o=_extends$2({},e),invariant$1(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant$1(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant$1(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let et=e===""||o.pathname==="",ot=et?"/":o.pathname,ft;if(ot==null)ft=s;else{let bt=i.length-1;if(!a&&ot.startsWith("..")){let vt=ot.split("/");for(;vt[0]==="..";)vt.shift(),bt-=1;o.pathname=vt.join("/")}ft=bt>=0?i[bt]:"/"}let dt=resolvePath(o,ft),mt=ot&&ot!=="/"&&ot.endsWith("/"),gt=(et||ot===".")&&s.endsWith("/");return!dt.pathname.endsWith("/")&&(mt||gt)&&(dt.pathname+="/"),dt}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,i){let{relative:s}=i===void 0?{}:i;useInRouterContext()||invariant$1(!1);let{basename:a,navigator:o}=reactExports.useContext(NavigationContext),{hash:et,pathname:ot,search:ft}=useResolvedPath(e,{relative:s}),dt=ot;return a!=="/"&&(dt=ot==="/"?a:joinPaths([a,ot])),o.createHref({pathname:dt,search:ft,hash:et})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let e=reactExports.useContext(DataRouterContext),{basename:i,future:s,navigator:a}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:et}=useLocation(),ot=JSON.stringify(getResolveToMatches(o,s.v7_relativeSplatPath)),ft=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{ft.current=!0}),reactExports.useCallback(function(mt,gt){if(gt===void 0&&(gt={}),!ft.current)return;if(typeof mt=="number"){a.go(mt);return}let bt=resolveTo(mt,JSON.parse(ot),et,gt.relative==="path");e==null&&i!=="/"&&(bt.pathname=bt.pathname==="/"?i:joinPaths([i,bt.pathname])),(gt.replace?a.replace:a.push)(bt,gt.state,gt)},[i,a,ot,et,e])}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),i=e[e.length-1];return i?i.params:{}}function useResolvedPath(e,i){let{relative:s}=i===void 0?{}:i,{future:a}=reactExports.useContext(NavigationContext),{matches:o}=reactExports.useContext(RouteContext),{pathname:et}=useLocation(),ot=JSON.stringify(getResolveToMatches(o,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(ot),et,s==="path"),[e,ot,et,s])}function useRoutes(e,i){return useRoutesImpl(e,i)}function useRoutesImpl(e,i,s,a){useInRouterContext()||invariant$1(!1);let{navigator:o}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),ot=et[et.length-1],ft=ot?ot.params:{};ot&&ot.pathname;let dt=ot?ot.pathnameBase:"/";ot&&ot.route;let mt=useLocation(),gt;if(i){var bt;let wt=typeof i=="string"?parsePath(i):i;dt==="/"||(bt=wt.pathname)!=null&&bt.startsWith(dt)||invariant$1(!1),gt=wt}else gt=mt;let vt=gt.pathname||"/",Pt=dt==="/"?vt:vt.slice(dt.length)||"/",Tt=matchRoutes(e,{pathname:Pt}),At=_renderMatches(Tt&&Tt.map(wt=>Object.assign({},wt,{params:Object.assign({},ft,wt.params),pathname:joinPaths([dt,o.encodeLocation?o.encodeLocation(wt.pathname).pathname:wt.pathname]),pathnameBase:wt.pathnameBase==="/"?dt:joinPaths([dt,o.encodeLocation?o.encodeLocation(wt.pathnameBase).pathname:wt.pathnameBase])})),et,s,a);return i&&At?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},gt),navigationType:Action.Pop}},At):At}function DefaultErrorComponent(){let e=useRouteError(),i=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),s?reactExports.createElement("pre",{style:o},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,s){return s.location!==i.location||s.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:s.error,location:s.location,revalidation:i.revalidation||s.revalidation}}componentDidCatch(i,s){console.error("React Router caught the following error during render",i,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:i,match:s,children:a}=e,o=reactExports.useContext(DataRouterContext);return o&&o.static&&o.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:i},a)}function _renderMatches(e,i,s,a){var o;if(i===void 0&&(i=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var et;if((et=s)!=null&&et.errors)e=s.matches;else return null}let ot=e,ft=(o=s)==null?void 0:o.errors;if(ft!=null){let gt=ot.findIndex(bt=>bt.route.id&&(ft==null?void 0:ft[bt.route.id]));gt>=0||invariant$1(!1),ot=ot.slice(0,Math.min(ot.length,gt+1))}let dt=!1,mt=-1;if(s&&a&&a.v7_partialHydration)for(let gt=0;gt<ot.length;gt++){let bt=ot[gt];if((bt.route.HydrateFallback||bt.route.hydrateFallbackElement)&&(mt=gt),bt.route.id){let{loaderData:vt,errors:Pt}=s,Tt=bt.route.loader&&vt[bt.route.id]===void 0&&(!Pt||Pt[bt.route.id]===void 0);if(bt.route.lazy||Tt){dt=!0,mt>=0?ot=ot.slice(0,mt+1):ot=[ot[0]];break}}}return ot.reduceRight((gt,bt,vt)=>{let Pt,Tt=!1,At=null,wt=null;s&&(Pt=ft&&bt.route.id?ft[bt.route.id]:void 0,At=bt.route.errorElement||defaultErrorElement,dt&&(mt<0&&vt===0?(warningOnce("route-fallback",!1),Tt=!0,wt=null):mt===vt&&(Tt=!0,wt=bt.route.hydrateFallbackElement||null)));let _t=i.concat(ot.slice(0,vt+1)),Et=()=>{let yt;return Pt?yt=At:Tt?yt=wt:bt.route.Component?yt=reactExports.createElement(bt.route.Component,null):bt.route.element?yt=bt.route.element:yt=gt,reactExports.createElement(RenderedRoute,{match:bt,routeContext:{outlet:gt,matches:_t,isDataRoute:s!=null},children:yt})};return s&&(bt.route.ErrorBoundary||bt.route.errorElement||vt===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:At,error:Pt,children:Et(),routeContext:{outlet:null,matches:_t,isDataRoute:!0}}):Et()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext(e){let i=reactExports.useContext(DataRouterContext);return i||invariant$1(!1),i}function useDataRouterState(e){let i=reactExports.useContext(DataRouterStateContext);return i||invariant$1(!1),i}function useRouteContext(e){let i=reactExports.useContext(RouteContext);return i||invariant$1(!1),i}function useCurrentRouteId(e){let i=useRouteContext(),s=i.matches[i.matches.length-1];return s.route.id||invariant$1(!1),s.route.id}function useRouteError(){var e;let i=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i!==void 0?i:(e=s.errors)==null?void 0:e[a]}function useNavigateStable(){let{router:e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(o,et){et===void 0&&(et={}),s.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,_extends$1({fromRouteId:i},et)))},[e,i])}const alreadyWarned={};function warningOnce(e,i,s){!i&&!alreadyWarned[e]&&(alreadyWarned[e]=!0)}function Route(e){invariant$1(!1)}function Router$1(e){let{basename:i="/",children:s=null,location:a,navigationType:o=Action.Pop,navigator:et,static:ot=!1,future:ft}=e;useInRouterContext()&&invariant$1(!1);let dt=i.replace(/^\/*/,"/"),mt=reactExports.useMemo(()=>({basename:dt,navigator:et,static:ot,future:_extends$1({v7_relativeSplatPath:!1},ft)}),[dt,ft,et,ot]);typeof a=="string"&&(a=parsePath(a));let{pathname:gt="/",search:bt="",hash:vt="",state:Pt=null,key:Tt="default"}=a,At=reactExports.useMemo(()=>{let wt=stripBasename(gt,dt);return wt==null?null:{location:{pathname:wt,search:bt,hash:vt,state:Pt,key:Tt},navigationType:o}},[dt,gt,bt,vt,Pt,Tt,o]);return At==null?null:reactExports.createElement(NavigationContext.Provider,{value:mt},reactExports.createElement(LocationContext.Provider,{children:s,value:At}))}function Routes(e){let{children:i,location:s}=e;return useRoutes(createRoutesFromChildren(i),s)}new Promise(()=>{});function createRoutesFromChildren(e,i){i===void 0&&(i=[]);let s=[];return reactExports.Children.forEach(e,(a,o)=>{if(!reactExports.isValidElement(a))return;let et=[...i,o];if(a.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(a.props.children,et));return}a.type!==Route&&invariant$1(!1),!a.props.index||!a.props.children||invariant$1(!1);let ot={id:a.props.id||et.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(ot.children=createRoutesFromChildren(a.props.children,et)),s.push(ot)}),s}/**
 * React Router DOM v6.21.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,i){if(e==null)return{};var s={},a=Object.keys(e),o,et;for(et=0;et<a.length;et++)o=a[et],!(i.indexOf(o)>=0)&&(s[o]=e[o]);return s}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,i){return e.button===0&&(!i||i==="_self")&&!isModifiedEvent(e)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(e){let{basename:i,children:s,future:a,window:o}=e,et=reactExports.useRef();et.current==null&&(et.current=createBrowserHistory({window:o,v5Compat:!0}));let ot=et.current,[ft,dt]=reactExports.useState({action:ot.action,location:ot.location}),{v7_startTransition:mt}=a||{},gt=reactExports.useCallback(bt=>{mt&&startTransitionImpl?startTransitionImpl(()=>dt(bt)):dt(bt)},[dt,mt]);return reactExports.useLayoutEffect(()=>ot.listen(gt),[ot,gt]),reactExports.createElement(Router$1,{basename:i,children:s,location:ft.location,navigationType:ft.action,navigator:ot,future:a})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(i,s){let{onClick:a,relative:o,reloadDocument:et,replace:ot,state:ft,target:dt,to:mt,preventScrollReset:gt,unstable_viewTransition:bt}=i,vt=_objectWithoutPropertiesLoose(i,_excluded),{basename:Pt}=reactExports.useContext(NavigationContext),Tt,At=!1;if(typeof mt=="string"&&ABSOLUTE_URL_REGEX.test(mt)&&(Tt=mt,isBrowser$1))try{let yt=new URL(window.location.href),St=mt.startsWith("//")?new URL(yt.protocol+mt):new URL(mt),xt=stripBasename(St.pathname,Pt);St.origin===yt.origin&&xt!=null?mt=xt+St.search+St.hash:At=!0}catch{}let wt=useHref(mt,{relative:o}),_t=useLinkClickHandler(mt,{replace:ot,state:ft,target:dt,preventScrollReset:gt,relative:o,unstable_viewTransition:bt});function Et(yt){a&&a(yt),yt.defaultPrevented||_t(yt)}return reactExports.createElement("a",_extends({},vt,{href:Tt||wt,onClick:At||et?a:Et,ref:s,target:dt}))});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(e,i){let{target:s,replace:a,state:o,preventScrollReset:et,relative:ot,unstable_viewTransition:ft}=i===void 0?{}:i,dt=useNavigate(),mt=useLocation(),gt=useResolvedPath(e,{relative:ot});return reactExports.useCallback(bt=>{if(shouldProcessLinkClick(bt,s)){bt.preventDefault();let vt=a!==void 0?a:createPath(mt)===createPath(gt);dt(e,{replace:vt,state:o,preventScrollReset:et,relative:ot,unstable_viewTransition:ft})}},[mt,dt,gt,a,o,s,e,et,ot,ft])}var define_process_env_default$1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(e){const i=[];let s=0;for(let a=0;a<e.length;a++){let o=e.charCodeAt(a);o<128?i[s++]=o:o<2048?(i[s++]=o>>6|192,i[s++]=o&63|128):(o&64512)===55296&&a+1<e.length&&(e.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++a)&1023),i[s++]=o>>18|240,i[s++]=o>>12&63|128,i[s++]=o>>6&63|128,i[s++]=o&63|128):(i[s++]=o>>12|224,i[s++]=o>>6&63|128,i[s++]=o&63|128)}return i},byteArrayToString=function(e){const i=[];let s=0,a=0;for(;s<e.length;){const o=e[s++];if(o<128)i[a++]=String.fromCharCode(o);else if(o>191&&o<224){const et=e[s++];i[a++]=String.fromCharCode((o&31)<<6|et&63)}else if(o>239&&o<365){const et=e[s++],ot=e[s++],ft=e[s++],dt=((o&7)<<18|(et&63)<<12|(ot&63)<<6|ft&63)-65536;i[a++]=String.fromCharCode(55296+(dt>>10)),i[a++]=String.fromCharCode(56320+(dt&1023))}else{const et=e[s++],ot=e[s++];i[a++]=String.fromCharCode((o&15)<<12|(et&63)<<6|ot&63)}}return i.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,i){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<e.length;o+=3){const et=e[o],ot=o+1<e.length,ft=ot?e[o+1]:0,dt=o+2<e.length,mt=dt?e[o+2]:0,gt=et>>2,bt=(et&3)<<4|ft>>4;let vt=(ft&15)<<2|mt>>6,Pt=mt&63;dt||(Pt=64,ot||(vt=64)),a.push(s[gt],s[bt],s[vt],s[Pt])}return a.join("")},encodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(e):this.encodeByteArray(stringToByteArray$1(e),i)},decodeString(e,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(e):byteArrayToString(this.decodeStringToByteArray(e,i))},decodeStringToByteArray(e,i){this.init_();const s=i?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<e.length;){const et=s[e.charAt(o++)],ft=o<e.length?s[e.charAt(o)]:0;++o;const mt=o<e.length?s[e.charAt(o)]:64;++o;const bt=o<e.length?s[e.charAt(o)]:64;if(++o,et==null||ft==null||mt==null||bt==null)throw new DecodeBase64StringError;const vt=et<<2|ft>>4;if(a.push(vt),mt!==64){const Pt=ft<<4&240|mt>>2;if(a.push(Pt),bt!==64){const Tt=mt<<6&192|bt;a.push(Tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(e){const i=stringToByteArray$1(e);return base64.encodeByteArray(i,!0)},base64urlEncodeWithoutPadding=function(e){return base64Encode(e).replace(/\./g,"")},base64Decode=function(e){try{return base64.decodeString(e,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default$1>"u")return;const e=define_process_env_default$1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=e&&base64Decode(e[1]);return i&&JSON.parse(i)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},getDefaultEmulatorHost=e=>{var i,s;return(s=(i=getDefaults())===null||i===void 0?void 0:i.emulatorHosts)===null||s===void 0?void 0:s[e]},getDefaultEmulatorHostnameAndPort=e=>{const i=getDefaultEmulatorHost(e);if(!i)return;const s=i.lastIndexOf(":");if(s<=0||s+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);const a=parseInt(i.substring(s+1),10);return i[0]==="["?[i.substring(1,s-1),a]:[i.substring(0,s),a]},getDefaultAppConfig=()=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}wrapCallback(i){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(s):i(s,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(e,i){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},a=i||"demo-project",o=e.iat||0,et=e.sub||e.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},e);return[base64urlEncodeWithoutPadding(JSON.stringify(s)),base64urlEncodeWithoutPadding(JSON.stringify(ot)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isNode(){var e;const i=(e=getDefaults())===null||e===void 0?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isSafari(){return!isNode()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((e,i)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(a),e(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var et;i(((et=o.error)===null||et===void 0?void 0:et.message)||"")}}catch(s){i(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(i,s,a){super(s),this.code=i,this.customData=a,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(i,s,a){this.service=i,this.serviceName=s,this.errors=a}create(i,...s){const a=s[0]||{},o=`${this.service}/${i}`,et=this.errors[i],ot=et?replaceTemplate(et,a):"Error",ft=`${this.serviceName}: ${ot} (${o}).`;return new FirebaseError(o,ft,a)}}function replaceTemplate(e,i){return e.replace(PATTERN,(s,a)=>{const o=i[a];return o!=null?String(o):`<${a}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual(e,i){if(e===i)return!0;const s=Object.keys(e),a=Object.keys(i);for(const o of s){if(!a.includes(o))return!1;const et=e[o],ot=i[o];if(isObject(et)&&isObject(ot)){if(!deepEqual(et,ot))return!1}else if(et!==ot)return!1}for(const o of a)if(!s.includes(o))return!1;return!0}function isObject(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(e){return e&&e._delegate?e._delegate:e}class Component{constructor(i,s,a){this.name=i,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(i,s){this.name=i,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const s=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(s)){const a=new Deferred;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(i){var s;const a=this.normalizeInstanceIdentifier(i==null?void 0:i.identifier),o=(s=i==null?void 0:i.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(et){if(o)return null;throw et}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(isComponentEager(i))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const et=this.getOrInitializeService({instanceIdentifier:o});a.resolve(et)}catch{}}}}clearInstance(i=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}async delete(){const i=Array.from(this.instances.values());await Promise.all([...i.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...i.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(i=DEFAULT_ENTRY_NAME$1){return this.instances.has(i)}getOptions(i=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:s={}}=i,a=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[et,ot]of this.instancesDeferred.entries()){const ft=this.normalizeInstanceIdentifier(et);a===ft&&ot.resolve(o)}return o}onInit(i,s){var a;const o=this.normalizeInstanceIdentifier(s),et=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;et.add(i),this.onInitCallbacks.set(o,et);const ot=this.instances.get(o);return ot&&i(ot,o),()=>{et.delete(i)}}invokeOnInitCallbacks(i,s){const a=this.onInitCallbacks.get(s);if(a)for(const o of a)try{o(i,s)}catch{}}getOrInitializeService({instanceIdentifier:i,options:s={}}){let a=this.instances.get(i);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(i),options:s}),this.instances.set(i,a),this.instancesOptions.set(i,s),this.invokeOnInitCallbacks(a,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,a)}catch{}return a||null}normalizeInstanceIdentifier(i=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?i:DEFAULT_ENTRY_NAME$1:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(e){return e===DEFAULT_ENTRY_NAME$1?void 0:e}function isComponentEager(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const s=this.getProvider(i.name);if(s.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);s.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const s=new Provider(i,this);return this.providers.set(i,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(e,i,...s)=>{if(i<e.logLevel)return;const a=new Date().toISOString(),o=ConsoleMethod[i];if(o)console[o](`[${a}]  ${e.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)};class Logger{constructor(i){this.name=i,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in LogLevel))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?levelStringToEnum[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...i),this._logHandler(this,LogLevel.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...i),this._logHandler(this,LogLevel.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...i),this._logHandler(this,LogLevel.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...i),this._logHandler(this,LogLevel.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...i),this._logHandler(this,LogLevel.ERROR,...i)}}const instanceOfAny=(e,i)=>i.some(s=>e instanceof s);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(e){const i=new Promise((s,a)=>{const o=()=>{e.removeEventListener("success",et),e.removeEventListener("error",ot)},et=()=>{s(wrap(e.result)),o()},ot=()=>{a(e.error),o()};e.addEventListener("success",et),e.addEventListener("error",ot)});return i.then(s=>{s instanceof IDBCursor&&cursorRequestMap.set(s,e)}).catch(()=>{}),reverseTransformCache.set(i,e),i}function cacheDonePromiseForTransaction(e){if(transactionDoneMap.has(e))return;const i=new Promise((s,a)=>{const o=()=>{e.removeEventListener("complete",et),e.removeEventListener("error",ot),e.removeEventListener("abort",ot)},et=()=>{s(),o()},ot=()=>{a(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",et),e.addEventListener("error",ot),e.addEventListener("abort",ot)});transactionDoneMap.set(e,i)}let idbProxyTraps={get(e,i,s){if(e instanceof IDBTransaction){if(i==="done")return transactionDoneMap.get(e);if(i==="objectStoreNames")return e.objectStoreNames||transactionStoreNamesMap.get(e);if(i==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return wrap(e[i])},set(e,i,s){return e[i]=s,!0},has(e,i){return e instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in e}};function replaceTraps(e){idbProxyTraps=e(idbProxyTraps)}function wrapFunction(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...s){const a=e.call(unwrap(this),i,...s);return transactionStoreNamesMap.set(a,i.sort?i.sort():[i]),wrap(a)}:getCursorAdvanceMethods().includes(e)?function(...i){return e.apply(unwrap(this),i),wrap(cursorRequestMap.get(this))}:function(...i){return wrap(e.apply(unwrap(this),i))}}function transformCachableValue(e){return typeof e=="function"?wrapFunction(e):(e instanceof IDBTransaction&&cacheDonePromiseForTransaction(e),instanceOfAny(e,getIdbProxyableTypes())?new Proxy(e,idbProxyTraps):e)}function wrap(e){if(e instanceof IDBRequest)return promisifyRequest(e);if(transformCache.has(e))return transformCache.get(e);const i=transformCachableValue(e);return i!==e&&(transformCache.set(e,i),reverseTransformCache.set(i,e)),i}const unwrap=e=>reverseTransformCache.get(e);function openDB(e,i,{blocked:s,upgrade:a,blocking:o,terminated:et}={}){const ot=indexedDB.open(e,i),ft=wrap(ot);return a&&ot.addEventListener("upgradeneeded",dt=>{a(wrap(ot.result),dt.oldVersion,dt.newVersion,wrap(ot.transaction),dt)}),s&&ot.addEventListener("blocked",dt=>s(dt.oldVersion,dt.newVersion,dt)),ft.then(dt=>{et&&dt.addEventListener("close",()=>et()),o&&dt.addEventListener("versionchange",mt=>o(mt.oldVersion,mt.newVersion,mt))}).catch(()=>{}),ft}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(e,i){if(!(e instanceof IDBDatabase&&!(i in e)&&typeof i=="string"))return;if(cachedMethods.get(i))return cachedMethods.get(i);const s=i.replace(/FromIndex$/,""),a=i!==s,o=writeMethods.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(o||readMethods.includes(s)))return;const et=async function(ot,...ft){const dt=this.transaction(ot,o?"readwrite":"readonly");let mt=dt.store;return a&&(mt=mt.index(ft.shift())),(await Promise.all([mt[s](...ft),o&&dt.done]))[0]};return cachedMethods.set(i,et),et}replaceTraps(e=>({...e,get:(i,s,a)=>getMethod(i,s)||e.get(i,s,a),has:(i,s)=>!!getMethod(i,s)||e.has(i,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(isVersionServiceProvider(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function isVersionServiceProvider(e){const i=e.getComponent();return(i==null?void 0:i.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$2="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(e,i){try{e.container.addComponent(i)}catch(s){logger.debug(`Component ${i.name} failed to register with FirebaseApp ${e.name}`,s)}}function _registerComponent(e){const i=e.name;if(_components.has(i))return logger.debug(`There were multiple attempts to register component ${i}.`),!1;_components.set(i,e);for(const s of _apps.values())_addComponent(s,e);return!0}function _getProvider(e,i){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(i,s,a){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$2;function initializeApp(e,i={}){let s=e;typeof i!="object"&&(i={name:i});const a=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},i),o=a.name;if(typeof o!="string"||!o)throw ERROR_FACTORY.create("bad-app-name",{appName:String(o)});if(s||(s=getDefaultAppConfig()),!s)throw ERROR_FACTORY.create("no-options");const et=_apps.get(o);if(et){if(deepEqual(s,et.options)&&deepEqual(a,et.config))return et;throw ERROR_FACTORY.create("duplicate-app",{appName:o})}const ot=new ComponentContainer(o);for(const dt of _components.values())ot.addComponent(dt);const ft=new FirebaseAppImpl(s,a,ot);return _apps.set(o,ft),ft}function getApp(e=DEFAULT_ENTRY_NAME){const i=_apps.get(e);if(!i&&e===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!i)throw ERROR_FACTORY.create("no-app",{appName:e});return i}function registerVersion(e,i,s){var a;let o=(a=PLATFORM_LOG_STRING[e])!==null&&a!==void 0?a:e;s&&(o+=`-${s}`);const et=o.match(/\s|\//),ot=i.match(/\s|\//);if(et||ot){const ft=[`Unable to register library "${o}" with version "${i}":`];et&&ft.push(`library name "${o}" contains illegal characters (whitespace or "/")`),et&&ot&&ft.push("and"),ot&&ft.push(`version name "${i}" contains illegal characters (whitespace or "/")`),logger.warn(ft.join(" "));return}_registerComponent(new Component(`${o}-version`,()=>({library:o,version:i}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME,DB_VERSION,{upgrade:(e,i)=>{switch(i){case 0:try{e.createObjectStore(STORE_NAME)}catch(s){console.warn(s)}}}}).catch(e=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:e.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(e){try{return await(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(e))}catch(i){if(i instanceof FirebaseError)logger.warn(i.message);else{const s=ERROR_FACTORY.create("idb-get",{originalErrorMessage:i==null?void 0:i.message});logger.warn(s.message)}}}async function writeHeartbeatsToIndexedDB(e,i){try{const a=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await a.objectStore(STORE_NAME).put(i,computeKey(e)),await a.done}catch(s){if(s instanceof FirebaseError)logger.warn(s.message);else{const a=ERROR_FACTORY.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});logger.warn(a.message)}}}function computeKey(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(i){this.container=i,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var i,s;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=getUTCDateString();if(!(((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===et||this._heartbeatsCache.heartbeats.some(ot=>ot.date===et)))return this._heartbeatsCache.heartbeats.push({date:et,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(ot=>{const ft=new Date(ot.date).valueOf();return Date.now()-ft<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var i;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=getUTCDateString(),{heartbeatsToSend:a,unsentEntries:o}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),et=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),et}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(e,i=MAX_HEADER_BYTES){const s=[];let a=e.slice();for(const o of e){const et=s.find(ot=>ot.agent===o.agent);if(et){if(et.dates.push(o.date),countBytes(s)>i){et.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),countBytes(s)>i){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class HeartbeatStorageImpl{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await readHeartbeatsFromIndexedDB(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(i){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=i.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:i.heartbeats})}else return}async add(i){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=i.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...i.heartbeats]})}else return}}function countBytes(e){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(e){_registerComponent(new Component("platform-logger",i=>new PlatformLoggerServiceImpl(i),"PRIVATE")),_registerComponent(new Component("heartbeat",i=>new HeartbeatServiceImpl(i),"PRIVATE")),registerVersion(name$o,version$1$1,e),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$1="firebase",version$1="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k$1,goog=goog||{},l=commonjsGlobal||self;function aa(e){var i=typeof e;return i=i!="object"?i:e?Array.isArray(e)?"array":i:"null",i=="array"||i=="object"&&typeof e.length=="number"}function p(e){var i=typeof e;return i=="object"&&e!=null||i=="function"}function ba(e){return Object.prototype.hasOwnProperty.call(e,ca)&&e[ca]||(e[ca]=++da)}var ca="closure_uid_"+(1e9*Math.random()>>>0),da=0;function ea(e,i,s){return e.call.apply(e.bind,arguments)}function fa(e,i,s){if(!e)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,a),e.apply(i,o)}}return function(){return e.apply(i,arguments)}}function q$1(e,i,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q$1=ea:q$1=fa,q$1.apply(null,arguments)}function ha(e,i){var s=Array.prototype.slice.call(arguments,1);return function(){var a=s.slice();return a.push.apply(a,arguments),e.apply(this,a)}}function r(e,i){function s(){}s.prototype=i.prototype,e.$=i.prototype,e.prototype=new s,e.prototype.constructor=e,e.ac=function(a,o,et){for(var ot=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)ot[ft-2]=arguments[ft];return i.prototype[o].apply(a,ot)}}function v$3(){this.s=this.s,this.o=this.o}var ia=0;v$3.prototype.s=!1;v$3.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ia!=0)&&ba(this)};v$3.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ka=Array.prototype.indexOf?function(e,i){return Array.prototype.indexOf.call(e,i,void 0)}:function(e,i){if(typeof e=="string")return typeof i!="string"||i.length!=1?-1:e.indexOf(i,0);for(let s=0;s<e.length;s++)if(s in e&&e[s]===i)return s;return-1};function ma(e){const i=e.length;if(0<i){const s=Array(i);for(let a=0;a<i;a++)s[a]=e[a];return s}return[]}function na(e,i){for(let s=1;s<arguments.length;s++){const a=arguments[s];if(aa(a)){const o=e.length||0,et=a.length||0;e.length=o+et;for(let ot=0;ot<et;ot++)e[o+ot]=a[ot]}else e.push(a)}}function w$3(e,i){this.type=e,this.g=this.target=i,this.defaultPrevented=!1}w$3.prototype.h=function(){this.defaultPrevented=!0};var oa=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var e=!1,i=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const s=()=>{};l.addEventListener("test",s,i),l.removeEventListener("test",s,i)}catch{}return e}();function x$1(e){return/^[\s\xa0]*$/.test(e)}function pa(){var e=l.navigator;return e&&(e=e.userAgent)?e:""}function y$1(e){return pa().indexOf(e)!=-1}function qa(e){return qa[" "](e),e}qa[" "]=function(){};function ra(e,i){var s=sa;return Object.prototype.hasOwnProperty.call(s,e)?s[e]:s[e]=i(e)}var ta=y$1("Opera"),z$1=y$1("Trident")||y$1("MSIE"),ua=y$1("Edge"),va=ua||z$1,wa=y$1("Gecko")&&!(pa().toLowerCase().indexOf("webkit")!=-1&&!y$1("Edge"))&&!(y$1("Trident")||y$1("MSIE"))&&!y$1("Edge"),xa=pa().toLowerCase().indexOf("webkit")!=-1&&!y$1("Edge");function ya(){var e=l.document;return e?e.documentMode:void 0}var za;e:{var Aa="",Ba=function(){var e=pa();if(wa)return/rv:([^\);]+)(\)|;)/.exec(e);if(ua)return/Edge\/([\d\.]+)/.exec(e);if(z$1)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(xa)return/WebKit\/(\S+)/.exec(e);if(ta)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ba&&(Aa=Ba?Ba[1]:""),z$1){var Ca=ya();if(Ca!=null&&Ca>parseFloat(Aa)){za=String(Ca);break e}}za=Aa}var Da;if(l.document&&z$1){var Ea=ya();Da=Ea||parseInt(za,10)||void 0}else Da=void 0;var Fa=Da;function A$1(e,i){if(w$3.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var s=this.type=e.type,a=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=i,i=e.relatedTarget){if(wa){e:{try{qa(i.nodeName);var o=!0;break e}catch{}o=!1}o||(i=null)}}else s=="mouseover"?i=e.fromElement:s=="mouseout"&&(i=e.toElement);this.relatedTarget=i,a?(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Ga[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&A$1.$.h.call(this)}}r(A$1,w$3);var Ga={2:"touch",3:"pen",4:"mouse"};A$1.prototype.h=function(){A$1.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),Ia=0;function Ja(e,i,s,a,o){this.listener=e,this.proxy=null,this.src=i,this.type=s,this.capture=!!a,this.la=o,this.key=++Ia,this.fa=this.ia=!1}function Ma(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Na(e,i,s){for(const a in e)i.call(s,e[a],a,e)}function Oa(e,i){for(const s in e)i.call(void 0,e[s],s,e)}function Pa(e){const i={};for(const s in e)i[s]=e[s];return i}const Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra(e,i){let s,a;for(let o=1;o<arguments.length;o++){a=arguments[o];for(s in a)e[s]=a[s];for(let et=0;et<Qa.length;et++)s=Qa[et],Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}}function Sa(e){this.src=e,this.g={},this.h=0}Sa.prototype.add=function(e,i,s,a,o){var et=e.toString();e=this.g[et],e||(e=this.g[et]=[],this.h++);var ot=Ta(e,i,a,o);return-1<ot?(i=e[ot],s||(i.ia=!1)):(i=new Ja(i,this.src,et,!!a,o),i.ia=s,e.push(i)),i};function Ua(e,i){var s=i.type;if(s in e.g){var a=e.g[s],o=ka(a,i),et;(et=0<=o)&&Array.prototype.splice.call(a,o,1),et&&(Ma(i),e.g[s].length==0&&(delete e.g[s],e.h--))}}function Ta(e,i,s,a){for(var o=0;o<e.length;++o){var et=e[o];if(!et.fa&&et.listener==i&&et.capture==!!s&&et.la==a)return o}return-1}var Va="closure_lm_"+(1e6*Math.random()|0),Wa={};function Ya(e,i,s,a,o){if(a&&a.once)return Za(e,i,s,a,o);if(Array.isArray(i)){for(var et=0;et<i.length;et++)Ya(e,i[et],s,a,o);return null}return s=$a(s),e&&e[Ha]?e.O(i,s,p(a)?!!a.capture:!!a,o):ab(e,i,s,!1,a,o)}function ab(e,i,s,a,o,et){if(!i)throw Error("Invalid event type");var ot=p(o)?!!o.capture:!!o,ft=bb(e);if(ft||(e[Va]=ft=new Sa(e)),s=ft.add(i,s,a,ot,et),s.proxy)return s;if(a=cb(),s.proxy=a,a.src=e,a.listener=s,e.addEventListener)oa||(o=ot),o===void 0&&(o=!1),e.addEventListener(i.toString(),a,o);else if(e.attachEvent)e.attachEvent(db(i.toString()),a);else if(e.addListener&&e.removeListener)e.addListener(a);else throw Error("addEventListener and attachEvent are unavailable.");return s}function cb(){function e(s){return i.call(e.src,e.listener,s)}const i=eb;return e}function Za(e,i,s,a,o){if(Array.isArray(i)){for(var et=0;et<i.length;et++)Za(e,i[et],s,a,o);return null}return s=$a(s),e&&e[Ha]?e.P(i,s,p(a)?!!a.capture:!!a,o):ab(e,i,s,!0,a,o)}function fb(e,i,s,a,o){if(Array.isArray(i))for(var et=0;et<i.length;et++)fb(e,i[et],s,a,o);else a=p(a)?!!a.capture:!!a,s=$a(s),e&&e[Ha]?(e=e.i,i=String(i).toString(),i in e.g&&(et=e.g[i],s=Ta(et,s,a,o),-1<s&&(Ma(et[s]),Array.prototype.splice.call(et,s,1),et.length==0&&(delete e.g[i],e.h--)))):e&&(e=bb(e))&&(i=e.g[i.toString()],e=-1,i&&(e=Ta(i,s,a,o)),(s=-1<e?i[e]:null)&&gb(s))}function gb(e){if(typeof e!="number"&&e&&!e.fa){var i=e.src;if(i&&i[Ha])Ua(i.i,e);else{var s=e.type,a=e.proxy;i.removeEventListener?i.removeEventListener(s,a,e.capture):i.detachEvent?i.detachEvent(db(s),a):i.addListener&&i.removeListener&&i.removeListener(a),(s=bb(i))?(Ua(s,e),s.h==0&&(s.src=null,i[Va]=null)):Ma(e)}}}function db(e){return e in Wa?Wa[e]:Wa[e]="on"+e}function eb(e,i){if(e.fa)e=!0;else{i=new A$1(i,this);var s=e.listener,a=e.la||e.src;e.ia&&gb(e),e=s.call(a,i)}return e}function bb(e){return e=e[Va],e instanceof Sa?e:null}var hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(e){return typeof e=="function"?e:(e[hb]||(e[hb]=function(i){return e.handleEvent(i)}),e[hb])}function B$1(){v$3.call(this),this.i=new Sa(this),this.S=this,this.J=null}r(B$1,v$3);B$1.prototype[Ha]=!0;B$1.prototype.removeEventListener=function(e,i,s,a){fb(this,e,i,s,a)};function C$2(e,i){var s,a=e.J;if(a)for(s=[];a;a=a.J)s.push(a);if(e=e.S,a=i.type||i,typeof i=="string")i=new w$3(i,e);else if(i instanceof w$3)i.target=i.target||e;else{var o=i;i=new w$3(a,e),Ra(i,o)}if(o=!0,s)for(var et=s.length-1;0<=et;et--){var ot=i.g=s[et];o=ib(ot,a,!0,i)&&o}if(ot=i.g=e,o=ib(ot,a,!0,i)&&o,o=ib(ot,a,!1,i)&&o,s)for(et=0;et<s.length;et++)ot=i.g=s[et],o=ib(ot,a,!1,i)&&o}B$1.prototype.N=function(){if(B$1.$.N.call(this),this.i){var e=this.i,i;for(i in e.g){for(var s=e.g[i],a=0;a<s.length;a++)Ma(s[a]);delete e.g[i],e.h--}}this.J=null};B$1.prototype.O=function(e,i,s,a){return this.i.add(String(e),i,!1,s,a)};B$1.prototype.P=function(e,i,s,a){return this.i.add(String(e),i,!0,s,a)};function ib(e,i,s,a){if(i=e.i.g[String(i)],!i)return!0;i=i.concat();for(var o=!0,et=0;et<i.length;++et){var ot=i[et];if(ot&&!ot.fa&&ot.capture==s){var ft=ot.listener,dt=ot.la||ot.src;ot.ia&&Ua(e.i,ot),o=ft.call(dt,a)!==!1&&o}}return o&&!a.defaultPrevented}var jb=l.JSON.stringify;class kb{constructor(i,s){this.i=i,this.j=s,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}function lb(){var e=mb;let i=null;return e.g&&(i=e.g,e.g=e.g.next,e.g||(e.h=null),i.next=null),i}class nb{constructor(){this.h=this.g=null}add(i,s){const a=ob.get();a.set(i,s),this.h?this.h.next=a:this.g=a,this.h=a}}var ob=new kb(()=>new pb,e=>e.reset());class pb{constructor(){this.next=this.g=this.h=null}set(i,s){this.h=i,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}function qb(e){var i=1;e=e.split(":");const s=[];for(;0<i&&e.length;)s.push(e.shift()),i--;return e.length&&s.push(e.join(":")),s}function rb(e){l.setTimeout(()=>{throw e},0)}let sb,tb=!1,mb=new nb,vb=()=>{const e=l.Promise.resolve(void 0);sb=()=>{e.then(ub)}};var ub=()=>{for(var e;e=lb();){try{e.h.call(e.g)}catch(s){rb(s)}var i=ob;i.j(e),100>i.h&&(i.h++,e.next=i.g,i.g=e)}tb=!1};function wb(e,i){B$1.call(this),this.h=e||1,this.g=i||l,this.j=q$1(this.qb,this),this.l=Date.now()}r(wb,B$1);k$1=wb.prototype;k$1.ga=!1;k$1.T=null;k$1.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),C$2(this,"tick"),this.ga&&(xb(this),this.start()))}};k$1.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xb(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}k$1.N=function(){wb.$.N.call(this),xb(this),delete this.g};function yb(e,i,s){if(typeof e=="function")s&&(e=q$1(e,s));else if(e&&typeof e.handleEvent=="function")e=q$1(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(i)?-1:l.setTimeout(e,i||0)}function zb(e){e.g=yb(()=>{e.g=null,e.i&&(e.i=!1,zb(e))},e.j);const i=e.h;e.h=null,e.m.apply(null,i)}class Ab extends v$3{constructor(i,s){super(),this.m=i,this.j=s,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:zb(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bb(e){v$3.call(this),this.h=e,this.g={}}r(Bb,v$3);var Cb=[];function Eb(e,i,s,a){Array.isArray(s)||(s&&(Cb[0]=s.toString()),s=Cb);for(var o=0;o<s.length;o++){var et=Ya(i,s[o],a||e.handleEvent,!1,e.h||e);if(!et)break;e.g[et.key]=et}}function Fb(e){Na(e.g,function(i,s){this.g.hasOwnProperty(s)&&gb(i)},e),e.g={}}Bb.prototype.N=function(){Bb.$.N.call(this),Fb(this)};Bb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gb(){this.g=!0}Gb.prototype.Ea=function(){this.g=!1};function Hb(e,i,s,a,o,et){e.info(function(){if(e.g)if(et)for(var ot="",ft=et.split("&"),dt=0;dt<ft.length;dt++){var mt=ft[dt].split("=");if(1<mt.length){var gt=mt[0];mt=mt[1];var bt=gt.split("_");ot=2<=bt.length&&bt[1]=="type"?ot+(gt+"="+mt+"&"):ot+(gt+"=redacted&")}}else ot=null;else ot=et;return"XMLHTTP REQ ("+a+") [attempt "+o+"]: "+i+`
`+s+`
`+ot})}function Ib(e,i,s,a,o,et,ot){e.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+o+"]: "+i+`
`+s+`
`+et+" "+ot})}function D$2(e,i,s,a){e.info(function(){return"XMLHTTP TEXT ("+i+"): "+Jb(e,s)+(a?" "+a:"")})}function Kb(e,i){e.info(function(){return"TIMEOUT: "+i})}Gb.prototype.info=function(){};function Jb(e,i){if(!e.g)return i;if(!i)return null;try{var s=JSON.parse(i);if(s){for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var a=s[e];if(!(2>a.length)){var o=a[1];if(Array.isArray(o)&&!(1>o.length)){var et=o[0];if(et!="noop"&&et!="stop"&&et!="close")for(var ot=1;ot<o.length;ot++)o[ot]=""}}}}return jb(s)}catch{return i}}var E={},Lb=null;function Mb(){return Lb=Lb||new B$1}E.Ta="serverreachability";function Nb(e){w$3.call(this,E.Ta,e)}r(Nb,w$3);function Ob(e){const i=Mb();C$2(i,new Nb(i))}E.STAT_EVENT="statevent";function Pb(e,i){w$3.call(this,E.STAT_EVENT,e),this.stat=i}r(Pb,w$3);function F$2(e){const i=Mb();C$2(i,new Pb(i,e))}E.Ua="timingevent";function Qb(e,i){w$3.call(this,E.Ua,e),this.size=i}r(Qb,w$3);function Rb(e,i){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){e()},i)}var Sb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ub(){}Ub.prototype.h=null;function Vb(e){return e.h||(e.h=e.i())}function Wb(){}var Xb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){w$3.call(this,"d")}r(Yb,w$3);function Zb(){w$3.call(this,"c")}r(Zb,w$3);var $b;function ac(){}r(ac,Ub);ac.prototype.g=function(){return new XMLHttpRequest};ac.prototype.i=function(){return{}};$b=new ac;function bc(e,i,s,a){this.l=e,this.j=i,this.m=s,this.W=a||1,this.U=new Bb(this),this.P=cc,e=va?125:void 0,this.V=new wb(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}var cc=45e3,ec={},fc={};k$1=bc.prototype;k$1.setTimeout=function(e){this.P=e};function gc(e,i,s){e.L=1,e.A=hc(G$1(i)),e.u=s,e.S=!0,ic(e,null)}function ic(e,i){e.G=Date.now(),jc(e),e.B=G$1(e.A);var s=e.B,a=e.W;Array.isArray(a)||(a=[String(a)]),kc(s.i,"t",a),e.o=0,s=e.l.J,e.h=new dc,e.g=lc(e.l,s?i:null,!e.u),0<e.O&&(e.M=new Ab(q$1(e.Pa,e,e.g),e.O)),Eb(e.U,e.g,"readystatechange",e.nb),i=e.I?Pa(e.I):{},e.u?(e.v||(e.v="POST"),i["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,i)):(e.v="GET",e.g.ha(e.B,e.v,null,i)),Ob(),Hb(e.j,e.v,e.B,e.m,e.W,e.u)}k$1.nb=function(e){e=e.target;const i=this.M;i&&H$1(e)==3?i.l():this.Pa(e)};k$1.Pa=function(e){try{if(e==this.g)e:{const gt=H$1(this.g);var i=this.g.Ia();const bt=this.g.da();if(!(3>gt)&&(gt!=3||va||this.g&&(this.h.h||this.g.ja()||mc(this.g)))){this.J||gt!=4||i==7||(i==8||0>=bt?Ob(3):Ob(2)),nc(this);var s=this.g.da();this.ca=s;t:if(oc(this)){var a=mc(this.g);e="";var o=a.length,et=H$1(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){I$1(this),pc(this);var ot="";break t}this.h.i=new l.TextDecoder}for(i=0;i<o;i++)this.h.h=!0,e+=this.h.i.decode(a[i],{stream:et&&i==o-1});a.length=0,this.h.g+=e,this.o=0,ot=this.h.g}else ot=this.g.ja();if(this.i=s==200,Ib(this.j,this.v,this.B,this.m,this.W,gt,s),this.i){if(this.aa&&!this.K){t:{if(this.g){var ft,dt=this.g;if((ft=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x$1(ft)){var mt=ft;break t}}mt=null}if(s=mt)D$2(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,s);else{this.i=!1,this.s=3,F$2(12),I$1(this),pc(this);break e}}this.S?(rc(this,gt,ot),va&&this.i&&gt==3&&(Eb(this.U,this.V,"tick",this.mb),this.V.start())):(D$2(this.j,this.m,ot,null),qc(this,ot)),gt==4&&I$1(this),this.i&&!this.J&&(gt==4?sc(this.l,this):(this.i=!1,jc(this)))}else tc(this.g),s==400&&0<ot.indexOf("Unknown SID")?(this.s=3,F$2(12)):(this.s=0,F$2(13)),I$1(this),pc(this)}}}catch{}finally{}};function oc(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function rc(e,i,s){let a=!0,o;for(;!e.J&&e.o<s.length;)if(o=uc(e,s),o==fc){i==4&&(e.s=4,F$2(14),a=!1),D$2(e.j,e.m,null,"[Incomplete Response]");break}else if(o==ec){e.s=4,F$2(15),D$2(e.j,e.m,s,"[Invalid Chunk]"),a=!1;break}else D$2(e.j,e.m,o,null),qc(e,o);oc(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),i!=4||s.length!=0||e.h.h||(e.s=1,F$2(16),a=!1),e.i=e.i&&a,a?0<s.length&&!e.ba&&(e.ba=!0,i=e.l,i.g==e&&i.ca&&!i.M&&(i.l.info("Great, no buffering proxy detected. Bytes received: "+s.length),vc(i),i.M=!0,F$2(11))):(D$2(e.j,e.m,s,"[Invalid Chunked Response]"),I$1(e),pc(e))}k$1.mb=function(){if(this.g){var e=H$1(this.g),i=this.g.ja();this.o<i.length&&(nc(this),rc(this,e,i),this.i&&e!=4&&jc(this))}};function uc(e,i){var s=e.o,a=i.indexOf(`
`,s);return a==-1?fc:(s=Number(i.substring(s,a)),isNaN(s)?ec:(a+=1,a+s>i.length?fc:(i=i.slice(a,a+s),e.o=a+s,i)))}k$1.cancel=function(){this.J=!0,I$1(this)};function jc(e){e.Y=Date.now()+e.P,wc(e,e.P)}function wc(e,i){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Rb(q$1(e.lb,e),i)}function nc(e){e.C&&(l.clearTimeout(e.C),e.C=null)}k$1.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(Kb(this.j,this.B),this.L!=2&&(Ob(),F$2(17)),I$1(this),this.s=2,pc(this)):wc(this,this.Y-e)};function pc(e){e.l.H==0||e.J||sc(e.l,e)}function I$1(e){nc(e);var i=e.M;i&&typeof i.sa=="function"&&i.sa(),e.M=null,xb(e.V),Fb(e.U),e.g&&(i=e.g,e.g=null,i.abort(),i.sa())}function qc(e,i){try{var s=e.l;if(s.H!=0&&(s.g==e||xc(s.i,e))){if(!e.K&&xc(s.i,e)&&s.H==3){try{var a=s.Ja.g.parse(i)}catch{a=null}if(Array.isArray(a)&&a.length==3){var o=a;if(o[0]==0){e:if(!s.u){if(s.g)if(s.g.G+3e3<e.G)yc(s),zc(s);else break e;Ac(s),F$2(18)}}else s.Fa=o[1],0<s.Fa-s.V&&37500>o[2]&&s.G&&s.A==0&&!s.v&&(s.v=Rb(q$1(s.ib,s),6e3));if(1>=Bc(s.i)&&s.oa){try{s.oa()}catch{}s.oa=void 0}}else J$1(s,11)}else if((e.K||s.g==e)&&yc(s),!x$1(i))for(o=s.Ja.g.parse(i),i=0;i<o.length;i++){let mt=o[i];if(s.V=mt[0],mt=mt[1],s.H==2)if(mt[0]=="c"){s.K=mt[1],s.pa=mt[2];const gt=mt[3];gt!=null&&(s.ra=gt,s.l.info("VER="+s.ra));const bt=mt[4];bt!=null&&(s.Ga=bt,s.l.info("SVER="+s.Ga));const vt=mt[5];vt!=null&&typeof vt=="number"&&0<vt&&(a=1.5*vt,s.L=a,s.l.info("backChannelRequestTimeoutMs_="+a)),a=s;const Pt=e.g;if(Pt){const Tt=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tt){var et=a.i;et.g||Tt.indexOf("spdy")==-1&&Tt.indexOf("quic")==-1&&Tt.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(Cc(et,et.h),et.h=null))}if(a.F){const At=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;At&&(a.Da=At,K$1(a.I,a.F,At))}}s.H=3,s.h&&s.h.Ba(),s.ca&&(s.S=Date.now()-e.G,s.l.info("Handshake RTT: "+s.S+"ms")),a=s;var ot=e;if(a.wa=Dc(a,a.J?a.pa:null,a.Y),ot.K){Ec(a.i,ot);var ft=ot,dt=a.L;dt&&ft.setTimeout(dt),ft.C&&(nc(ft),jc(ft)),a.g=ot}else Fc(a);0<s.j.length&&Gc(s)}else mt[0]!="stop"&&mt[0]!="close"||J$1(s,7);else s.H==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?J$1(s,7):Hc(s):mt[0]!="noop"&&s.h&&s.h.Aa(mt),s.A=0)}}Ob(4)}catch{}}function Ic(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(aa(e)){for(var i=[],s=e.length,a=0;a<s;a++)i.push(e[a]);return i}i=[],s=0;for(a in e)i[s++]=e[a];return i}function Jc(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(aa(e)||typeof e=="string"){var i=[];e=e.length;for(var s=0;s<e;s++)i.push(s);return i}i=[],s=0;for(const a in e)i[s++]=a;return i}}}function Kc(e,i){if(e.forEach&&typeof e.forEach=="function")e.forEach(i,void 0);else if(aa(e)||typeof e=="string")Array.prototype.forEach.call(e,i,void 0);else for(var s=Jc(e),a=Ic(e),o=a.length,et=0;et<o;et++)i.call(void 0,a[et],s&&s[et],e)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(e,i){if(e){e=e.split("&");for(var s=0;s<e.length;s++){var a=e[s].indexOf("="),o=null;if(0<=a){var et=e[s].substring(0,a);o=e[s].substring(a+1)}else et=e[s];i(et,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function M$1(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof M$1){this.h=e.h,Nc(this,e.j),this.s=e.s,this.g=e.g,Oc(this,e.m),this.l=e.l;var i=e.i,s=new Pc;s.i=i.i,i.g&&(s.g=new Map(i.g),s.h=i.h),Qc(this,s),this.o=e.o}else e&&(i=String(e).match(Lc))?(this.h=!1,Nc(this,i[1]||"",!0),this.s=Rc(i[2]||""),this.g=Rc(i[3]||"",!0),Oc(this,i[4]),this.l=Rc(i[5]||"",!0),Qc(this,i[6]||"",!0),this.o=Rc(i[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}M$1.prototype.toString=function(){var e=[],i=this.j;i&&e.push(Sc(i,Tc,!0),":");var s=this.g;return(s||i=="file")&&(e.push("//"),(i=this.s)&&e.push(Sc(i,Tc,!0),"@"),e.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s=this.m,s!=null&&e.push(":",String(s))),(s=this.l)&&(this.g&&s.charAt(0)!="/"&&e.push("/"),e.push(Sc(s,s.charAt(0)=="/"?Uc:Vc,!0))),(s=this.i.toString())&&e.push("?",s),(s=this.o)&&e.push("#",Sc(s,Wc)),e.join("")};function G$1(e){return new M$1(e)}function Nc(e,i,s){e.j=s?Rc(i,!0):i,e.j&&(e.j=e.j.replace(/:$/,""))}function Oc(e,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);e.m=i}else e.m=null}function Qc(e,i,s){i instanceof Pc?(e.i=i,Xc(e.i,e.h)):(s||(i=Sc(i,Yc)),e.i=new Pc(i,e.h))}function K$1(e,i,s){e.i.set(i,s)}function hc(e){return K$1(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Rc(e,i){return e?i?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Sc(e,i,s){return typeof e=="string"?(e=encodeURI(e).replace(i,Zc),s&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zc(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Tc=/[#\/\?@]/g,Vc=/[#\?:]/g,Uc=/[#\?]/g,Yc=/[#\?@]/g,Wc=/#/g;function Pc(e,i){this.h=this.g=null,this.i=e||null,this.j=!!i}function N(e){e.g||(e.g=new Map,e.h=0,e.i&&Mc(e.i,function(i,s){e.add(decodeURIComponent(i.replace(/\+/g," ")),s)}))}k$1=Pc.prototype;k$1.add=function(e,i){N(this),this.i=null,e=O$1(this,e);var s=this.g.get(e);return s||this.g.set(e,s=[]),s.push(i),this.h+=1,this};function $c(e,i){N(e),i=O$1(e,i),e.g.has(i)&&(e.i=null,e.h-=e.g.get(i).length,e.g.delete(i))}function ad(e,i){return N(e),i=O$1(e,i),e.g.has(i)}k$1.forEach=function(e,i){N(this),this.g.forEach(function(s,a){s.forEach(function(o){e.call(i,o,a,this)},this)},this)};k$1.ta=function(){N(this);const e=Array.from(this.g.values()),i=Array.from(this.g.keys()),s=[];for(let a=0;a<i.length;a++){const o=e[a];for(let et=0;et<o.length;et++)s.push(i[a])}return s};k$1.Z=function(e){N(this);let i=[];if(typeof e=="string")ad(this,e)&&(i=i.concat(this.g.get(O$1(this,e))));else{e=Array.from(this.g.values());for(let s=0;s<e.length;s++)i=i.concat(e[s])}return i};k$1.set=function(e,i){return N(this),this.i=null,e=O$1(this,e),ad(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[i]),this.h+=1,this};k$1.get=function(e,i){return e?(e=this.Z(e),0<e.length?String(e[0]):i):i};function kc(e,i,s){$c(e,i),0<s.length&&(e.i=null,e.g.set(O$1(e,i),ma(s)),e.h+=s.length)}k$1.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],i=Array.from(this.g.keys());for(var s=0;s<i.length;s++){var a=i[s];const et=encodeURIComponent(String(a)),ot=this.Z(a);for(a=0;a<ot.length;a++){var o=et;ot[a]!==""&&(o+="="+encodeURIComponent(String(ot[a]))),e.push(o)}}return this.i=e.join("&")};function O$1(e,i){return i=String(i),e.j&&(i=i.toLowerCase()),i}function Xc(e,i){i&&!e.j&&(N(e),e.i=null,e.g.forEach(function(s,a){var o=a.toLowerCase();a!=o&&($c(this,a),kc(this,o,s))},e)),e.j=i}var bd=class{constructor(e,i){this.g=e,this.map=i}};function cd(e){this.l=e||dd,l.PerformanceNavigationTiming?(e=l.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(l.g&&l.g.Ka&&l.g.Ka()&&l.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dd=10;function ed(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Bc(e){return e.h?1:e.g?e.g.size:0}function xc(e,i){return e.h?e.h==i:e.g?e.g.has(i):!1}function Cc(e,i){e.g?e.g.add(i):e.h=i}function Ec(e,i){e.h&&e.h==i?e.h=null:e.g&&e.g.has(i)&&e.g.delete(i)}cd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function fd(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let i=e.i;for(const s of e.g.values())i=i.concat(s.F);return i}return ma(e.i)}var gd=class{stringify(e){return l.JSON.stringify(e,void 0)}parse(e){return l.JSON.parse(e,void 0)}};function hd(){this.g=new gd}function id(e,i,s){const a=s||"";try{Kc(e,function(o,et){let ot=o;p(o)&&(ot=jb(o)),i.push(a+et+"="+encodeURIComponent(ot))})}catch(o){throw i.push(a+"type="+encodeURIComponent("_badmap")),o}}function jd(e,i){const s=new Gb;if(l.Image){const a=new Image;a.onload=ha(kd,s,a,"TestLoadImage: loaded",!0,i),a.onerror=ha(kd,s,a,"TestLoadImage: error",!1,i),a.onabort=ha(kd,s,a,"TestLoadImage: abort",!1,i),a.ontimeout=ha(kd,s,a,"TestLoadImage: timeout",!1,i),l.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=e}else i(!1)}function kd(e,i,s,a,o){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,o(a)}catch{}}function ld(e){this.l=e.ec||null,this.j=e.ob||!1}r(ld,Ub);ld.prototype.g=function(){return new md(this.l,this.j)};ld.prototype.i=function(e){return function(){return e}}({});function md(e,i){B$1.call(this),this.F=e,this.u=i,this.m=void 0,this.readyState=nd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}r(md,B$1);var nd=0;k$1=md.prototype;k$1.open=function(e,i){if(this.readyState!=nd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=i,this.readyState=1,od(this)};k$1.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(i.body=e),(this.F||l).fetch(new Request(this.B,i)).then(this.$a.bind(this),this.ka.bind(this))};k$1.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pd(this)),this.readyState=nd};k$1.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function qd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}k$1.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var i=e.value?e.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!e.done}))&&(this.response=this.responseText+=i)}e.done?pd(this):od(this),this.readyState==3&&qd(this)}};k$1.Za=function(e){this.g&&(this.response=this.responseText=e,pd(this))};k$1.Ya=function(e){this.g&&(this.response=e,pd(this))};k$1.ka=function(){this.g&&pd(this)};function pd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,od(e)}k$1.setRequestHeader=function(e,i){this.v.append(e,i)};k$1.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};k$1.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],i=this.h.entries();for(var s=i.next();!s.done;)s=s.value,e.push(s[0]+": "+s[1]),s=i.next();return e.join(`\r
`)};function od(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var rd=l.JSON.parse;function P(e){B$1.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sd,this.L=this.M=!1}r(P,B$1);var sd="",td=/^https?$/i,ud=["POST","PUT"];k$1=P.prototype;k$1.Oa=function(e){this.M=e};k$1.ha=function(e,i,s,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);i=i?i.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$b.g(),this.C=this.u?Vb(this.u):Vb($b),this.g.onreadystatechange=q$1(this.La,this);try{this.G=!0,this.g.open(i,String(e),!0),this.G=!1}catch(et){vd(this,et);return}if(e=s||"",s=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var o in a)s.set(o,a[o]);else if(typeof a.keys=="function"&&typeof a.get=="function")for(const et of a.keys())s.set(et,a.get(et));else throw Error("Unknown input type for opt_headers: "+String(a));a=Array.from(s.keys()).find(et=>et.toLowerCase()=="content-type"),o=l.FormData&&e instanceof l.FormData,!(0<=ka(ud,i))||a||o||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,ot]of s)this.g.setRequestHeader(et,ot);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wd(this),0<this.B&&((this.L=xd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q$1(this.ua,this)):this.A=yb(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(et){vd(this,et)}};function xd(e){return z$1&&typeof e.timeout=="number"&&e.ontimeout!==void 0}k$1.ua=function(){typeof goog<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C$2(this,"timeout"),this.abort(8))};function vd(e,i){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=i,e.m=5,yd(e),zd(e)}function yd(e){e.F||(e.F=!0,C$2(e,"complete"),C$2(e,"error"))}k$1.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,C$2(this,"complete"),C$2(this,"abort"),zd(this))};k$1.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),P.$.N.call(this)};k$1.La=function(){this.s||(this.G||this.v||this.l?Ad(this):this.kb())};k$1.kb=function(){Ad(this)};function Ad(e){if(e.h&&typeof goog<"u"&&(!e.C[1]||H$1(e)!=4||e.da()!=2)){if(e.v&&H$1(e)==4)yb(e.La,0,e);else if(C$2(e,"readystatechange"),H$1(e)==4){e.h=!1;try{const ot=e.da();e:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var s;if(!(s=i)){var a;if(a=ot===0){var o=String(e.I).match(Lc)[1]||null;!o&&l.self&&l.self.location&&(o=l.self.location.protocol.slice(0,-1)),a=!td.test(o?o.toLowerCase():"")}s=a}if(s)C$2(e,"complete"),C$2(e,"success");else{e.m=6;try{var et=2<H$1(e)?e.g.statusText:""}catch{et=""}e.j=et+" ["+e.da()+"]",yd(e)}}finally{zd(e)}}}}function zd(e,i){if(e.g){wd(e);const s=e.g,a=e.C[0]?()=>{}:null;e.g=null,e.C=null,i||C$2(e,"ready");try{s.onreadystatechange=a}catch{}}}function wd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(l.clearTimeout(e.A),e.A=null)}k$1.isActive=function(){return!!this.g};function H$1(e){return e.g?e.g.readyState:0}k$1.da=function(){try{return 2<H$1(this)?this.g.status:-1}catch{return-1}};k$1.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k$1.Wa=function(e){if(this.g){var i=this.g.responseText;return e&&i.indexOf(e)==0&&(i=i.substring(e.length)),rd(i)}};function mc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case sd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function tc(e){const i={};e=(e.g&&2<=H$1(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let a=0;a<e.length;a++){if(x$1(e[a]))continue;var s=qb(e[a]);const o=s[0];if(s=s[1],typeof s!="string")continue;s=s.trim();const et=i[o]||[];i[o]=et,et.push(s)}Oa(i,function(a){return a.join(", ")})}k$1.Ia=function(){return this.m};k$1.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Bd(e){let i="";return Na(e,function(s,a){i+=a,i+=":",i+=s,i+=`\r
`}),i}function Cd(e,i,s){e:{for(a in s){var a=!1;break e}a=!0}a||(s=Bd(s),typeof e=="string"?s!=null&&encodeURIComponent(String(s)):K$1(e,i,s))}function Dd(e,i,s){return s&&s.internalChannelParams&&s.internalChannelParams[e]||i}function Ed(e){this.Ga=0,this.j=[],this.l=new Gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,e),this.hb=Dd("retryDelaySeedMs",1e4,e),this.eb=Dd("forwardChannelMaxRetries",2,e),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new cd(e&&e.concurrentRequestLimit),this.Ja=new hd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k$1=Ed.prototype;k$1.ra=8;k$1.H=1;function Hc(e){if(Fd(e),e.H==3){var i=e.W++,s=G$1(e.I);if(K$1(s,"SID",e.K),K$1(s,"RID",i),K$1(s,"TYPE","terminate"),Gd(e,s),i=new bc(e,e.l,i),i.L=2,i.A=hc(G$1(s)),s=!1,l.navigator&&l.navigator.sendBeacon)try{s=l.navigator.sendBeacon(i.A.toString(),"")}catch{}!s&&l.Image&&(new Image().src=i.A,s=!0),s||(i.g=lc(i.l,null),i.g.ha(i.A)),i.G=Date.now(),jc(i)}Hd(e)}function zc(e){e.g&&(vc(e),e.g.cancel(),e.g=null)}function Fd(e){zc(e),e.u&&(l.clearTimeout(e.u),e.u=null),yc(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&l.clearTimeout(e.m),e.m=null)}function Gc(e){if(!ed(e.i)&&!e.m){e.m=!0;var i=e.Na;sb||vb(),tb||(sb(),tb=!0),mb.add(i,e),e.C=0}}function Id(e,i){return Bc(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=i.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Rb(q$1(e.Na,e,i),Jd(e,e.C)),e.C++,!0)}k$1.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const o=new bc(this,this.l,e);let et=this.s;if(this.U&&(et?(et=Pa(et),Ra(et,this.U)):et=this.U),this.o!==null||this.O||(o.I=et,et=null),this.P)e:{for(var i=0,s=0;s<this.j.length;s++){t:{var a=this.j[s];if("__data__"in a.map&&(a=a.map.__data__,typeof a=="string")){a=a.length;break t}a=void 0}if(a===void 0)break;if(i+=a,4096<i){i=s;break e}if(i===4096||s===this.j.length-1){i=s+1;break e}}i=1e3}else i=1e3;i=Kd(this,o,i),s=G$1(this.I),K$1(s,"RID",e),K$1(s,"CVER",22),this.F&&K$1(s,"X-HTTP-Session-Id",this.F),Gd(this,s),et&&(this.O?i="headers="+encodeURIComponent(String(Bd(et)))+"&"+i:this.o&&Cd(s,this.o,et)),Cc(this.i,o),this.bb&&K$1(s,"TYPE","init"),this.P?(K$1(s,"$req",i),K$1(s,"SID","null"),o.aa=!0,gc(o,s,null)):gc(o,s,i),this.H=2}}else this.H==3&&(e?Ld(this,e):this.j.length==0||ed(this.i)||Ld(this))};function Ld(e,i){var s;i?s=i.m:s=e.W++;const a=G$1(e.I);K$1(a,"SID",e.K),K$1(a,"RID",s),K$1(a,"AID",e.V),Gd(e,a),e.o&&e.s&&Cd(a,e.o,e.s),s=new bc(e,e.l,s,e.C+1),e.o===null&&(s.I=e.s),i&&(e.j=i.F.concat(e.j)),i=Kd(e,s,1e3),s.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Cc(e.i,s),gc(s,a,i)}function Gd(e,i){e.na&&Na(e.na,function(s,a){K$1(i,a,s)}),e.h&&Kc({},function(s,a){K$1(i,a,s)})}function Kd(e,i,s){s=Math.min(e.j.length,s);var a=e.h?q$1(e.h.Va,e.h,e):null;e:{var o=e.j;let et=-1;for(;;){const ot=["count="+s];et==-1?0<s?(et=o[0].g,ot.push("ofs="+et)):et=0:ot.push("ofs="+et);let ft=!0;for(let dt=0;dt<s;dt++){let mt=o[dt].g;const gt=o[dt].map;if(mt-=et,0>mt)et=Math.max(0,o[dt].g-100),ft=!1;else try{id(gt,ot,"req"+mt+"_")}catch{a&&a(gt)}}if(ft){a=ot.join("&");break e}}}return e=e.j.splice(0,s),i.F=e,a}function Fc(e){if(!e.g&&!e.u){e.ba=1;var i=e.Ma;sb||vb(),tb||(sb(),tb=!0),mb.add(i,e),e.A=0}}function Ac(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Rb(q$1(e.Ma,e),Jd(e,e.A)),e.A++,!0)}k$1.Ma=function(){if(this.u=null,Md(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Rb(q$1(this.jb,this),e)}};k$1.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F$2(10),zc(this),Md(this))};function vc(e){e.B!=null&&(l.clearTimeout(e.B),e.B=null)}function Md(e){e.g=new bc(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var i=G$1(e.wa);K$1(i,"RID","rpc"),K$1(i,"SID",e.K),K$1(i,"AID",e.V),K$1(i,"CI",e.G?"0":"1"),!e.G&&e.qa&&K$1(i,"TO",e.qa),K$1(i,"TYPE","xmlhttp"),Gd(e,i),e.o&&e.s&&Cd(i,e.o,e.s),e.L&&e.g.setTimeout(e.L);var s=e.g;e=e.pa,s.L=1,s.A=hc(G$1(i)),s.u=null,s.S=!0,ic(s,e)}k$1.ib=function(){this.v!=null&&(this.v=null,zc(this),Ac(this),F$2(19))};function yc(e){e.v!=null&&(l.clearTimeout(e.v),e.v=null)}function sc(e,i){var s=null;if(e.g==i){yc(e),vc(e),e.g=null;var a=2}else if(xc(e.i,i))s=i.F,Ec(e.i,i),a=1;else return;if(e.H!=0){if(i.i)if(a==1){s=i.u?i.u.length:0,i=Date.now()-i.G;var o=e.C;a=Mb(),C$2(a,new Qb(a,s)),Gc(e)}else Fc(e);else if(o=i.s,o==3||o==0&&0<i.ca||!(a==1&&Id(e,i)||a==2&&Ac(e)))switch(s&&0<s.length&&(i=e.i,i.i=i.i.concat(s)),o){case 1:J$1(e,5);break;case 4:J$1(e,10);break;case 3:J$1(e,6);break;default:J$1(e,2)}}}function Jd(e,i){let s=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(s*=2),s*i}function J$1(e,i){if(e.l.info("Error code "+i),i==2){var s=null;e.h&&(s=null);var a=q$1(e.pb,e);s||(s=new M$1("//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Nc(s,"https"),hc(s)),jd(s.toString(),a)}else F$2(2);e.H=0,e.h&&e.h.za(i),Hd(e),Fd(e)}k$1.pb=function(e){e?(this.l.info("Successfully pinged google.com"),F$2(2)):(this.l.info("Failed to ping google.com"),F$2(1))};function Hd(e){if(e.H=0,e.ma=[],e.h){const i=fd(e.i);(i.length!=0||e.j.length!=0)&&(na(e.ma,i),na(e.ma,e.j),e.i.i.length=0,ma(e.j),e.j.length=0),e.h.ya()}}function Dc(e,i,s){var a=s instanceof M$1?G$1(s):new M$1(s);if(a.g!="")i&&(a.g=i+"."+a.g),Oc(a,a.m);else{var o=l.location;a=o.protocol,i=i?i+"."+o.hostname:o.hostname,o=+o.port;var et=new M$1(null);a&&Nc(et,a),i&&(et.g=i),o&&Oc(et,o),s&&(et.l=s),a=et}return s=e.F,i=e.Da,s&&i&&K$1(a,s,i),K$1(a,"VER",e.ra),Gd(e,a),a}function lc(e,i,s){if(i&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return i=e.Ha&&!e.va?new P(new ld({ob:s})):new P(e.va),i.Oa(e.J),i}k$1.isActive=function(){return!!this.h&&this.h.isActive(this)};function Nd(){}k$1=Nd.prototype;k$1.Ba=function(){};k$1.Aa=function(){};k$1.za=function(){};k$1.ya=function(){};k$1.isActive=function(){return!0};k$1.Va=function(){};function Od(){if(z$1&&!(10<=Number(Fa)))throw Error("Environmental error: no available transport.")}Od.prototype.g=function(e,i){return new Q$1(e,i)};function Q$1(e,i){B$1.call(this),this.g=new Ed(i),this.l=e,this.h=i&&i.messageUrlParams||null,e=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(e?e["X-WebChannel-Content-Type"]=i.messageContentType:e={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.Ca&&(e?e["X-WebChannel-Client-Profile"]=i.Ca:e={"X-WebChannel-Client-Profile":i.Ca}),this.g.U=e,(e=i&&i.cc)&&!x$1(e)&&(this.g.o=e),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!x$1(i)&&(this.g.F=i,e=this.h,e!==null&&i in e&&(e=this.h,i in e&&delete e[i])),this.j=new R$1(this)}r(Q$1,B$1);Q$1.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,i=this.l,s=this.h||void 0;F$2(0),e.Y=i,e.na=s||{},e.G=e.aa,e.I=Dc(e,null,e.Y),Gc(e)};Q$1.prototype.close=function(){Hc(this.g)};Q$1.prototype.u=function(e){var i=this.g;if(typeof e=="string"){var s={};s.__data__=e,e=s}else this.v&&(s={},s.__data__=jb(e),e=s);i.j.push(new bd(i.fb++,e)),i.H==3&&Gc(i)};Q$1.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,Q$1.$.N.call(this)};function Pd(e){Yb.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var i=e.__sm__;if(i){e:{for(const s in i){e=s;break e}e=void 0}(this.i=e)&&(e=this.i,i=i!==null&&e in i?i[e]:void 0),this.data=i}else this.data=e}r(Pd,Yb);function Qd(){Zb.call(this),this.status=1}r(Qd,Zb);function R$1(e){this.g=e}r(R$1,Nd);R$1.prototype.Ba=function(){C$2(this.g,"a")};R$1.prototype.Aa=function(e){C$2(this.g,new Pd(e))};R$1.prototype.za=function(e){C$2(this.g,new Qd)};R$1.prototype.ya=function(){C$2(this.g,"b")};function Rd(){this.blockSize=-1}function S$2(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}r(S$2,Rd);S$2.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sd(e,i,s){s||(s=0);var a=Array(16);if(typeof i=="string")for(var o=0;16>o;++o)a[o]=i.charCodeAt(s++)|i.charCodeAt(s++)<<8|i.charCodeAt(s++)<<16|i.charCodeAt(s++)<<24;else for(o=0;16>o;++o)a[o]=i[s++]|i[s++]<<8|i[s++]<<16|i[s++]<<24;i=e.g[0],s=e.g[1],o=e.g[2];var et=e.g[3],ot=i+(et^s&(o^et))+a[0]+3614090360&4294967295;i=s+(ot<<7&4294967295|ot>>>25),ot=et+(o^i&(s^o))+a[1]+3905402710&4294967295,et=i+(ot<<12&4294967295|ot>>>20),ot=o+(s^et&(i^s))+a[2]+606105819&4294967295,o=et+(ot<<17&4294967295|ot>>>15),ot=s+(i^o&(et^i))+a[3]+3250441966&4294967295,s=o+(ot<<22&4294967295|ot>>>10),ot=i+(et^s&(o^et))+a[4]+4118548399&4294967295,i=s+(ot<<7&4294967295|ot>>>25),ot=et+(o^i&(s^o))+a[5]+1200080426&4294967295,et=i+(ot<<12&4294967295|ot>>>20),ot=o+(s^et&(i^s))+a[6]+2821735955&4294967295,o=et+(ot<<17&4294967295|ot>>>15),ot=s+(i^o&(et^i))+a[7]+4249261313&4294967295,s=o+(ot<<22&4294967295|ot>>>10),ot=i+(et^s&(o^et))+a[8]+1770035416&4294967295,i=s+(ot<<7&4294967295|ot>>>25),ot=et+(o^i&(s^o))+a[9]+2336552879&4294967295,et=i+(ot<<12&4294967295|ot>>>20),ot=o+(s^et&(i^s))+a[10]+4294925233&4294967295,o=et+(ot<<17&4294967295|ot>>>15),ot=s+(i^o&(et^i))+a[11]+2304563134&4294967295,s=o+(ot<<22&4294967295|ot>>>10),ot=i+(et^s&(o^et))+a[12]+1804603682&4294967295,i=s+(ot<<7&4294967295|ot>>>25),ot=et+(o^i&(s^o))+a[13]+4254626195&4294967295,et=i+(ot<<12&4294967295|ot>>>20),ot=o+(s^et&(i^s))+a[14]+2792965006&4294967295,o=et+(ot<<17&4294967295|ot>>>15),ot=s+(i^o&(et^i))+a[15]+1236535329&4294967295,s=o+(ot<<22&4294967295|ot>>>10),ot=i+(o^et&(s^o))+a[1]+4129170786&4294967295,i=s+(ot<<5&4294967295|ot>>>27),ot=et+(s^o&(i^s))+a[6]+3225465664&4294967295,et=i+(ot<<9&4294967295|ot>>>23),ot=o+(i^s&(et^i))+a[11]+643717713&4294967295,o=et+(ot<<14&4294967295|ot>>>18),ot=s+(et^i&(o^et))+a[0]+3921069994&4294967295,s=o+(ot<<20&4294967295|ot>>>12),ot=i+(o^et&(s^o))+a[5]+3593408605&4294967295,i=s+(ot<<5&4294967295|ot>>>27),ot=et+(s^o&(i^s))+a[10]+38016083&4294967295,et=i+(ot<<9&4294967295|ot>>>23),ot=o+(i^s&(et^i))+a[15]+3634488961&4294967295,o=et+(ot<<14&4294967295|ot>>>18),ot=s+(et^i&(o^et))+a[4]+3889429448&4294967295,s=o+(ot<<20&4294967295|ot>>>12),ot=i+(o^et&(s^o))+a[9]+568446438&4294967295,i=s+(ot<<5&4294967295|ot>>>27),ot=et+(s^o&(i^s))+a[14]+3275163606&4294967295,et=i+(ot<<9&4294967295|ot>>>23),ot=o+(i^s&(et^i))+a[3]+4107603335&4294967295,o=et+(ot<<14&4294967295|ot>>>18),ot=s+(et^i&(o^et))+a[8]+1163531501&4294967295,s=o+(ot<<20&4294967295|ot>>>12),ot=i+(o^et&(s^o))+a[13]+2850285829&4294967295,i=s+(ot<<5&4294967295|ot>>>27),ot=et+(s^o&(i^s))+a[2]+4243563512&4294967295,et=i+(ot<<9&4294967295|ot>>>23),ot=o+(i^s&(et^i))+a[7]+1735328473&4294967295,o=et+(ot<<14&4294967295|ot>>>18),ot=s+(et^i&(o^et))+a[12]+2368359562&4294967295,s=o+(ot<<20&4294967295|ot>>>12),ot=i+(s^o^et)+a[5]+4294588738&4294967295,i=s+(ot<<4&4294967295|ot>>>28),ot=et+(i^s^o)+a[8]+2272392833&4294967295,et=i+(ot<<11&4294967295|ot>>>21),ot=o+(et^i^s)+a[11]+1839030562&4294967295,o=et+(ot<<16&4294967295|ot>>>16),ot=s+(o^et^i)+a[14]+4259657740&4294967295,s=o+(ot<<23&4294967295|ot>>>9),ot=i+(s^o^et)+a[1]+2763975236&4294967295,i=s+(ot<<4&4294967295|ot>>>28),ot=et+(i^s^o)+a[4]+1272893353&4294967295,et=i+(ot<<11&4294967295|ot>>>21),ot=o+(et^i^s)+a[7]+4139469664&4294967295,o=et+(ot<<16&4294967295|ot>>>16),ot=s+(o^et^i)+a[10]+3200236656&4294967295,s=o+(ot<<23&4294967295|ot>>>9),ot=i+(s^o^et)+a[13]+681279174&4294967295,i=s+(ot<<4&4294967295|ot>>>28),ot=et+(i^s^o)+a[0]+3936430074&4294967295,et=i+(ot<<11&4294967295|ot>>>21),ot=o+(et^i^s)+a[3]+3572445317&4294967295,o=et+(ot<<16&4294967295|ot>>>16),ot=s+(o^et^i)+a[6]+76029189&4294967295,s=o+(ot<<23&4294967295|ot>>>9),ot=i+(s^o^et)+a[9]+3654602809&4294967295,i=s+(ot<<4&4294967295|ot>>>28),ot=et+(i^s^o)+a[12]+3873151461&4294967295,et=i+(ot<<11&4294967295|ot>>>21),ot=o+(et^i^s)+a[15]+530742520&4294967295,o=et+(ot<<16&4294967295|ot>>>16),ot=s+(o^et^i)+a[2]+3299628645&4294967295,s=o+(ot<<23&4294967295|ot>>>9),ot=i+(o^(s|~et))+a[0]+4096336452&4294967295,i=s+(ot<<6&4294967295|ot>>>26),ot=et+(s^(i|~o))+a[7]+1126891415&4294967295,et=i+(ot<<10&4294967295|ot>>>22),ot=o+(i^(et|~s))+a[14]+2878612391&4294967295,o=et+(ot<<15&4294967295|ot>>>17),ot=s+(et^(o|~i))+a[5]+4237533241&4294967295,s=o+(ot<<21&4294967295|ot>>>11),ot=i+(o^(s|~et))+a[12]+1700485571&4294967295,i=s+(ot<<6&4294967295|ot>>>26),ot=et+(s^(i|~o))+a[3]+2399980690&4294967295,et=i+(ot<<10&4294967295|ot>>>22),ot=o+(i^(et|~s))+a[10]+4293915773&4294967295,o=et+(ot<<15&4294967295|ot>>>17),ot=s+(et^(o|~i))+a[1]+2240044497&4294967295,s=o+(ot<<21&4294967295|ot>>>11),ot=i+(o^(s|~et))+a[8]+1873313359&4294967295,i=s+(ot<<6&4294967295|ot>>>26),ot=et+(s^(i|~o))+a[15]+4264355552&4294967295,et=i+(ot<<10&4294967295|ot>>>22),ot=o+(i^(et|~s))+a[6]+2734768916&4294967295,o=et+(ot<<15&4294967295|ot>>>17),ot=s+(et^(o|~i))+a[13]+1309151649&4294967295,s=o+(ot<<21&4294967295|ot>>>11),ot=i+(o^(s|~et))+a[4]+4149444226&4294967295,i=s+(ot<<6&4294967295|ot>>>26),ot=et+(s^(i|~o))+a[11]+3174756917&4294967295,et=i+(ot<<10&4294967295|ot>>>22),ot=o+(i^(et|~s))+a[2]+718787259&4294967295,o=et+(ot<<15&4294967295|ot>>>17),ot=s+(et^(o|~i))+a[9]+3951481745&4294967295,e.g[0]=e.g[0]+i&4294967295,e.g[1]=e.g[1]+(o+(ot<<21&4294967295|ot>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+et&4294967295}S$2.prototype.j=function(e,i){i===void 0&&(i=e.length);for(var s=i-this.blockSize,a=this.m,o=this.h,et=0;et<i;){if(o==0)for(;et<=s;)Sd(this,e,et),et+=this.blockSize;if(typeof e=="string"){for(;et<i;)if(a[o++]=e.charCodeAt(et++),o==this.blockSize){Sd(this,a),o=0;break}}else for(;et<i;)if(a[o++]=e[et++],o==this.blockSize){Sd(this,a),o=0;break}}this.h=o,this.i+=i};S$2.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var i=1;i<e.length-8;++i)e[i]=0;var s=8*this.i;for(i=e.length-8;i<e.length;++i)e[i]=s&255,s/=256;for(this.j(e),e=Array(16),i=s=0;4>i;++i)for(var a=0;32>a;a+=8)e[s++]=this.g[i]>>>a&255;return e};function T$1(e,i){this.h=i;for(var s=[],a=!0,o=e.length-1;0<=o;o--){var et=e[o]|0;a&&et==i||(s[o]=et,a=!1)}this.g=s}var sa={};function Td(e){return-128<=e&&128>e?ra(e,function(i){return new T$1([i|0],0>i?-1:0)}):new T$1([e|0],0>e?-1:0)}function U$1(e){if(isNaN(e)||!isFinite(e))return V$1;if(0>e)return W$1(U$1(-e));for(var i=[],s=1,a=0;e>=s;a++)i[a]=e/s|0,s*=Ud;return new T$1(i,0)}function Vd(e,i){if(e.length==0)throw Error("number format error: empty string");if(i=i||10,2>i||36<i)throw Error("radix out of range: "+i);if(e.charAt(0)=="-")return W$1(Vd(e.substring(1),i));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var s=U$1(Math.pow(i,8)),a=V$1,o=0;o<e.length;o+=8){var et=Math.min(8,e.length-o),ot=parseInt(e.substring(o,o+et),i);8>et?(et=U$1(Math.pow(i,et)),a=a.R(et).add(U$1(ot))):(a=a.R(s),a=a.add(U$1(ot)))}return a}var Ud=4294967296,V$1=Td(0),Wd=Td(1),Xd=Td(16777216);k$1=T$1.prototype;k$1.ea=function(){if(X$1(this))return-W$1(this).ea();for(var e=0,i=1,s=0;s<this.g.length;s++){var a=this.D(s);e+=(0<=a?a:Ud+a)*i,i*=Ud}return e};k$1.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Y$1(this))return"0";if(X$1(this))return"-"+W$1(this).toString(e);for(var i=U$1(Math.pow(e,6)),s=this,a="";;){var o=Yd(s,i).g;s=Zd(s,o.R(i));var et=((0<s.g.length?s.g[0]:s.h)>>>0).toString(e);if(s=o,Y$1(s))return et+a;for(;6>et.length;)et="0"+et;a=et+a}};k$1.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Y$1(e){if(e.h!=0)return!1;for(var i=0;i<e.g.length;i++)if(e.g[i]!=0)return!1;return!0}function X$1(e){return e.h==-1}k$1.X=function(e){return e=Zd(this,e),X$1(e)?-1:Y$1(e)?0:1};function W$1(e){for(var i=e.g.length,s=[],a=0;a<i;a++)s[a]=~e.g[a];return new T$1(s,~e.h).add(Wd)}k$1.abs=function(){return X$1(this)?W$1(this):this};k$1.add=function(e){for(var i=Math.max(this.g.length,e.g.length),s=[],a=0,o=0;o<=i;o++){var et=a+(this.D(o)&65535)+(e.D(o)&65535),ot=(et>>>16)+(this.D(o)>>>16)+(e.D(o)>>>16);a=ot>>>16,et&=65535,ot&=65535,s[o]=ot<<16|et}return new T$1(s,s[s.length-1]&-2147483648?-1:0)};function Zd(e,i){return e.add(W$1(i))}k$1.R=function(e){if(Y$1(this)||Y$1(e))return V$1;if(X$1(this))return X$1(e)?W$1(this).R(W$1(e)):W$1(W$1(this).R(e));if(X$1(e))return W$1(this.R(W$1(e)));if(0>this.X(Xd)&&0>e.X(Xd))return U$1(this.ea()*e.ea());for(var i=this.g.length+e.g.length,s=[],a=0;a<2*i;a++)s[a]=0;for(a=0;a<this.g.length;a++)for(var o=0;o<e.g.length;o++){var et=this.D(a)>>>16,ot=this.D(a)&65535,ft=e.D(o)>>>16,dt=e.D(o)&65535;s[2*a+2*o]+=ot*dt,$d(s,2*a+2*o),s[2*a+2*o+1]+=et*dt,$d(s,2*a+2*o+1),s[2*a+2*o+1]+=ot*ft,$d(s,2*a+2*o+1),s[2*a+2*o+2]+=et*ft,$d(s,2*a+2*o+2)}for(a=0;a<i;a++)s[a]=s[2*a+1]<<16|s[2*a];for(a=i;a<2*i;a++)s[a]=0;return new T$1(s,0)};function $d(e,i){for(;(e[i]&65535)!=e[i];)e[i+1]+=e[i]>>>16,e[i]&=65535,i++}function ae$2(e,i){this.g=e,this.h=i}function Yd(e,i){if(Y$1(i))throw Error("division by zero");if(Y$1(e))return new ae$2(V$1,V$1);if(X$1(e))return i=Yd(W$1(e),i),new ae$2(W$1(i.g),W$1(i.h));if(X$1(i))return i=Yd(e,W$1(i)),new ae$2(W$1(i.g),i.h);if(30<e.g.length){if(X$1(e)||X$1(i))throw Error("slowDivide_ only works with positive integers.");for(var s=Wd,a=i;0>=a.X(e);)s=be$1(s),a=be$1(a);var o=Z$1(s,1),et=Z$1(a,1);for(a=Z$1(a,2),s=Z$1(s,2);!Y$1(a);){var ot=et.add(a);0>=ot.X(e)&&(o=o.add(s),et=ot),a=Z$1(a,1),s=Z$1(s,1)}return i=Zd(e,o.R(i)),new ae$2(o,i)}for(o=V$1;0<=e.X(i);){for(s=Math.max(1,Math.floor(e.ea()/i.ea())),a=Math.ceil(Math.log(s)/Math.LN2),a=48>=a?1:Math.pow(2,a-48),et=U$1(s),ot=et.R(i);X$1(ot)||0<ot.X(e);)s-=a,et=U$1(s),ot=et.R(i);Y$1(et)&&(et=Wd),o=o.add(et),e=Zd(e,ot)}return new ae$2(o,e)}k$1.gb=function(e){return Yd(this,e).h};k$1.and=function(e){for(var i=Math.max(this.g.length,e.g.length),s=[],a=0;a<i;a++)s[a]=this.D(a)&e.D(a);return new T$1(s,this.h&e.h)};k$1.or=function(e){for(var i=Math.max(this.g.length,e.g.length),s=[],a=0;a<i;a++)s[a]=this.D(a)|e.D(a);return new T$1(s,this.h|e.h)};k$1.xor=function(e){for(var i=Math.max(this.g.length,e.g.length),s=[],a=0;a<i;a++)s[a]=this.D(a)^e.D(a);return new T$1(s,this.h^e.h)};function be$1(e){for(var i=e.g.length+1,s=[],a=0;a<i;a++)s[a]=e.D(a)<<1|e.D(a-1)>>>31;return new T$1(s,e.h)}function Z$1(e,i){var s=i>>5;i%=32;for(var a=e.g.length-s,o=[],et=0;et<a;et++)o[et]=0<i?e.D(et+s)>>>i|e.D(et+s+1)<<32-i:e.D(et+s);return new T$1(o,e.h)}Od.prototype.createWebChannel=Od.prototype.g;Q$1.prototype.send=Q$1.prototype.u;Q$1.prototype.open=Q$1.prototype.m;Q$1.prototype.close=Q$1.prototype.close;Sb.NO_ERROR=0;Sb.TIMEOUT=8;Sb.HTTP_ERROR=6;Tb.COMPLETE="complete";Wb.EventType=Xb;Xb.OPEN="a";Xb.CLOSE="b";Xb.ERROR="c";Xb.MESSAGE="d";B$1.prototype.listen=B$1.prototype.O;P.prototype.listenOnce=P.prototype.P;P.prototype.getLastError=P.prototype.Sa;P.prototype.getLastErrorCode=P.prototype.Ia;P.prototype.getStatus=P.prototype.da;P.prototype.getResponseJson=P.prototype.Wa;P.prototype.getResponseText=P.prototype.ja;P.prototype.send=P.prototype.ha;P.prototype.setWithCredentials=P.prototype.Oa;S$2.prototype.digest=S$2.prototype.l;S$2.prototype.reset=S$2.prototype.reset;S$2.prototype.update=S$2.prototype.j;T$1.prototype.add=T$1.prototype.add;T$1.prototype.multiply=T$1.prototype.R;T$1.prototype.modulo=T$1.prototype.gb;T$1.prototype.compare=T$1.prototype.X;T$1.prototype.toNumber=T$1.prototype.ea;T$1.prototype.toString=T$1.prototype.toString;T$1.prototype.getBits=T$1.prototype.D;T$1.fromNumber=U$1;T$1.fromString=Vd;var createWebChannelTransport=function(){return new Od},getStatEventTarget=function(){return Mb()},ErrorCode$1=Sb,EventType=Tb,Event$1=E,Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WebChannel=Wb,XhrIo=P,Md5=S$2,Integer=T$1;const w$2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(i){this.uid=i}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S$1="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b.logLevel}function __PRIVATE_logDebug(e,...i){if(b.logLevel<=LogLevel.DEBUG){const s=i.map(__PRIVATE_argToString);b.debug(`Firestore (${S$1}): ${e}`,...s)}}function __PRIVATE_logError(e,...i){if(b.logLevel<=LogLevel.ERROR){const s=i.map(__PRIVATE_argToString);b.error(`Firestore (${S$1}): ${e}`,...s)}}function __PRIVATE_logWarn(e,...i){if(b.logLevel<=LogLevel.WARN){const s=i.map(__PRIVATE_argToString);b.warn(`Firestore (${S$1}): ${e}`,...s)}}function __PRIVATE_argToString(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(e="Unexpected state"){const i=`FIRESTORE (${S$1}) INTERNAL ASSERTION FAILED: `+e;throw __PRIVATE_logError(i),new Error(i)}function __PRIVATE_hardAssert(e,i){e||fail()}function __PRIVATE_debugCast(e,i){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(i,s){super(i,s),this.code=i,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(i,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,s){i.enqueueRetryable(()=>s(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,s){this.changeListener=s,i.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(i){this.t=i,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,s){let a=this.i;const o=dt=>this.i!==a?(a=this.i,s(dt)):Promise.resolve();let et=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),et.resolve(),et=new __PRIVATE_Deferred,i.enqueueRetryable(()=>o(this.currentUser))};const ot=()=>{const dt=et;i.enqueueRetryable(async()=>{await dt.promise,await o(this.currentUser)})},ft=dt=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=dt,this.auth.addAuthTokenListener(this.o),ot()};this.t.onInit(dt=>ft(dt)),setTimeout(()=>{if(!this.auth){const dt=this.t.getImmediate({optional:!0});dt?ft(dt):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),et.resolve(),et=new __PRIVATE_Deferred)}},0),ot()}getToken(){const i=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(a=>this.i!==i?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(__PRIVATE_hardAssert(typeof a.accessToken=="string"),new __PRIVATE_OAuthToken(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(i===null||typeof i=="string"),new User(i)}}class __PRIVATE_FirstPartyToken{constructor(i,s,a){this.l=i,this.h=s,this.P=a,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const i=this.T();return i&&this.I.set("Authorization",i),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(i,s,a){this.l=i,this.h=s,this.P=a}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(i,s){i.enqueueRetryable(()=>s(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(i,s){const a=et=>{et.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${et.error.message}`);const ot=et.token!==this.R;return this.R=et.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${ot?"new":"existing"} token.`),ot?s(et.token):Promise.resolve()};this.o=et=>{i.enqueueRetryable(()=>a(et))};const o=et=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=et,this.appCheck.addTokenListener(this.o)};this.A.onInit(et=>o(et)),setTimeout(()=>{if(!this.appCheck){const et=this.A.getImmediate({optional:!0});et?o(et):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(s=>s?(__PRIVATE_hardAssert(typeof s.token=="string"),this.R=s.token,new AppCheckToken(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(e){const i=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(e);if(i&&typeof i.getRandomValues=="function")i.getRandomValues(s);else for(let a=0;a<e;a++)s[a]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/i.length)*i.length;let a="";for(;a.length<20;){const o=__PRIVATE_randomBytes(40);for(let et=0;et<o.length;++et)a.length<20&&o[et]<s&&(a+=i.charAt(o[et]%i.length))}return a}}function __PRIVATE_primitiveComparator(e,i){return e<i?-1:e>i?1:0}function __PRIVATE_arrayEquals(e,i,s){return e.length===i.length&&e.every((a,o)=>s(a,i[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(i,s){if(this.seconds=i,this.nanoseconds=s,s<0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(i<-62135596800)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(i){return Timestamp.fromMillis(i.getTime())}static fromMillis(i){const s=Math.floor(i/1e3),a=Math.floor(1e6*(i-1e3*s));return new Timestamp(s,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,i.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const i=this.seconds- -62135596800;return String(i).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(i){this.timestamp=i}static fromTimestamp(i){return new SnapshotVersion(i)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(i,s,a){s===void 0?s=0:s>i.length&&fail(),a===void 0?a=i.length-s:a>i.length-s&&fail(),this.segments=i,this.offset=s,this.len=a}get length(){return this.len}isEqual(i){return BasePath.comparator(this,i)===0}child(i){const s=this.segments.slice(this.offset,this.limit());return i instanceof BasePath?i.forEach(a=>{s.push(a)}):s.push(i),this.construct(s)}limit(){return this.offset+this.length}popFirst(i){return i=i===void 0?1:i,this.construct(this.segments,this.offset+i,this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return this.length===0}isPrefixOf(i){if(i.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==i.get(s))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==i.get(s))return!1;return!0}forEach(i){for(let s=this.offset,a=this.limit();s<a;s++)i(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,s){const a=Math.min(i.length,s.length);for(let o=0;o<a;o++){const et=i.get(o),ot=s.get(o);if(et<ot)return-1;if(et>ot)return 1}return i.length<s.length?-1:i.length>s.length?1:0}}class ResourcePath extends BasePath{construct(i,s,a){return new ResourcePath(i,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...i){const s=[];for(const a of i){if(a.indexOf("//")>=0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter(o=>o.length>0))}return new ResourcePath(s)}static emptyPath(){return new ResourcePath([])}}const C$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(i,s,a){return new FieldPath$1(i,s,a)}static isValidIdentifier(i){return C$1.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(i){const s=[];let a="",o=0;const et=()=>{if(a.length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let ot=!1;for(;o<i.length;){const ft=i[o];if(ft==="\\"){if(o+1===i.length)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const dt=i[o+1];if(dt!=="\\"&&dt!=="."&&dt!=="`")throw new FirestoreError(D$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);a+=dt,o+=2}else ft==="`"?(ot=!ot,o++):ft!=="."||ot?(a+=ft,o++):(et(),o++)}if(et(),ot)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new FieldPath$1(s)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(i){this.path=i}static fromPath(i){return new DocumentKey(ResourcePath.fromString(i))}static fromName(i){return new DocumentKey(ResourcePath.fromString(i).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return i!==null&&ResourcePath.comparator(this.path,i.path)===0}toString(){return this.path.toString()}static comparator(i,s){return ResourcePath.comparator(i.path,s.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new DocumentKey(new ResourcePath(i.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(e,i){const s=e.toTimestamp().seconds,a=e.toTimestamp().nanoseconds+1,o=SnapshotVersion.fromTimestamp(a===1e9?new Timestamp(s+1,0):new Timestamp(s,a));return new IndexOffset(o,DocumentKey.empty(),i)}function __PRIVATE_newIndexOffsetFromDocument(e){return new IndexOffset(e.readTime,e.key,-1)}class IndexOffset{constructor(i,s,a){this.readTime=i,this.documentKey=s,this.largestBatchId=a}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(e,i){let s=e.readTime.compareTo(i.readTime);return s!==0?s:(s=DocumentKey.comparator(e.documentKey,i.documentKey),s!==0?s:__PRIVATE_primitiveComparator(e.largestBatchId,i.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(e){if(e.code!==D$1.FAILED_PRECONDITION||e.message!==v$2)throw e;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(i){return this.next(void 0,i)}next(i,s){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(i,this.result):new PersistencePromise((a,o)=>{this.nextCallback=et=>{this.wrapSuccess(i,et).next(a,o)},this.catchCallback=et=>{this.wrapFailure(s,et).next(a,o)}})}toPromise(){return new Promise((i,s)=>{this.next(i,s)})}wrapUserFunction(i){try{const s=i();return s instanceof PersistencePromise?s:PersistencePromise.resolve(s)}catch(s){return PersistencePromise.reject(s)}}wrapSuccess(i,s){return i?this.wrapUserFunction(()=>i(s)):PersistencePromise.resolve(s)}wrapFailure(i,s){return i?this.wrapUserFunction(()=>i(s)):PersistencePromise.reject(s)}static resolve(i){return new PersistencePromise((s,a)=>{s(i)})}static reject(i){return new PersistencePromise((s,a)=>{a(i)})}static waitFor(i){return new PersistencePromise((s,a)=>{let o=0,et=0,ot=!1;i.forEach(ft=>{++o,ft.next(()=>{++et,ot&&et===o&&s()},dt=>a(dt))}),ot=!0,et===o&&s()})}static or(i){let s=PersistencePromise.resolve(!1);for(const a of i)s=s.next(o=>o?PersistencePromise.resolve(o):a());return s}static forEach(i,s){const a=[];return i.forEach((o,et)=>{a.push(s.call(this,o,et))}),this.waitFor(a)}static mapArray(i,s){return new PersistencePromise((a,o)=>{const et=i.length,ot=new Array(et);let ft=0;for(let dt=0;dt<et;dt++){const mt=dt;s(i[mt]).next(gt=>{ot[mt]=gt,++ft,ft===et&&a(ot)},gt=>o(gt))}})}static doWhile(i,s){return new PersistencePromise((a,o)=>{const et=()=>{i()===!0?s().next(()=>{et()},o):a()};et()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_SimpleDbTransaction{constructor(i,s){this.action=i,this.transaction=s,this.aborted=!1,this.V=new __PRIVATE_Deferred,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{s.error?this.V.reject(new __PRIVATE_IndexedDbTransactionError(i,s.error)):this.V.resolve()},this.transaction.onerror=a=>{const o=__PRIVATE_checkForAndReportiOSError(a.target.error);this.V.reject(new __PRIVATE_IndexedDbTransactionError(i,o))}}static open(i,s,a,o){try{return new __PRIVATE_SimpleDbTransaction(s,i.transaction(o,a))}catch(et){throw new __PRIVATE_IndexedDbTransactionError(s,et)}}get m(){return this.V.promise}abort(i){i&&this.V.reject(i),this.aborted||(__PRIVATE_logDebug("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const i=this.transaction;this.aborted||typeof i.commit!="function"||i.commit()}store(i){const s=this.transaction.objectStore(i);return new __PRIVATE_SimpleDbStore(s)}}class __PRIVATE_SimpleDb{constructor(i,s,a){this.name=i,this.version=s,this.p=a,__PRIVATE_SimpleDb.S(getUA())===12.2&&__PRIVATE_logError("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return __PRIVATE_logDebug("SimpleDb","Removing database:",i),__PRIVATE_wrapRequest(window.indexedDB.deleteDatabase(i)).toPromise()}static D(){if(!isIndexedDBAvailable())return!1;if(__PRIVATE_SimpleDb.C())return!0;const i=getUA(),s=__PRIVATE_SimpleDb.S(i),a=0<s&&s<10,o=__PRIVATE_SimpleDb.v(i),et=0<o&&o<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||a||et)}static C(){var i;return typeof process<"u"&&((i=process.__PRIVATE_env)===null||i===void 0?void 0:i.F)==="YES"}static M(i,s){return i.store(s)}static S(i){const s=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static v(i){const s=i.match(/Android ([\d.]+)/i),a=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(a)}async O(i){return this.db||(__PRIVATE_logDebug("SimpleDb","Opening database:",this.name),this.db=await new Promise((s,a)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=et=>{const ot=et.target.result;s(ot)},o.onblocked=()=>{a(new __PRIVATE_IndexedDbTransactionError(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=et=>{const ot=et.target.error;ot.name==="VersionError"?a(new FirestoreError(D$1.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):ot.name==="InvalidStateError"?a(new FirestoreError(D$1.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+ot)):a(new __PRIVATE_IndexedDbTransactionError(i,ot))},o.onupgradeneeded=et=>{__PRIVATE_logDebug("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',et.oldVersion);const ot=et.target.result;this.p.N(ot,o.transaction,et.oldVersion,this.version).next(()=>{__PRIVATE_logDebug("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=s=>this.B(s)),this.db}L(i){this.B=i,this.db&&(this.db.onversionchange=s=>i(s))}async runTransaction(i,s,a,o){const et=s==="readonly";let ot=0;for(;;){++ot;try{this.db=await this.O(i);const ft=__PRIVATE_SimpleDbTransaction.open(this.db,i,et?"readonly":"readwrite",a),dt=o(ft).next(mt=>(ft.g(),mt)).catch(mt=>(ft.abort(mt),PersistencePromise.reject(mt))).toPromise();return dt.catch(()=>{}),await ft.m,dt}catch(ft){const dt=ft,mt=dt.name!=="FirebaseError"&&ot<3;if(__PRIVATE_logDebug("SimpleDb","Transaction failed with error:",dt.message,"Retrying:",mt),this.close(),!mt)return Promise.reject(dt)}}}close(){this.db&&this.db.close(),this.db=void 0}}class __PRIVATE_IterationController{constructor(i){this.k=i,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(i){this.k=i}done(){this.q=!0}U(i){this.K=i}delete(){return __PRIVATE_wrapRequest(this.k.delete())}}class __PRIVATE_IndexedDbTransactionError extends FirestoreError{constructor(i,s){super(D$1.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function __PRIVATE_isIndexedDbTransactionError(e){return e.name==="IndexedDbTransactionError"}class __PRIVATE_SimpleDbStore{constructor(i){this.store=i}put(i,s){let a;return s!==void 0?(__PRIVATE_logDebug("SimpleDb","PUT",this.store.name,i,s),a=this.store.put(s,i)):(__PRIVATE_logDebug("SimpleDb","PUT",this.store.name,"<auto-key>",i),a=this.store.put(i)),__PRIVATE_wrapRequest(a)}add(i){return __PRIVATE_logDebug("SimpleDb","ADD",this.store.name,i,i),__PRIVATE_wrapRequest(this.store.add(i))}get(i){return __PRIVATE_wrapRequest(this.store.get(i)).next(s=>(s===void 0&&(s=null),__PRIVATE_logDebug("SimpleDb","GET",this.store.name,i,s),s))}delete(i){return __PRIVATE_logDebug("SimpleDb","DELETE",this.store.name,i),__PRIVATE_wrapRequest(this.store.delete(i))}count(){return __PRIVATE_logDebug("SimpleDb","COUNT",this.store.name),__PRIVATE_wrapRequest(this.store.count())}W(i,s){const a=this.options(i,s),o=a.index?this.store.index(a.index):this.store;if(typeof o.getAll=="function"){const et=o.getAll(a.range);return new PersistencePromise((ot,ft)=>{et.onerror=dt=>{ft(dt.target.error)},et.onsuccess=dt=>{ot(dt.target.result)}})}{const et=this.cursor(a),ot=[];return this.G(et,(ft,dt)=>{ot.push(dt)}).next(()=>ot)}}j(i,s){const a=this.store.getAll(i,s===null?void 0:s);return new PersistencePromise((o,et)=>{a.onerror=ot=>{et(ot.target.error)},a.onsuccess=ot=>{o(ot.target.result)}})}H(i,s){__PRIVATE_logDebug("SimpleDb","DELETE ALL",this.store.name);const a=this.options(i,s);a.J=!1;const o=this.cursor(a);return this.G(o,(et,ot,ft)=>ft.delete())}Y(i,s){let a;s?a=i:(a={},s=i);const o=this.cursor(a);return this.G(o,s)}Z(i){const s=this.cursor({});return new PersistencePromise((a,o)=>{s.onerror=et=>{const ot=__PRIVATE_checkForAndReportiOSError(et.target.error);o(ot)},s.onsuccess=et=>{const ot=et.target.result;ot?i(ot.primaryKey,ot.value).next(ft=>{ft?ot.continue():a()}):a()}})}G(i,s){const a=[];return new PersistencePromise((o,et)=>{i.onerror=ot=>{et(ot.target.error)},i.onsuccess=ot=>{const ft=ot.target.result;if(!ft)return void o();const dt=new __PRIVATE_IterationController(ft),mt=s(ft.primaryKey,ft.value,dt);if(mt instanceof PersistencePromise){const gt=mt.catch(bt=>(dt.done(),PersistencePromise.reject(bt)));a.push(gt)}dt.isDone?o():dt.$===null?ft.continue():ft.continue(dt.$)}}).next(()=>PersistencePromise.waitFor(a))}options(i,s){let a;return i!==void 0&&(typeof i=="string"?a=i:s=i),{index:a,range:s}}cursor(i){let s="next";if(i.reverse&&(s="prev"),i.index){const a=this.store.index(i.index);return i.J?a.openKeyCursor(i.range,s):a.openCursor(i.range,s)}return this.store.openCursor(i.range,s)}}function __PRIVATE_wrapRequest(e){return new PersistencePromise((i,s)=>{e.onsuccess=a=>{const o=a.target.result;i(o)},e.onerror=a=>{const o=__PRIVATE_checkForAndReportiOSError(a.target.error);s(o)}})}let F$1=!1;function __PRIVATE_checkForAndReportiOSError(e){const i=__PRIVATE_SimpleDb.S(getUA());if(i>=12.2&&i<13){const s="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(s)>=0){const a=new FirestoreError("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return F$1||(F$1=!0,setTimeout(()=>{throw a},0)),a}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=a=>this.se(a),this.oe=a=>s.writeSequenceNumber(a))}se(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.oe&&this.oe(i),i}}__PRIVATE_ListenSequence._e=-1;function __PRIVATE_isNullOrUndefined(e){return e==null}function __PRIVATE_isNegativeZero(e){return e===0&&1/e==-1/0}function isSafeInteger(e){return typeof e=="number"&&Number.isInteger(e)&&!__PRIVATE_isNegativeZero(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(e){let i=0;for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&i++;return i}function forEach(e,i){for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&i(s,e[s])}function isEmpty(e){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(i,s){this.comparator=i,this.root=s||LLRBNode.EMPTY}insert(i,s){return new SortedMap(this.comparator,this.root.insert(i,s,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(i){return new SortedMap(this.comparator,this.root.remove(i,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(i){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(i,s.key);if(a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(i){let s=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(i,a.key);if(o===0)return s+a.left.size;o<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((s,a)=>(i(s,a),!1))}toString(){const i=[];return this.inorderTraversal((s,a)=>(i.push(`${s}:${a}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new SortedMapIterator(this.root,i,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new SortedMapIterator(this.root,i,this.comparator,!0)}}class SortedMapIterator{constructor(i,s,a,o){this.isReverse=o,this.nodeStack=[];let et=1;for(;!i.isEmpty();)if(et=s?a(i.key,s):1,s&&o&&(et*=-1),et<0)i=this.isReverse?i.left:i.right;else{if(et===0){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const s={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class LLRBNode{constructor(i,s,a,o,et){this.key=i,this.value=s,this.color=a??LLRBNode.RED,this.left=o??LLRBNode.EMPTY,this.right=et??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,s,a,o,et){return new LLRBNode(i??this.key,s??this.value,a??this.color,o??this.left,et??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,s,a){let o=this;const et=a(i,o.key);return o=et<0?o.copy(null,null,null,o.left.insert(i,s,a),null):et===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(i,s,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,s){let a,o=this;if(s(i,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(i,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(i,o.key)===0){if(o.right.isEmpty())return LLRBNode.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(i,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,s)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const i=this.left.check();if(i!==this.right.check())throw fail();return i+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(i,s,a,o,et){return this}insert(i,s,a){return new LLRBNode(i,s)}remove(i,s){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(i){this.comparator=i,this.data=new SortedMap(this.comparator)}has(i){return this.data.get(i)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((s,a)=>(i(s),!1))}forEachInRange(i,s){const a=this.data.getIteratorFrom(i[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,i[1])>=0)return;s(o.key)}}forEachWhile(i,s){let a;for(a=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!i(a.getNext().key))return}firstAfterOrEqual(i){const s=this.data.getIteratorFrom(i);return s.hasNext()?s.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(i){return new SortedSetIterator(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let s=this;return s.size<i.size&&(s=i,i=this),i.forEach(a=>{s=s.add(a)}),s}isEqual(i){if(!(i instanceof SortedSet)||this.size!==i.size)return!1;const s=this.data.getIterator(),a=i.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,et=a.getNext().key;if(this.comparator(o,et)!==0)return!1}return!0}toArray(){const i=[];return this.forEach(s=>{i.push(s)}),i}toString(){const i=[];return this.forEach(s=>i.push(s)),"SortedSet("+i.toString()+")"}copy(i){const s=new SortedSet(this.comparator);return s.data=i,s}}class SortedSetIterator{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(i){this.fields=i,i.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(i){let s=new SortedSet(FieldPath$1.comparator);for(const a of this.fields)s=s.add(a);for(const a of i)s=s.add(a);return new FieldMask(s.toArray())}covers(i){for(const s of this.fields)if(s.isPrefixOf(i))return!0;return!1}isEqual(i){return __PRIVATE_arrayEquals(this.fields,i.fields,(s,a)=>s.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(i){this.binaryString=i}static fromBase64String(i){const s=function(o){try{return atob(o)}catch(et){throw typeof DOMException<"u"&&et instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+et):et}}(i);return new ByteString(s)}static fromUint8Array(i){const s=function(o){let et="";for(let ot=0;ot<o.length;++ot)et+=String.fromCharCode(o[ot]);return et}(i);return new ByteString(s)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const a=new Uint8Array(s.length);for(let o=0;o<s.length;o++)a[o]=s.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return __PRIVATE_primitiveComparator(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ee$1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(e){if(__PRIVATE_hardAssert(!!e),typeof e=="string"){let i=0;const s=ee$1.exec(e);if(__PRIVATE_hardAssert(!!s),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),i=Number(o)}const a=new Date(e);return{seconds:Math.floor(a.getTime()/1e3),nanos:i}}return{seconds:__PRIVATE_normalizeNumber(e.seconds),nanos:__PRIVATE_normalizeNumber(e.nanos)}}function __PRIVATE_normalizeNumber(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function __PRIVATE_normalizeByteString(e){return typeof e=="string"?ByteString.fromBase64String(e):ByteString.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(e){var i,s;return((s=(((i=e==null?void 0:e.mapValue)===null||i===void 0?void 0:i.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(e){const i=e.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(i)?__PRIVATE_getPreviousValue(i):i}function __PRIVATE_getLocalWriteTime(e){const i=__PRIVATE_normalizeTimestamp(e.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(i.seconds,i.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(i,s,a,o,et,ot,ft,dt,mt){this.databaseId=i,this.appId=s,this.persistenceKey=a,this.host=o,this.ssl=et,this.forceLongPolling=ot,this.autoDetectLongPolling=ft,this.longPollingOptions=dt,this.useFetchStreams=mt}}class DatabaseId{constructor(i,s){this.projectId=i,this.database=s||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(i){return i instanceof DatabaseId&&i.projectId===this.projectId&&i.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te$1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?__PRIVATE_isServerTimestamp(e)?4:__PRIVATE_isMaxValue(e)?9007199254740991:10:fail()}function __PRIVATE_valueEquals(e,i){if(e===i)return!0;const s=__PRIVATE_typeOrder(e);if(s!==__PRIVATE_typeOrder(i))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===i.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(e).isEqual(__PRIVATE_getLocalWriteTime(i));case 3:return function(o,et){if(typeof o.timestampValue=="string"&&typeof et.timestampValue=="string"&&o.timestampValue.length===et.timestampValue.length)return o.timestampValue===et.timestampValue;const ot=__PRIVATE_normalizeTimestamp(o.timestampValue),ft=__PRIVATE_normalizeTimestamp(et.timestampValue);return ot.seconds===ft.seconds&&ot.nanos===ft.nanos}(e,i);case 5:return e.stringValue===i.stringValue;case 6:return function(o,et){return __PRIVATE_normalizeByteString(o.bytesValue).isEqual(__PRIVATE_normalizeByteString(et.bytesValue))}(e,i);case 7:return e.referenceValue===i.referenceValue;case 8:return function(o,et){return __PRIVATE_normalizeNumber(o.geoPointValue.latitude)===__PRIVATE_normalizeNumber(et.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(o.geoPointValue.longitude)===__PRIVATE_normalizeNumber(et.geoPointValue.longitude)}(e,i);case 2:return function(o,et){if("integerValue"in o&&"integerValue"in et)return __PRIVATE_normalizeNumber(o.integerValue)===__PRIVATE_normalizeNumber(et.integerValue);if("doubleValue"in o&&"doubleValue"in et){const ot=__PRIVATE_normalizeNumber(o.doubleValue),ft=__PRIVATE_normalizeNumber(et.doubleValue);return ot===ft?__PRIVATE_isNegativeZero(ot)===__PRIVATE_isNegativeZero(ft):isNaN(ot)&&isNaN(ft)}return!1}(e,i);case 9:return __PRIVATE_arrayEquals(e.arrayValue.values||[],i.arrayValue.values||[],__PRIVATE_valueEquals);case 10:return function(o,et){const ot=o.mapValue.fields||{},ft=et.mapValue.fields||{};if(__PRIVATE_objectSize(ot)!==__PRIVATE_objectSize(ft))return!1;for(const dt in ot)if(ot.hasOwnProperty(dt)&&(ft[dt]===void 0||!__PRIVATE_valueEquals(ot[dt],ft[dt])))return!1;return!0}(e,i);default:return fail()}}function __PRIVATE_arrayValueContains(e,i){return(e.values||[]).find(s=>__PRIVATE_valueEquals(s,i))!==void 0}function __PRIVATE_valueCompare(e,i){if(e===i)return 0;const s=__PRIVATE_typeOrder(e),a=__PRIVATE_typeOrder(i);if(s!==a)return __PRIVATE_primitiveComparator(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(e.booleanValue,i.booleanValue);case 2:return function(et,ot){const ft=__PRIVATE_normalizeNumber(et.integerValue||et.doubleValue),dt=__PRIVATE_normalizeNumber(ot.integerValue||ot.doubleValue);return ft<dt?-1:ft>dt?1:ft===dt?0:isNaN(ft)?isNaN(dt)?0:-1:1}(e,i);case 3:return __PRIVATE_compareTimestamps(e.timestampValue,i.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(e),__PRIVATE_getLocalWriteTime(i));case 5:return __PRIVATE_primitiveComparator(e.stringValue,i.stringValue);case 6:return function(et,ot){const ft=__PRIVATE_normalizeByteString(et),dt=__PRIVATE_normalizeByteString(ot);return ft.compareTo(dt)}(e.bytesValue,i.bytesValue);case 7:return function(et,ot){const ft=et.split("/"),dt=ot.split("/");for(let mt=0;mt<ft.length&&mt<dt.length;mt++){const gt=__PRIVATE_primitiveComparator(ft[mt],dt[mt]);if(gt!==0)return gt}return __PRIVATE_primitiveComparator(ft.length,dt.length)}(e.referenceValue,i.referenceValue);case 8:return function(et,ot){const ft=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(et.latitude),__PRIVATE_normalizeNumber(ot.latitude));return ft!==0?ft:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(et.longitude),__PRIVATE_normalizeNumber(ot.longitude))}(e.geoPointValue,i.geoPointValue);case 9:return function(et,ot){const ft=et.values||[],dt=ot.values||[];for(let mt=0;mt<ft.length&&mt<dt.length;++mt){const gt=__PRIVATE_valueCompare(ft[mt],dt[mt]);if(gt)return gt}return __PRIVATE_primitiveComparator(ft.length,dt.length)}(e.arrayValue,i.arrayValue);case 10:return function(et,ot){if(et===te$1.mapValue&&ot===te$1.mapValue)return 0;if(et===te$1.mapValue)return 1;if(ot===te$1.mapValue)return-1;const ft=et.fields||{},dt=Object.keys(ft),mt=ot.fields||{},gt=Object.keys(mt);dt.sort(),gt.sort();for(let bt=0;bt<dt.length&&bt<gt.length;++bt){const vt=__PRIVATE_primitiveComparator(dt[bt],gt[bt]);if(vt!==0)return vt;const Pt=__PRIVATE_valueCompare(ft[dt[bt]],mt[gt[bt]]);if(Pt!==0)return Pt}return __PRIVATE_primitiveComparator(dt.length,gt.length)}(e.mapValue,i.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(e,i){if(typeof e=="string"&&typeof i=="string"&&e.length===i.length)return __PRIVATE_primitiveComparator(e,i);const s=__PRIVATE_normalizeTimestamp(e),a=__PRIVATE_normalizeTimestamp(i),o=__PRIVATE_primitiveComparator(s.seconds,a.seconds);return o!==0?o:__PRIVATE_primitiveComparator(s.nanos,a.nanos)}function canonicalId(e){return __PRIVATE_canonifyValue(e)}function __PRIVATE_canonifyValue(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(s){const a=__PRIVATE_normalizeTimestamp(s);return`time(${a.seconds},${a.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(s){return __PRIVATE_normalizeByteString(s).toBase64()}(e.bytesValue):"referenceValue"in e?function(s){return DocumentKey.fromName(s).toString()}(e.referenceValue):"geoPointValue"in e?function(s){return`geo(${s.latitude},${s.longitude})`}(e.geoPointValue):"arrayValue"in e?function(s){let a="[",o=!0;for(const et of s.values||[])o?o=!1:a+=",",a+=__PRIVATE_canonifyValue(et);return a+"]"}(e.arrayValue):"mapValue"in e?function(s){const a=Object.keys(s.fields||{}).sort();let o="{",et=!0;for(const ot of a)et?et=!1:o+=",",o+=`${ot}:${__PRIVATE_canonifyValue(s.fields[ot])}`;return o+"}"}(e.mapValue):fail()}function isInteger(e){return!!e&&"integerValue"in e}function isArray$1(e){return!!e&&"arrayValue"in e}function __PRIVATE_isNullValue(e){return!!e&&"nullValue"in e}function __PRIVATE_isNanValue(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function __PRIVATE_isMapValue(e){return!!e&&"mapValue"in e}function __PRIVATE_deepClone(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const i={mapValue:{fields:{}}};return forEach(e.mapValue.fields,(s,a)=>i.mapValue.fields[s]=__PRIVATE_deepClone(a)),i}if(e.arrayValue){const i={arrayValue:{values:[]}};for(let s=0;s<(e.arrayValue.values||[]).length;++s)i.arrayValue.values[s]=__PRIVATE_deepClone(e.arrayValue.values[s]);return i}return Object.assign({},e)}function __PRIVATE_isMaxValue(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(i){this.value=i}static empty(){return new ObjectValue({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let s=this.value;for(let a=0;a<i.length-1;++a)if(s=(s.mapValue.fields||{})[i.get(a)],!__PRIVATE_isMapValue(s))return null;return s=(s.mapValue.fields||{})[i.lastSegment()],s||null}}set(i,s){this.getFieldsMap(i.popLast())[i.lastSegment()]=__PRIVATE_deepClone(s)}setAll(i){let s=FieldPath$1.emptyPath(),a={},o=[];i.forEach((ot,ft)=>{if(!s.isImmediateParentOf(ft)){const dt=this.getFieldsMap(s);this.applyChanges(dt,a,o),a={},o=[],s=ft.popLast()}ot?a[ft.lastSegment()]=__PRIVATE_deepClone(ot):o.push(ft.lastSegment())});const et=this.getFieldsMap(s);this.applyChanges(et,a,o)}delete(i){const s=this.field(i.popLast());__PRIVATE_isMapValue(s)&&s.mapValue.fields&&delete s.mapValue.fields[i.lastSegment()]}isEqual(i){return __PRIVATE_valueEquals(this.value,i.value)}getFieldsMap(i){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<i.length;++a){let o=s.mapValue.fields[i.get(a)];__PRIVATE_isMapValue(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[i.get(a)]=o),s=o}return s.mapValue.fields}applyChanges(i,s,a){forEach(s,(o,et)=>i[o]=et);for(const o of a)delete i[o]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(e){const i=[];return forEach(e.fields,(s,a)=>{const o=new FieldPath$1([s]);if(__PRIVATE_isMapValue(a)){const et=__PRIVATE_extractFieldMask(a.mapValue).fields;if(et.length===0)i.push(o);else for(const ot of et)i.push(o.child(ot))}else i.push(o)}),new FieldMask(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(i,s,a,o,et,ot,ft){this.key=i,this.documentType=s,this.version=a,this.readTime=o,this.createTime=et,this.data=ot,this.documentState=ft}static newInvalidDocument(i){return new MutableDocument(i,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(i,s,a,o){return new MutableDocument(i,1,s,SnapshotVersion.min(),a,o,0)}static newNoDocument(i,s){return new MutableDocument(i,2,s,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(i,s){return new MutableDocument(i,3,s,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(i,s){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=i),this.version=i,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(i){return i instanceof MutableDocument&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(i,s){this.position=i,this.inclusive=s}}function __PRIVATE_boundCompareToDocument(e,i,s){let a=0;for(let o=0;o<e.position.length;o++){const et=i[o],ot=e.position[o];if(et.field.isKeyField()?a=DocumentKey.comparator(DocumentKey.fromName(ot.referenceValue),s.key):a=__PRIVATE_valueCompare(ot,s.data.field(et.field)),et.dir==="desc"&&(a*=-1),a!==0)break}return a}function __PRIVATE_boundEquals(e,i){if(e===null)return i===null;if(i===null||e.inclusive!==i.inclusive||e.position.length!==i.position.length)return!1;for(let s=0;s<e.position.length;s++)if(!__PRIVATE_valueEquals(e.position[s],i.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(i,s="asc"){this.field=i,this.dir=s}}function __PRIVATE_orderByEquals(e,i){return e.dir===i.dir&&e.field.isEqual(i.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(i,s,a){super(),this.field=i,this.op=s,this.value=a}static create(i,s,a){return i.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(i,s,a):new __PRIVATE_KeyFieldFilter(i,s,a):s==="array-contains"?new __PRIVATE_ArrayContainsFilter(i,a):s==="in"?new __PRIVATE_InFilter(i,a):s==="not-in"?new __PRIVATE_NotInFilter(i,a):s==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(i,a):new FieldFilter(i,s,a)}static createKeyFieldInFilter(i,s,a){return s==="in"?new __PRIVATE_KeyFieldInFilter(i,a):new __PRIVATE_KeyFieldNotInFilter(i,a)}matches(i){const s=i.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(__PRIVATE_valueCompare(s,this.value)):s!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(s)&&this.matchesComparison(__PRIVATE_valueCompare(s,this.value))}matchesComparison(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return i===0;case"!=":return i!==0;case">":return i>0;case">=":return i>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(i,s){super(),this.filters=i,this.op=s,this.ue=null}static create(i,s){return new CompositeFilter(i,s)}matches(i){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(s=>!s.matches(i))===void 0:this.filters.find(s=>s.matches(i))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((i,s)=>i.concat(s.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(e){return e.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(e){return __PRIVATE_compositeFilterIsFlat(e)&&__PRIVATE_compositeFilterIsConjunction(e)}function __PRIVATE_compositeFilterIsFlat(e){for(const i of e.filters)if(i instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(e){if(e instanceof FieldFilter)return e.field.canonicalString()+e.op.toString()+canonicalId(e.value);if(__PRIVATE_compositeFilterIsFlatConjunction(e))return e.filters.map(i=>__PRIVATE_canonifyFilter(i)).join(",");{const i=e.filters.map(s=>__PRIVATE_canonifyFilter(s)).join(",");return`${e.op}(${i})`}}function __PRIVATE_filterEquals(e,i){return e instanceof FieldFilter?function(a,o){return o instanceof FieldFilter&&a.op===o.op&&a.field.isEqual(o.field)&&__PRIVATE_valueEquals(a.value,o.value)}(e,i):e instanceof CompositeFilter?function(a,o){return o instanceof CompositeFilter&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((et,ot,ft)=>et&&__PRIVATE_filterEquals(ot,o.filters[ft]),!0):!1}(e,i):void fail()}function __PRIVATE_stringifyFilter(e){return e instanceof FieldFilter?function(s){return`${s.field.canonicalString()} ${s.op} ${canonicalId(s.value)}`}(e):e instanceof CompositeFilter?function(s){return s.op.toString()+" {"+s.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(e):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(i,s,a){super(i,s,a),this.key=DocumentKey.fromName(a.referenceValue)}matches(i){const s=DocumentKey.comparator(i.key,this.key);return this.matchesComparison(s)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(i,s){super(i,"in",s),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",s)}matches(i){return this.keys.some(s=>s.isEqual(i.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(i,s){super(i,"not-in",s),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",s)}matches(i){return!this.keys.some(s=>s.isEqual(i.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(e,i){var s;return(((s=i.arrayValue)===null||s===void 0?void 0:s.values)||[]).map(a=>DocumentKey.fromName(a.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(i,s){super(i,"array-contains",s)}matches(i){const s=i.data.field(this.field);return isArray$1(s)&&__PRIVATE_arrayValueContains(s.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(i,s){super(i,"in",s)}matches(i){const s=i.data.field(this.field);return s!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,s)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(i,s){super(i,"not-in",s)}matches(i){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=i.data.field(this.field);return s!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,s)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(i,s){super(i,"array-contains-any",s)}matches(i){const s=i.data.field(this.field);return!(!isArray$1(s)||!s.arrayValue.values)&&s.arrayValue.values.some(a=>__PRIVATE_arrayValueContains(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(i,s=null,a=[],o=[],et=null,ot=null,ft=null){this.path=i,this.collectionGroup=s,this.orderBy=a,this.filters=o,this.limit=et,this.startAt=ot,this.endAt=ft,this.ce=null}}function __PRIVATE_newTarget(e,i=null,s=[],a=[],o=null,et=null,ot=null){return new __PRIVATE_TargetImpl(e,i,s,a,o,et,ot)}function __PRIVATE_canonifyTarget(e){const i=__PRIVATE_debugCast(e);if(i.ce===null){let s=i.path.canonicalString();i.collectionGroup!==null&&(s+="|cg:"+i.collectionGroup),s+="|f:",s+=i.filters.map(a=>__PRIVATE_canonifyFilter(a)).join(","),s+="|ob:",s+=i.orderBy.map(a=>function(et){return et.field.canonicalString()+et.dir}(a)).join(","),__PRIVATE_isNullOrUndefined(i.limit)||(s+="|l:",s+=i.limit),i.startAt&&(s+="|lb:",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(a=>canonicalId(a)).join(",")),i.endAt&&(s+="|ub:",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(a=>canonicalId(a)).join(",")),i.ce=s}return i.ce}function __PRIVATE_targetEquals(e,i){if(e.limit!==i.limit||e.orderBy.length!==i.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!__PRIVATE_orderByEquals(e.orderBy[s],i.orderBy[s]))return!1;if(e.filters.length!==i.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if(!__PRIVATE_filterEquals(e.filters[s],i.filters[s]))return!1;return e.collectionGroup===i.collectionGroup&&!!e.path.isEqual(i.path)&&!!__PRIVATE_boundEquals(e.startAt,i.startAt)&&__PRIVATE_boundEquals(e.endAt,i.endAt)}function __PRIVATE_targetIsDocumentTarget(e){return DocumentKey.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(i,s=null,a=[],o=[],et=null,ot="F",ft=null,dt=null){this.path=i,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=o,this.limit=et,this.limitType=ot,this.startAt=ft,this.endAt=dt,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(e,i,s,a,o,et,ot,ft){return new __PRIVATE_QueryImpl(e,i,s,a,o,et,ot,ft)}function __PRIVATE_newQueryForPath(e){return new __PRIVATE_QueryImpl(e)}function __PRIVATE_queryMatchesAllDocuments(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(e){return e.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(e){const i=__PRIVATE_debugCast(e);if(i.le===null){i.le=[];const s=new Set;for(const et of i.explicitOrderBy)i.le.push(et),s.add(et.field.canonicalString());const a=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";(function(ot){let ft=new SortedSet(FieldPath$1.comparator);return ot.filters.forEach(dt=>{dt.getFlattenedFilters().forEach(mt=>{mt.isInequality()&&(ft=ft.add(mt.field))})}),ft})(i).forEach(et=>{s.has(et.canonicalString())||et.isKeyField()||i.le.push(new OrderBy(et,a))}),s.has(FieldPath$1.keyField().canonicalString())||i.le.push(new OrderBy(FieldPath$1.keyField(),a))}return i.le}function __PRIVATE_queryToTarget(e){const i=__PRIVATE_debugCast(e);return i.he||(i.he=__PRIVATE__queryToTarget(i,__PRIVATE_queryNormalizedOrderBy(e))),i.he}function __PRIVATE__queryToTarget(e,i){if(e.limitType==="F")return __PRIVATE_newTarget(e.path,e.collectionGroup,i,e.filters,e.limit,e.startAt,e.endAt);{i=i.map(o=>{const et=o.dir==="desc"?"asc":"desc";return new OrderBy(o.field,et)});const s=e.endAt?new Bound(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Bound(e.startAt.position,e.startAt.inclusive):null;return __PRIVATE_newTarget(e.path,e.collectionGroup,i,e.filters,e.limit,s,a)}}function __PRIVATE_queryWithLimit(e,i,s){return new __PRIVATE_QueryImpl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),i,s,e.startAt,e.endAt)}function __PRIVATE_queryEquals(e,i){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(e),__PRIVATE_queryToTarget(i))&&e.limitType===i.limitType}function __PRIVATE_canonifyQuery(e){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(e))}|lt:${e.limitType}`}function __PRIVATE_stringifyQuery(e){return`Query(target=${function(s){let a=s.path.canonicalString();return s.collectionGroup!==null&&(a+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(a+=`, filters: [${s.filters.map(o=>__PRIVATE_stringifyFilter(o)).join(", ")}]`),__PRIVATE_isNullOrUndefined(s.limit)||(a+=", limit: "+s.limit),s.orderBy.length>0&&(a+=`, orderBy: [${s.orderBy.map(o=>function(ot){return`${ot.field.canonicalString()} (${ot.dir})`}(o)).join(", ")}]`),s.startAt&&(a+=", startAt: ",a+=s.startAt.inclusive?"b:":"a:",a+=s.startAt.position.map(o=>canonicalId(o)).join(",")),s.endAt&&(a+=", endAt: ",a+=s.endAt.inclusive?"a:":"b:",a+=s.endAt.position.map(o=>canonicalId(o)).join(",")),`Target(${a})`}(__PRIVATE_queryToTarget(e))}; limitType=${e.limitType})`}function __PRIVATE_queryMatches(e,i){return i.isFoundDocument()&&function(a,o){const et=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(et):DocumentKey.isDocumentKey(a.path)?a.path.isEqual(et):a.path.isImmediateParentOf(et)}(e,i)&&function(a,o){for(const et of __PRIVATE_queryNormalizedOrderBy(a))if(!et.field.isKeyField()&&o.data.field(et.field)===null)return!1;return!0}(e,i)&&function(a,o){for(const et of a.filters)if(!et.matches(o))return!1;return!0}(e,i)&&function(a,o){return!(a.startAt&&!function(ot,ft,dt){const mt=__PRIVATE_boundCompareToDocument(ot,ft,dt);return ot.inclusive?mt<=0:mt<0}(a.startAt,__PRIVATE_queryNormalizedOrderBy(a),o)||a.endAt&&!function(ot,ft,dt){const mt=__PRIVATE_boundCompareToDocument(ot,ft,dt);return ot.inclusive?mt>=0:mt>0}(a.endAt,__PRIVATE_queryNormalizedOrderBy(a),o))}(e,i)}function __PRIVATE_queryCollectionGroup(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function __PRIVATE_newQueryComparator(e){return(i,s)=>{let a=!1;for(const o of __PRIVATE_queryNormalizedOrderBy(e)){const et=__PRIVATE_compareDocs(o,i,s);if(et!==0)return et;a=a||o.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(e,i,s){const a=e.field.isKeyField()?DocumentKey.comparator(i.key,s.key):function(et,ot,ft){const dt=ot.data.field(et),mt=ft.data.field(et);return dt!==null&&mt!==null?__PRIVATE_valueCompare(dt,mt):fail()}(e.field,i,s);switch(e.dir){case"asc":return a;case"desc":return-1*a;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(i,s){this.mapKeyFn=i,this.equalsFn=s,this.inner={},this.innerSize=0}get(i){const s=this.mapKeyFn(i),a=this.inner[s];if(a!==void 0){for(const[o,et]of a)if(this.equalsFn(o,i))return et}}has(i){return this.get(i)!==void 0}set(i,s){const a=this.mapKeyFn(i),o=this.inner[a];if(o===void 0)return this.inner[a]=[[i,s]],void this.innerSize++;for(let et=0;et<o.length;et++)if(this.equalsFn(o[et][0],i))return void(o[et]=[i,s]);o.push([i,s]),this.innerSize++}delete(i){const s=this.mapKeyFn(i),a=this.inner[s];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],i))return a.length===1?delete this.inner[s]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(i){forEach(this.inner,(s,a)=>{for(const[o,et]of a)i(o,et)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re$1=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return re$1}const ie$1=new SortedMap(DocumentKey.comparator);function documentMap(...e){let i=ie$1;for(const s of e)i=i.insert(s.key,s);return i}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(e){let i=ie$1;return e.forEach((s,a)=>i=i.insert(s,a.overlayedDocument)),i}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(e=>e.toString(),(e,i)=>e.isEqual(i))}const se$1=new SortedMap(DocumentKey.comparator),oe$1=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...e){let i=oe$1;for(const s of e)i=i.add(s);return i}const _e$1=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return _e$1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(e,i){if(e.useProto3Json){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(i)?"-0":i}}function __PRIVATE_toInteger(e){return{integerValue:""+e}}function toNumber(e,i){return isSafeInteger(i)?__PRIVATE_toInteger(i):__PRIVATE_toDouble(e,i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(e,i,s){return e instanceof __PRIVATE_ServerTimestampTransform?function(o,et){const ot={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return et&&__PRIVATE_isServerTimestamp(et)&&(et=__PRIVATE_getPreviousValue(et)),et&&(ot.fields.__previous_value__=et),{mapValue:ot}}(s,i):e instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(e,i):e instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(e,i):function(o,et){const ot=__PRIVATE_computeTransformOperationBaseValue(o,et),ft=asNumber(ot)+asNumber(o.Ie);return isInteger(ot)&&isInteger(o.Ie)?__PRIVATE_toInteger(ft):__PRIVATE_toDouble(o.serializer,ft)}(e,i)}function __PRIVATE_applyTransformOperationToRemoteDocument(e,i,s){return e instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(e,i):e instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(e,i):s}function __PRIVATE_computeTransformOperationBaseValue(e,i){return e instanceof __PRIVATE_NumericIncrementTransformOperation?function(a){return isInteger(a)||function(et){return!!et&&"doubleValue"in et}(a)}(i)?i:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(i){super(),this.elements=i}}function __PRIVATE_applyArrayUnionTransformOperation(e,i){const s=__PRIVATE_coercedFieldValuesArray(i);for(const a of e.elements)s.some(o=>__PRIVATE_valueEquals(o,a))||s.push(a);return{arrayValue:{values:s}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(i){super(),this.elements=i}}function __PRIVATE_applyArrayRemoveTransformOperation(e,i){let s=__PRIVATE_coercedFieldValuesArray(i);for(const a of e.elements)s=s.filter(o=>!__PRIVATE_valueEquals(o,a));return{arrayValue:{values:s}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(i,s){super(),this.serializer=i,this.Ie=s}}function asNumber(e){return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue)}function __PRIVATE_coercedFieldValuesArray(e){return isArray$1(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(e,i){return e.field.isEqual(i.field)&&function(a,o){return a instanceof __PRIVATE_ArrayUnionTransformOperation&&o instanceof __PRIVATE_ArrayUnionTransformOperation||a instanceof __PRIVATE_ArrayRemoveTransformOperation&&o instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(a.elements,o.elements,__PRIVATE_valueEquals):a instanceof __PRIVATE_NumericIncrementTransformOperation&&o instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(a.Ie,o.Ie):a instanceof __PRIVATE_ServerTimestampTransform&&o instanceof __PRIVATE_ServerTimestampTransform}(e.transform,i.transform)}class MutationResult{constructor(i,s){this.version=i,this.transformResults=s}}class Precondition{constructor(i,s){this.updateTime=i,this.exists=s}static none(){return new Precondition}static exists(i){return new Precondition(void 0,i)}static updateTime(i){return new Precondition(i)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(e,i){return e.updateTime!==void 0?i.isFoundDocument()&&i.version.isEqual(e.updateTime):e.exists===void 0||e.exists===i.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(e,i){if(!e.hasLocalMutations||i&&i.fields.length===0)return null;if(i===null)return e.isNoDocument()?new __PRIVATE_DeleteMutation(e.key,Precondition.none()):new __PRIVATE_SetMutation(e.key,e.data,Precondition.none());{const s=e.data,a=ObjectValue.empty();let o=new SortedSet(FieldPath$1.comparator);for(let et of i.fields)if(!o.has(et)){let ot=s.field(et);ot===null&&et.length>1&&(et=et.popLast(),ot=s.field(et)),ot===null?a.delete(et):a.set(et,ot),o=o.add(et)}return new __PRIVATE_PatchMutation(e.key,a,new FieldMask(o.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(e,i,s){e instanceof __PRIVATE_SetMutation?function(o,et,ot){const ft=o.value.clone(),dt=__PRIVATE_serverTransformResults(o.fieldTransforms,et,ot.transformResults);ft.setAll(dt),et.convertToFoundDocument(ot.version,ft).setHasCommittedMutations()}(e,i,s):e instanceof __PRIVATE_PatchMutation?function(o,et,ot){if(!__PRIVATE_preconditionIsValidForDocument(o.precondition,et))return void et.convertToUnknownDocument(ot.version);const ft=__PRIVATE_serverTransformResults(o.fieldTransforms,et,ot.transformResults),dt=et.data;dt.setAll(__PRIVATE_getPatch(o)),dt.setAll(ft),et.convertToFoundDocument(ot.version,dt).setHasCommittedMutations()}(e,i,s):function(o,et,ot){et.convertToNoDocument(ot.version).setHasCommittedMutations()}(0,i,s)}function __PRIVATE_mutationApplyToLocalView(e,i,s,a){return e instanceof __PRIVATE_SetMutation?function(et,ot,ft,dt){if(!__PRIVATE_preconditionIsValidForDocument(et.precondition,ot))return ft;const mt=et.value.clone(),gt=__PRIVATE_localTransformResults(et.fieldTransforms,dt,ot);return mt.setAll(gt),ot.convertToFoundDocument(ot.version,mt).setHasLocalMutations(),null}(e,i,s,a):e instanceof __PRIVATE_PatchMutation?function(et,ot,ft,dt){if(!__PRIVATE_preconditionIsValidForDocument(et.precondition,ot))return ft;const mt=__PRIVATE_localTransformResults(et.fieldTransforms,dt,ot),gt=ot.data;return gt.setAll(__PRIVATE_getPatch(et)),gt.setAll(mt),ot.convertToFoundDocument(ot.version,gt).setHasLocalMutations(),ft===null?null:ft.unionWith(et.fieldMask.fields).unionWith(et.fieldTransforms.map(bt=>bt.field))}(e,i,s,a):function(et,ot,ft){return __PRIVATE_preconditionIsValidForDocument(et.precondition,ot)?(ot.convertToNoDocument(ot.version).setHasLocalMutations(),null):ft}(e,i,s)}function __PRIVATE_mutationExtractBaseValue(e,i){let s=null;for(const a of e.fieldTransforms){const o=i.data.field(a.field),et=__PRIVATE_computeTransformOperationBaseValue(a.transform,o||null);et!=null&&(s===null&&(s=ObjectValue.empty()),s.set(a.field,et))}return s||null}function __PRIVATE_mutationEquals(e,i){return e.type===i.type&&!!e.key.isEqual(i.key)&&!!e.precondition.isEqual(i.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&__PRIVATE_arrayEquals(a,o,(et,ot)=>__PRIVATE_fieldTransformEquals(et,ot))}(e.fieldTransforms,i.fieldTransforms)&&(e.type===0?e.value.isEqual(i.value):e.type!==1||e.data.isEqual(i.data)&&e.fieldMask.isEqual(i.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(i,s,a,o=[]){super(),this.key=i,this.value=s,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(i,s,a,o,et=[]){super(),this.key=i,this.data=s,this.fieldMask=a,this.precondition=o,this.fieldTransforms=et,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(e){const i=new Map;return e.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const a=e.data.field(s);i.set(s,a)}}),i}function __PRIVATE_serverTransformResults(e,i,s){const a=new Map;__PRIVATE_hardAssert(e.length===s.length);for(let o=0;o<s.length;o++){const et=e[o],ot=et.transform,ft=i.data.field(et.field);a.set(et.field,__PRIVATE_applyTransformOperationToRemoteDocument(ot,ft,s[o]))}return a}function __PRIVATE_localTransformResults(e,i,s){const a=new Map;for(const o of e){const et=o.transform,ot=s.data.field(o.field);a.set(o.field,__PRIVATE_applyTransformOperationToLocalView(et,ot,i))}return a}class __PRIVATE_DeleteMutation extends Mutation{constructor(i,s){super(),this.key=i,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(i,s){super(),this.key=i,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(i,s,a,o){this.batchId=i,this.localWriteTime=s,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(i,s){const a=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const et=this.mutations[o];et.key.isEqual(i.key)&&__PRIVATE_mutationApplyToRemoteDocument(et,i,a[o])}}applyToLocalView(i,s){for(const a of this.baseMutations)a.key.isEqual(i.key)&&(s=__PRIVATE_mutationApplyToLocalView(a,i,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(i.key)&&(s=__PRIVATE_mutationApplyToLocalView(a,i,s,this.localWriteTime));return s}applyToLocalDocumentSet(i,s){const a=__PRIVATE_newMutationMap();return this.mutations.forEach(o=>{const et=i.get(o.key),ot=et.overlayedDocument;let ft=this.applyToLocalView(ot,et.mutatedFields);ft=s.has(o.key)?null:ft;const dt=__PRIVATE_calculateOverlayMutation(ot,ft);dt!==null&&a.set(o.key,dt),ot.isValidDocument()||ot.convertToNoDocument(SnapshotVersion.min())}),a}keys(){return this.mutations.reduce((i,s)=>i.add(s.key),__PRIVATE_documentKeySet())}isEqual(i){return this.batchId===i.batchId&&__PRIVATE_arrayEquals(this.mutations,i.mutations,(s,a)=>__PRIVATE_mutationEquals(s,a))&&__PRIVATE_arrayEquals(this.baseMutations,i.baseMutations,(s,a)=>__PRIVATE_mutationEquals(s,a))}}class MutationBatchResult{constructor(i,s,a,o){this.batch=i,this.commitVersion=s,this.mutationResults=a,this.docVersions=o}static from(i,s,a){__PRIVATE_hardAssert(i.mutations.length===a.length);let o=function(){return se$1}();const et=i.mutations;for(let ot=0;ot<et.length;ot++)o=o.insert(et[ot].key,a[ot].version);return new MutationBatchResult(i,s,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(i,s){this.largestBatchId=i,this.mutation=s}getKey(){return this.mutation.key}isEqual(i){return i!==null&&this.mutation===i.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(i,s){this.count=i,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae$1,ue$1;function __PRIVATE_isPermanentError(e){switch(e){default:return fail();case D$1.CANCELLED:case D$1.UNKNOWN:case D$1.DEADLINE_EXCEEDED:case D$1.RESOURCE_EXHAUSTED:case D$1.INTERNAL:case D$1.UNAVAILABLE:case D$1.UNAUTHENTICATED:return!1;case D$1.INVALID_ARGUMENT:case D$1.NOT_FOUND:case D$1.ALREADY_EXISTS:case D$1.PERMISSION_DENIED:case D$1.FAILED_PRECONDITION:case D$1.ABORTED:case D$1.OUT_OF_RANGE:case D$1.UNIMPLEMENTED:case D$1.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(e){if(e===void 0)return __PRIVATE_logError("GRPC error has no .code"),D$1.UNKNOWN;switch(e){case ae$1.OK:return D$1.OK;case ae$1.CANCELLED:return D$1.CANCELLED;case ae$1.UNKNOWN:return D$1.UNKNOWN;case ae$1.DEADLINE_EXCEEDED:return D$1.DEADLINE_EXCEEDED;case ae$1.RESOURCE_EXHAUSTED:return D$1.RESOURCE_EXHAUSTED;case ae$1.INTERNAL:return D$1.INTERNAL;case ae$1.UNAVAILABLE:return D$1.UNAVAILABLE;case ae$1.UNAUTHENTICATED:return D$1.UNAUTHENTICATED;case ae$1.INVALID_ARGUMENT:return D$1.INVALID_ARGUMENT;case ae$1.NOT_FOUND:return D$1.NOT_FOUND;case ae$1.ALREADY_EXISTS:return D$1.ALREADY_EXISTS;case ae$1.PERMISSION_DENIED:return D$1.PERMISSION_DENIED;case ae$1.FAILED_PRECONDITION:return D$1.FAILED_PRECONDITION;case ae$1.ABORTED:return D$1.ABORTED;case ae$1.OUT_OF_RANGE:return D$1.OUT_OF_RANGE;case ae$1.UNIMPLEMENTED:return D$1.UNIMPLEMENTED;case ae$1.DATA_LOSS:return D$1.DATA_LOSS;default:return fail()}}(ue$1=ae$1||(ae$1={}))[ue$1.OK=0]="OK",ue$1[ue$1.CANCELLED=1]="CANCELLED",ue$1[ue$1.UNKNOWN=2]="UNKNOWN",ue$1[ue$1.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue$1[ue$1.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue$1[ue$1.NOT_FOUND=5]="NOT_FOUND",ue$1[ue$1.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue$1[ue$1.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue$1[ue$1.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue$1[ue$1.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue$1[ue$1.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue$1[ue$1.ABORTED=10]="ABORTED",ue$1[ue$1.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue$1[ue$1.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue$1[ue$1.INTERNAL=13]="INTERNAL",ue$1[ue$1.UNAVAILABLE=14]="UNAVAILABLE",ue$1[ue$1.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le$1=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(e){const i=__PRIVATE_newTextEncoder().encode(e),s=new Md5;return s.update(i),new Uint8Array(s.digest())}function __PRIVATE_get64BitUints(e){const i=new DataView(e.buffer),s=i.getUint32(0,!0),a=i.getUint32(4,!0),o=i.getUint32(8,!0),et=i.getUint32(12,!0);return[new Integer([s,a],0),new Integer([o,et],0)]}class BloomFilter{constructor(i,s,a){if(this.bitmap=i,this.padding=s,this.hashCount=a,s<0||s>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${s}`);if(a<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${a}`);if(i.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${a}`);if(i.length===0&&s!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${s}`);this.Te=8*i.length-s,this.Ee=Integer.fromNumber(this.Te)}de(i,s,a){let o=i.add(s.multiply(Integer.fromNumber(a)));return o.compare(le$1)===1&&(o=new Integer([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(i){return(this.bitmap[Math.floor(i/8)]&1<<i%8)!=0}mightContain(i){if(this.Te===0)return!1;const s=__PRIVATE_getMd5HashValue(i),[a,o]=__PRIVATE_get64BitUints(s);for(let et=0;et<this.hashCount;et++){const ot=this.de(a,o,et);if(!this.Ae(ot))return!1}return!0}static create(i,s,a){const o=i%8==0?0:8-i%8,et=new Uint8Array(Math.ceil(i/8)),ot=new BloomFilter(et,o,s);return a.forEach(ft=>ot.insert(ft)),ot}insert(i){if(this.Te===0)return;const s=__PRIVATE_getMd5HashValue(i),[a,o]=__PRIVATE_get64BitUints(s);for(let et=0;et<this.hashCount;et++){const ot=this.de(a,o,et);this.Re(ot)}}Re(i){const s=Math.floor(i/8),a=i%8;this.bitmap[s]|=1<<a}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(i,s,a,o,et){this.snapshotVersion=i,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=et}static createSynthesizedRemoteEventForCurrentChange(i,s,a){const o=new Map;return o.set(i,TargetChange.createSynthesizedTargetChangeForCurrentChange(i,s,a)),new RemoteEvent(SnapshotVersion.min(),o,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(i,s,a,o,et){this.resumeToken=i,this.current=s,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=et}static createSynthesizedTargetChangeForCurrentChange(i,s,a){return new TargetChange(a,s,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(i,s,a,o){this.Ve=i,this.removedTargetIds=s,this.key=a,this.me=o}}class __PRIVATE_ExistenceFilterChange{constructor(i,s){this.targetId=i,this.fe=s}}class __PRIVATE_WatchTargetChange{constructor(i,s,a=ByteString.EMPTY_BYTE_STRING,o=null){this.state=i,this.targetIds=s,this.resumeToken=a,this.cause=o}}class __PRIVATE_TargetState{constructor(){this.ge=0,this.pe=__PRIVATE_snapshotChangesMap(),this.ye=ByteString.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(i){i.approximateByteSize()>0&&(this.Se=!0,this.ye=i)}ve(){let i=__PRIVATE_documentKeySet(),s=__PRIVATE_documentKeySet(),a=__PRIVATE_documentKeySet();return this.pe.forEach((o,et)=>{switch(et){case 0:i=i.add(o);break;case 2:s=s.add(o);break;case 1:a=a.add(o);break;default:fail()}}),new TargetChange(this.ye,this.we,i,s,a)}Fe(){this.Se=!1,this.pe=__PRIVATE_snapshotChangesMap()}Me(i,s){this.Se=!0,this.pe=this.pe.insert(i,s)}xe(i){this.Se=!0,this.pe=this.pe.remove(i)}Oe(){this.ge+=1}Ne(){this.ge-=1,__PRIVATE_hardAssert(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class __PRIVATE_WatchChangeAggregator{constructor(i){this.Le=i,this.ke=new Map,this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator)}$e(i){for(const s of i.Ve)i.me&&i.me.isFoundDocument()?this.Ue(s,i.me):this.We(s,i.key,i.me);for(const s of i.removedTargetIds)this.We(s,i.key,i.me)}Ge(i){this.forEachTarget(i,s=>{const a=this.ze(s);switch(i.state){case 0:this.je(s)&&a.Ce(i.resumeToken);break;case 1:a.Ne(),a.be||a.Fe(),a.Ce(i.resumeToken);break;case 2:a.Ne(),a.be||this.removeTarget(s);break;case 3:this.je(s)&&(a.Be(),a.Ce(i.resumeToken));break;case 4:this.je(s)&&(this.He(s),a.Ce(i.resumeToken));break;default:fail()}})}forEachTarget(i,s){i.targetIds.length>0?i.targetIds.forEach(s):this.ke.forEach((a,o)=>{this.je(o)&&s(o)})}Je(i){const s=i.targetId,a=i.fe.count,o=this.Ye(s);if(o){const et=o.target;if(__PRIVATE_targetIsDocumentTarget(et))if(a===0){const ot=new DocumentKey(et.path);this.We(s,ot,MutableDocument.newNoDocument(ot,SnapshotVersion.min()))}else __PRIVATE_hardAssert(a===1);else{const ot=this.Ze(s);if(ot!==a){const ft=this.Xe(i),dt=ft?this.et(ft,i,ot):1;if(dt!==0){this.He(s);const mt=dt===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(s,mt)}}}}}Xe(i){const s=i.fe.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:et=0}=s;let ot,ft;try{ot=__PRIVATE_normalizeByteString(a).toUint8Array()}catch(dt){if(dt instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+dt.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw dt}try{ft=new BloomFilter(ot,o,et)}catch(dt){return __PRIVATE_logWarn(dt instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",dt),null}return ft.Te===0?null:ft}et(i,s,a){return s.fe.count===a-this.rt(i,s.targetId)?0:2}rt(i,s){const a=this.Le.getRemoteKeysForTarget(s);let o=0;return a.forEach(et=>{const ot=this.Le.nt(),ft=`projects/${ot.projectId}/databases/${ot.database}/documents/${et.path.canonicalString()}`;i.mightContain(ft)||(this.We(s,et,null),o++)}),o}it(i){const s=new Map;this.ke.forEach((et,ot)=>{const ft=this.Ye(ot);if(ft){if(et.current&&__PRIVATE_targetIsDocumentTarget(ft.target)){const dt=new DocumentKey(ft.target.path);this.qe.get(dt)!==null||this.st(ot,dt)||this.We(ot,dt,MutableDocument.newNoDocument(dt,i))}et.De&&(s.set(ot,et.ve()),et.Fe())}});let a=__PRIVATE_documentKeySet();this.Qe.forEach((et,ot)=>{let ft=!0;ot.forEachWhile(dt=>{const mt=this.Ye(dt);return!mt||mt.purpose==="TargetPurposeLimboResolution"||(ft=!1,!1)}),ft&&(a=a.add(et))}),this.qe.forEach((et,ot)=>ot.setReadTime(i));const o=new RemoteEvent(i,s,this.Ke,this.qe,a);return this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator),o}Ue(i,s){if(!this.je(i))return;const a=this.st(i,s.key)?2:0;this.ze(i).Me(s.key,a),this.qe=this.qe.insert(s.key,s),this.Qe=this.Qe.insert(s.key,this.ot(s.key).add(i))}We(i,s,a){if(!this.je(i))return;const o=this.ze(i);this.st(i,s)?o.Me(s,1):o.xe(s),this.Qe=this.Qe.insert(s,this.ot(s).delete(i)),a&&(this.qe=this.qe.insert(s,a))}removeTarget(i){this.ke.delete(i)}Ze(i){const s=this.ze(i).ve();return this.Le.getRemoteKeysForTarget(i).size+s.addedDocuments.size-s.removedDocuments.size}Oe(i){this.ze(i).Oe()}ze(i){let s=this.ke.get(i);return s||(s=new __PRIVATE_TargetState,this.ke.set(i,s)),s}ot(i){let s=this.Qe.get(i);return s||(s=new SortedSet(__PRIVATE_primitiveComparator),this.Qe=this.Qe.insert(i,s)),s}je(i){const s=this.Ye(i)!==null;return s||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",i),s}Ye(i){const s=this.ke.get(i);return s&&s.be?null:this.Le._t(i)}He(i){this.ke.set(i,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(i).forEach(s=>{this.We(i,s,null)})}st(i,s){return this.Le.getRemoteKeysForTarget(i).has(s)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const he$1={asc:"ASCENDING",desc:"DESCENDING"},Pe$1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ie$1={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(i,s){this.databaseId=i,this.useProto3Json=s}}function __PRIVATE_toInt32Proto(e,i){return e.useProto3Json||__PRIVATE_isNullOrUndefined(i)?i:{value:i}}function toTimestamp(e,i){return e.useProto3Json?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function __PRIVATE_toBytes(e,i){return e.useProto3Json?i.toBase64():i.toUint8Array()}function __PRIVATE_toVersion(e,i){return toTimestamp(e,i.toTimestamp())}function __PRIVATE_fromVersion(e){return __PRIVATE_hardAssert(!!e),SnapshotVersion.fromTimestamp(function(s){const a=__PRIVATE_normalizeTimestamp(s);return new Timestamp(a.seconds,a.nanos)}(e))}function __PRIVATE_toResourceName(e,i){return __PRIVATE_toResourcePath(e,i).canonicalString()}function __PRIVATE_toResourcePath(e,i){const s=function(o){return new ResourcePath(["projects",o.projectId,"databases",o.database])}(e).child("documents");return i===void 0?s:s.child(i)}function __PRIVATE_fromResourceName(e){const i=ResourcePath.fromString(e);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(i)),i}function __PRIVATE_toName(e,i){return __PRIVATE_toResourceName(e.databaseId,i.path)}function fromName(e,i){const s=__PRIVATE_fromResourceName(i);if(s.get(1)!==e.databaseId.projectId)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+e.databaseId.projectId);if(s.get(3)!==e.databaseId.database)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+e.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(s))}function __PRIVATE_toQueryPath(e,i){return __PRIVATE_toResourceName(e.databaseId,i)}function __PRIVATE_fromQueryPath(e){const i=__PRIVATE_fromResourceName(e);return i.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(i)}function __PRIVATE_getEncodedDatabaseId(e){return new ResourcePath(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(e){return __PRIVATE_hardAssert(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function __PRIVATE_toMutationDocument(e,i,s){return{name:__PRIVATE_toName(e,i),fields:s.value.mapValue.fields}}function __PRIVATE_fromWatchChange(e,i){let s;if("targetChange"in i){i.targetChange;const a=function(mt){return mt==="NO_CHANGE"?0:mt==="ADD"?1:mt==="REMOVE"?2:mt==="CURRENT"?3:mt==="RESET"?4:fail()}(i.targetChange.targetChangeType||"NO_CHANGE"),o=i.targetChange.targetIds||[],et=function(mt,gt){return mt.useProto3Json?(__PRIVATE_hardAssert(gt===void 0||typeof gt=="string"),ByteString.fromBase64String(gt||"")):(__PRIVATE_hardAssert(gt===void 0||gt instanceof Uint8Array),ByteString.fromUint8Array(gt||new Uint8Array))}(e,i.targetChange.resumeToken),ot=i.targetChange.cause,ft=ot&&function(mt){const gt=mt.code===void 0?D$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(mt.code);return new FirestoreError(gt,mt.message||"")}(ot);s=new __PRIVATE_WatchTargetChange(a,o,et,ft||null)}else if("documentChange"in i){i.documentChange;const a=i.documentChange;a.document,a.document.name,a.document.updateTime;const o=fromName(e,a.document.name),et=__PRIVATE_fromVersion(a.document.updateTime),ot=a.document.createTime?__PRIVATE_fromVersion(a.document.createTime):SnapshotVersion.min(),ft=new ObjectValue({mapValue:{fields:a.document.fields}}),dt=MutableDocument.newFoundDocument(o,et,ot,ft),mt=a.targetIds||[],gt=a.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange(mt,gt,dt.key,dt)}else if("documentDelete"in i){i.documentDelete;const a=i.documentDelete;a.document;const o=fromName(e,a.document),et=a.readTime?__PRIVATE_fromVersion(a.readTime):SnapshotVersion.min(),ot=MutableDocument.newNoDocument(o,et),ft=a.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange([],ft,ot.key,ot)}else if("documentRemove"in i){i.documentRemove;const a=i.documentRemove;a.document;const o=fromName(e,a.document),et=a.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange([],et,o,null)}else{if(!("filter"in i))return fail();{i.filter;const a=i.filter;a.targetId;const{count:o=0,unchangedNames:et}=a,ot=new ExistenceFilter(o,et),ft=a.targetId;s=new __PRIVATE_ExistenceFilterChange(ft,ot)}}return s}function toMutation(e,i){let s;if(i instanceof __PRIVATE_SetMutation)s={update:__PRIVATE_toMutationDocument(e,i.key,i.value)};else if(i instanceof __PRIVATE_DeleteMutation)s={delete:__PRIVATE_toName(e,i.key)};else if(i instanceof __PRIVATE_PatchMutation)s={update:__PRIVATE_toMutationDocument(e,i.key,i.data),updateMask:__PRIVATE_toDocumentMask(i.fieldMask)};else{if(!(i instanceof __PRIVATE_VerifyMutation))return fail();s={verify:__PRIVATE_toName(e,i.key)}}return i.fieldTransforms.length>0&&(s.updateTransforms=i.fieldTransforms.map(a=>function(et,ot){const ft=ot.transform;if(ft instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:ot.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(ft instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:ot.field.canonicalString(),appendMissingElements:{values:ft.elements}};if(ft instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:ot.field.canonicalString(),removeAllFromArray:{values:ft.elements}};if(ft instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:ot.field.canonicalString(),increment:ft.Ie};throw fail()}(0,a))),i.precondition.isNone||(s.currentDocument=function(o,et){return et.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(o,et.updateTime)}:et.exists!==void 0?{exists:et.exists}:fail()}(e,i.precondition)),s}function __PRIVATE_fromWriteResults(e,i){return e&&e.length>0?(__PRIVATE_hardAssert(i!==void 0),e.map(s=>function(o,et){let ot=o.updateTime?__PRIVATE_fromVersion(o.updateTime):__PRIVATE_fromVersion(et);return ot.isEqual(SnapshotVersion.min())&&(ot=__PRIVATE_fromVersion(et)),new MutationResult(ot,o.transformResults||[])}(s,i))):[]}function __PRIVATE_toDocumentsTarget(e,i){return{documents:[__PRIVATE_toQueryPath(e,i.path)]}}function __PRIVATE_toQueryTarget(e,i){const s={structuredQuery:{}},a=i.path;let o;i.collectionGroup!==null?(o=a,s.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(o=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=__PRIVATE_toQueryPath(e,o);const et=function(mt){if(mt.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(mt,"and"))}(i.filters);et&&(s.structuredQuery.where=et);const ot=function(mt){if(mt.length!==0)return mt.map(gt=>function(vt){return{field:__PRIVATE_toFieldPathReference(vt.field),direction:__PRIVATE_toDirection(vt.dir)}}(gt))}(i.orderBy);ot&&(s.structuredQuery.orderBy=ot);const ft=__PRIVATE_toInt32Proto(e,i.limit);return ft!==null&&(s.structuredQuery.limit=ft),i.startAt&&(s.structuredQuery.startAt=function(mt){return{before:mt.inclusive,values:mt.position}}(i.startAt)),i.endAt&&(s.structuredQuery.endAt=function(mt){return{before:!mt.inclusive,values:mt.position}}(i.endAt)),{ut:s,parent:o}}function __PRIVATE_convertQueryTargetToQuery(e){let i=__PRIVATE_fromQueryPath(e.parent);const s=e.structuredQuery,a=s.from?s.from.length:0;let o=null;if(a>0){__PRIVATE_hardAssert(a===1);const gt=s.from[0];gt.allDescendants?o=gt.collectionId:i=i.child(gt.collectionId)}let et=[];s.where&&(et=function(bt){const vt=__PRIVATE_fromFilter(bt);return vt instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(vt)?vt.getFilters():[vt]}(s.where));let ot=[];s.orderBy&&(ot=function(bt){return bt.map(vt=>function(Tt){return new OrderBy(__PRIVATE_fromFieldPathReference(Tt.field),function(wt){switch(wt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Tt.direction))}(vt))}(s.orderBy));let ft=null;s.limit&&(ft=function(bt){let vt;return vt=typeof bt=="object"?bt.value:bt,__PRIVATE_isNullOrUndefined(vt)?null:vt}(s.limit));let dt=null;s.startAt&&(dt=function(bt){const vt=!!bt.before,Pt=bt.values||[];return new Bound(Pt,vt)}(s.startAt));let mt=null;return s.endAt&&(mt=function(bt){const vt=!bt.before,Pt=bt.values||[];return new Bound(Pt,vt)}(s.endAt)),__PRIVATE_newQuery(i,o,ot,et,ft,"F",dt,mt)}function __PRIVATE_toListenRequestLabels(e,i){const s=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(i.purpose);return s==null?null:{"goog-listen-tags":s}}function __PRIVATE_fromFilter(e){return e.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const a=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const et=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(et,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const ot=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(ot,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(e):e.fieldFilter!==void 0?function(s){return FieldFilter.create(__PRIVATE_fromFieldPathReference(s.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(s.fieldFilter.op),s.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(s){return CompositeFilter.create(s.compositeFilter.filters.map(a=>__PRIVATE_fromFilter(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return fail()}}(s.compositeFilter.op))}(e):fail()}function __PRIVATE_toDirection(e){return he$1[e]}function __PRIVATE_toOperatorName(e){return Pe$1[e]}function __PRIVATE_toCompositeOperatorName(e){return Ie$1[e]}function __PRIVATE_toFieldPathReference(e){return{fieldPath:e.canonicalString()}}function __PRIVATE_fromFieldPathReference(e){return FieldPath$1.fromServerFormat(e.fieldPath)}function __PRIVATE_toFilter(e){return e instanceof FieldFilter?function(s){if(s.op==="=="){if(__PRIVATE_isNanValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(__PRIVATE_isNanValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:__PRIVATE_toOperatorName(s.op),value:s.value}}}(e):e instanceof CompositeFilter?function(s){const a=s.getFilters().map(o=>__PRIVATE_toFilter(o));return a.length===1?a[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(s.op),filters:a}}}(e):fail()}function __PRIVATE_toDocumentMask(e){const i=[];return e.fields.forEach(s=>i.push(s.canonicalString())),{fieldPaths:i}}function __PRIVATE_isValidResourceName(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(i,s,a,o,et=SnapshotVersion.min(),ot=SnapshotVersion.min(),ft=ByteString.EMPTY_BYTE_STRING,dt=null){this.target=i,this.targetId=s,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=et,this.lastLimboFreeSnapshotVersion=ot,this.resumeToken=ft,this.expectedCount=dt}withSequenceNumber(i){return new TargetData(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(i,s){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,i,null)}withExpectedCount(i){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,i)}withLastLimboFreeSnapshotVersion(i){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(i){this.ct=i}}function __PRIVATE_fromBundledQuery(e){const i=__PRIVATE_convertQueryTargetToQuery({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?__PRIVATE_queryWithLimit(i,i.limit,"L"):i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this._n=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(i,s){return this._n.add(s),PersistencePromise.resolve()}getCollectionParents(i,s){return PersistencePromise.resolve(this._n.getEntries(s))}addFieldIndex(i,s){return PersistencePromise.resolve()}deleteFieldIndex(i,s){return PersistencePromise.resolve()}deleteAllFieldIndexes(i){return PersistencePromise.resolve()}createTargetIndexes(i,s){return PersistencePromise.resolve()}getDocumentsMatchingTarget(i,s){return PersistencePromise.resolve(null)}getIndexType(i,s){return PersistencePromise.resolve(0)}getFieldIndexes(i,s){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(i){return PersistencePromise.resolve(null)}getMinOffset(i,s){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(i,s){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(i,s,a){return PersistencePromise.resolve()}updateIndexEntries(i,s){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(i){const s=i.lastSegment(),a=i.popLast(),o=this.index[s]||new SortedSet(ResourcePath.comparator),et=!o.has(a);return this.index[s]=o.add(a),et}has(i){const s=i.lastSegment(),a=i.popLast(),o=this.index[s];return o&&o.has(a)}getEntries(i){return(this.index[i]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(i){this.On=i}next(){return this.On+=2,this.On}static Nn(){return new __PRIVATE_TargetIdGenerator(0)}static Bn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(i=>i.toString(),(i,s)=>i.isEqual(s)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,s){this.assertNotApplied(),this.changes.set(i,MutableDocument.newInvalidDocument(i).setReadTime(s))}getEntry(i,s){this.assertNotApplied();const a=this.changes.get(s);return a!==void 0?PersistencePromise.resolve(a):this.getFromCache(i,s)}getEntries(i,s){return this.getAllFromCache(i,s)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(i,s){this.overlayedDocument=i,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(i,s,a,o){this.remoteDocumentCache=i,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=o}getDocument(i,s){let a=null;return this.documentOverlayCache.getOverlay(i,s).next(o=>(a=o,this.remoteDocumentCache.getEntry(i,s))).next(o=>(a!==null&&__PRIVATE_mutationApplyToLocalView(a.mutation,o,FieldMask.empty(),Timestamp.now()),o))}getDocuments(i,s){return this.remoteDocumentCache.getEntries(i,s).next(a=>this.getLocalViewOfDocuments(i,a,__PRIVATE_documentKeySet()).next(()=>a))}getLocalViewOfDocuments(i,s,a=__PRIVATE_documentKeySet()){const o=__PRIVATE_newOverlayMap();return this.populateOverlays(i,o,s).next(()=>this.computeViews(i,s,o,a).next(et=>{let ot=documentMap();return et.forEach((ft,dt)=>{ot=ot.insert(ft,dt.overlayedDocument)}),ot}))}getOverlayedDocuments(i,s){const a=__PRIVATE_newOverlayMap();return this.populateOverlays(i,a,s).next(()=>this.computeViews(i,s,a,__PRIVATE_documentKeySet()))}populateOverlays(i,s,a){const o=[];return a.forEach(et=>{s.has(et)||o.push(et)}),this.documentOverlayCache.getOverlays(i,o).next(et=>{et.forEach((ot,ft)=>{s.set(ot,ft)})})}computeViews(i,s,a,o){let et=__PRIVATE_mutableDocumentMap();const ot=__PRIVATE_newDocumentKeyMap(),ft=function(){return __PRIVATE_newDocumentKeyMap()}();return s.forEach((dt,mt)=>{const gt=a.get(mt.key);o.has(mt.key)&&(gt===void 0||gt.mutation instanceof __PRIVATE_PatchMutation)?et=et.insert(mt.key,mt):gt!==void 0?(ot.set(mt.key,gt.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(gt.mutation,mt,gt.mutation.getFieldMask(),Timestamp.now())):ot.set(mt.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(i,et).next(dt=>(dt.forEach((mt,gt)=>ot.set(mt,gt)),s.forEach((mt,gt)=>{var bt;return ft.set(mt,new OverlayedDocument(gt,(bt=ot.get(mt))!==null&&bt!==void 0?bt:null))}),ft))}recalculateAndSaveOverlays(i,s){const a=__PRIVATE_newDocumentKeyMap();let o=new SortedMap((ot,ft)=>ot-ft),et=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,s).next(ot=>{for(const ft of ot)ft.keys().forEach(dt=>{const mt=s.get(dt);if(mt===null)return;let gt=a.get(dt)||FieldMask.empty();gt=ft.applyToLocalView(mt,gt),a.set(dt,gt);const bt=(o.get(ft.batchId)||__PRIVATE_documentKeySet()).add(dt);o=o.insert(ft.batchId,bt)})}).next(()=>{const ot=[],ft=o.getReverseIterator();for(;ft.hasNext();){const dt=ft.getNext(),mt=dt.key,gt=dt.value,bt=__PRIVATE_newMutationMap();gt.forEach(vt=>{if(!et.has(vt)){const Pt=__PRIVATE_calculateOverlayMutation(s.get(vt),a.get(vt));Pt!==null&&bt.set(vt,Pt),et=et.add(vt)}}),ot.push(this.documentOverlayCache.saveOverlays(i,mt,bt))}return PersistencePromise.waitFor(ot)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(i,s){return this.remoteDocumentCache.getEntries(i,s).next(a=>this.recalculateAndSaveOverlays(i,a))}getDocumentsMatchingQuery(i,s,a,o){return function(ot){return DocumentKey.isDocumentKey(ot.path)&&ot.collectionGroup===null&&ot.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(i,s.path):__PRIVATE_isCollectionGroupQuery(s)?this.getDocumentsMatchingCollectionGroupQuery(i,s,a,o):this.getDocumentsMatchingCollectionQuery(i,s,a,o)}getNextDocuments(i,s,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(i,s,a,o).next(et=>{const ot=o-et.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,s,a.largestBatchId,o-et.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let ft=-1,dt=et;return ot.next(mt=>PersistencePromise.forEach(mt,(gt,bt)=>(ft<bt.largestBatchId&&(ft=bt.largestBatchId),et.get(gt)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(i,gt).next(vt=>{dt=dt.insert(gt,vt)}))).next(()=>this.populateOverlays(i,mt,et)).next(()=>this.computeViews(i,dt,mt,__PRIVATE_documentKeySet())).next(gt=>({batchId:ft,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(gt)})))})}getDocumentsMatchingDocumentQuery(i,s){return this.getDocument(i,new DocumentKey(s)).next(a=>{let o=documentMap();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(i,s,a,o){const et=s.collectionGroup;let ot=documentMap();return this.indexManager.getCollectionParents(i,et).next(ft=>PersistencePromise.forEach(ft,dt=>{const mt=function(bt,vt){return new __PRIVATE_QueryImpl(vt,null,bt.explicitOrderBy.slice(),bt.filters.slice(),bt.limit,bt.limitType,bt.startAt,bt.endAt)}(s,dt.child(et));return this.getDocumentsMatchingCollectionQuery(i,mt,a,o).next(gt=>{gt.forEach((bt,vt)=>{ot=ot.insert(bt,vt)})})}).next(()=>ot))}getDocumentsMatchingCollectionQuery(i,s,a,o){let et;return this.documentOverlayCache.getOverlaysForCollection(i,s.path,a.largestBatchId).next(ot=>(et=ot,this.remoteDocumentCache.getDocumentsMatchingQuery(i,s,a,et,o))).next(ot=>{et.forEach((dt,mt)=>{const gt=mt.getKey();ot.get(gt)===null&&(ot=ot.insert(gt,MutableDocument.newInvalidDocument(gt)))});let ft=documentMap();return ot.forEach((dt,mt)=>{const gt=et.get(dt);gt!==void 0&&__PRIVATE_mutationApplyToLocalView(gt.mutation,mt,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(s,mt)&&(ft=ft.insert(dt,mt))}),ft})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(i){this.serializer=i,this.cr=new Map,this.lr=new Map}getBundleMetadata(i,s){return PersistencePromise.resolve(this.cr.get(s))}saveBundleMetadata(i,s){return this.cr.set(s.id,function(o){return{id:o.id,version:o.version,createTime:__PRIVATE_fromVersion(o.createTime)}}(s)),PersistencePromise.resolve()}getNamedQuery(i,s){return PersistencePromise.resolve(this.lr.get(s))}saveNamedQuery(i,s){return this.lr.set(s.name,function(o){return{name:o.name,query:__PRIVATE_fromBundledQuery(o.bundledQuery),readTime:__PRIVATE_fromVersion(o.readTime)}}(s)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.hr=new Map}getOverlay(i,s){return PersistencePromise.resolve(this.overlays.get(s))}getOverlays(i,s){const a=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(s,o=>this.getOverlay(i,o).next(et=>{et!==null&&a.set(o,et)})).next(()=>a)}saveOverlays(i,s,a){return a.forEach((o,et)=>{this.ht(i,s,et)}),PersistencePromise.resolve()}removeOverlaysForBatchId(i,s,a){const o=this.hr.get(a);return o!==void 0&&(o.forEach(et=>this.overlays=this.overlays.remove(et)),this.hr.delete(a)),PersistencePromise.resolve()}getOverlaysForCollection(i,s,a){const o=__PRIVATE_newOverlayMap(),et=s.length+1,ot=new DocumentKey(s.child("")),ft=this.overlays.getIteratorFrom(ot);for(;ft.hasNext();){const dt=ft.getNext().value,mt=dt.getKey();if(!s.isPrefixOf(mt.path))break;mt.path.length===et&&dt.largestBatchId>a&&o.set(dt.getKey(),dt)}return PersistencePromise.resolve(o)}getOverlaysForCollectionGroup(i,s,a,o){let et=new SortedMap((mt,gt)=>mt-gt);const ot=this.overlays.getIterator();for(;ot.hasNext();){const mt=ot.getNext().value;if(mt.getKey().getCollectionGroup()===s&&mt.largestBatchId>a){let gt=et.get(mt.largestBatchId);gt===null&&(gt=__PRIVATE_newOverlayMap(),et=et.insert(mt.largestBatchId,gt)),gt.set(mt.getKey(),mt)}}const ft=__PRIVATE_newOverlayMap(),dt=et.getIterator();for(;dt.hasNext()&&(dt.getNext().value.forEach((mt,gt)=>ft.set(mt,gt)),!(ft.size()>=o)););return PersistencePromise.resolve(ft)}ht(i,s,a){const o=this.overlays.get(a.key);if(o!==null){const ot=this.hr.get(o.largestBatchId).delete(a.key);this.hr.set(o.largestBatchId,ot)}this.overlays=this.overlays.insert(a.key,new Overlay(s,a));let et=this.hr.get(s);et===void 0&&(et=__PRIVATE_documentKeySet(),this.hr.set(s,et)),this.hr.set(s,et.add(a.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Pr=new SortedSet(__PRIVATE_DocReference.Ir),this.Tr=new SortedSet(__PRIVATE_DocReference.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(i,s){const a=new __PRIVATE_DocReference(i,s);this.Pr=this.Pr.add(a),this.Tr=this.Tr.add(a)}dr(i,s){i.forEach(a=>this.addReference(a,s))}removeReference(i,s){this.Ar(new __PRIVATE_DocReference(i,s))}Rr(i,s){i.forEach(a=>this.removeReference(a,s))}Vr(i){const s=new DocumentKey(new ResourcePath([])),a=new __PRIVATE_DocReference(s,i),o=new __PRIVATE_DocReference(s,i+1),et=[];return this.Tr.forEachInRange([a,o],ot=>{this.Ar(ot),et.push(ot.key)}),et}mr(){this.Pr.forEach(i=>this.Ar(i))}Ar(i){this.Pr=this.Pr.delete(i),this.Tr=this.Tr.delete(i)}gr(i){const s=new DocumentKey(new ResourcePath([])),a=new __PRIVATE_DocReference(s,i),o=new __PRIVATE_DocReference(s,i+1);let et=__PRIVATE_documentKeySet();return this.Tr.forEachInRange([a,o],ot=>{et=et.add(ot.key)}),et}containsKey(i){const s=new __PRIVATE_DocReference(i,0),a=this.Pr.firstAfterOrEqual(s);return a!==null&&i.isEqual(a.key)}}class __PRIVATE_DocReference{constructor(i,s){this.key=i,this.pr=s}static Ir(i,s){return DocumentKey.comparator(i.key,s.key)||__PRIVATE_primitiveComparator(i.pr,s.pr)}static Er(i,s){return __PRIVATE_primitiveComparator(i.pr,s.pr)||DocumentKey.comparator(i.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(i,s){this.indexManager=i,this.referenceDelegate=s,this.mutationQueue=[],this.yr=1,this.wr=new SortedSet(__PRIVATE_DocReference.Ir)}checkEmpty(i){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(i,s,a,o){const et=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const ot=new MutationBatch(et,s,a,o);this.mutationQueue.push(ot);for(const ft of o)this.wr=this.wr.add(new __PRIVATE_DocReference(ft.key,et)),this.indexManager.addToCollectionParentIndex(i,ft.key.path.popLast());return PersistencePromise.resolve(ot)}lookupMutationBatch(i,s){return PersistencePromise.resolve(this.Sr(s))}getNextMutationBatchAfterBatchId(i,s){const a=s+1,o=this.br(a),et=o<0?0:o;return PersistencePromise.resolve(this.mutationQueue.length>et?this.mutationQueue[et]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(i){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,s){const a=new __PRIVATE_DocReference(s,0),o=new __PRIVATE_DocReference(s,Number.POSITIVE_INFINITY),et=[];return this.wr.forEachInRange([a,o],ot=>{const ft=this.Sr(ot.pr);et.push(ft)}),PersistencePromise.resolve(et)}getAllMutationBatchesAffectingDocumentKeys(i,s){let a=new SortedSet(__PRIVATE_primitiveComparator);return s.forEach(o=>{const et=new __PRIVATE_DocReference(o,0),ot=new __PRIVATE_DocReference(o,Number.POSITIVE_INFINITY);this.wr.forEachInRange([et,ot],ft=>{a=a.add(ft.pr)})}),PersistencePromise.resolve(this.Dr(a))}getAllMutationBatchesAffectingQuery(i,s){const a=s.path,o=a.length+1;let et=a;DocumentKey.isDocumentKey(et)||(et=et.child(""));const ot=new __PRIVATE_DocReference(new DocumentKey(et),0);let ft=new SortedSet(__PRIVATE_primitiveComparator);return this.wr.forEachWhile(dt=>{const mt=dt.key.path;return!!a.isPrefixOf(mt)&&(mt.length===o&&(ft=ft.add(dt.pr)),!0)},ot),PersistencePromise.resolve(this.Dr(ft))}Dr(i){const s=[];return i.forEach(a=>{const o=this.Sr(a);o!==null&&s.push(o)}),s}removeMutationBatch(i,s){__PRIVATE_hardAssert(this.Cr(s.batchId,"removed")===0),this.mutationQueue.shift();let a=this.wr;return PersistencePromise.forEach(s.mutations,o=>{const et=new __PRIVATE_DocReference(o.key,s.batchId);return a=a.delete(et),this.referenceDelegate.markPotentiallyOrphaned(i,o.key)}).next(()=>{this.wr=a})}Mn(i){}containsKey(i,s){const a=new __PRIVATE_DocReference(s,0),o=this.wr.firstAfterOrEqual(a);return PersistencePromise.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(i){return this.mutationQueue.length,PersistencePromise.resolve()}Cr(i,s){return this.br(i)}br(i){return this.mutationQueue.length===0?0:i-this.mutationQueue[0].batchId}Sr(i){const s=this.br(i);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(i){this.vr=i,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,s){const a=s.key,o=this.docs.get(a),et=o?o.size:0,ot=this.vr(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:ot}),this.size+=ot-et,this.indexManager.addToCollectionParentIndex(i,a.path.popLast())}removeEntry(i){const s=this.docs.get(i);s&&(this.docs=this.docs.remove(i),this.size-=s.size)}getEntry(i,s){const a=this.docs.get(s);return PersistencePromise.resolve(a?a.document.mutableCopy():MutableDocument.newInvalidDocument(s))}getEntries(i,s){let a=__PRIVATE_mutableDocumentMap();return s.forEach(o=>{const et=this.docs.get(o);a=a.insert(o,et?et.document.mutableCopy():MutableDocument.newInvalidDocument(o))}),PersistencePromise.resolve(a)}getDocumentsMatchingQuery(i,s,a,o){let et=__PRIVATE_mutableDocumentMap();const ot=s.path,ft=new DocumentKey(ot.child("")),dt=this.docs.getIteratorFrom(ft);for(;dt.hasNext();){const{key:mt,value:{document:gt}}=dt.getNext();if(!ot.isPrefixOf(mt.path))break;mt.path.length>ot.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(gt),a)<=0||(o.has(gt.key)||__PRIVATE_queryMatches(s,gt))&&(et=et.insert(gt.key,gt.mutableCopy()))}return PersistencePromise.resolve(et)}getAllFromCollectionGroup(i,s,a,o){fail()}Fr(i,s){return PersistencePromise.forEach(this.docs,a=>s(a))}newChangeBuffer(i){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(i){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(i){super(),this.ar=i}applyChanges(i){const s=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?s.push(this.ar.addEntry(i,o)):this.ar.removeEntry(a)}),PersistencePromise.waitFor(s)}getFromCache(i,s){return this.ar.getEntry(i,s)}getAllFromCache(i,s){return this.ar.getEntries(i,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(i){this.persistence=i,this.Mr=new ObjectMap(s=>__PRIVATE_canonifyTarget(s),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Or=0,this.Nr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Br=__PRIVATE_TargetIdGenerator.Nn()}forEachTarget(i,s){return this.Mr.forEach((a,o)=>s(o)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(i){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return PersistencePromise.resolve(this.Or)}allocateTargetId(i){return this.highestTargetId=this.Br.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(i,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.Or&&(this.Or=s),PersistencePromise.resolve()}qn(i){this.Mr.set(i.target,i);const s=i.targetId;s>this.highestTargetId&&(this.Br=new __PRIVATE_TargetIdGenerator(s),this.highestTargetId=s),i.sequenceNumber>this.Or&&(this.Or=i.sequenceNumber)}addTargetData(i,s){return this.qn(s),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(i,s){return this.qn(s),PersistencePromise.resolve()}removeTargetData(i,s){return this.Mr.delete(s.target),this.Nr.Vr(s.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(i,s,a){let o=0;const et=[];return this.Mr.forEach((ot,ft)=>{ft.sequenceNumber<=s&&a.get(ft.targetId)===null&&(this.Mr.delete(ot),et.push(this.removeMatchingKeysForTargetId(i,ft.targetId)),o++)}),PersistencePromise.waitFor(et).next(()=>o)}getTargetCount(i){return PersistencePromise.resolve(this.targetCount)}getTargetData(i,s){const a=this.Mr.get(s)||null;return PersistencePromise.resolve(a)}addMatchingKeys(i,s,a){return this.Nr.dr(s,a),PersistencePromise.resolve()}removeMatchingKeys(i,s,a){this.Nr.Rr(s,a);const o=this.persistence.referenceDelegate,et=[];return o&&s.forEach(ot=>{et.push(o.markPotentiallyOrphaned(i,ot))}),PersistencePromise.waitFor(et)}removeMatchingKeysForTargetId(i,s){return this.Nr.Vr(s),PersistencePromise.resolve()}getMatchingKeysForTargetId(i,s){const a=this.Nr.gr(s);return PersistencePromise.resolve(a)}containsKey(i,s){return PersistencePromise.resolve(this.Nr.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(i,s){this.Lr={},this.overlays={},this.kr=new __PRIVATE_ListenSequence(0),this.qr=!1,this.qr=!0,this.referenceDelegate=i(this),this.Qr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(o){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(o)}(a=>this.referenceDelegate.Kr(a)),this.serializer=new __PRIVATE_LocalSerializer(s),this.$r=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let s=this.overlays[i.toKey()];return s||(s=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[i.toKey()]=s),s}getMutationQueue(i,s){let a=this.Lr[i.toKey()];return a||(a=new __PRIVATE_MemoryMutationQueue(s,this.referenceDelegate),this.Lr[i.toKey()]=a),a}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(i,s,a){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",i);const o=new __PRIVATE_MemoryTransaction(this.kr.next());return this.referenceDelegate.Ur(),a(o).next(et=>this.referenceDelegate.Wr(o).next(()=>et)).toPromise().then(et=>(o.raiseOnCommittedEvent(),et))}Gr(i,s){return PersistencePromise.or(Object.values(this.Lr).map(a=>()=>a.containsKey(i,s)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(i){super(),this.currentSequenceNumber=i}}class __PRIVATE_MemoryEagerDelegate{constructor(i){this.persistence=i,this.zr=new __PRIVATE_ReferenceSet,this.jr=null}static Hr(i){return new __PRIVATE_MemoryEagerDelegate(i)}get Jr(){if(this.jr)return this.jr;throw fail()}addReference(i,s,a){return this.zr.addReference(a,s),this.Jr.delete(a.toString()),PersistencePromise.resolve()}removeReference(i,s,a){return this.zr.removeReference(a,s),this.Jr.add(a.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(i,s){return this.Jr.add(s.toString()),PersistencePromise.resolve()}removeTarget(i,s){this.zr.Vr(s.targetId).forEach(o=>this.Jr.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(i,s.targetId).next(o=>{o.forEach(et=>this.Jr.add(et.toString()))}).next(()=>a.removeTargetData(i,s))}Ur(){this.jr=new Set}Wr(i){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Jr,a=>{const o=DocumentKey.fromPath(a);return this.Yr(i,o).next(et=>{et||s.removeEntry(o,SnapshotVersion.min())})}).next(()=>(this.jr=null,s.apply(i)))}updateLimboDocument(i,s){return this.Yr(i,s).next(a=>{a?this.Jr.delete(s.toString()):this.Jr.add(s.toString())})}Kr(i){return 0}Yr(i,s){return PersistencePromise.or([()=>PersistencePromise.resolve(this.zr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(i,s),()=>this.persistence.Gr(i,s)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(i,s,a,o){this.targetId=i,this.fromCache=s,this.qi=a,this.Qi=o}static Ki(i,s){let a=__PRIVATE_documentKeySet(),o=__PRIVATE_documentKeySet();for(const et of s.docChanges)switch(et.type){case 0:a=a.add(et.doc.key);break;case 1:o=o.add(et.doc.key)}return new __PRIVATE_LocalViewChanges(i,s.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(i){this._documentReadCount+=i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return isSafari()?8:__PRIVATE_SimpleDb.v(getUA())>0?6:4}()}initialize(i,s){this.zi=i,this.indexManager=s,this.$i=!0}getDocumentsMatchingQuery(i,s,a,o){const et={result:null};return this.ji(i,s).next(ot=>{et.result=ot}).next(()=>{if(!et.result)return this.Hi(i,s,o,a).next(ot=>{et.result=ot})}).next(()=>{if(et.result)return;const ot=new QueryContext;return this.Ji(i,s,ot).next(ft=>{if(et.result=ft,this.Ui)return this.Yi(i,s,ot,ft.size)})}).next(()=>et.result)}Yi(i,s,a,o){return a.documentReadCount<this.Wi?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(s),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(s),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.Gi*o?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(i,__PRIVATE_queryToTarget(s))):PersistencePromise.resolve())}ji(i,s){if(__PRIVATE_queryMatchesAllDocuments(s))return PersistencePromise.resolve(null);let a=__PRIVATE_queryToTarget(s);return this.indexManager.getIndexType(i,a).next(o=>o===0?null:(s.limit!==null&&o===1&&(s=__PRIVATE_queryWithLimit(s,null,"F"),a=__PRIVATE_queryToTarget(s)),this.indexManager.getDocumentsMatchingTarget(i,a).next(et=>{const ot=__PRIVATE_documentKeySet(...et);return this.zi.getDocuments(i,ot).next(ft=>this.indexManager.getMinOffset(i,a).next(dt=>{const mt=this.Zi(s,ft);return this.Xi(s,mt,ot,dt.readTime)?this.ji(i,__PRIVATE_queryWithLimit(s,null,"F")):this.es(i,mt,s,dt)}))})))}Hi(i,s,a,o){return __PRIVATE_queryMatchesAllDocuments(s)||o.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.zi.getDocuments(i,a).next(et=>{const ot=this.Zi(s,et);return this.Xi(s,ot,a,o)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),__PRIVATE_stringifyQuery(s)),this.es(i,ot,s,__PRIVATE_newIndexOffsetSuccessorFromReadTime(o,-1)).next(ft=>ft))})}Zi(i,s){let a=new SortedSet(__PRIVATE_newQueryComparator(i));return s.forEach((o,et)=>{__PRIVATE_queryMatches(i,et)&&(a=a.add(et))}),a}Xi(i,s,a,o){if(i.limit===null)return!1;if(a.size!==s.size)return!0;const et=i.limitType==="F"?s.last():s.first();return!!et&&(et.hasPendingWrites||et.version.compareTo(o)>0)}Ji(i,s,a){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(s)),this.zi.getDocumentsMatchingQuery(i,s,IndexOffset.min(),a)}es(i,s,a,o){return this.zi.getDocumentsMatchingQuery(i,a,o).next(et=>(s.forEach(ot=>{et=et.insert(ot.key,ot)}),et))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(i,s,a,o){this.persistence=i,this.ts=s,this.serializer=o,this.ns=new SortedMap(__PRIVATE_primitiveComparator),this.rs=new ObjectMap(et=>__PRIVATE_canonifyTarget(et),__PRIVATE_targetEquals),this.ss=new Map,this.os=i.getRemoteDocumentCache(),this.Qr=i.getTargetCache(),this.$r=i.getBundleCache(),this._s(a)}_s(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new LocalDocumentsView(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>i.collect(s,this.ns))}}function __PRIVATE_newLocalStore(e,i,s,a){return new __PRIVATE_LocalStoreImpl(e,i,s,a)}async function __PRIVATE_localStoreHandleUserChange(e,i){const s=__PRIVATE_debugCast(e);return await s.persistence.runTransaction("Handle user change","readonly",a=>{let o;return s.mutationQueue.getAllMutationBatches(a).next(et=>(o=et,s._s(i),s.mutationQueue.getAllMutationBatches(a))).next(et=>{const ot=[],ft=[];let dt=__PRIVATE_documentKeySet();for(const mt of o){ot.push(mt.batchId);for(const gt of mt.mutations)dt=dt.add(gt.key)}for(const mt of et){ft.push(mt.batchId);for(const gt of mt.mutations)dt=dt.add(gt.key)}return s.localDocuments.getDocuments(a,dt).next(mt=>({us:mt,removedBatchIds:ot,addedBatchIds:ft}))})})}function __PRIVATE_localStoreAcknowledgeBatch(e,i){const s=__PRIVATE_debugCast(e);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=i.batch.keys(),et=s.os.newChangeBuffer({trackRemovals:!0});return function(ft,dt,mt,gt){const bt=mt.batch,vt=bt.keys();let Pt=PersistencePromise.resolve();return vt.forEach(Tt=>{Pt=Pt.next(()=>gt.getEntry(dt,Tt)).next(At=>{const wt=mt.docVersions.get(Tt);__PRIVATE_hardAssert(wt!==null),At.version.compareTo(wt)<0&&(bt.applyToRemoteDocument(At,mt),At.isValidDocument()&&(At.setReadTime(mt.commitVersion),gt.addEntry(At)))})}),Pt.next(()=>ft.mutationQueue.removeMutationBatch(dt,bt))}(s,a,i,et).next(()=>et.apply(a)).next(()=>s.mutationQueue.performConsistencyCheck(a)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(a,o,i.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(ft){let dt=__PRIVATE_documentKeySet();for(let mt=0;mt<ft.mutationResults.length;++mt)ft.mutationResults[mt].transformResults.length>0&&(dt=dt.add(ft.batch.mutations[mt].key));return dt}(i))).next(()=>s.localDocuments.getDocuments(a,o))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(e){const i=__PRIVATE_debugCast(e);return i.persistence.runTransaction("Get last remote snapshot version","readonly",s=>i.Qr.getLastRemoteSnapshotVersion(s))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(e,i){const s=__PRIVATE_debugCast(e),a=i.snapshotVersion;let o=s.ns;return s.persistence.runTransaction("Apply remote event","readwrite-primary",et=>{const ot=s.os.newChangeBuffer({trackRemovals:!0});o=s.ns;const ft=[];i.targetChanges.forEach((gt,bt)=>{const vt=o.get(bt);if(!vt)return;ft.push(s.Qr.removeMatchingKeys(et,gt.removedDocuments,bt).next(()=>s.Qr.addMatchingKeys(et,gt.addedDocuments,bt)));let Pt=vt.withSequenceNumber(et.currentSequenceNumber);i.targetMismatches.get(bt)!==null?Pt=Pt.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):gt.resumeToken.approximateByteSize()>0&&(Pt=Pt.withResumeToken(gt.resumeToken,a)),o=o.insert(bt,Pt),function(At,wt,_t){return At.resumeToken.approximateByteSize()===0||wt.snapshotVersion.toMicroseconds()-At.snapshotVersion.toMicroseconds()>=3e8?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0}(vt,Pt,gt)&&ft.push(s.Qr.updateTargetData(et,Pt))});let dt=__PRIVATE_mutableDocumentMap(),mt=__PRIVATE_documentKeySet();if(i.documentUpdates.forEach(gt=>{i.resolvedLimboDocuments.has(gt)&&ft.push(s.persistence.referenceDelegate.updateLimboDocument(et,gt))}),ft.push(__PRIVATE_populateDocumentChangeBuffer(et,ot,i.documentUpdates).next(gt=>{dt=gt.cs,mt=gt.ls})),!a.isEqual(SnapshotVersion.min())){const gt=s.Qr.getLastRemoteSnapshotVersion(et).next(bt=>s.Qr.setTargetsMetadata(et,et.currentSequenceNumber,a));ft.push(gt)}return PersistencePromise.waitFor(ft).next(()=>ot.apply(et)).next(()=>s.localDocuments.getLocalViewOfDocuments(et,dt,mt)).next(()=>dt)}).then(et=>(s.ns=o,et))}function __PRIVATE_populateDocumentChangeBuffer(e,i,s){let a=__PRIVATE_documentKeySet(),o=__PRIVATE_documentKeySet();return s.forEach(et=>a=a.add(et)),i.getEntries(e,a).next(et=>{let ot=__PRIVATE_mutableDocumentMap();return s.forEach((ft,dt)=>{const mt=et.get(ft);dt.isFoundDocument()!==mt.isFoundDocument()&&(o=o.add(ft)),dt.isNoDocument()&&dt.version.isEqual(SnapshotVersion.min())?(i.removeEntry(ft,dt.readTime),ot=ot.insert(ft,dt)):!mt.isValidDocument()||dt.version.compareTo(mt.version)>0||dt.version.compareTo(mt.version)===0&&mt.hasPendingWrites?(i.addEntry(dt),ot=ot.insert(ft,dt)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",ft,". Current version:",mt.version," Watch version:",dt.version)}),{cs:ot,ls:o}})}function __PRIVATE_localStoreGetNextMutationBatch(e,i){const s=__PRIVATE_debugCast(e);return s.persistence.runTransaction("Get next mutation batch","readonly",a=>(i===void 0&&(i=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(a,i)))}function __PRIVATE_localStoreAllocateTarget(e,i){const s=__PRIVATE_debugCast(e);return s.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return s.Qr.getTargetData(a,i).next(et=>et?(o=et,PersistencePromise.resolve(o)):s.Qr.allocateTargetId(a).next(ot=>(o=new TargetData(i,ot,"TargetPurposeListen",a.currentSequenceNumber),s.Qr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=s.ns.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.ns=s.ns.insert(a.targetId,a),s.rs.set(i,a.targetId)),a})}async function __PRIVATE_localStoreReleaseTarget(e,i,s){const a=__PRIVATE_debugCast(e),o=a.ns.get(i),et=s?"readwrite":"readwrite-primary";try{s||await a.persistence.runTransaction("Release target",et,ot=>a.persistence.referenceDelegate.removeTarget(ot,o))}catch(ot){if(!__PRIVATE_isIndexedDbTransactionError(ot))throw ot;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${i}: ${ot}`)}a.ns=a.ns.remove(i),a.rs.delete(o.target)}function __PRIVATE_localStoreExecuteQuery(e,i,s){const a=__PRIVATE_debugCast(e);let o=SnapshotVersion.min(),et=__PRIVATE_documentKeySet();return a.persistence.runTransaction("Execute query","readwrite",ot=>function(dt,mt,gt){const bt=__PRIVATE_debugCast(dt),vt=bt.rs.get(gt);return vt!==void 0?PersistencePromise.resolve(bt.ns.get(vt)):bt.Qr.getTargetData(mt,gt)}(a,ot,__PRIVATE_queryToTarget(i)).next(ft=>{if(ft)return o=ft.lastLimboFreeSnapshotVersion,a.Qr.getMatchingKeysForTargetId(ot,ft.targetId).next(dt=>{et=dt})}).next(()=>a.ts.getDocumentsMatchingQuery(ot,i,s?o:SnapshotVersion.min(),s?et:__PRIVATE_documentKeySet())).next(ft=>(__PRIVATE_setMaxReadTime(a,__PRIVATE_queryCollectionGroup(i),ft),{documents:ft,hs:et})))}function __PRIVATE_setMaxReadTime(e,i,s){let a=e.ss.get(i)||SnapshotVersion.min();s.forEach((o,et)=>{et.readTime.compareTo(a)>0&&(a=et.readTime)}),e.ss.set(i,a)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}As(i){this.activeTargetIds=this.activeTargetIds.add(i)}Rs(i){this.activeTargetIds=this.activeTargetIds.delete(i)}ds(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class __PRIVATE_MemorySharedClientState{constructor(){this.no=new __PRIVATE_LocalClientState,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,s,a){}addLocalQueryTarget(i){return this.no.As(i),this.ro[i]||"not-current"}updateQueryState(i,s,a){this.ro[i]=s}removeLocalQueryTarget(i){this.no.Rs(i)}isLocalQueryTarget(i){return this.no.activeTargetIds.has(i)}clearQueryState(i){delete this.ro[i]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(i){return this.no.activeTargetIds.has(i)}start(){return this.no=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(i,s,a){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{io(i){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(i){this.uo.push(i)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.uo)i(0)}ao(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.uo)i(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ae$1=null;function __PRIVATE_generateUniqueDebugId(){return Ae$1===null?Ae$1=function(){return 268435456+Math.round(2147483648*Math.random())}():Ae$1++,"0x"+Ae$1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(i){this.lo=i.lo,this.ho=i.ho}Po(i){this.Io=i}To(i){this.Eo=i}onMessage(i){this.Ao=i}close(){this.ho()}send(i){this.lo(i)}Ro(){this.Io()}Vo(i){this.Eo(i)}mo(i){this.Ao(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve$1="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const a=s.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),et=encodeURIComponent(this.databaseId.database);this.fo=a+"://"+s.host,this.po=`projects/${o}/databases/${et}`,this.yo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${et}`}get wo(){return!1}So(s,a,o,et,ot){const ft=__PRIVATE_generateUniqueDebugId(),dt=this.bo(s,a.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${s}' ${ft}:`,dt,o);const mt={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(mt,et,ot),this.Co(s,dt,mt,o).then(gt=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${s}' ${ft}: `,gt),gt),gt=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${s}' ${ft} failed with error: `,gt,"url: ",dt,"request:",o),gt})}vo(s,a,o,et,ot,ft){return this.So(s,a,o,et,ot)}Do(s,a,o){s["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S$1}(),s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((et,ot)=>s[ot]=et),o&&o.headers.forEach((et,ot)=>s[ot]=et)}bo(s,a){const o=Re$1[s];return`${this.fo}/v1/${a}:${o}`}terminate(){}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams,this.longPollingOptions=i.longPollingOptions}Co(i,s,a,o){const et=__PRIVATE_generateUniqueDebugId();return new Promise((ot,ft)=>{const dt=new XhrIo;dt.setWithCredentials(!0),dt.listenOnce(EventType.COMPLETE,()=>{try{switch(dt.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const gt=dt.getResponseJson();__PRIVATE_logDebug(Ve$1,`XHR for RPC '${i}' ${et} received:`,JSON.stringify(gt)),ot(gt);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(Ve$1,`RPC '${i}' ${et} timed out`),ft(new FirestoreError(D$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const bt=dt.getStatus();if(__PRIVATE_logDebug(Ve$1,`RPC '${i}' ${et} failed with status:`,bt,"response text:",dt.getResponseText()),bt>0){let vt=dt.getResponseJson();Array.isArray(vt)&&(vt=vt[0]);const Pt=vt==null?void 0:vt.error;if(Pt&&Pt.status&&Pt.message){const Tt=function(wt){const _t=wt.toLowerCase().replace(/_/g,"-");return Object.values(D$1).indexOf(_t)>=0?_t:D$1.UNKNOWN}(Pt.status);ft(new FirestoreError(Tt,Pt.message))}else ft(new FirestoreError(D$1.UNKNOWN,"Server responded with status "+dt.getStatus()))}else ft(new FirestoreError(D$1.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(Ve$1,`RPC '${i}' ${et} completed.`)}});const mt=JSON.stringify(o);__PRIVATE_logDebug(Ve$1,`RPC '${i}' ${et} sending request:`,o),dt.send(s,"POST",mt,a,15)})}Fo(i,s,a){const o=__PRIVATE_generateUniqueDebugId(),et=[this.fo,"/","google.firestore.v1.Firestore","/",i,"/channel"],ot=createWebChannelTransport(),ft=getStatEventTarget(),dt={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},mt=this.longPollingOptions.timeoutSeconds;mt!==void 0&&(dt.longPollingTimeout=Math.round(1e3*mt)),this.useFetchStreams&&(dt.useFetchStreams=!0),this.Do(dt.initMessageHeaders,s,a),dt.encodeInitMessageHeaders=!0;const gt=et.join("");__PRIVATE_logDebug(Ve$1,`Creating RPC '${i}' stream ${o}: ${gt}`,dt);const bt=ot.createWebChannel(gt,dt);let vt=!1,Pt=!1;const Tt=new __PRIVATE_StreamBridge({lo:wt=>{Pt?__PRIVATE_logDebug(Ve$1,`Not sending because RPC '${i}' stream ${o} is closed:`,wt):(vt||(__PRIVATE_logDebug(Ve$1,`Opening RPC '${i}' stream ${o} transport.`),bt.open(),vt=!0),__PRIVATE_logDebug(Ve$1,`RPC '${i}' stream ${o} sending:`,wt),bt.send(wt))},ho:()=>bt.close()}),At=(wt,_t,Et)=>{wt.listen(_t,yt=>{try{Et(yt)}catch(St){setTimeout(()=>{throw St},0)}})};return At(bt,WebChannel.EventType.OPEN,()=>{Pt||__PRIVATE_logDebug(Ve$1,`RPC '${i}' stream ${o} transport opened.`)}),At(bt,WebChannel.EventType.CLOSE,()=>{Pt||(Pt=!0,__PRIVATE_logDebug(Ve$1,`RPC '${i}' stream ${o} transport closed`),Tt.Vo())}),At(bt,WebChannel.EventType.ERROR,wt=>{Pt||(Pt=!0,__PRIVATE_logWarn(Ve$1,`RPC '${i}' stream ${o} transport errored:`,wt),Tt.Vo(new FirestoreError(D$1.UNAVAILABLE,"The operation could not be completed")))}),At(bt,WebChannel.EventType.MESSAGE,wt=>{var _t;if(!Pt){const Et=wt.data[0];__PRIVATE_hardAssert(!!Et);const yt=Et,St=yt.error||((_t=yt[0])===null||_t===void 0?void 0:_t.error);if(St){__PRIVATE_logDebug(Ve$1,`RPC '${i}' stream ${o} received error:`,St);const xt=St.status;let Ct=function(It){const Nt=ae$1[It];if(Nt!==void 0)return __PRIVATE_mapCodeFromRpcCode(Nt)}(xt),$t=St.message;Ct===void 0&&(Ct=D$1.INTERNAL,$t="Unknown error status: "+xt+" with message "+St.message),Pt=!0,Tt.Vo(new FirestoreError(Ct,$t)),bt.close()}else __PRIVATE_logDebug(Ve$1,`RPC '${i}' stream ${o} received:`,Et),Tt.mo(Et)}}),At(ft,Event$1.STAT_EVENT,wt=>{wt.stat===Stat.PROXY?__PRIVATE_logDebug(Ve$1,`RPC '${i}' stream ${o} detected buffering proxy`):wt.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Ve$1,`RPC '${i}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Tt.Ro()},0),Tt}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(e){return new JsonProtoSerializer(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(i,s,a=1e3,o=1.5,et=6e4){this.oi=i,this.timerId=s,this.Mo=a,this.xo=o,this.Oo=et,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(i){this.cancel();const s=Math.floor(this.No+this.Qo()),a=Math.max(0,Date.now()-this.Lo),o=Math.max(0,s-a);o>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.No} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,o,()=>(this.Lo=Date.now(),i())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(i,s,a,o,et,ot,ft,dt){this.oi=i,this.$o=a,this.Uo=o,this.connection=et,this.authCredentialsProvider=ot,this.appCheckCredentialsProvider=ft,this.listener=dt,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new __PRIVATE_ExponentialBackoff(i,s)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(i){this.n_(),this.stream.send(i)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(i,s){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,i!==4?this.jo.reset():s&&s.code===D$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(s.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):s&&s.code===D$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=i,await this.listener.To(s)}i_(){}auth(){this.state=1;const i=this.s_(this.Wo),s=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.Wo===s&&this.o_(a,o)},a=>{i(()=>{const o=new FirestoreError(D$1.UNKNOWN,"Fetching auth token failed: "+a.message);return this.__(o)})})}o_(i,s){const a=this.s_(this.Wo);this.stream=this.a_(i,s),this.stream.Po(()=>{a(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(o=>{a(()=>this.__(o))}),this.stream.onMessage(o=>{a(()=>this.onMessage(o))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(i){return __PRIVATE_logDebug("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}s_(i){return s=>{this.oi.enqueueAndForget(()=>this.Wo===i?s():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(i,s,a,o,et,ot){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,o,ot),this.serializer=et}a_(i,s){return this.connection.Fo("Listen",i,s)}onMessage(i){this.jo.reset();const s=__PRIVATE_fromWatchChange(this.serializer,i),a=function(et){if(!("targetChange"in et))return SnapshotVersion.min();const ot=et.targetChange;return ot.targetIds&&ot.targetIds.length?SnapshotVersion.min():ot.readTime?__PRIVATE_fromVersion(ot.readTime):SnapshotVersion.min()}(i);return this.listener.u_(s,a)}c_(i){const s={};s.database=__PRIVATE_getEncodedDatabaseId(this.serializer),s.addTarget=function(et,ot){let ft;const dt=ot.target;if(ft=__PRIVATE_targetIsDocumentTarget(dt)?{documents:__PRIVATE_toDocumentsTarget(et,dt)}:{query:__PRIVATE_toQueryTarget(et,dt).ut},ft.targetId=ot.targetId,ot.resumeToken.approximateByteSize()>0){ft.resumeToken=__PRIVATE_toBytes(et,ot.resumeToken);const mt=__PRIVATE_toInt32Proto(et,ot.expectedCount);mt!==null&&(ft.expectedCount=mt)}else if(ot.snapshotVersion.compareTo(SnapshotVersion.min())>0){ft.readTime=toTimestamp(et,ot.snapshotVersion.toTimestamp());const mt=__PRIVATE_toInt32Proto(et,ot.expectedCount);mt!==null&&(ft.expectedCount=mt)}return ft}(this.serializer,i);const a=__PRIVATE_toListenRequestLabels(this.serializer,i);a&&(s.labels=a),this.t_(s)}l_(i){const s={};s.database=__PRIVATE_getEncodedDatabaseId(this.serializer),s.removeTarget=i,this.t_(s)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(i,s,a,o,et,ot){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,o,ot),this.serializer=et,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(i,s){return this.connection.Fo("Write",i,s)}onMessage(i){if(__PRIVATE_hardAssert(!!i.streamToken),this.lastStreamToken=i.streamToken,this.h_){this.jo.reset();const s=__PRIVATE_fromWriteResults(i.writeResults,i.commitTime),a=__PRIVATE_fromVersion(i.commitTime);return this.listener.T_(a,s)}return __PRIVATE_hardAssert(!i.writeResults||i.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const i={};i.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.t_(i)}I_(i){const s={streamToken:this.lastStreamToken,writes:i.map(a=>toMutation(this.serializer,a))};this.t_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(i,s,a,o){super(),this.authCredentials=i,this.appCheckCredentials=s,this.connection=a,this.serializer=o,this.A_=!1}R_(){if(this.A_)throw new FirestoreError(D$1.FAILED_PRECONDITION,"The client has already been terminated.")}So(i,s,a,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([et,ot])=>this.connection.So(i,__PRIVATE_toResourcePath(s,a),o,et,ot)).catch(et=>{throw et.name==="FirebaseError"?(et.code===D$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),et):new FirestoreError(D$1.UNKNOWN,et.toString())})}vo(i,s,a,o,et){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([ot,ft])=>this.connection.vo(i,__PRIVATE_toResourcePath(s,a),o,ot,ft,et)).catch(ot=>{throw ot.name==="FirebaseError"?(ot.code===D$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),ot):new FirestoreError(D$1.UNKNOWN,ot.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(i,s){this.asyncQueue=i,this.onlineStateHandler=s,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(i){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.y_("Offline")))}set(i){this.b_(),this.m_=0,i==="Online"&&(this.g_=!1),this.y_(i)}y_(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}w_(i){const s=`Could not reach Cloud Firestore backend. ${i}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(__PRIVATE_logError(s),this.g_=!1):__PRIVATE_logDebug("OnlineStateTracker",s)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(i,s,a,o,et){this.localStore=i,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=et,this.M_.io(ot=>{a.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(dt){const mt=__PRIVATE_debugCast(dt);mt.v_.add(4),await __PRIVATE_disableNetworkInternal(mt),mt.x_.set("Unknown"),mt.v_.delete(4),await __PRIVATE_enableNetworkInternal(mt)}(this))})}),this.x_=new __PRIVATE_OnlineStateTracker(a,o)}}async function __PRIVATE_enableNetworkInternal(e){if(__PRIVATE_canUseNetwork(e))for(const i of e.F_)await i(!0)}async function __PRIVATE_disableNetworkInternal(e){for(const i of e.F_)await i(!1)}function __PRIVATE_remoteStoreListen(e,i){const s=__PRIVATE_debugCast(e);s.C_.has(i.targetId)||(s.C_.set(i.targetId,i),__PRIVATE_shouldStartWatchStream(s)?__PRIVATE_startWatchStream(s):__PRIVATE_ensureWatchStream(s).Jo()&&__PRIVATE_sendWatchRequest(s,i))}function __PRIVATE_remoteStoreUnlisten(e,i){const s=__PRIVATE_debugCast(e),a=__PRIVATE_ensureWatchStream(s);s.C_.delete(i),a.Jo()&&__PRIVATE_sendUnwatchRequest(s,i),s.C_.size===0&&(a.Jo()?a.Xo():__PRIVATE_canUseNetwork(s)&&s.x_.set("Unknown"))}function __PRIVATE_sendWatchRequest(e,i){if(e.O_.Oe(i.targetId),i.resumeToken.approximateByteSize()>0||i.snapshotVersion.compareTo(SnapshotVersion.min())>0){const s=e.remoteSyncer.getRemoteKeysForTarget(i.targetId).size;i=i.withExpectedCount(s)}__PRIVATE_ensureWatchStream(e).c_(i)}function __PRIVATE_sendUnwatchRequest(e,i){e.O_.Oe(i),__PRIVATE_ensureWatchStream(e).l_(i)}function __PRIVATE_startWatchStream(e){e.O_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:i=>e.remoteSyncer.getRemoteKeysForTarget(i),_t:i=>e.C_.get(i)||null,nt:()=>e.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(e).start(),e.x_.p_()}function __PRIVATE_shouldStartWatchStream(e){return __PRIVATE_canUseNetwork(e)&&!__PRIVATE_ensureWatchStream(e).Ho()&&e.C_.size>0}function __PRIVATE_canUseNetwork(e){return __PRIVATE_debugCast(e).v_.size===0}function __PRIVATE_cleanUpWatchStreamState(e){e.O_=void 0}async function __PRIVATE_onWatchStreamOpen(e){e.C_.forEach((i,s)=>{__PRIVATE_sendWatchRequest(e,i)})}async function __PRIVATE_onWatchStreamClose(e,i){__PRIVATE_cleanUpWatchStreamState(e),__PRIVATE_shouldStartWatchStream(e)?(e.x_.S_(i),__PRIVATE_startWatchStream(e)):e.x_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(e,i,s){if(e.x_.set("Online"),i instanceof __PRIVATE_WatchTargetChange&&i.state===2&&i.cause)try{await async function(o,et){const ot=et.cause;for(const ft of et.targetIds)o.C_.has(ft)&&(await o.remoteSyncer.rejectListen(ft,ot),o.C_.delete(ft),o.O_.removeTarget(ft))}(e,i)}catch(a){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),a),await __PRIVATE_disableNetworkUntilRecovery(e,a)}else if(i instanceof __PRIVATE_DocumentWatchChange?e.O_.$e(i):i instanceof __PRIVATE_ExistenceFilterChange?e.O_.Je(i):e.O_.Ge(i),!s.isEqual(SnapshotVersion.min()))try{const a=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(e.localStore);s.compareTo(a)>=0&&await function(et,ot){const ft=et.O_.it(ot);return ft.targetChanges.forEach((dt,mt)=>{if(dt.resumeToken.approximateByteSize()>0){const gt=et.C_.get(mt);gt&&et.C_.set(mt,gt.withResumeToken(dt.resumeToken,ot))}}),ft.targetMismatches.forEach((dt,mt)=>{const gt=et.C_.get(dt);if(!gt)return;et.C_.set(dt,gt.withResumeToken(ByteString.EMPTY_BYTE_STRING,gt.snapshotVersion)),__PRIVATE_sendUnwatchRequest(et,dt);const bt=new TargetData(gt.target,dt,mt,gt.sequenceNumber);__PRIVATE_sendWatchRequest(et,bt)}),et.remoteSyncer.applyRemoteEvent(ft)}(e,s)}catch(a){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",a),await __PRIVATE_disableNetworkUntilRecovery(e,a)}}async function __PRIVATE_disableNetworkUntilRecovery(e,i,s){if(!__PRIVATE_isIndexedDbTransactionError(i))throw i;e.v_.add(1),await __PRIVATE_disableNetworkInternal(e),e.x_.set("Offline"),s||(s=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await s(),e.v_.delete(1),await __PRIVATE_enableNetworkInternal(e)})}function __PRIVATE_executeWithRecovery(e,i){return i().catch(s=>__PRIVATE_disableNetworkUntilRecovery(e,s,i))}async function __PRIVATE_fillWritePipeline(e){const i=__PRIVATE_debugCast(e),s=__PRIVATE_ensureWriteStream(i);let a=i.D_.length>0?i.D_[i.D_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(i);)try{const o=await __PRIVATE_localStoreGetNextMutationBatch(i.localStore,a);if(o===null){i.D_.length===0&&s.Xo();break}a=o.batchId,__PRIVATE_addToWritePipeline(i,o)}catch(o){await __PRIVATE_disableNetworkUntilRecovery(i,o)}__PRIVATE_shouldStartWriteStream(i)&&__PRIVATE_startWriteStream(i)}function __PRIVATE_canAddToWritePipeline(e){return __PRIVATE_canUseNetwork(e)&&e.D_.length<10}function __PRIVATE_addToWritePipeline(e,i){e.D_.push(i);const s=__PRIVATE_ensureWriteStream(e);s.Jo()&&s.P_&&s.I_(i.mutations)}function __PRIVATE_shouldStartWriteStream(e){return __PRIVATE_canUseNetwork(e)&&!__PRIVATE_ensureWriteStream(e).Ho()&&e.D_.length>0}function __PRIVATE_startWriteStream(e){__PRIVATE_ensureWriteStream(e).start()}async function __PRIVATE_onWriteStreamOpen(e){__PRIVATE_ensureWriteStream(e).d_()}async function __PRIVATE_onWriteHandshakeComplete(e){const i=__PRIVATE_ensureWriteStream(e);for(const s of e.D_)i.I_(s.mutations)}async function __PRIVATE_onMutationResult(e,i,s){const a=e.D_.shift(),o=MutationBatchResult.from(a,i,s);await __PRIVATE_executeWithRecovery(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await __PRIVATE_fillWritePipeline(e)}async function __PRIVATE_onWriteStreamClose(e,i){i&&__PRIVATE_ensureWriteStream(e).P_&&await async function(a,o){if(function(ot){return __PRIVATE_isPermanentError(ot)&&ot!==D$1.ABORTED}(o.code)){const et=a.D_.shift();__PRIVATE_ensureWriteStream(a).Zo(),await __PRIVATE_executeWithRecovery(a,()=>a.remoteSyncer.rejectFailedWrite(et.batchId,o)),await __PRIVATE_fillWritePipeline(a)}}(e,i),__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}async function __PRIVATE_remoteStoreHandleCredentialChange(e,i){const s=__PRIVATE_debugCast(e);s.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const a=__PRIVATE_canUseNetwork(s);s.v_.add(3),await __PRIVATE_disableNetworkInternal(s),a&&s.x_.set("Unknown"),await s.remoteSyncer.handleCredentialChange(i),s.v_.delete(3),await __PRIVATE_enableNetworkInternal(s)}async function __PRIVATE_remoteStoreApplyPrimaryState(e,i){const s=__PRIVATE_debugCast(e);i?(s.v_.delete(2),await __PRIVATE_enableNetworkInternal(s)):i||(s.v_.add(2),await __PRIVATE_disableNetworkInternal(s),s.x_.set("Unknown"))}function __PRIVATE_ensureWatchStream(e){return e.N_||(e.N_=function(s,a,o){const et=__PRIVATE_debugCast(s);return et.R_(),new __PRIVATE_PersistentListenStream(a,et.connection,et.authCredentials,et.appCheckCredentials,et.serializer,o)}(e.datastore,e.asyncQueue,{Po:__PRIVATE_onWatchStreamOpen.bind(null,e),To:__PRIVATE_onWatchStreamClose.bind(null,e),u_:__PRIVATE_onWatchStreamChange.bind(null,e)}),e.F_.push(async i=>{i?(e.N_.Zo(),__PRIVATE_shouldStartWatchStream(e)?__PRIVATE_startWatchStream(e):e.x_.set("Unknown")):(await e.N_.stop(),__PRIVATE_cleanUpWatchStreamState(e))})),e.N_}function __PRIVATE_ensureWriteStream(e){return e.B_||(e.B_=function(s,a,o){const et=__PRIVATE_debugCast(s);return et.R_(),new __PRIVATE_PersistentWriteStream(a,et.connection,et.authCredentials,et.appCheckCredentials,et.serializer,o)}(e.datastore,e.asyncQueue,{Po:__PRIVATE_onWriteStreamOpen.bind(null,e),To:__PRIVATE_onWriteStreamClose.bind(null,e),E_:__PRIVATE_onWriteHandshakeComplete.bind(null,e),T_:__PRIVATE_onMutationResult.bind(null,e)}),e.F_.push(async i=>{i?(e.B_.Zo(),await __PRIVATE_fillWritePipeline(e)):(await e.B_.stop(),e.D_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(i,s,a,o,et){this.asyncQueue=i,this.timerId=s,this.targetTimeMs=a,this.op=o,this.removalCallback=et,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(ot=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,s,a,o,et){const ot=Date.now()+a,ft=new DelayedOperation(i,s,ot,o,et);return ft.start(a),ft}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D$1.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(e,i){if(__PRIVATE_logError("AsyncQueue",`${i}: ${e}`),__PRIVATE_isIndexedDbTransactionError(e))return new FirestoreError(D$1.UNAVAILABLE,`${i}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(i){this.comparator=i?(s,a)=>i(s,a)||DocumentKey.comparator(s.key,a.key):(s,a)=>DocumentKey.comparator(s.key,a.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(i){return new DocumentSet(i.comparator)}has(i){return this.keyedMap.get(i)!=null}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const s=this.keyedMap.get(i);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((s,a)=>(i(s),!1))}add(i){const s=this.delete(i.key);return s.copy(s.keyedMap.insert(i.key,i),s.sortedSet.insert(i,null))}delete(i){const s=this.get(i);return s?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(s)):this}isEqual(i){if(!(i instanceof DocumentSet)||this.size!==i.size)return!1;const s=this.sortedSet.getIterator(),a=i.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,et=a.getNext().key;if(!o.isEqual(et))return!1}return!0}toString(){const i=[];return this.forEach(s=>{i.push(s.toString())}),i.length===0?"DocumentSet ()":`DocumentSet (
  `+i.join(`  
`)+`
)`}copy(i,s){const a=new DocumentSet;return a.comparator=this.comparator,a.keyedMap=i,a.sortedSet=s,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.L_=new SortedMap(DocumentKey.comparator)}track(i){const s=i.doc.key,a=this.L_.get(s);a?i.type!==0&&a.type===3?this.L_=this.L_.insert(s,i):i.type===3&&a.type!==1?this.L_=this.L_.insert(s,{type:a.type,doc:i.doc}):i.type===2&&a.type===2?this.L_=this.L_.insert(s,{type:2,doc:i.doc}):i.type===2&&a.type===0?this.L_=this.L_.insert(s,{type:0,doc:i.doc}):i.type===1&&a.type===0?this.L_=this.L_.remove(s):i.type===1&&a.type===2?this.L_=this.L_.insert(s,{type:1,doc:a.doc}):i.type===0&&a.type===1?this.L_=this.L_.insert(s,{type:2,doc:i.doc}):fail():this.L_=this.L_.insert(s,i)}k_(){const i=[];return this.L_.inorderTraversal((s,a)=>{i.push(a)}),i}}class ViewSnapshot{constructor(i,s,a,o,et,ot,ft,dt,mt){this.query=i,this.docs=s,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=et,this.fromCache=ot,this.syncStateChanged=ft,this.excludesMetadataChanges=dt,this.hasCachedResults=mt}static fromInitialDocuments(i,s,a,o,et){const ot=[];return s.forEach(ft=>{ot.push({type:0,doc:ft})}),new ViewSnapshot(i,s,DocumentSet.emptySet(s),ot,a,o,!0,!1,et)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&__PRIVATE_queryEquals(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const s=this.docChanges,a=i.docChanges;if(s.length!==a.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==a[o].type||!s[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.q_=void 0,this.Q_=[]}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=new ObjectMap(i=>__PRIVATE_canonifyQuery(i),__PRIVATE_queryEquals),this.onlineState="Unknown",this.K_=new Set}}async function __PRIVATE_eventManagerListen(e,i){const s=__PRIVATE_debugCast(e),a=i.query;let o=!1,et=s.queries.get(a);if(et||(o=!0,et=new __PRIVATE_QueryListenersInfo),o)try{et.q_=await s.onListen(a)}catch(ot){const ft=__PRIVATE_wrapInUserErrorIfRecoverable(ot,`Initialization of query '${__PRIVATE_stringifyQuery(i.query)}' failed`);return void i.onError(ft)}s.queries.set(a,et),et.Q_.push(i),i.U_(s.onlineState),et.q_&&i.W_(et.q_)&&__PRIVATE_raiseSnapshotsInSyncEvent(s)}async function __PRIVATE_eventManagerUnlisten(e,i){const s=__PRIVATE_debugCast(e),a=i.query;let o=!1;const et=s.queries.get(a);if(et){const ot=et.Q_.indexOf(i);ot>=0&&(et.Q_.splice(ot,1),o=et.Q_.length===0)}if(o)return s.queries.delete(a),s.onUnlisten(a)}function __PRIVATE_eventManagerOnWatchChange(e,i){const s=__PRIVATE_debugCast(e);let a=!1;for(const o of i){const et=o.query,ot=s.queries.get(et);if(ot){for(const ft of ot.Q_)ft.W_(o)&&(a=!0);ot.q_=o}}a&&__PRIVATE_raiseSnapshotsInSyncEvent(s)}function __PRIVATE_eventManagerOnWatchError(e,i,s){const a=__PRIVATE_debugCast(e),o=a.queries.get(i);if(o)for(const et of o.Q_)et.onError(s);a.queries.delete(i)}function __PRIVATE_raiseSnapshotsInSyncEvent(e){e.K_.forEach(i=>{i.next()})}class __PRIVATE_QueryListener{constructor(i,s,a){this.query=i,this.G_=s,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=a||{}}W_(i){if(!this.options.includeMetadataChanges){const a=[];for(const o of i.docChanges)o.type!==3&&a.push(o);i=new ViewSnapshot(i.query,i.docs,i.oldDocs,a,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let s=!1;return this.z_?this.H_(i)&&(this.G_.next(i),s=!0):this.J_(i,this.onlineState)&&(this.Y_(i),s=!0),this.j_=i,s}onError(i){this.G_.error(i)}U_(i){this.onlineState=i;let s=!1;return this.j_&&!this.z_&&this.J_(this.j_,i)&&(this.Y_(this.j_),s=!0),s}J_(i,s){if(!i.fromCache)return!0;const a=s!=="Offline";return(!this.options.Z_||!a)&&(!i.docs.isEmpty()||i.hasCachedResults||s==="Offline")}H_(i){if(i.docChanges.length>0)return!0;const s=this.j_&&this.j_.hasPendingWrites!==i.hasPendingWrites;return!(!i.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}Y_(i){i=ViewSnapshot.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.z_=!0,this.G_.next(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(i){this.key=i}}class __PRIVATE_RemovedLimboDocument{constructor(i){this.key=i}}class __PRIVATE_View{constructor(i,s){this.query=i,this.oa=s,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.ua=__PRIVATE_newQueryComparator(i),this.ca=new DocumentSet(this.ua)}get la(){return this.oa}ha(i,s){const a=s?s.Pa:new __PRIVATE_DocumentChangeSet,o=s?s.ca:this.ca;let et=s?s.mutatedKeys:this.mutatedKeys,ot=o,ft=!1;const dt=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,mt=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(i.inorderTraversal((gt,bt)=>{const vt=o.get(gt),Pt=__PRIVATE_queryMatches(this.query,bt)?bt:null,Tt=!!vt&&this.mutatedKeys.has(vt.key),At=!!Pt&&(Pt.hasLocalMutations||this.mutatedKeys.has(Pt.key)&&Pt.hasCommittedMutations);let wt=!1;vt&&Pt?vt.data.isEqual(Pt.data)?Tt!==At&&(a.track({type:3,doc:Pt}),wt=!0):this.Ia(vt,Pt)||(a.track({type:2,doc:Pt}),wt=!0,(dt&&this.ua(Pt,dt)>0||mt&&this.ua(Pt,mt)<0)&&(ft=!0)):!vt&&Pt?(a.track({type:0,doc:Pt}),wt=!0):vt&&!Pt&&(a.track({type:1,doc:vt}),wt=!0,(dt||mt)&&(ft=!0)),wt&&(Pt?(ot=ot.add(Pt),et=At?et.add(gt):et.delete(gt)):(ot=ot.delete(gt),et=et.delete(gt)))}),this.query.limit!==null)for(;ot.size>this.query.limit;){const gt=this.query.limitType==="F"?ot.last():ot.first();ot=ot.delete(gt.key),et=et.delete(gt.key),a.track({type:1,doc:gt})}return{ca:ot,Pa:a,Xi:ft,mutatedKeys:et}}Ia(i,s){return i.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(i,s,a,o){const et=this.ca;this.ca=i.ca,this.mutatedKeys=i.mutatedKeys;const ot=i.Pa.k_();ot.sort((gt,bt)=>function(Pt,Tt){const At=wt=>{switch(wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return At(Pt)-At(Tt)}(gt.type,bt.type)||this.ua(gt.doc,bt.doc)),this.Ta(a),o=o!=null&&o;const ft=s&&!o?this.Ea():[],dt=this.aa.size===0&&this.current&&!o?1:0,mt=dt!==this._a;return this._a=dt,ot.length!==0||mt?{snapshot:new ViewSnapshot(this.query,i.ca,et,ot,i.mutatedKeys,dt===0,mt,!1,!!a&&a.resumeToken.approximateByteSize()>0),da:ft}:{da:ft}}U_(i){return this.current&&i==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(i){return!this.oa.has(i)&&!!this.ca.has(i)&&!this.ca.get(i).hasLocalMutations}Ta(i){i&&(i.addedDocuments.forEach(s=>this.oa=this.oa.add(s)),i.modifiedDocuments.forEach(s=>{}),i.removedDocuments.forEach(s=>this.oa=this.oa.delete(s)),this.current=i.current)}Ea(){if(!this.current)return[];const i=this.aa;this.aa=__PRIVATE_documentKeySet(),this.ca.forEach(a=>{this.Aa(a.key)&&(this.aa=this.aa.add(a.key))});const s=[];return i.forEach(a=>{this.aa.has(a)||s.push(new __PRIVATE_RemovedLimboDocument(a))}),this.aa.forEach(a=>{i.has(a)||s.push(new __PRIVATE_AddedLimboDocument(a))}),s}Ra(i){this.oa=i.hs,this.aa=__PRIVATE_documentKeySet();const s=this.ha(i.documents);return this.applyChanges(s,!0)}Va(){return ViewSnapshot.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(i,s,a){this.query=i,this.targetId=s,this.view=a}}class LimboResolution{constructor(i){this.key=i,this.ma=!1}}class __PRIVATE_SyncEngineImpl{constructor(i,s,a,o,et,ot){this.localStore=i,this.remoteStore=s,this.eventManager=a,this.sharedClientState=o,this.currentUser=et,this.maxConcurrentLimboResolutions=ot,this.fa={},this.ga=new ObjectMap(ft=>__PRIVATE_canonifyQuery(ft),__PRIVATE_queryEquals),this.pa=new Map,this.ya=new Set,this.wa=new SortedMap(DocumentKey.comparator),this.Sa=new Map,this.ba=new __PRIVATE_ReferenceSet,this.Da={},this.Ca=new Map,this.va=__PRIVATE_TargetIdGenerator.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function __PRIVATE_syncEngineListen(e,i){const s=__PRIVATE_ensureWatchCallbacks(e);let a,o;const et=s.ga.get(i);if(et)a=et.targetId,s.sharedClientState.addLocalQueryTarget(a),o=et.view.Va();else{const ot=await __PRIVATE_localStoreAllocateTarget(s.localStore,__PRIVATE_queryToTarget(i)),ft=s.sharedClientState.addLocalQueryTarget(ot.targetId);a=ot.targetId,o=await __PRIVATE_initializeViewAndComputeSnapshot(s,i,a,ft==="current",ot.resumeToken),s.isPrimaryClient&&__PRIVATE_remoteStoreListen(s.remoteStore,ot)}return o}async function __PRIVATE_initializeViewAndComputeSnapshot(e,i,s,a,o){e.Ma=(bt,vt,Pt)=>async function(At,wt,_t,Et){let yt=wt.view.ha(_t);yt.Xi&&(yt=await __PRIVATE_localStoreExecuteQuery(At.localStore,wt.query,!1).then(({documents:$t})=>wt.view.ha($t,yt)));const St=Et&&Et.targetChanges.get(wt.targetId),xt=Et&&Et.targetMismatches.get(wt.targetId)!=null,Ct=wt.view.applyChanges(yt,At.isPrimaryClient,St,xt);return __PRIVATE_updateTrackedLimbos(At,wt.targetId,Ct.da),Ct.snapshot}(e,bt,vt,Pt);const et=await __PRIVATE_localStoreExecuteQuery(e.localStore,i,!0),ot=new __PRIVATE_View(i,et.hs),ft=ot.ha(et.documents),dt=TargetChange.createSynthesizedTargetChangeForCurrentChange(s,a&&e.onlineState!=="Offline",o),mt=ot.applyChanges(ft,e.isPrimaryClient,dt);__PRIVATE_updateTrackedLimbos(e,s,mt.da);const gt=new __PRIVATE_QueryView(i,s,ot);return e.ga.set(i,gt),e.pa.has(s)?e.pa.get(s).push(i):e.pa.set(s,[i]),mt.snapshot}async function __PRIVATE_syncEngineUnlisten(e,i){const s=__PRIVATE_debugCast(e),a=s.ga.get(i),o=s.pa.get(a.targetId);if(o.length>1)return s.pa.set(a.targetId,o.filter(et=>!__PRIVATE_queryEquals(et,i))),void s.ga.delete(i);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await __PRIVATE_localStoreReleaseTarget(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),__PRIVATE_remoteStoreUnlisten(s.remoteStore,a.targetId),__PRIVATE_removeAndCleanupTarget(s,a.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(s,a.targetId),await __PRIVATE_localStoreReleaseTarget(s.localStore,a.targetId,!0))}async function __PRIVATE_syncEngineWrite(e,i,s){const a=__PRIVATE_syncEngineEnsureWriteCallbacks(e);try{const o=await function(ot,ft){const dt=__PRIVATE_debugCast(ot),mt=Timestamp.now(),gt=ft.reduce((Pt,Tt)=>Pt.add(Tt.key),__PRIVATE_documentKeySet());let bt,vt;return dt.persistence.runTransaction("Locally write mutations","readwrite",Pt=>{let Tt=__PRIVATE_mutableDocumentMap(),At=__PRIVATE_documentKeySet();return dt.os.getEntries(Pt,gt).next(wt=>{Tt=wt,Tt.forEach((_t,Et)=>{Et.isValidDocument()||(At=At.add(_t))})}).next(()=>dt.localDocuments.getOverlayedDocuments(Pt,Tt)).next(wt=>{bt=wt;const _t=[];for(const Et of ft){const yt=__PRIVATE_mutationExtractBaseValue(Et,bt.get(Et.key).overlayedDocument);yt!=null&&_t.push(new __PRIVATE_PatchMutation(Et.key,yt,__PRIVATE_extractFieldMask(yt.value.mapValue),Precondition.exists(!0)))}return dt.mutationQueue.addMutationBatch(Pt,mt,_t,ft)}).next(wt=>{vt=wt;const _t=wt.applyToLocalDocumentSet(bt,At);return dt.documentOverlayCache.saveOverlays(Pt,wt.batchId,_t)})}).then(()=>({batchId:vt.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(bt)}))}(a.localStore,i);a.sharedClientState.addPendingMutation(o.batchId),function(ot,ft,dt){let mt=ot.Da[ot.currentUser.toKey()];mt||(mt=new SortedMap(__PRIVATE_primitiveComparator)),mt=mt.insert(ft,dt),ot.Da[ot.currentUser.toKey()]=mt}(a,o.batchId,s),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(a,o.changes),await __PRIVATE_fillWritePipeline(a.remoteStore)}catch(o){const et=__PRIVATE_wrapInUserErrorIfRecoverable(o,"Failed to persist write");s.reject(et)}}async function __PRIVATE_syncEngineApplyRemoteEvent(e,i){const s=__PRIVATE_debugCast(e);try{const a=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(s.localStore,i);i.targetChanges.forEach((o,et)=>{const ot=s.Sa.get(et);ot&&(__PRIVATE_hardAssert(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?ot.ma=!0:o.modifiedDocuments.size>0?__PRIVATE_hardAssert(ot.ma):o.removedDocuments.size>0&&(__PRIVATE_hardAssert(ot.ma),ot.ma=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,a,i)}catch(a){await __PRIVATE_ignoreIfPrimaryLeaseLoss(a)}}function __PRIVATE_syncEngineApplyOnlineStateChange(e,i,s){const a=__PRIVATE_debugCast(e);if(a.isPrimaryClient&&s===0||!a.isPrimaryClient&&s===1){const o=[];a.ga.forEach((et,ot)=>{const ft=ot.view.U_(i);ft.snapshot&&o.push(ft.snapshot)}),function(ot,ft){const dt=__PRIVATE_debugCast(ot);dt.onlineState=ft;let mt=!1;dt.queries.forEach((gt,bt)=>{for(const vt of bt.Q_)vt.U_(ft)&&(mt=!0)}),mt&&__PRIVATE_raiseSnapshotsInSyncEvent(dt)}(a.eventManager,i),o.length&&a.fa.u_(o),a.onlineState=i,a.isPrimaryClient&&a.sharedClientState.setOnlineState(i)}}async function __PRIVATE_syncEngineRejectListen(e,i,s){const a=__PRIVATE_debugCast(e);a.sharedClientState.updateQueryState(i,"rejected",s);const o=a.Sa.get(i),et=o&&o.key;if(et){let ot=new SortedMap(DocumentKey.comparator);ot=ot.insert(et,MutableDocument.newNoDocument(et,SnapshotVersion.min()));const ft=__PRIVATE_documentKeySet().add(et),dt=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),ot,ft);await __PRIVATE_syncEngineApplyRemoteEvent(a,dt),a.wa=a.wa.remove(et),a.Sa.delete(i),__PRIVATE_pumpEnqueuedLimboResolutions(a)}else await __PRIVATE_localStoreReleaseTarget(a.localStore,i,!1).then(()=>__PRIVATE_removeAndCleanupTarget(a,i,s)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(e,i){const s=__PRIVATE_debugCast(e),a=i.batch.batchId;try{const o=await __PRIVATE_localStoreAcknowledgeBatch(s.localStore,i);__PRIVATE_processUserCallback(s,a,null),__PRIVATE_triggerPendingWritesCallbacks(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,o)}catch(o){await __PRIVATE_ignoreIfPrimaryLeaseLoss(o)}}async function __PRIVATE_syncEngineRejectFailedWrite(e,i,s){const a=__PRIVATE_debugCast(e);try{const o=await function(ot,ft){const dt=__PRIVATE_debugCast(ot);return dt.persistence.runTransaction("Reject batch","readwrite-primary",mt=>{let gt;return dt.mutationQueue.lookupMutationBatch(mt,ft).next(bt=>(__PRIVATE_hardAssert(bt!==null),gt=bt.keys(),dt.mutationQueue.removeMutationBatch(mt,bt))).next(()=>dt.mutationQueue.performConsistencyCheck(mt)).next(()=>dt.documentOverlayCache.removeOverlaysForBatchId(mt,gt,ft)).next(()=>dt.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(mt,gt)).next(()=>dt.localDocuments.getDocuments(mt,gt))})}(a.localStore,i);__PRIVATE_processUserCallback(a,i,s),__PRIVATE_triggerPendingWritesCallbacks(a,i),a.sharedClientState.updateMutationState(i,"rejected",s),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(a,o)}catch(o){await __PRIVATE_ignoreIfPrimaryLeaseLoss(o)}}function __PRIVATE_triggerPendingWritesCallbacks(e,i){(e.Ca.get(i)||[]).forEach(s=>{s.resolve()}),e.Ca.delete(i)}function __PRIVATE_processUserCallback(e,i,s){const a=__PRIVATE_debugCast(e);let o=a.Da[a.currentUser.toKey()];if(o){const et=o.get(i);et&&(s?et.reject(s):et.resolve(),o=o.remove(i)),a.Da[a.currentUser.toKey()]=o}}function __PRIVATE_removeAndCleanupTarget(e,i,s=null){e.sharedClientState.removeLocalQueryTarget(i);for(const a of e.pa.get(i))e.ga.delete(a),s&&e.fa.xa(a,s);e.pa.delete(i),e.isPrimaryClient&&e.ba.Vr(i).forEach(a=>{e.ba.containsKey(a)||__PRIVATE_removeLimboTarget(e,a)})}function __PRIVATE_removeLimboTarget(e,i){e.ya.delete(i.path.canonicalString());const s=e.wa.get(i);s!==null&&(__PRIVATE_remoteStoreUnlisten(e.remoteStore,s),e.wa=e.wa.remove(i),e.Sa.delete(s),__PRIVATE_pumpEnqueuedLimboResolutions(e))}function __PRIVATE_updateTrackedLimbos(e,i,s){for(const a of s)a instanceof __PRIVATE_AddedLimboDocument?(e.ba.addReference(a.key,i),__PRIVATE_trackLimboChange(e,a)):a instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+a.key),e.ba.removeReference(a.key,i),e.ba.containsKey(a.key)||__PRIVATE_removeLimboTarget(e,a.key)):fail()}function __PRIVATE_trackLimboChange(e,i){const s=i.key,a=s.path.canonicalString();e.wa.get(s)||e.ya.has(a)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+s),e.ya.add(a),__PRIVATE_pumpEnqueuedLimboResolutions(e))}function __PRIVATE_pumpEnqueuedLimboResolutions(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const i=e.ya.values().next().value;e.ya.delete(i);const s=new DocumentKey(ResourcePath.fromString(i)),a=e.va.next();e.Sa.set(a,new LimboResolution(s)),e.wa=e.wa.insert(s,a),__PRIVATE_remoteStoreListen(e.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(s.path)),a,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence._e))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(e,i,s){const a=__PRIVATE_debugCast(e),o=[],et=[],ot=[];a.ga.isEmpty()||(a.ga.forEach((ft,dt)=>{ot.push(a.Ma(dt,i,s).then(mt=>{if((mt||s)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(dt.targetId,mt!=null&&mt.fromCache?"not-current":"current"),mt){o.push(mt);const gt=__PRIVATE_LocalViewChanges.Ki(dt.targetId,mt);et.push(gt)}}))}),await Promise.all(ot),a.fa.u_(o),await async function(dt,mt){const gt=__PRIVATE_debugCast(dt);try{await gt.persistence.runTransaction("notifyLocalViewChanges","readwrite",bt=>PersistencePromise.forEach(mt,vt=>PersistencePromise.forEach(vt.qi,Pt=>gt.persistence.referenceDelegate.addReference(bt,vt.targetId,Pt)).next(()=>PersistencePromise.forEach(vt.Qi,Pt=>gt.persistence.referenceDelegate.removeReference(bt,vt.targetId,Pt)))))}catch(bt){if(!__PRIVATE_isIndexedDbTransactionError(bt))throw bt;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+bt)}for(const bt of mt){const vt=bt.targetId;if(!bt.fromCache){const Pt=gt.ns.get(vt),Tt=Pt.snapshotVersion,At=Pt.withLastLimboFreeSnapshotVersion(Tt);gt.ns=gt.ns.insert(vt,At)}}}(a.localStore,et))}async function __PRIVATE_syncEngineHandleCredentialChange(e,i){const s=__PRIVATE_debugCast(e);if(!s.currentUser.isEqual(i)){__PRIVATE_logDebug("SyncEngine","User change. New user:",i.toKey());const a=await __PRIVATE_localStoreHandleUserChange(s.localStore,i);s.currentUser=i,function(et,ot){et.Ca.forEach(ft=>{ft.forEach(dt=>{dt.reject(new FirestoreError(D$1.CANCELLED,ot))})}),et.Ca.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(i,a.removedBatchIds,a.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,a.us)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(e,i){const s=__PRIVATE_debugCast(e),a=s.Sa.get(i);if(a&&a.ma)return __PRIVATE_documentKeySet().add(a.key);{let o=__PRIVATE_documentKeySet();const et=s.pa.get(i);if(!et)return o;for(const ot of et){const ft=s.ga.get(ot);o=o.unionWith(ft.view.la)}return o}}function __PRIVATE_ensureWatchCallbacks(e){const i=__PRIVATE_debugCast(e);return i.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,i),i.fa.u_=__PRIVATE_eventManagerOnWatchChange.bind(null,i.eventManager),i.fa.xa=__PRIVATE_eventManagerOnWatchError.bind(null,i.eventManager),i}function __PRIVATE_syncEngineEnsureWriteCallbacks(e){const i=__PRIVATE_debugCast(e);return i.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,i),i}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(i){this.serializer=__PRIVATE_newSerializer(i.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(i),this.persistence=this.createPersistence(i),await this.persistence.start(),this.localStore=this.createLocalStore(i),this.gcScheduler=this.createGarbageCollectionScheduler(i,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(i,this.localStore)}createGarbageCollectionScheduler(i,s){return null}createIndexBackfillerScheduler(i,s){return null}createLocalStore(i){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,i.initialUser,this.serializer)}createPersistence(i){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Hr,this.serializer)}createSharedClientState(i){return new __PRIVATE_MemorySharedClientState}async terminate(){var i,s;(i=this.gcScheduler)===null||i===void 0||i.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OnlineComponentProvider{async initialize(i,s){this.localStore||(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(i){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(i){const s=__PRIVATE_newSerializer(i.databaseInfo.databaseId),a=function(et){return new __PRIVATE_WebChannelConnection(et)}(i.databaseInfo);return function(et,ot,ft,dt){return new __PRIVATE_DatastoreImpl(et,ot,ft,dt)}(i.authCredentials,i.appCheckCredentials,a,s)}createRemoteStore(i){return function(a,o,et,ot,ft){return new __PRIVATE_RemoteStoreImpl(a,o,et,ot,ft)}(this.localStore,this.datastore,i.asyncQueue,s=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,s,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(i,s){return function(o,et,ot,ft,dt,mt,gt){const bt=new __PRIVATE_SyncEngineImpl(o,et,ot,ft,dt,mt);return gt&&(bt.Fa=!0),bt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}async terminate(){var i;await async function(a){const o=__PRIVATE_debugCast(a);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),o.v_.add(5),await __PRIVATE_disableNetworkInternal(o),o.M_.shutdown(),o.x_.set("Unknown")}(this.remoteStore),(i=this.datastore)===null||i===void 0||i.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Ba(this.observer.next,i)}error(i){this.observer.error?this.Ba(this.observer.error,i):__PRIVATE_logError("Uncaught Error in snapshot listener:",i.toString())}La(){this.muted=!0}Ba(i,s){this.muted||setTimeout(()=>{this.muted||i(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(i,s,a,o){this.authCredentials=i,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=o,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,async et=>{__PRIVATE_logDebug("FirestoreClient","Received user=",et.uid),await this.authCredentialListener(et),this.user=et}),this.appCheckCredentials.start(a,et=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",et),this.appCheckCredentialListener(et,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(D$1.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const i=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),i.resolve()}catch(s){const a=__PRIVATE_wrapInUserErrorIfRecoverable(s,"Failed to shutdown persistence");i.reject(a)}}),i.promise}}async function __PRIVATE_setOfflineComponentProvider(e,i){e.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const s=e.configuration;await i.initialize(s);let a=s.initialUser;e.setCredentialChangeListener(async o=>{a.isEqual(o)||(await __PRIVATE_localStoreHandleUserChange(i.localStore,o),a=o)}),i.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=i}async function __PRIVATE_setOnlineComponentProvider(e,i){e.asyncQueue.verifyOperationInProgress();const s=await __PRIVATE_ensureOfflineComponents(e);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await i.initialize(s,e.configuration),e.setCredentialChangeListener(a=>__PRIVATE_remoteStoreHandleCredentialChange(i.remoteStore,a)),e.setAppCheckTokenChangeListener((a,o)=>__PRIVATE_remoteStoreHandleCredentialChange(i.remoteStore,o)),e._onlineComponents=i}function __PRIVATE_canFallbackFromIndexedDbError(e){return e.name==="FirebaseError"?e.code===D$1.FAILED_PRECONDITION||e.code===D$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function __PRIVATE_ensureOfflineComponents(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(e,e._uninitializedComponentsProvider._offline)}catch(i){const s=i;if(!__PRIVATE_canFallbackFromIndexedDbError(s))throw s;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+s),await __PRIVATE_setOfflineComponentProvider(e,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(e,new MemoryOfflineComponentProvider);return e._offlineComponents}async function __PRIVATE_ensureOnlineComponents(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(e,e._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(e,new OnlineComponentProvider))),e._onlineComponents}function __PRIVATE_getSyncEngine(e){return __PRIVATE_ensureOnlineComponents(e).then(i=>i.syncEngine)}async function __PRIVATE_getEventManager(e){const i=await __PRIVATE_ensureOnlineComponents(e),s=i.eventManager;return s.onListen=__PRIVATE_syncEngineListen.bind(null,i.syncEngine),s.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,i.syncEngine),s}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(e,i,s={}){const a=new __PRIVATE_Deferred;return e.asyncQueue.enqueueAndForget(async()=>function(et,ot,ft,dt,mt){const gt=new __PRIVATE_AsyncObserver({next:vt=>{ot.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(et,bt));const Pt=vt.docs.has(ft);!Pt&&vt.fromCache?mt.reject(new FirestoreError(D$1.UNAVAILABLE,"Failed to get document because the client is offline.")):Pt&&vt.fromCache&&dt&&dt.source==="server"?mt.reject(new FirestoreError(D$1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):mt.resolve(vt)},error:vt=>mt.reject(vt)}),bt=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(ft.path),gt,{includeMetadataChanges:!0,Z_:!0});return __PRIVATE_eventManagerListen(et,bt)}(await __PRIVATE_getEventManager(e),e.asyncQueue,i,s,a)),a.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(e,i,s={}){const a=new __PRIVATE_Deferred;return e.asyncQueue.enqueueAndForget(async()=>function(et,ot,ft,dt,mt){const gt=new __PRIVATE_AsyncObserver({next:vt=>{ot.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(et,bt)),vt.fromCache&&dt.source==="server"?mt.reject(new FirestoreError(D$1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):mt.resolve(vt)},error:vt=>mt.reject(vt)}),bt=new __PRIVATE_QueryListener(ft,gt,{includeMetadataChanges:!0,Z_:!0});return __PRIVATE_eventManagerListen(et,bt)}(await __PRIVATE_getEventManager(e),e.asyncQueue,i,s,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(e){const i={};return e.timeoutSeconds!==void 0&&(i.timeoutSeconds=e.timeoutSeconds),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me$1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(e,i,s){if(!s)throw new FirestoreError(D$1.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${i}.`)}function __PRIVATE_validateIsNotUsedTogether(e,i,s,a){if(i===!0&&a===!0)throw new FirestoreError(D$1.INVALID_ARGUMENT,`${e} and ${s} cannot be used together.`)}function __PRIVATE_validateDocumentPath(e){if(!DocumentKey.isDocumentKey(e))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function __PRIVATE_validateCollectionPath(e){if(DocumentKey.isDocumentKey(e))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function __PRIVATE_valueDescription(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const i=function(a){return a.constructor?a.constructor.name:null}(e);return i?`a custom ${i} object`:"an object"}}return typeof e=="function"?"a function":fail()}function __PRIVATE_cast(e,i){if("_delegate"in e&&(e=e._delegate),!(e instanceof i)){if(i.name===e.constructor.name)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=__PRIVATE_valueDescription(e);throw new FirestoreError(D$1.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${s}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(i){var s,a;if(i.host===void 0){if(i.ssl!==void 0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=(s=i.ssl)===null||s===void 0||s;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,i.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(i.cacheSizeBytes!==-1&&i.cacheSizeBytes<1048576)throw new FirestoreError(D$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:i.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((a=i.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(et){if(et.timeoutSeconds!==void 0){if(isNaN(et.timeoutSeconds))throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${et.timeoutSeconds} (must not be NaN)`);if(et.timeoutSeconds<5)throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${et.timeoutSeconds} (minimum allowed value is 5)`);if(et.timeoutSeconds>30)throw new FirestoreError(D$1.INVALID_ARGUMENT,`invalid long polling timeout: ${et.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,i.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Firestore$1{constructor(i,s,a,o){this._authCredentials=i,this._appCheckCredentials=s,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(D$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(i){if(this._settingsFrozen)throw new FirestoreError(D$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(i),i.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(a.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new FirestoreError(D$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const a=me$1.get(s);a&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),me$1.delete(s),a.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(e,i,s,a={}){var o;const et=(e=__PRIVATE_cast(e,Firestore$1))._getSettings(),ot=`${i}:${s}`;if(et.host!=="firestore.googleapis.com"&&et.host!==ot&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},et),{host:ot,ssl:!1})),a.mockUserToken){let ft,dt;if(typeof a.mockUserToken=="string")ft=a.mockUserToken,dt=User.MOCK_USER;else{ft=createMockUserToken(a.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const mt=a.mockUserToken.sub||a.mockUserToken.user_id;if(!mt)throw new FirestoreError(D$1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");dt=new User(mt)}e._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(ft,dt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(i,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=i}withConverter(i){return new Query(this.firestore,i,this._query)}}class DocumentReference{constructor(i,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new DocumentReference(this.firestore,i,this._key)}}class CollectionReference extends Query{constructor(i,s,a){super(i,s,__PRIVATE_newQueryForPath(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(i))}withConverter(i){return new CollectionReference(this.firestore,i,this._path)}}function collection(e,i,...s){if(e=getModularInstance(e),__PRIVATE_validateNonEmptyArgument("collection","path",i),e instanceof Firestore$1){const a=ResourcePath.fromString(i,...s);return __PRIVATE_validateCollectionPath(a),new CollectionReference(e,null,a)}{if(!(e instanceof DocumentReference||e instanceof CollectionReference))throw new FirestoreError(D$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=e._path.child(ResourcePath.fromString(i,...s));return __PRIVATE_validateCollectionPath(a),new CollectionReference(e.firestore,null,a)}}function doc(e,i,...s){if(e=getModularInstance(e),arguments.length===1&&(i=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",i),e instanceof Firestore$1){const a=ResourcePath.fromString(i,...s);return __PRIVATE_validateDocumentPath(a),new DocumentReference(e,null,new DocumentKey(a))}{if(!(e instanceof DocumentReference||e instanceof CollectionReference))throw new FirestoreError(D$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=e._path.child(ResourcePath.fromString(i,...s));return __PRIVATE_validateDocumentPath(a),new DocumentReference(e.firestore,e instanceof CollectionReference?e.converter:null,new DocumentKey(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this._u=()=>{const s=getDocument();s&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+s.visibilityState),this.jo.Ko()};const i=getDocument();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.au(),this.uu(i)}enterRestrictedMode(i){if(!this.tu){this.tu=!0,this.su=i||!1;const s=getDocument();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._u)}}enqueue(i){if(this.au(),this.tu)return new Promise(()=>{});const s=new __PRIVATE_Deferred;return this.uu(()=>this.tu&&this.su?Promise.resolve():(i().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.eu.push(i),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(i){if(!__PRIVATE_isIndexedDbTransactionError(i))throw i;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+i)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(i){const s=this.Xa.then(()=>(this.iu=!0,i().catch(a=>{this.ru=a,this.iu=!1;const o=function(ot){let ft=ot.message||"";return ot.stack&&(ft=ot.stack.includes(ot.message)?ot.stack:ot.message+`
`+ot.stack),ft}(a);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.iu=!1,a))));return this.Xa=s,s}enqueueAfterDelay(i,s,a){this.au(),this.ou.indexOf(i)>-1&&(s=0);const o=DelayedOperation.createAndSchedule(this,i,s,a,et=>this.lu(et));return this.nu.push(o),o}au(){this.ru&&fail()}verifyOperationInProgress(){}async hu(){let i;do i=this.Xa,await i;while(i!==this.Xa)}Pu(i){for(const s of this.nu)if(s.timerId===i)return!0;return!1}Iu(i){return this.hu().then(()=>{this.nu.sort((s,a)=>s.targetTimeMs-a.targetTimeMs);for(const s of this.nu)if(s.skipDelay(),i!=="all"&&s.timerId===i)break;return this.hu()})}Tu(i){this.ou.push(i)}lu(i){const s=this.nu.indexOf(i);this.nu.splice(s,1)}}class Firestore extends Firestore$1{constructor(i,s,a,o){super(i,s,a,o),this.type="firestore",this._queue=function(){return new __PRIVATE_AsyncQueueImpl}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}}function getFirestore(e,i){const s=typeof e=="object"?e:getApp(),a=typeof e=="string"?e:i||"(default)",o=_getProvider(s,"firestore").getImmediate({identifier:a});if(!o._initialized){const et=getDefaultEmulatorHostnameAndPort("firestore");et&&connectFirestoreEmulator(o,...et)}return o}function ensureFirestoreConfigured(e){return e._firestoreClient||__PRIVATE_configureFirestore(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function __PRIVATE_configureFirestore(e){var i,s,a;const o=e._freezeSettings(),et=function(ft,dt,mt,gt){return new DatabaseInfo(ft,dt,mt,gt.host,gt.ssl,gt.experimentalForceLongPolling,gt.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(gt.experimentalLongPollingOptions),gt.useFetchStreams)}(e._databaseId,((i=e._app)===null||i===void 0?void 0:i.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new FirestoreClient(e._authCredentials,e._appCheckCredentials,e._queue,et),!((s=o.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Bytes(ByteString.fromBase64String(i))}catch(s){throw new FirestoreError(D$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(i){return new Bytes(ByteString.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...i){for(let s=0;s<i.length;++s)if(i[s].length===0)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(i){this._methodName=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(i,s){if(!isFinite(i)||i<-90||i>90)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(s)||s<-180||s>180)throw new FirestoreError(D$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=i,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return __PRIVATE_primitiveComparator(this._lat,i._lat)||__PRIVATE_primitiveComparator(this._long,i._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge$1=/^__.*__$/;class ParsedSetData{constructor(i,s,a){this.data=i,this.fieldMask=s,this.fieldTransforms=a}toMutation(i,s){return this.fieldMask!==null?new __PRIVATE_PatchMutation(i,this.data,this.fieldMask,s,this.fieldTransforms):new __PRIVATE_SetMutation(i,this.data,s,this.fieldTransforms)}}function __PRIVATE_isWrite(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(i,s,a,o,et,ot){this.settings=i,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=o,et===void 0&&this.Eu(),this.fieldTransforms=et||[],this.fieldMask=ot||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(i){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(i){var s;const a=(s=this.path)===null||s===void 0?void 0:s.child(i),o=this.Au({path:a,Vu:!1});return o.mu(i),o}fu(i){var s;const a=(s=this.path)===null||s===void 0?void 0:s.child(i),o=this.Au({path:a,Vu:!1});return o.Eu(),o}gu(i){return this.Au({path:void 0,Vu:!0})}pu(i){return __PRIVATE_createError(i,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(i){return this.fieldMask.find(s=>i.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>i.isPrefixOf(s.field))!==void 0}Eu(){if(this.path)for(let i=0;i<this.path.length;i++)this.mu(this.path.get(i))}mu(i){if(i.length===0)throw this.pu("Document fields must not be empty");if(__PRIVATE_isWrite(this.du)&&ge$1.test(i))throw this.pu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(i,s,a){this.databaseId=i,this.ignoreUndefinedProperties=s,this.serializer=a||__PRIVATE_newSerializer(i)}Su(i,s,a,o=!1){return new __PRIVATE_ParseContextImpl({du:i,methodName:s,wu:a,path:FieldPath$1.emptyPath(),Vu:!1,yu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(e){const i=e._freezeSettings(),s=__PRIVATE_newSerializer(e._databaseId);return new __PRIVATE_UserDataReader(e._databaseId,!!i.ignoreUndefinedProperties,s)}function __PRIVATE_parseSetData(e,i,s,a,o,et={}){const ot=e.Su(et.merge||et.mergeFields?2:0,i,s,o);__PRIVATE_validatePlainObject("Data must be an object, but it was:",ot,a);const ft=__PRIVATE_parseObject(a,ot);let dt,mt;if(et.merge)dt=new FieldMask(ot.fieldMask),mt=ot.fieldTransforms;else if(et.mergeFields){const gt=[];for(const bt of et.mergeFields){const vt=__PRIVATE_fieldPathFromArgument$1(i,bt,s);if(!ot.contains(vt))throw new FirestoreError(D$1.INVALID_ARGUMENT,`Field '${vt}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(gt,vt)||gt.push(vt)}dt=new FieldMask(gt),mt=ot.fieldTransforms.filter(bt=>dt.covers(bt.field))}else dt=null,mt=ot.fieldTransforms;return new ParsedSetData(new ObjectValue(ft),dt,mt)}function __PRIVATE_parseData(e,i){if(__PRIVATE_looksLikeJsonObject(e=getModularInstance(e)))return __PRIVATE_validatePlainObject("Unsupported field value:",i,e),__PRIVATE_parseObject(e,i);if(e instanceof FieldValue)return function(a,o){if(!__PRIVATE_isWrite(o.du))throw o.pu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.pu(`${a._methodName}() is not currently supported inside arrays`);const et=a._toFieldTransform(o);et&&o.fieldTransforms.push(et)}(e,i),null;if(e===void 0&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),e instanceof Array){if(i.settings.Vu&&i.du!==4)throw i.pu("Nested arrays are not supported");return function(a,o){const et=[];let ot=0;for(const ft of a){let dt=__PRIVATE_parseData(ft,o.gu(ot));dt==null&&(dt={nullValue:"NULL_VALUE"}),et.push(dt),ot++}return{arrayValue:{values:et}}}(e,i)}return function(a,o){if((a=getModularInstance(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return toNumber(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const et=Timestamp.fromDate(a);return{timestampValue:toTimestamp(o.serializer,et)}}if(a instanceof Timestamp){const et=new Timestamp(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:toTimestamp(o.serializer,et)}}if(a instanceof GeoPoint)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(o.serializer,a._byteString)};if(a instanceof DocumentReference){const et=o.databaseId,ot=a.firestore._databaseId;if(!ot.isEqual(et))throw o.pu(`Document reference is for database ${ot.projectId}/${ot.database} but should be for database ${et.projectId}/${et.database}`);return{referenceValue:__PRIVATE_toResourceName(a.firestore._databaseId||o.databaseId,a._key.path)}}throw o.pu(`Unsupported field value: ${__PRIVATE_valueDescription(a)}`)}(e,i)}function __PRIVATE_parseObject(e,i){const s={};return isEmpty(e)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):forEach(e,(a,o)=>{const et=__PRIVATE_parseData(o,i.Ru(a));et!=null&&(s[a]=et)}),{mapValue:{fields:s}}}function __PRIVATE_looksLikeJsonObject(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Timestamp||e instanceof GeoPoint||e instanceof Bytes||e instanceof DocumentReference||e instanceof FieldValue)}function __PRIVATE_validatePlainObject(e,i,s){if(!__PRIVATE_looksLikeJsonObject(s)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(s)){const a=__PRIVATE_valueDescription(s);throw a==="an object"?i.pu(e+" a custom object"):i.pu(e+" "+a)}}function __PRIVATE_fieldPathFromArgument$1(e,i,s){if((i=getModularInstance(i))instanceof FieldPath)return i._internalPath;if(typeof i=="string")return __PRIVATE_fieldPathFromDotSeparatedString(e,i);throw __PRIVATE_createError("Field path arguments must be of type string or ",e,!1,void 0,s)}const pe=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(e,i,s){if(i.search(pe)>=0)throw __PRIVATE_createError(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,s);try{return new FieldPath(...i.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,s)}}function __PRIVATE_createError(e,i,s,a,o){const et=a&&!a.isEmpty(),ot=o!==void 0;let ft=`Function ${i}() called with invalid data`;s&&(ft+=" (via `toFirestore()`)"),ft+=". ";let dt="";return(et||ot)&&(dt+=" (found",et&&(dt+=` in field ${a}`),ot&&(dt+=` in document ${o}`),dt+=")"),new FirestoreError(D$1.INVALID_ARGUMENT,ft+e+dt)}function __PRIVATE_fieldMaskContains(e,i){return e.some(s=>s.isEqual(i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(i,s,a,o,et){this._firestore=i,this._userDataWriter=s,this._key=a,this._document=o,this._converter=et}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const i=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const s=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",i));if(s!==null)return this._userDataWriter.convertValue(s)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(e,i){return typeof i=="string"?__PRIVATE_fieldPathFromDotSeparatedString(e,i):i instanceof FieldPath?i._internalPath:i._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new FirestoreError(D$1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AbstractUserDataWriter{convertValue(i,s="none"){switch(__PRIVATE_typeOrder(i)){case 0:return null;case 1:return i.booleanValue;case 2:return __PRIVATE_normalizeNumber(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,s);case 5:return i.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,s);case 10:return this.convertObject(i.mapValue,s);default:throw fail()}}convertObject(i,s){return this.convertObjectMap(i.fields,s)}convertObjectMap(i,s="none"){const a={};return forEach(i,(o,et)=>{a[o]=this.convertValue(et,s)}),a}convertGeoPoint(i){return new GeoPoint(__PRIVATE_normalizeNumber(i.latitude),__PRIVATE_normalizeNumber(i.longitude))}convertArray(i,s){return(i.values||[]).map(a=>this.convertValue(a,s))}convertServerTimestamp(i,s){switch(s){case"previous":const a=__PRIVATE_getPreviousValue(i);return a==null?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(i));default:return null}}convertTimestamp(i){const s=__PRIVATE_normalizeTimestamp(i);return new Timestamp(s.seconds,s.nanos)}convertDocumentKey(i,s){const a=ResourcePath.fromString(i);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(a));const o=new DatabaseId(a.get(1),a.get(3)),et=new DocumentKey(a.popFirst(5));return o.isEqual(s)||__PRIVATE_logError(`Document ${et} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),et}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(e,i,s){let a;return a=e?s&&(s.merge||s.mergeFields)?e.toFirestore(i,s):e.toFirestore(i):i,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(i,s){this.hasPendingWrites=i,this.fromCache=s}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(i,s,a,o,et,ot){super(i,s,a,o,ot),this._firestore=i,this._firestoreImpl=i,this.metadata=et}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const s=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,s={}){if(this._document){const a=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",i));if(a!==null)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(i={}){return super.data(i)}}class QuerySnapshot{constructor(i,s,a,o){this._firestore=i,this._userDataWriter=s,this._snapshot=o,this.metadata=new SnapshotMetadata(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const i=[];return this.forEach(s=>i.push(s)),i}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(i,s){this._snapshot.docs.forEach(a=>{i.call(s,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,a.key,a,new SnapshotMetadata(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const s=!!i.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(D$1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(o,et){if(o._snapshot.oldDocs.isEmpty()){let ot=0;return o._snapshot.docChanges.map(ft=>{const dt=new QueryDocumentSnapshot(o._firestore,o._userDataWriter,ft.doc.key,ft.doc,new SnapshotMetadata(o._snapshot.mutatedKeys.has(ft.doc.key),o._snapshot.fromCache),o.query.converter);return ft.doc,{type:"added",doc:dt,oldIndex:-1,newIndex:ot++}})}{let ot=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(ft=>et||ft.type!==3).map(ft=>{const dt=new QueryDocumentSnapshot(o._firestore,o._userDataWriter,ft.doc.key,ft.doc,new SnapshotMetadata(o._snapshot.mutatedKeys.has(ft.doc.key),o._snapshot.fromCache),o.query.converter);let mt=-1,gt=-1;return ft.type!==0&&(mt=ot.indexOf(ft.doc.key),ot=ot.delete(ft.doc.key)),ft.type!==1&&(ot=ot.add(ft.doc),gt=ot.indexOf(ft.doc.key)),{type:__PRIVATE_resultChangeType(ft.type),doc:dt,oldIndex:mt,newIndex:gt}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function __PRIVATE_resultChangeType(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(e){e=__PRIVATE_cast(e,DocumentReference);const i=__PRIVATE_cast(e.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(i),e._key).then(s=>__PRIVATE_convertToDocSnapshot(i,e,s))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(i){super(),this.firestore=i}convertBytes(i){return new Bytes(i)}convertReference(i){const s=this.convertDocumentKey(i,this.firestore._databaseId);return new DocumentReference(this.firestore,null,s)}}function getDocs(e){e=__PRIVATE_cast(e,Query);const i=__PRIVATE_cast(e.firestore,Firestore),s=ensureFirestoreConfigured(i),a=new __PRIVATE_ExpUserDataWriter(i);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(e._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(s,e._query).then(o=>new QuerySnapshot(i,a,e,o))}function setDoc(e,i,s){e=__PRIVATE_cast(e,DocumentReference);const a=__PRIVATE_cast(e.firestore,Firestore),o=__PRIVATE_applyFirestoreDataConverter(e.converter,i,s);return executeWrite(a,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(a),"setDoc",e._key,o,e.converter!==null,s).toMutation(e._key,Precondition.none())])}function executeWrite(e,i){return function(a,o){const et=new __PRIVATE_Deferred;return a.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(a),o,et)),et.promise}(ensureFirestoreConfigured(e),i)}function __PRIVATE_convertToDocSnapshot(e,i,s){const a=s.docs.get(i._key),o=new __PRIVATE_ExpUserDataWriter(e);return new DocumentSnapshot(e,o,i._key,a,new SnapshotMetadata(s.hasPendingWrites,s.fromCache),i.converter)}(function(i,s=!0){(function(o){S$1=o})(SDK_VERSION),_registerComponent(new Component("firestore",(a,{instanceIdentifier:o,options:et})=>{const ot=a.getProvider("app").getImmediate(),ft=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(a.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(a.getProvider("app-check-internal")),function(mt,gt){if(!Object.prototype.hasOwnProperty.apply(mt.options,["projectId"]))throw new FirestoreError(D$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(mt.options.projectId,gt)}(ot,o),ot);return et=Object.assign({useFetchStreams:s},et),ft._setSettings(et),ft},"PUBLIC").setMultipleInstances(!0)),registerVersion(w$2,"4.4.1",i),registerVersion(w$2,"4.4.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(i,s,a=0){super(prependCode(i),`Firebase Storage: ${s} (${prependCode(i)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return prependCode(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(e){return"storage/"+e}function unknown(){const e="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,e)}function objectNotFound(e){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function quotaExceeded(e){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,e)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(e){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(e){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+e+"'.")}function invalidDefaultBucket(e){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(e){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(e){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,e)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(e){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(e,i){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+e+"': "+i)}function internalError(e){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(i,s){this.bucket=i,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,s){let a;try{a=Location.makeFromUrl(i,s)}catch{return new Location(i,"")}if(a.path==="")return a;throw invalidDefaultBucket(i)}static makeFromUrl(i,s){let a=null;const o="([A-Za-z0-9.\\-_]+)";function et(St){St.path.charAt(St.path.length-1)==="/"&&(St.path_=St.path_.slice(0,-1))}const ot="(/(.*))?$",ft=new RegExp("^gs://"+o+ot,"i"),dt={bucket:1,path:3};function mt(St){St.path_=decodeURIComponent(St.path)}const gt="v[A-Za-z0-9_]+",bt=s.replace(/[.]/g,"\\."),vt="(/([^?#]*).*)?$",Pt=new RegExp(`^https?://${bt}/${gt}/b/${o}/o${vt}`,"i"),Tt={bucket:1,path:3},At=s===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":s,wt="([^?#]*)",_t=new RegExp(`^https?://${At}/${o}/${wt}`,"i"),yt=[{regex:ft,indices:dt,postModify:et},{regex:Pt,indices:Tt,postModify:mt},{regex:_t,indices:{bucket:1,path:2},postModify:mt}];for(let St=0;St<yt.length;St++){const xt=yt[St],Ct=xt.regex.exec(i);if(Ct){const $t=Ct[xt.indices.bucket];let Rt=Ct[xt.indices.path];Rt||(Rt=""),a=new Location($t,Rt),xt.postModify(a);break}}if(a==null)throw invalidUrl(i);return a}}class FailRequest{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(e,i,s){let a=1,o=null,et=null,ot=!1,ft=0;function dt(){return ft===2}let mt=!1;function gt(...wt){mt||(mt=!0,i.apply(null,wt))}function bt(wt){o=setTimeout(()=>{o=null,e(Pt,dt())},wt)}function vt(){et&&clearTimeout(et)}function Pt(wt,..._t){if(mt){vt();return}if(wt){vt(),gt.call(null,wt,..._t);return}if(dt()||ot){vt(),gt.call(null,wt,..._t);return}a<64&&(a*=2);let yt;ft===1?(ft=2,yt=0):yt=(a+Math.random())*1e3,bt(yt)}let Tt=!1;function At(wt){Tt||(Tt=!0,vt(),!mt&&(o!==null?(wt||(ft=2),clearTimeout(o),bt(0)):wt||(ft=1)))}return bt(0),et=setTimeout(()=>{ot=!0,At(!0)},s),At}function stop(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(e){return e!==void 0}function isNonArrayObject(e){return typeof e=="object"&&!Array.isArray(e)}function isString$1(e){return typeof e=="string"||e instanceof String}function isNativeBlob(e){return isNativeBlobDefined()&&e instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(e,i,s,a){if(a<i)throw invalidArgument(`Invalid value for '${e}'. Expected ${i} or greater.`);if(a>s)throw invalidArgument(`Invalid value for '${e}'. Expected ${s} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(e,i,s){let a=i;return s==null&&(a=`https://${i}`),`${s}://${a}/v0${e}`}function makeQueryString(e){const i=encodeURIComponent;let s="?";for(const a in e)if(e.hasOwnProperty(a)){const o=i(a)+"="+i(e[a]);s=s+o+"&"}return s=s.slice(0,-1),s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(e,i){const s=e>=500&&e<600,o=[408,429].indexOf(e)!==-1,et=i.indexOf(e)!==-1;return s||o||et}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(i,s,a,o,et,ot,ft,dt,mt,gt,bt,vt=!0){this.url_=i,this.method_=s,this.headers_=a,this.body_=o,this.successCodes_=et,this.additionalRetryCodes_=ot,this.callback_=ft,this.errorCallback_=dt,this.timeout_=mt,this.progressCallback_=gt,this.connectionFactory_=bt,this.retry=vt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Pt,Tt)=>{this.resolve_=Pt,this.reject_=Tt,this.start_()})}start_(){const i=(a,o)=>{if(o){a(!1,new RequestEndStatus(!1,null,!0));return}const et=this.connectionFactory_();this.pendingConnection_=et;const ot=ft=>{const dt=ft.loaded,mt=ft.lengthComputable?ft.total:-1;this.progressCallback_!==null&&this.progressCallback_(dt,mt)};this.progressCallback_!==null&&et.addUploadProgressListener(ot),et.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&et.removeUploadProgressListener(ot),this.pendingConnection_=null;const ft=et.getErrorCode()===ErrorCode.NO_ERROR,dt=et.getStatus();if(!ft||isRetryStatusCode(dt,this.additionalRetryCodes_)&&this.retry){const gt=et.getErrorCode()===ErrorCode.ABORT;a(!1,new RequestEndStatus(!1,null,gt));return}const mt=this.successCodes_.indexOf(dt)!==-1;a(!0,new RequestEndStatus(mt,et))})},s=(a,o)=>{const et=this.resolve_,ot=this.reject_,ft=o.connection;if(o.wasSuccessCode)try{const dt=this.callback_(ft,ft.getResponse());isJustDef(dt)?et(dt):et()}catch(dt){ot(dt)}else if(ft!==null){const dt=unknown();dt.serverResponse=ft.getErrorText(),this.errorCallback_?ot(this.errorCallback_(ft,dt)):ot(dt)}else if(o.canceled){const dt=this.appDelete_?appDeleted():canceled();ot(dt)}else{const dt=retryLimitExceeded();ot(dt)}};this.canceled_?s(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(i,s,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(i,s,a){this.wasSuccessCode=i,this.connection=s,this.canceled=!!a}}function addAuthHeader_(e,i){i!==null&&i.length>0&&(e.Authorization="Firebase "+i)}function addVersionHeader_(e,i){e["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}function addGmpidHeader_(e,i){i&&(e["X-Firebase-GMPID"]=i)}function addAppCheckHeader_(e,i){i!==null&&(e["X-Firebase-AppCheck"]=i)}function makeRequest(e,i,s,a,o,et,ot=!0){const ft=makeQueryString(e.urlParams),dt=e.url+ft,mt=Object.assign({},e.headers);return addGmpidHeader_(mt,i),addAuthHeader_(mt,s),addVersionHeader_(mt,et),addAppCheckHeader_(mt,a),new NetworkRequest(dt,e.method,mt,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...e){const i=getBlobBuilder();if(i!==void 0){const s=new i;for(let a=0;a<e.length;a++)s.append(e[a]);return s.getBlob()}else{if(isNativeBlobDefined())return new Blob(e);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(e,i,s){return e.webkitSlice?e.webkitSlice(i,s):e.mozSlice?e.mozSlice(i,s):e.slice?e.slice(i,s):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(e){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(i,s){this.data=i,this.contentType=s||null}}function dataFromString(e,i){switch(e){case StringFormat.RAW:return new StringData(utf8Bytes_(i));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(e,i));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(i),dataURLContentType_(i))}throw unknown()}function utf8Bytes_(e){const i=[];for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a<=127)i.push(a);else if(a<=2047)i.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(s<e.length-1&&(e.charCodeAt(s+1)&64512)===56320))i.push(239,191,189);else{const et=a,ot=e.charCodeAt(++s);a=65536|(et&1023)<<10|ot&1023,i.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?i.push(239,191,189):i.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(i)}function percentEncodedBytes_(e){let i;try{i=decodeURIComponent(e)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(i)}function base64Bytes_(e,i){switch(e){case StringFormat.BASE64:{const o=i.indexOf("-")!==-1,et=i.indexOf("_")!==-1;if(o||et)throw invalidFormat(e,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const o=i.indexOf("+")!==-1,et=i.indexOf("/")!==-1;if(o||et)throw invalidFormat(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=decodeBase64(i)}catch(o){throw o.message.includes("polyfill")?o:invalidFormat(e,"Invalid character found")}const a=new Uint8Array(s.length);for(let o=0;o<s.length;o++)a[o]=s.charCodeAt(o);return a}class DataURLParts{constructor(i){this.base64=!1,this.contentType=null;const s=i.match(/^data:([^,]+)?,/);if(s===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=s[1]||null;a!=null&&(this.base64=endsWith(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=i.substring(i.indexOf(",")+1)}}function dataURLBytes_(e){const i=new DataURLParts(e);return i.base64?base64Bytes_(StringFormat.BASE64,i.rest):percentEncodedBytes_(i.rest)}function dataURLContentType_(e){return new DataURLParts(e).contentType}function endsWith(e,i){return e.length>=i.length?e.substring(e.length-i.length)===i:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(i,s){let a=0,o="";isNativeBlob(i)?(this.data_=i,a=i.size,o=i.type):i instanceof ArrayBuffer?(s?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),a=this.data_.length):i instanceof Uint8Array&&(s?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),a=i.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(i,s){if(isNativeBlob(this.data_)){const a=this.data_,o=sliceBlob(a,i,s);return o===null?null:new FbsBlob(o)}else{const a=new Uint8Array(this.data_.buffer,i,s-i);return new FbsBlob(a,!0)}}static getBlob(...i){if(isNativeBlobDefined()){const s=i.map(a=>a instanceof FbsBlob?a.data_:a);return new FbsBlob(getBlob$1.apply(null,s))}else{const s=i.map(ot=>isString$1(ot)?dataFromString(StringFormat.RAW,ot).data:ot.data_);let a=0;s.forEach(ot=>{a+=ot.byteLength});const o=new Uint8Array(a);let et=0;return s.forEach(ot=>{for(let ft=0;ft<ot.length;ft++)o[et++]=ot[ft]}),new FbsBlob(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(e){let i;try{i=JSON.parse(e)}catch{return null}return isNonArrayObject(i)?i:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(e){if(e.length===0)return null;const i=e.lastIndexOf("/");return i===-1?"":e.slice(0,i)}function child(e,i){const s=i.split("/").filter(a=>a.length>0).join("/");return e.length===0?s:e+"/"+s}function lastComponent(e){const i=e.lastIndexOf("/",e.length-2);return i===-1?e:e.slice(i+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(e,i){return i}class Mapping{constructor(i,s,a,o){this.server=i,this.local=s||i,this.writable=!!a,this.xform=o||noXform_}}let mappings_=null;function xformPath(e){return!isString$1(e)||e.length<2?e:lastComponent(e)}function getMappings(){if(mappings_)return mappings_;const e=[];e.push(new Mapping("bucket")),e.push(new Mapping("generation")),e.push(new Mapping("metageneration")),e.push(new Mapping("name","fullPath",!0));function i(et,ot){return xformPath(ot)}const s=new Mapping("name");s.xform=i,e.push(s);function a(et,ot){return ot!==void 0?Number(ot):ot}const o=new Mapping("size");return o.xform=a,e.push(o),e.push(new Mapping("timeCreated")),e.push(new Mapping("updated")),e.push(new Mapping("md5Hash",null,!0)),e.push(new Mapping("cacheControl",null,!0)),e.push(new Mapping("contentDisposition",null,!0)),e.push(new Mapping("contentEncoding",null,!0)),e.push(new Mapping("contentLanguage",null,!0)),e.push(new Mapping("contentType",null,!0)),e.push(new Mapping("metadata","customMetadata",!0)),mappings_=e,mappings_}function addRef(e,i){function s(){const a=e.bucket,o=e.fullPath,et=new Location(a,o);return i._makeStorageReference(et)}Object.defineProperty(e,"ref",{get:s})}function fromResource(e,i,s){const a={};a.type="file";const o=s.length;for(let et=0;et<o;et++){const ot=s[et];a[ot.local]=ot.xform(a,i[ot.server])}return addRef(a,e),a}function fromResourceString(e,i,s){const a=jsonObjectOrNull(i);return a===null?null:fromResource(e,a,s)}function downloadUrlFromResourceString(e,i,s,a){const o=jsonObjectOrNull(i);if(o===null||!isString$1(o.downloadTokens))return null;const et=o.downloadTokens;if(et.length===0)return null;const ot=encodeURIComponent;return et.split(",").map(mt=>{const gt=e.bucket,bt=e.fullPath,vt="/b/"+ot(gt)+"/o/"+ot(bt),Pt=makeUrl(vt,s,a),Tt=makeQueryString({alt:"media",token:mt});return Pt+Tt})[0]}function toResourceString(e,i){const s={},a=i.length;for(let o=0;o<a;o++){const et=i[o];et.writable&&(s[et.server]=e[et.local])}return JSON.stringify(s)}class RequestInfo{constructor(i,s,a,o){this.url=i,this.method=s,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(e){if(!e)throw unknown()}function metadataHandler(e,i){function s(a,o){const et=fromResourceString(e,o,i);return handlerCheck(et!==null),et}return s}function downloadUrlHandler(e,i){function s(a,o){const et=fromResourceString(e,o,i);return handlerCheck(et!==null),downloadUrlFromResourceString(et,o,e.host,e._protocol)}return s}function sharedErrorHandler(e){function i(s,a){let o;return s.getStatus()===401?s.getErrorText().includes("Firebase App Check token is invalid")?o=unauthorizedApp():o=unauthenticated():s.getStatus()===402?o=quotaExceeded(e.bucket):s.getStatus()===403?o=unauthorized(e.path):o=a,o.status=s.getStatus(),o.serverResponse=a.serverResponse,o}return i}function objectErrorHandler(e){const i=sharedErrorHandler(e);function s(a,o){let et=i(a,o);return a.getStatus()===404&&(et=objectNotFound(e.path)),et.serverResponse=o.serverResponse,et}return s}function getDownloadUrl(e,i,s){const a=i.fullServerUrl(),o=makeUrl(a,e.host,e._protocol),et="GET",ot=e.maxOperationRetryTime,ft=new RequestInfo(o,et,downloadUrlHandler(e,s),ot);return ft.errorHandler=objectErrorHandler(i),ft}function determineContentType_(e,i){return e&&e.contentType||i&&i.type()||"application/octet-stream"}function metadataForUpload_(e,i,s){const a=Object.assign({},s);return a.fullPath=e.path,a.size=i.size(),a.contentType||(a.contentType=determineContentType_(null,i)),a}function multipartUpload(e,i,s,a,o){const et=i.bucketOnlyServerUrl(),ot={"X-Goog-Upload-Protocol":"multipart"};function ft(){let yt="";for(let St=0;St<2;St++)yt=yt+Math.random().toString().slice(2);return yt}const dt=ft();ot["Content-Type"]="multipart/related; boundary="+dt;const mt=metadataForUpload_(i,a,o),gt=toResourceString(mt,s),bt="--"+dt+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+gt+`\r
--`+dt+`\r
Content-Type: `+mt.contentType+`\r
\r
`,vt=`\r
--`+dt+"--",Pt=FbsBlob.getBlob(bt,a,vt);if(Pt===null)throw cannotSliceBlob();const Tt={name:mt.fullPath},At=makeUrl(et,e.host,e._protocol),wt="POST",_t=e.maxUploadRetryTime,Et=new RequestInfo(At,wt,metadataHandler(e,s),_t);return Et.urlParams=Tt,Et.headers=ot,Et.body=Pt.uploadData(),Et.errorHandler=sharedErrorHandler(i),Et}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,s,a,o){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(s,i,!0),o!==void 0)for(const et in o)o.hasOwnProperty(et)&&this.xhr_.setRequestHeader(et,o[et].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",i)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(i,s){this._service=i,s instanceof Location?this._location=s:this._location=Location.makeFromUrl(s,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,s){return new Reference(i,s)}get root(){const i=new Location(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const i=parent(this._location.path);if(i===null)return null;const s=new Location(this._location.bucket,i);return new Reference(this._service,s)}_throwIfRoot(i){if(this._location.path==="")throw invalidRootOperation(i)}}function uploadBytes$1(e,i,s){e._throwIfRoot("uploadBytes");const a=multipartUpload(e.storage,e._location,getMappings(),new FbsBlob(i,!0),s);return e.storage.makeRequestWithTokens(a,newTextConnection).then(o=>({metadata:o,ref:e}))}function getDownloadURL$1(e){e._throwIfRoot("getDownloadURL");const i=getDownloadUrl(e.storage,e._location,getMappings());return e.storage.makeRequestWithTokens(i,newTextConnection).then(s=>{if(s===null)throw noDownloadURL();return s})}function _getChild$1(e,i){const s=child(e._location.path,i),a=new Location(e._location.bucket,s);return new Reference(e.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(e){return/^[A-Za-z]+:\/\//.test(e)}function refFromURL(e,i){return new Reference(e,i)}function refFromPath(e,i){if(e instanceof FirebaseStorageImpl){const s=e;if(s._bucket==null)throw noDefaultBucket();const a=new Reference(s,s._bucket);return i!=null?refFromPath(a,i):a}else return i!==void 0?_getChild$1(e,i):e}function ref$1(e,i){if(i&&isUrl(i)){if(e instanceof FirebaseStorageImpl)return refFromURL(e,i);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(e,i)}function extractBucket(e,i){const s=i==null?void 0:i[CONFIG_STORAGE_BUCKET_KEY];return s==null?null:Location.makeFromBucketSpec(s,e)}function connectStorageEmulator$1(e,i,s,a={}){e.host=`${i}:${s}`,e._protocol="http";const{mockUserToken:o}=a;o&&(e._overrideAuthToken=typeof o=="string"?o:createMockUserToken(o,e.app.options.projectId))}class FirebaseStorageImpl{constructor(i,s,a,o,et){this.app=i,this._authProvider=s,this._appCheckProvider=a,this._url=o,this._firebaseVersion=et,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,o!=null?this._bucket=Location.makeFromBucketSpec(o,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,i):this._bucket=extractBucket(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){validateNumber("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){validateNumber("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const i=this._authProvider.getImmediate({optional:!0});if(i){const s=await i.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){const i=this._appCheckProvider.getImmediate({optional:!0});return i?(await i.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Reference(this,i)}_makeRequest(i,s,a,o,et=!0){if(this._deleted)return new FailRequest(appDeleted());{const ot=makeRequest(i,this._appId,a,o,s,this._firebaseVersion,et);return this._requests.add(ot),ot.getPromise().then(()=>this._requests.delete(ot),()=>this._requests.delete(ot)),ot}}async makeRequestWithTokens(i,s){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(i,s,a,o).getPromise()}}const name="@firebase/storage",version="0.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(e,i,s){return e=getModularInstance(e),uploadBytes$1(e,i,s)}function getDownloadURL(e){return e=getModularInstance(e),getDownloadURL$1(e)}function ref(e,i){return e=getModularInstance(e),ref$1(e,i)}function getStorage(e=getApp(),i){e=getModularInstance(e);const a=_getProvider(e,STORAGE_TYPE).getImmediate({identifier:i}),o=getDefaultEmulatorHostnameAndPort("storage");return o&&connectStorageEmulator(a,...o),a}function connectStorageEmulator(e,i,s,a={}){connectStorageEmulator$1(e,i,s,a)}function factory(e,{instanceIdentifier:i}){const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new FirebaseStorageImpl(s,a,o,i,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();var fs,Nn,Xn,In;class FirebaseFunctions{constructor(){lr(this,fs,{apiKey:"AIzaSyCI18ONyrb74vK2tOrW9r7n6zUhvYBTPb8",authDomain:"document-uploader-5c59d.firebaseapp.com",projectId:"document-uploader-5c59d",storageBucket:"document-uploader-5c59d.appspot.com",messagingSenderId:"362472409064",appId:"1:362472409064:web:2bbdf232f33fafde3a865d"});lr(this,Nn,void 0);lr(this,Xn,void 0);lr(this,In,void 0);Tr(this,Nn,initializeApp(Mt(this,fs))),Tr(this,Xn,getStorage(Mt(this,Nn))),Tr(this,In,getFirestore(Mt(this,Nn)))}saveInDB(i){try{return setDoc(doc(Mt(this,In),"filestorage",`${i.id}`),i)}catch(s){console.trace(s),alert("Something went wrong while saving in Database")}}saveMultipleInDB(i){try{return Promise.all(i.map(s=>this.saveInDB(s)))}catch(s){console.trace(s),alert("Something went wrong while saving in Database")}}getMultipleFilesFromDB(){try{return getDocs(collection(Mt(this,In),"filestorage"))}catch(i){console.trace(i),alert("Something went wrong while fetching data from Database")}}getFileFromDb(i){try{return getDoc(doc(Mt(this,In),"filestorage",i))}catch(s){console.trace(s),alert("Something went wrong while fetching file from Database")}}async uploadFile(i){try{const s=ref(Mt(this,Xn),i.name),a=await uploadBytes(s,i),o=await getDownloadURL(a.ref);return{name:i.name,url:o}}catch(s){console.trace(s),alert("Something went wrong while uploading file")}}uploadMultipleFiles(i){try{return Promise.all(i.map(s=>this.uploadFile(s)))}catch(s){console.trace(s),alert("Something went wrong while uploading files")}}}fs=new WeakMap,Nn=new WeakMap,Xn=new WeakMap,In=new WeakMap;const firebase=new FirebaseFunctions;function ___$insertStyle(e){if(!e||typeof window>"u")return;const i=document.createElement("style");return i.setAttribute("type","text/css"),i.innerHTML=e,document.head.appendChild(i),e}var __assign$1$1=function(){return __assign$1$1=Object.assign||function(i){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var et in s)Object.prototype.hasOwnProperty.call(s,et)&&(i[et]=s[et])}return i},__assign$1$1.apply(this,arguments)};function __rest$2(e,i){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s}function __awaiter$1$1(e,i,s,a){function o(et){return et instanceof s?et:new s(function(ot){ot(et)})}return new(s||(s=Promise))(function(et,ot){function ft(gt){try{mt(a.next(gt))}catch(bt){ot(bt)}}function dt(gt){try{mt(a.throw(gt))}catch(bt){ot(bt)}}function mt(gt){gt.done?et(gt.value):o(gt.value).then(ft,dt)}mt((a=a.apply(e,i||[])).next())})}function __generator$1(e,i){var s={label:0,sent:function(){if(et[0]&1)throw et[1];return et[1]},trys:[],ops:[]},a,o,et,ot;return ot={next:ft(0),throw:ft(1),return:ft(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function ft(mt){return function(gt){return dt([mt,gt])}}function dt(mt){if(a)throw new TypeError("Generator is already executing.");for(;ot&&(ot=0,mt[0]&&(s=0)),s;)try{if(a=1,o&&(et=mt[0]&2?o.return:mt[0]?o.throw||((et=o.return)&&et.call(o),0):o.next)&&!(et=et.call(o,mt[1])).done)return et;switch(o=0,et&&(mt=[mt[0]&2,et.value]),mt[0]){case 0:case 1:et=mt;break;case 4:return s.label++,{value:mt[1],done:!1};case 5:s.label++,o=mt[1],mt=[0];continue;case 7:mt=s.ops.pop(),s.trys.pop();continue;default:if(et=s.trys,!(et=et.length>0&&et[et.length-1])&&(mt[0]===6||mt[0]===2)){s=0;continue}if(mt[0]===3&&(!et||mt[1]>et[0]&&mt[1]<et[3])){s.label=mt[1];break}if(mt[0]===6&&s.label<et[1]){s.label=et[1],et=mt;break}if(et&&s.label<et[2]){s.label=et[2],s.ops.push(mt);break}et[2]&&s.ops.pop(),s.trys.pop();continue}mt=i.call(e,s)}catch(gt){mt=[6,gt],o=0}finally{a=et=0}if(mt[0]&5)throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}}function __spreadArray$1$1(e,i,s){if(s||arguments.length===2)for(var a=0,o=i.length,et;a<o;a++)(et||!(a in i))&&(et||(et=Array.prototype.slice.call(i,0,a)),et[a]=i[a]);return e.concat(et||Array.prototype.slice.call(i))}var fileSizeFormater=function(e){var i="";if(e)return e<1024?i=e+" Bytes":e<1024*1024?i=(e/1024).toFixed(2)+" KB":e<1024*1024*1024?i=(e/1024/1024).toFixed(2)+" MB":e<1024*1024*1024*1024?i=(e/1024/1024/1024).toFixed(2)+" GB":i=(e/1024/1024/1024/1024).toFixed(2)+" TB",i},DropzoneItalian={defaultLabel:"Trascina qui i tuoi file",uploadingMessage:function(e){return"Caricamento di ".concat(e," file")},uploadFinished:function(e,i){return"File caricati: ".concat(e,", File rifiutati: ").concat(i)},noFilesMessage:"Nessun file valido in attesa di essere caricato",footer:{acceptAll:"Tutti i tipi di file sono accettati",acceptCustom:function(e){return"Tipi di file consentiti: ".concat(e)}},header:{uploadFilesMessage:"Caricamento",maxSizeMessage:function(e){return"Dimensione massima ".concat(e)},validFilesMessage:function(e,i){return"File  ".concat(e,"/").concat(i)}},fakeuploadsuccess:"Il file  stato caricato con successo ",fakeUploadError:"Errore di caricamento del file"},FileItemItalian={fullInfoLayer:{name:"Nome: ",size:"Dimensione: ",type:"Tipo: "},status:{preparing:"preparazione",uploading:"In corso",success:"Successo",valid:"Valido",denied:"Non vlido",error:"Errore",aborted:"Interrotto"}},ValidateErrorItalian={maxSizeError:function(e){return"Il file  molto grande. Il tam. il massimo  ".concat(fileSizeFormater(e))},acceptError:"Tipo di file illegale",maxFileCount:function(e){return"Numero massimo di file (".concat(e,") raggiunto")}},DropzoneFrench={defaultLabel:"Dposez vos fichiers ici",uploadingMessage:function(e){return"Envoi de ".concat(e," fichiers")},uploadFinished:function(e,i){return"Fichiers tlchargs : ".concat(e,", Fichiers rejets: ").concat(i)},noFilesMessage:"Aucun fichier valide ne manque",footer:{acceptAll:"Tous types de fichiers accepts ",acceptCustom:function(e){return"Types de fichier: ".concat(e)}},header:{uploadFilesMessage:"Envoyer",maxSizeMessage:function(e){return"Taille maximale ".concat(e)},validFilesMessage:function(e,i){return"Fichiers  ".concat(e,"/").concat(i)}},fakeuploadsuccess:"Le fichier a t tlcharg avec succs",fakeUploadError:"Erreur lors du tlchargement "},FileItemFrench={fullInfoLayer:{name:"Le nom: ",size:"Le taille: ",type:"Le type: "},status:{preparing:"prparer",uploading:"En cours",success:"Succs",valid:"Valide",denied:"Refus",error:"Erreur",aborted:"Interrompu"}},ValidateErrorFrench={maxSizeError:function(e){return"Le fichier est trs volumineux. Le tam. le maximum est de ".concat(fileSizeFormater(e))},acceptError:"Type de fichier illgal ",maxFileCount:function(e){return"Limite de fichiers atteinte (".concat(e,")")}},DropzoneEnglish={defaultLabel:"Drop your files here",uploadingMessage:function(e){return"Uploading ".concat(e," files")},uploadFinished:function(e,i){return"Uploaded files: ".concat(e,", Rejected files: ").concat(i)},noFilesMessage:"There is no missing valid file to upload",footer:{acceptAll:"All file types accepted",acceptCustom:function(e){return"Allowed types: ".concat(e)}},header:{uploadFilesMessage:"Upload files",maxSizeMessage:function(e){return"Max file size: ".concat(e)},validFilesMessage:function(e,i){return"Files ".concat(e,"/").concat(i)}},fakeuploadsuccess:"File was successfuly uploaded",fakeUploadError:"Error on uploading. Please try again later."},FileItemEnglish={fullInfoLayer:{name:"Name: ",size:"Size: ",type:"Type: "},status:{preparing:"Preparing",uploading:"Uploading",success:"Success",valid:"Valid",denied:"Not valid",error:"Error",aborted:"Aborted"}},ValidateErrorEnglish={maxSizeError:function(e){return"File is too big. Max file size allowed is ".concat(fileSizeFormater(e))},acceptError:"File type is not allowed",maxFileCount:function(e){return"Max amount of files (".concat(e,") has been reached")}},DropzoneSpanish={defaultLabel:"Suelta tus archivos aqu",uploadingMessage:function(e){return"Subiendo ".concat(e," archivos")},uploadFinished:function(e,i){return"Archivos subidos: ".concat(e,", Archivos rechazados: ").concat(i)},noFilesMessage:"No hay archivos vlidos pendientes por subir",footer:{acceptAll:"Todos los tipos de archivo aceptados",acceptCustom:function(e){return"Tipo(s) de archivo permitidos: ".concat(e)}},header:{uploadFilesMessage:"Subir",maxSizeMessage:function(e){return"Tam. mximo ".concat(e)},validFilesMessage:function(e,i){return"Archivos ".concat(e,"/").concat(i)}},fakeuploadsuccess:"El archivo se subi correctamente",fakeUploadError:"Error al subir el archivo"},FileItemSpanish={fullInfoLayer:{name:"Nombre: ",size:"Tamao: ",type:"Tipo: "},status:{preparing:"Preparando",uploading:"Subiendo",success:"xito",valid:"Vlido",denied:"No vlido",error:"Error",aborted:"Anulado"}},ValidateErrorSpanish={maxSizeError:function(e){return"El archivo es muy grande. El tam. mximo es ".concat(fileSizeFormater(e))},acceptError:"Tipo de archivo no permitido",maxFileCount:function(e){return"Cantidad mxima de archivos (".concat(e,") alcanzada")}},DropzoneRussian={defaultLabel:"   .",uploadingMessage:function(e){return" ".concat(e," ")},uploadFinished:function(e,i){return" : ".concat(e,",  : ").concat(i)},noFilesMessage:"     ",footer:{acceptAll:"    ",acceptCustom:function(e){return" : ".concat(e)}},header:{uploadFilesMessage:"",maxSizeMessage:function(e){return" : ".concat(e)},validFilesMessage:function(e,i){return" ".concat(e,"/").concat(i)}},fakeuploadsuccess:"   ",fakeUploadError:"  "},FileItemRussian={fullInfoLayer:{name:": ",size:": ",type:"T: "},status:{preparing:"",uploading:"",success:"",valid:"",denied:"",error:"",aborted:""}},ValidateErrorRussian={maxSizeError:function(e){return"  .     - ".concat(fileSizeFormater(e))},acceptError:"   ",maxFileCount:function(e){return"    (".concat(e,")")}},DropzonePortuguese={defaultLabel:"Solte seus arquivos aqui ",uploadingMessage:function(e){return"Enviando ".concat(e," arquivos")},uploadFinished:function(e,i){return"Arquivos enviados: ".concat(e,", Arquivos rejeitados: ").concat(i)},noFilesMessage:"Nenhum arquivo vlido est faltando para enviar",footer:{acceptAll:"Todos os tipos de arquivo so aceitos",acceptCustom:function(e){return"Tipos permitidos: ".concat(e)}},header:{uploadFilesMessage:"Enviar",maxSizeMessage:function(e){return"Tamanho mximo: ".concat(e)},validFilesMessage:function(e,i){return"Arquivos ".concat(e,"/").concat(i)}},fakeuploadsuccess:"O arquivo foi enviado com sucesso",fakeUploadError:"Erro ao enviar"},FileItemPortuguese={fullInfoLayer:{name:"Nome: ",size:"Tamanho: ",type:"Tipo: "},status:{preparing:"Preparando",uploading:"Enviando",success:"xito",valid:"vlido",denied:"Negado",error:"Erro",aborted:"Abortado"}},ValidateErrorPortuguese={maxSizeError:function(e){return"O arquivo  muito grande. O tamanho mximo de arquivo permitido  ".concat(fileSizeFormater(e))},acceptError:"O tipo de arquivo no  permitido ",maxFileCount:function(e){return"Quantidade mxima de arquivos (".concat(e,") alcanada")}},DropzoneSimplifiedChinese={defaultLabel:"",uploadingMessage:function(e){return" ".concat(e," ")},uploadFinished:function(e,i){return"".concat(e,"").concat(i)},noFilesMessage:"",footer:{acceptAll:"",acceptCustom:function(e){return": ".concat(e)}},header:{uploadFilesMessage:"",maxSizeMessage:function(e){return"".concat(e)},validFilesMessage:function(e,i){return" ".concat(e,"/").concat(i)}},fakeuploadsuccess:"",fakeUploadError:""},FileItemSimplifiedChinese={fullInfoLayer:{name:": ",size:": ",type:": "},status:{preparing:"",uploading:"",success:"",valid:"",denied:"",error:"",aborted:""}},ValidateErrorSimplifiedChinese={maxSizeError:function(e){return"  ".concat(fileSizeFormater(e))},acceptError:"",maxFileCount:function(e){return" (".concat(e,")")}},DropzoneTraditionalChinese={defaultLabel:" ",uploadingMessage:function(e){return"".concat(e,"")},uploadFinished:function(e,i){return": ".concat(e,", ").concat(i)},noFilesMessage:"",footer:{acceptAll:"",acceptCustom:function(e){return"".concat(e)}},header:{uploadFilesMessage:"",maxSizeMessage:function(e){return"".concat(e)},validFilesMessage:function(e,i){return"  ".concat(e,"/").concat(i)}},fakeuploadsuccess:"",fakeUploadError:""},FileItemTraditionalChinese={fullInfoLayer:{name:": ",size:": ",type:": "},status:{preparing:"",uploading:"",success:"",valid:"",denied:"",error:"",aborted:""}},ValidateErrorTraditionalChinese={maxSizeError:function(e){return"  ".concat(fileSizeFormater(e))},acceptError:"",maxFileCount:function(e){return" (".concat(e,")")}},FileItemLocalizer={"ES-es":FileItemSpanish,"EN-en":FileItemEnglish,"FR-fr":FileItemFrench,"IT-it":FileItemItalian,"PT-pt":FileItemPortuguese,"RU-ru":FileItemRussian,"ZH-cn":FileItemSimplifiedChinese,"ZH-hk":FileItemTraditionalChinese},FileItemLocalizerSelector=function(e){switch(e){case"ES-es":return FileItemLocalizer["ES-es"];case"EN-en":return FileItemLocalizer["EN-en"];case"FR-fr":return FileItemLocalizer["FR-fr"];case"IT-it":return FileItemLocalizer["IT-it"];case"PT-pt":return FileItemLocalizer["PT-pt"];case"RU-ru":return FileItemLocalizer["RU-ru"];case"ZH-cn":return FileItemLocalizer["ZH-cn"];case"ZH-hk":return FileItemLocalizer["ZH-hk"];default:return FileItemLocalizer["EN-en"]}},DropzoneLocalizer={"ES-es":DropzoneSpanish,"EN-en":DropzoneEnglish,"FR-fr":DropzoneFrench,"IT-it":DropzoneItalian,"PT-pt":DropzonePortuguese,"RU-ru":DropzoneRussian,"ZH-cn":DropzoneSimplifiedChinese,"ZH-hk":DropzoneTraditionalChinese},DropzoneLocalizerSelector=function(e){switch(e){case"ES-es":return DropzoneLocalizer["ES-es"];case"EN-en":return DropzoneLocalizer["EN-en"];case"FR-fr":return DropzoneLocalizer["FR-fr"];case"IT-it":return DropzoneLocalizer["IT-it"];case"PT-pt":return DropzoneLocalizer["PT-pt"];case"RU-ru":return DropzoneLocalizer["RU-ru"];case"ZH-cn":return DropzoneLocalizer["ZH-cn"];case"ZH-hk":return DropzoneLocalizer["ZH-hk"];default:return DropzoneLocalizer["EN-en"]}},ValidateErrorLocalizer={"ES-es":ValidateErrorSpanish,"EN-en":ValidateErrorEnglish,"FR-fr":ValidateErrorFrench,"IT-it":ValidateErrorItalian,"PT-pt":ValidateErrorPortuguese,"RU-ru":ValidateErrorRussian,"ZH-cn":ValidateErrorSimplifiedChinese,"ZH-hk":ValidateErrorTraditionalChinese},ValidateErrorLocalizerSelector=function(e){return!e||!["ES-es","EN-en","FR-fr","IT-it","PT-pt","RU-ru","ZH-cn","ZH-hk"].includes(e)?ValidateErrorLocalizer["EN-en"]:ValidateErrorLocalizer[e]},readAsDataURL=function(e,i,s){return new Promise(function(a,o){try{var et=new FileReader;et.onprogress=function(){i==null||i()},et.onerror=function(){s==null||s()},et.onload=function(){a(et.result)},et.readAsDataURL(e)}catch{o(void 0)}})};function getImageOrientation(e){return new Promise(function(i,s){if(!e||e.length===0){s("landscape");return}try{var a=new Image;a.src=e,a.onerror=function(o){s("landscape")},a.onload=function(){var o=a.width,et=a.height;o>et?i("landscape"):i("portrait")}}catch{s("landscape")}})}var sevenzip="https://user-images.githubusercontent.com/43678736/132086517-72a51a12-e403-4675-bfd7-22c23affa730.png",aac="https://user-images.githubusercontent.com/43678736/132086518-7026d4f1-ea16-4ed0-89fd-37c1aa8ac3ed.png",abw="https://user-images.githubusercontent.com/43678736/132086519-863c63b4-917e-4471-94ff-7e15651cc14b.png",accdb="https://user-images.githubusercontent.com/43678736/132086520-9bc6aa3b-51c9-4da2-9ef7-349162b86d0b.png",avi="https://user-images.githubusercontent.com/43678736/132086521-dbd6cf0d-d4d7-4b92-bb26-17e8a51a9383.png",azw="https://user-images.githubusercontent.com/43678736/132086522-070f48e8-78a8-4294-8dbb-aab81525e164.png",bmp="https://user-images.githubusercontent.com/43678736/132086595-90ab7f90-f87e-4900-94d9-d0b26745df48.png",bz="https://user-images.githubusercontent.com/43678736/132086597-e285ad5c-613a-4679-a270-493e5be4ffd9.png",bz2="https://user-images.githubusercontent.com/43678736/132086598-623c410a-084a-4395-a448-211b2ff61cfe.png",cda="https://user-images.githubusercontent.com/43678736/132086600-8b70a007-512d-4252-9c66-eabd3ddd6573.png",csh="https://user-images.githubusercontent.com/43678736/132086601-e62e5d1a-d8a2-4475-a14f-85922cec9272.png",css="https://user-images.githubusercontent.com/43678736/132086602-4c772934-f608-4f01-8459-c4622cee8ad5.png",csv="https://user-images.githubusercontent.com/43678736/132086604-b5b019fe-572e-477e-92c2-3769a48a1304.png",docx="https://user-images.githubusercontent.com/43678736/132086606-715ccb66-4702-4f7d-9b09-ac93ba17b643.png",drawio="https://user-images.githubusercontent.com/43678736/132086608-bcae9d57-8e54-488c-90c4-4952ae530b5e.png",eot="https://user-images.githubusercontent.com/43678736/132086618-397d6bd2-9fda-43ed-a135-cb40388c35af.png",epub="https://user-images.githubusercontent.com/43678736/132086620-2586ba40-c583-4589-b1a4-8bb5b258b44d.png",freearc="https://user-images.githubusercontent.com/43678736/132086621-3b95fb64-2533-4ccc-abcd-bd2beba572e9.png",gif="https://user-images.githubusercontent.com/43678736/132086622-af705a0c-2b25-4ba7-8ab6-bd69ec97f7e2.png",gzip="https://user-images.githubusercontent.com/43678736/132086624-89141a46-64e4-4fa0-bf69-54a0eb4d48c9.png",html="https://user-images.githubusercontent.com/43678736/132086625-1b8f2652-1de0-4475-8c12-7da4a9973ffb.png",icalendar="https://user-images.githubusercontent.com/43678736/132086626-38699705-1e6f-4bca-984b-03167b236faa.png",java="https://user-images.githubusercontent.com/43678736/132086650-f1166246-b361-4c30-a04e-9781c555d14a.png",jar="https://user-images.githubusercontent.com/43678736/132086650-f1166246-b361-4c30-a04e-9781c555d14a.png",javascript="https://user-images.githubusercontent.com/43678736/132086652-4562942e-aaea-466c-968f-380fffabf3f9.png",jpeg="https://user-images.githubusercontent.com/43678736/132086653-0487e7e2-1ee3-49e2-8cfe-3e20f1f7490a.png",json="https://user-images.githubusercontent.com/43678736/132086656-6e96c815-e4e2-4ffd-9d71-57e9cc2450bc.png",jsonld="https://user-images.githubusercontent.com/43678736/132086658-5d27d3c2-394f-43fb-b512-9b414a257875.png",midi="https://user-images.githubusercontent.com/43678736/132086659-98f3ef6e-b9f3-4b6d-b18f-469b5334ba27.png",mp3="https://user-images.githubusercontent.com/43678736/132086661-a5484553-06c7-4ffa-a8f9-96b57b1b0344.png",mp4="https://user-images.githubusercontent.com/43678736/132086662-05ad1597-d5e5-4efa-833e-2876e966a745.png",mpeg="https://user-images.githubusercontent.com/43678736/132086663-90c58955-f7fb-4bdb-ac53-92667d16d4a3.png",mpkg="https://user-images.githubusercontent.com/43678736/132086664-9a7530e7-6d78-4ef3-a176-20cf7f57b555.png",octet="https://user-images.githubusercontent.com/43678736/132086666-ab3c505d-b2c0-4177-9a06-aed5d9c39ee4.png",odp="https://user-images.githubusercontent.com/43678736/132086667-6c7dcbcc-8d83-41a2-8e0a-85b09e2791ae.png",ods="https://user-images.githubusercontent.com/43678736/132086668-9f246e91-cf2e-49cf-9617-e1fbb71abbbb.png",odt="https://user-images.githubusercontent.com/43678736/132086669-46113762-84d1-4b32-9441-b0138ce17a5d.png",oga="https://user-images.githubusercontent.com/43678736/145835364-2054509d-3448-4d34-921f-73dd6e297fc7.png",ogv="https://user-images.githubusercontent.com/43678736/145835367-19172bf8-cd5a-4cbe-b512-d0de1d91f269.png",ogx="https://user-images.githubusercontent.com/43678736/145835373-a57ef0f5-3968-483b-9f55-6d67e7f1dcea.png",opus="https://user-images.githubusercontent.com/43678736/132086670-0f96e770-cedc-4635-a5f9-cf97894c1d7a.png",otf="https://user-images.githubusercontent.com/43678736/132086671-02ad35ef-ec3a-4a65-abd5-5bf794dfcf7b.png",pdf$2="https://user-images.githubusercontent.com/43678736/132086672-3a856fda-823d-4997-b802-c7c640e6ef44.png",php="https://user-images.githubusercontent.com/43678736/132086673-0c4409ab-754e-4619-8cfa-179d0ccf1bd9.png",png="https://user-images.githubusercontent.com/43678736/132086674-fdb56d02-5845-49b7-8462-6357bc963464.png",pptx="https://user-images.githubusercontent.com/43678736/132086675-c879645d-acb4-41a6-ab3c-4e6c2048badb.png",psd="https://user-images.githubusercontent.com/43678736/132086685-4e327c4c-a409-4b83-b36a-8d88936b314b.png",python="https://user-images.githubusercontent.com/43678736/132086688-8e82fae4-3a9b-49c0-bf99-77189525514c.png",tar="https://user-images.githubusercontent.com/43678736/132086689-fe1fef9f-d2db-455b-8f4b-09acd095f571.png",rar="https://user-images.githubusercontent.com/43678736/132086689-fe1fef9f-d2db-455b-8f4b-09acd095f571.png",react="https://user-images.githubusercontent.com/43678736/132086691-d472576b-ec6a-4332-acd2-dd6a00b72952.png",rtf="https://user-images.githubusercontent.com/43678736/132086693-9d43571e-0c86-438f-b247-e2cb42e19e06.png",sass="https://user-images.githubusercontent.com/43678736/132086694-4e661d6a-1118-441e-8bc3-c52fcb2133b6.png",sh="https://user-images.githubusercontent.com/43678736/132086697-1d82d724-35b6-4f06-847a-3c59a5deda6e.png",swf="https://user-images.githubusercontent.com/43678736/132086698-19384230-dbd7-4e05-bc69-ef4537b6aae3.png",text="https://user-images.githubusercontent.com/43678736/132086699-5993a482-04f4-4915-b105-9037f527cf61.png",tiff="https://user-images.githubusercontent.com/43678736/132086700-c23461c8-6819-46e1-aecd-0a1f8d3507bb.png",ttf="https://user-images.githubusercontent.com/43678736/132086701-c8044c09-8d95-4af1-9410-66761001d7da.png",typescript="https://user-images.githubusercontent.com/43678736/132086702-59294337-ed99-4302-badd-316b2c1ff62f.png",vsd="https://user-images.githubusercontent.com/43678736/132086704-8fd51e7c-afa2-47a3-ab2f-d0bcd0ecae9f.png",vue="https://user-images.githubusercontent.com/43678736/132086705-33294da1-5c0f-49f7-b890-e4857cec0a6d.png",wav="https://user-images.githubusercontent.com/43678736/132086706-22f805d0-39d4-494b-824e-47dc75d05eb7.png",webm="https://user-images.githubusercontent.com/43678736/132086707-e61a84de-d396-4dbf-8d1b-1d6ee19e1ac8.png",weba="https://user-images.githubusercontent.com/43678736/132086707-e61a84de-d396-4dbf-8d1b-1d6ee19e1ac8.png",webp="https://user-images.githubusercontent.com/43678736/132086708-21d096dd-7148-40aa-97f1-cbb099339740.png",wma="https://user-images.githubusercontent.com/43678736/132086709-811d4e90-3cfa-4044-a956-aeda9c67fc92.png",wmv="https://user-images.githubusercontent.com/43678736/132086710-c5479c6c-0249-4542-adad-48b0ef40b775.png",woff="https://user-images.githubusercontent.com/43678736/132086711-1524a3e7-3e33-4822-a34f-ff3235404045.png",xlsx="https://user-images.githubusercontent.com/43678736/132086712-17e2c491-f6e4-4586-aef6-06bcc5f4b0e5.png",xml="https://user-images.githubusercontent.com/43678736/132086715-204b5a8b-9c5a-4bac-8294-9237ebc16089.png",xul="https://user-images.githubusercontent.com/43678736/132086716-64511d20-58cb-45a8-85df-f4d9408b469d.png",zip="https://user-images.githubusercontent.com/43678736/132086718-a8499333-6282-4820-aa1f-4d133eb54648.png",getExt=function(e){var i=/(?:\.([^.]+))?$/,s=i.exec(e);return s?s[1]:""},DEF_GEN_MIME="octet",audioSelector=function(e){switch(e){case"aac":return"aac";case"midi":return"midi";case"x-midi":return"midi";case"mpeg":return"mpeg";case"ogg":return"oga";case"opus":return"opus";case"wav":return"wav";case"webm":return"webm";case"wma":return"wma";default:return DEF_GEN_MIME}},textSelector=function(e){switch(e){case"css":return"css";case"csv":return"csv";case"html":return"html";case"calendar":return"icalendar";case"javascript":return"javascript";case"x-javascript":return"javascript";case"plain":return"text";case"xml":return"xml";default:return DEF_GEN_MIME}},imageSelector=function(e){switch(e){case"bmp":return"bmp";case"gif":return"gif";case"jpg":return"jpeg";case"jpeg":return"jpeg";case"png":return"png";case"tiff":return"tiff";case"webp":return"webp";default:return DEF_GEN_MIME}},fontSelector=function(e){switch(e){case"otf":return"otf";case"ttf":return"ttf";case"woff":return"woff";case"woff2":return"woff";default:return DEF_GEN_MIME}},videoSelector=function(e){switch(e){case"x-msvideo":return"avi";case"msvideo":return"avi";case"avi":return"avi";case"mp4":return"mp4";case"mpeg":return"mpeg";case"ogg":return"ogv";case"mp2t":return"mp2t";case"wmv":return"wmv";case"webm":return"webm";default:return DEF_GEN_MIME}},applicationSelector=function(e){switch(e){case"x-abiword":return"abw";case"abiword":return"abw";case"x-freearc":return"arc";case"freearc":return"arc";case"vnd.amazon.ebook":return"azw";case"octet-stream":return"octet";case"x-bzip":return"bz";case"x-bzip2":return"bz2";case"bzip":return"bz";case"bzip2":return"bz2";case"x-cdf":return"cda";case"msaccess":return"accdb";case"csh":return"csh";case"x-csh":return"csh";case"vnd.ms-fontobject":return"eot";case"epub+zip":return"epub";case"gzip":return"gzip";case"java-archive":return"jar";case"x-javascript":return"javascript";case"json":return"json";case"ld+json":return"jsonld";case"vnd.apple.installer+xml":return"mpkg";case"ogg":return"ogx";case"vnd.rar":return"rar";case"rtf":return"rtf";case"x-sh":return"sh";case"sh":return"sh";case"x-shockwave-flash":return"swf";case"x-tar":return"tar";case"x-httpd-php":return"php";case"vnd.visio":return"vsd";case"xhtml+xml":return"xhtml";case"xml":return"xml";case"vnd.mozilla.xul+xml":return"xul";case"vnd.openxmlformats-officedocument.wordprocessingml.document":return"docx";case"msword":return"docx";case"vnd.openxmlformats-officedocument.spreadsheetml.sheet":return"xlsx";case"vnd.openxmlformats-officedocument.presentationml.presentation":return"pptx";case"vnd.ms-powerpoint":return"pptx";case"vnd.oasis.opendocument.presentation":return"odp";case"vnd.oasis.opendocument.text":return"odt";case"vnd.oasis.opendocument.spreadsheet":return"ods";case"zip":return"zip";case"x-zip-compressed":return"zip";case"pdf":return"pdf";default:return DEF_GEN_MIME}},mimeSelector=function(e){if(!e||!e.includes("/"))return DEF_GEN_MIME;var i=e.split("/")[0],s=e.split("/")[1];switch(i){case"application":return applicationSelector(s);case"audio":return audioSelector(s);case"video":return videoSelector(s);case"text":return textSelector(s);case"image":return imageSelector(s);case"font":return fontSelector(s);default:return DEF_GEN_MIME}},extensionSelector=function(e){var i="octet";return e&&e!==""&&(e.includes("zip")||e.includes("rar")?i="zip":e.includes("doc")?i="docx":e.includes("xls")?i="xlsx":e.includes("drawio")?i="drawio":e.includes("psd")?i="psd":e.includes("csv")?i="csv":e==="jsx"?i="react":e==="py"?i="python":e==="vue"?i="vue":e==="java"?i="java":e==="ts"?i="typescript":(e==="sass"||e==="scss")&&(i="sass")),i},checkIsCode=function(e){var i="text";return e&&e!==""&&(e==="jsx"?i="react":e==="py"?i="python":e==="vue"?i="vue":e==="java"?i="java":e==="ts"||e==="tsx"?i="typescript":e==="js"?i="javascript":e==="xml"?i="xml":e==="php"&&(i="php")),i},getURLFileIco=function(e,i){var s="fallBack";if(e)s=mimeSelector(e.type);else return s=DEF_GEN_MIME,i!=null&&i.fallBack?{url:i==null?void 0:i.fallBack,mimeResume:s}:{url:mimeUrlList[s],mimeResume:s};var a=getExt(e.name);s==="text"&&(s=checkIsCode(a)),s===DEF_GEN_MIME&&(s=extensionSelector(a));var o=i==null?void 0:i[s];return o!==void 0?{url:o,mimeResume:s}:{url:mimeUrlList[s],mimeResume:s}},getURLFileIcoFromNameAndType=function(e,i,s){var a="octet";if(e)a=mimeSelector(i);else return a=DEF_GEN_MIME,s!=null&&s.fallBack?{url:s==null?void 0:s.fallBack,mimeResume:a}:{url:mimeUrlList[a],mimeResume:a};var o=getExt(e);a==="text"&&(a=checkIsCode(o)),a===DEF_GEN_MIME&&(a=extensionSelector(o));var et=s==null?void 0:s[a];return et!==void 0?{url:et,mimeResume:a}:{url:mimeUrlList[a],mimeResume:a}},mimeUrlList={aac,accdb,abw,arc:freearc,avi,azw,octet,bmp,bz,bz2,cda,csh,css,csv,docx,drawio,eot,epub,gzip,gif,html,icalendar,jar,jpeg,javascript,json,jsonld,midi,mp3,mp4,mpeg,mpkg,mp2t:octet,odp,ods,odt,oga,ogv,ogx,opus,otf,png,pdf:pdf$2,php,pptx,psd,rar,rtf,sass,sh,swf,tar,tiff,ttf,typescript,text,vsd,wav,weba,webm,webp,woff,wma,wmv,xhtml:html,xlsx,xml,xul,zip,sevenzip,python,java,react,vue,fallBack:octet},ExtFileInstance=function(){function e(i){var s=i.id,a=i.file,o=i.name,et=i.size,ot=i.type,ft=i.imageUrl,dt=i.valid,mt=i.errors,gt=i.uploadMessage,bt=i.uploadStatus,vt=i.progress,Pt=i.xhr,Tt=i.extraData,At=i.extraUploadData,wt=i.serverResponse,_t=i.downloadUrl,Et=i.videoUrl,yt=i.uploadUrl;this.id=s,this.file=a,this.name=o,this.size=et,this.type=ot,this.imageUrl=ft,this.valid=dt,this.errors=mt,this.uploadStatus=bt,this.uploadMessage=gt,this.progress=vt,this.xhr=Pt,this.extraData=Tt,this.extraUploadData=At,this.serverResponse=wt,this.downloadUrl=_t,this.videoUrl=Et,this.uploadUrl=yt}return e.toExtFile=function(i){for(var s={},a=Object.keys(i),o=Object.values(i),et=0;et<o.length;et++){var ot=o[et],ft=a[et];ot!==void 0&&(s[ft]=ot)}return s},e.prototype.toExtFile=function(){return e.toExtFile(this)},e.hasValidUrl=function(i){return i.uploadUrl&&i.uploadUrl.length>0},e.someValidUrl=function(i){return i.some(e.hasValidUrl)},e}(),__assign$g=function(){return __assign$g=Object.assign||function(i){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var et in s)Object.prototype.hasOwnProperty.call(s,et)&&(i[et]=s[et])}return i},__assign$g.apply(this,arguments)};function __awaiter$2(e,i,s,a){function o(et){return et instanceof s?et:new s(function(ot){ot(et)})}return new(s||(s=Promise))(function(et,ot){function ft(gt){try{mt(a.next(gt))}catch(bt){ot(bt)}}function dt(gt){try{mt(a.throw(gt))}catch(bt){ot(bt)}}function mt(gt){gt.done?et(gt.value):o(gt.value).then(ft,dt)}mt((a=a.apply(e,i||[])).next())})}function __generator$2(e,i){var s={label:0,sent:function(){if(et[0]&1)throw et[1];return et[1]},trys:[],ops:[]},a,o,et,ot;return ot={next:ft(0),throw:ft(1),return:ft(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function ft(mt){return function(gt){return dt([mt,gt])}}function dt(mt){if(a)throw new TypeError("Generator is already executing.");for(;ot&&(ot=0,mt[0]&&(s=0)),s;)try{if(a=1,o&&(et=mt[0]&2?o.return:mt[0]?o.throw||((et=o.return)&&et.call(o),0):o.next)&&!(et=et.call(o,mt[1])).done)return et;switch(o=0,et&&(mt=[mt[0]&2,et.value]),mt[0]){case 0:case 1:et=mt;break;case 4:return s.label++,{value:mt[1],done:!1};case 5:s.label++,o=mt[1],mt=[0];continue;case 7:mt=s.ops.pop(),s.trys.pop();continue;default:if(et=s.trys,!(et=et.length>0&&et[et.length-1])&&(mt[0]===6||mt[0]===2)){s=0;continue}if(mt[0]===3&&(!et||mt[1]>et[0]&&mt[1]<et[3])){s.label=mt[1];break}if(mt[0]===6&&s.label<et[1]){s.label=et[1],et=mt;break}if(et&&s.label<et[2]){s.label=et[2],s.ops.push(mt);break}et[2]&&s.ops.pop(),s.trys.pop();continue}mt=i.call(e,s)}catch(gt){mt=[6,gt],o=0}finally{a=et=0}if(mt[0]&5)throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}}function __spreadArray$3(e,i,s){if(s||arguments.length===2)for(var a=0,o=i.length,et;a<o;a++)(et||!(a in i))&&(et||(et=Array.prototype.slice.call(i,0,a)),et[a]=i[a]);return e.concat(et||Array.prototype.slice.call(i))}var ExtFileManager=function(){function e(){}return e.getNextId=function(){return e.nextId++,e.nextId},e.setFileList=function(i,s){return i?(e.fileLists[i]=__spreadArray$3([],s,!0),i):0},e.createFileListMap=function(){var i=e.getNextId();return e.fileLists[i]=[],i},e.removeFileListMap=function(i){if(i)try{return e.fileLists[i]=void 0,i}catch{return 0}else return 0},e.getExtFileInstanceList=function(i){try{return i?e.fileLists[i]:void 0}catch{return}},e.setFileListMapPreparing=function(i,s,a,o){if(typeof i=="number"||typeof i=="string")try{var et=[],ot=__spreadArray$3([],s,!0);o&&a&&(ot=ot.filter(function(dt){return dt.valid})),a?ot=ot.map(function(dt){return dt.uploadStatus!=="success"&&dt.valid?__assign$g(__assign$g({},dt),{uploadStatus:"preparing"}):__assign$g({},dt)}):ot=ot.map(function(dt){return dt.uploadStatus!=="success"?__assign$g(__assign$g({},dt),{uploadStatus:"preparing"}):__assign$g({},dt)}),et=ot.map(function(dt){return new ExtFileInstance(dt)});var ft=e.setFileList(i,et);return et}catch{return}},e.setFileListMapPreparing2=function(i,s,a,o){return e.setFileList(i,s.map(function(et){return new ExtFileInstance(__assign$g(__assign$g({},et),{uploadStatus:"preparing"}))})),e.getExtFileInstanceList(i)},e.nextId=0,e.fileLists={},e}(),FileIdGenerator=function(){function e(){}return e.getNextId=function(){return e.nextId++,e.nextId},e.nextId=0,e}(),fileListToExtFileArray=function(e){for(var i=[],s=0,a=void 0;a=e[s];s++)i.push({id:FileIdGenerator.getNextId(),file:a,name:a.name,size:a.size,type:a.type});return i},isValidateActive=function(e,i,s,a){return e!=null||i!=null||s!=null||a!=null},sleepPreparing=function(e){return e===void 0&&(e=5e3),new Promise(function(i,s){setTimeout(function(){i()},e)})},fakeFuiUpload=function(e,i){i===void 0&&(i=DropzoneLocalizerSelector("EN-en"));var s=e.toExtFile();return new Promise(function(a,o){setTimeout(function(){var et=Math.floor(Math.random()*10);if(et%2===0){var ot=!0,ft=i.fakeuploadsuccess,dt={url:""};a(__assign$g(__assign$g({},s),{serverResponse:{success:ot,message:ft,payload:dt},uploadStatus:"success",uploadMessage:ft}))}else{var ot=!1,ft=i.fakeUploadError,dt={};a(__assign$g(__assign$g({},s),{serverResponse:{success:ot,message:ft,payload:dt},uploadStatus:"error",uploadMessage:ft}))}},1700)})};function getRandomInt(e,i){return e===void 0&&(e=0),i===void 0&&(i=0),Math.floor(Math.random()*(i-e))+e}var cleanInput=function(e){e&&(e.value="")},addClassName=function(e,i){return i?"".concat(e," ").concat(i):e},isUploadAbleExtFile=function(e,i){return(!i||i&&e.valid)&&e.uploadStatus!=="success"},getLocalFileItemData=function(e,i,s,a){var o="",et=void 0,ot=void 0;return e&&typeof e.name=="string"?(o=e.name,et=e.type,ot=e.size):i&&typeof i=="string"&&(o=i,et=s,ot=a),[o,et,ot]},separateAccept=function(e){if(!e||e.length===0)return[];var i=e.split(",").map(function(s){return s.trim()});return i},validateAccept=function(e,i){for(var s=!1,a=i.name,o=i.type,et=0;et<e.length;et++){var ot=e[et];if(ot.length!==0){if(ot.charAt(0)==="."&&ot.includes(getExt(a)))return!0;if(o&&o.length>0&&ot.includes("/")&&o.includes("/")){var ft=ot.split("/")[0],dt=ot.split("/")[1],mt=o.split("/")[0],gt=o.split("/")[1];if(ft===mt){if(dt==="*")return!0;if(dt===gt)return!0}}}}return s},validateExtFileList=function(e,i,s,a,o,et){var ot=[];if(!i)return ot;for(var ft=i,dt=ValidateErrorLocalizerSelector(et),mt=dt.maxFileCount,gt=0;gt<e.length;gt++){var bt=e[gt];if(bt=validateExtFile(bt,a,s,dt),bt.valid){var vt=ft>0;bt.valid=vt,vt||(bt.errors=bt.errors?__spreadArray$3(__spreadArray$3([],bt.errors,!0),[mt(o||1/0)],!1):[mt(o||1/0)]),ft--}ot.push(bt)}return ot},validateExtFile=function(e,i,s,a){var o=__assign$g({},e),et=[];if(!e.file)return __assign$g({},o);if(i){var ot=i(o.file),ft=ot.errors;ft&&et.push.apply(et,ft)}var dt=s.maxFileSize,mt=s.accept,gt=e.file;if(dt&&gt.size>dt){var bt=a.maxSizeError;et.push(bt(dt))}mt&&!validateAccept(separateAccept(mt),gt)&&et.push(a.acceptError);var vt=et.length===0;return o=__assign$g(__assign$g({},o),{valid:vt,errors:vt?void 0:et}),o};function addExtraData(e,i){for(var s=Object.keys(i||{}),a=0;a<s.length&&i;a++)e.append(s[a],i[s[a]])}function addHeaders(e,i){for(var s=Object.keys(i||{}),a=0;a<s.length&&i;a++)e.setRequestHeader(s[a],i[s[a]])}var NO_URL_MESSAGE="Unable to upload. A valid url was not provided",NO_XHR_MESSAGE="Unable to upload. xhr object was not provided",TIMEOUT_ERROR_RESPONSE={success:!1,message:"Timeout error",payload:{}},ABORTED_ERROR_RESPONSE={success:!1,message:"Upload aborted",payload:{}},JSON_PARSE_ERROR_RESPONSE={success:!1,message:"Error when parsing JSON response",payload:{}},UNEXPECTED_ERROR_RESPONSE={success:!1,message:"Unexpected error",payload:{}},NO_XHR_PROVIDED_ERROR=function(e){return __assign$g(__assign$g({},e),{uploadMessage:NO_XHR_MESSAGE,uploadStatus:"error",serverResponse:{success:!1}})},NO_URL_PROVIDED_ERROR=function(e){return __assign$g(__assign$g({},e),{uploadMessage:NO_URL_MESSAGE,uploadStatus:"error",serverResponse:{success:!1}})},JsonParseResponse=function(e){try{var i=JSON.parse(e.response),s=i.success,a=i.message,o=i.payload,et={success:typeof s=="boolean"?s:!1,message:typeof a=="string"?a:"Error on message response",payload:o||{}};return et}catch{return JSON_PARSE_ERROR_RESPONSE}},makeSuccessUploadResponse=function(e,i){return __assign$g(__assign$g({},e),{serverResponse:i,uploadMessage:i.message,uploadStatus:"success"})},makeErrorUploadResponse=function(e,i){return __assign$g(__assign$g({},e),{uploadMessage:i.message,uploadStatus:"error",serverResponse:i})},uploadFormData=function(e,i,s,a,o){return i===void 0&&(i="POST"),new Promise(function(et,ot){var ft=["POST","PUT","PATCH"].includes(i.toUpperCase())?i:"POST";e.upload.onload=function(){},e.upload.ontimeout=function(){return et(TIMEOUT_ERROR_RESPONSE)},e.upload.onabort=function(){et(ABORTED_ERROR_RESPONSE)},e.onloadend=function(dt){return __awaiter$2(void 0,void 0,void 0,function(){return __generator$2(this,function(mt){return[2]})})},e.onreadystatechange=function(dt){return __awaiter$2(void 0,void 0,void 0,function(){return __generator$2(this,function(mt){return e.readyState===4&&(e.response!==""?et(JsonParseResponse(e)):et(ABORTED_ERROR_RESPONSE)),[2]})})},e.open(ft,s,!0),addHeaders(e,o),e.send(a)})},uploadExtFile=function(e,i,s,a,o,et){return __awaiter$2(void 0,void 0,void 0,function(){return __generator$2(this,function(ot){return[2,new Promise(function(ft,dt){return __awaiter$2(void 0,void 0,void 0,function(){var mt,gt,bt,vt,Pt,Tt,At;return __generator$2(this,function(wt){switch(wt.label){case 0:return wt.trys.push([0,2,,3]),mt=e.xhr,mt?(gt=e.uploadUrl||(s==null?void 0:s(e))||i,(!gt||gt.length==0)&&ft(NO_URL_PROVIDED_ERROR(e)),bt=a||"POST",vt=e.file,Pt=new FormData,Pt.append(et||"file",vt),Tt=__assign$g({},e.extraUploadData),addExtraData(Pt,Tt),At=void 0,[4,uploadFormData(mt,bt,gt,Pt,o||{})]):(ft(NO_XHR_PROVIDED_ERROR(e)),[2]);case 1:return At=wt.sent(),At.success?ft(makeSuccessUploadResponse(e,At)):ft(makeErrorUploadResponse(e,At)),[3,3];case 2:return wt.sent(),ft(makeErrorUploadResponse(e,UNEXPECTED_ERROR_RESPONSE)),[3,3];case 3:return[2]}})})})]})})},unexpectedErrorUploadResult=function(e){return __assign$g(__assign$g({},e),{uploadMessage:"Unexpected error",uploadStatus:"error",serverResponse:{success:!1,message:"Error on upload: unexpected error ",payload:{}}})},toUploadableExtFileList=function(e){return e?e.map(function(i){return __assign$g(__assign$g({},i),{xhr:new XMLHttpRequest})}):[]},instantPreparingToUploadOne=function(e){return e.uploadStatus==="preparing"?(e.uploadStatus="uploading",__assign$g(__assign$g({},e),{uploadStatus:"uploading"})):e},sleepTransition=function(e){return e===void 0&&(e=1500),new Promise(function(i,s){setTimeout(function(){i(!0)},e)})},sanitizeArrExtFile=function(e){return e.filter(function(i){var s;return!(!((s=i.extraData)===null||s===void 0)&&s.deleted)}).map(function(i){return i.uploadStatus==="aborted"&&!i.uploadMessage&&(i.uploadMessage="Upload aborted by user"),ExtFileInstance.toExtFile(i)})},setNextUploadStatus=function(e,i){var s=e.uploadStatus,a=i.uploadStatus;s==="preparing"&&["aborted",void 0].includes(a)?(e.uploadStatus=void 0,e.uploadMessage=i.uploadMessage):s==="uploading"&&["aborted",void 0].includes(a)&&(e.uploadStatus="aborted",e.uploadMessage=i.uploadMessage)},NAMED_COLORS={indianred:"#CD5C5C",lightcoral:"#F08080",salmon:"#FA8072",darksalmon:"#E9967A",lightsalmon:"#FFA07A",crimson:"#DC143C",red:"#FF0000",firebrick:"#B22222",darkred:"#8B0000",pink:"#FFC0CB",lightpink:"#FFB6C1",hotpink:"#FF69B4",deeppink:"#FF1493",mediumvioletred:"#C71585",palevioletred:"#DB7093",coral:"#FF7F50",tomato:"#FF6347",orangered:"#FF4500",darkorange:"#FF8C00",orange:"#FFA500",gold:"#FFD700",yellow:"#FFFF00",lightyellow:"#FFFFE0",lemonchiffon:"#FFFACD",lightgoldenrodyellow:"#FAFAD2",papayawhip:"#FFEFD5",moccasin:"#FFE4B5",peachpuff:"#FFDAB9",palegoldenrod:"#EEE8AA",khaki:"#F0E68C",darkkhaki:"#BDB76B",lavender:"#E6E6FA",thistle:"#D8BFD8",plum:"#DDA0DD",violet:"#EE82EE",orchid:"#DA70D6",fuchsia:"#FF00FF",magenta:"#FF00FF",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",rebeccapurple:"#663399",blueviolet:"#8A2BE2",darkviolet:"#9400D3",darkorchid:"#9932CC",darkmagenta:"#8B008B",purple:"#800080",indigo:"#4B0082",slateblue:"#6A5ACD",darkslateblue:"#483D8B",mediumslateblue:"#7B68EE",greenyellow:"#ADFF2F",chartreuse:"#7FFF00",lawngreen:"#7CFC00",lime:"#00FF00",limegreen:"#32CD32",palegreen:"#98FB98",lightgreen:"#90EE90",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",mediumseagreen:"#3CB371",seagreen:"#2E8B57",forestgreen:"#228B22",green:"#008000",darkgreen:"#006400",yellowgreen:"#9ACD32",olivedrab:"#6B8E23",olive:"#808000",darkolivegreen:"#556B2F",mediumaquamarine:"#66CDAA",darkseagreen:"#8FBC8B",lightseagreen:"#20B2AA",darkcyan:"#008B8B",teal:"#008080",aqua:"#00FFFF",cyan:"#00FFFF",lightcyan:"#E0FFFF",paleturquoise:"#AFEEEE",aquamarine:"#7FFFD4",turquoise:"#40E0D0",mediumturquoise:"#48D1CC",darkturquoise:"#00CED1",cadetblue:"#5F9EA0",steelblue:"#4682B4",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",lightblue:"#ADD8E6",skyblue:"#87CEEB",lightskyblue:"#87CEFA",deepskyblue:"#00BFFF",dodgerblue:"#1E90FF",cornflowerblue:"#6495ED",royalblue:"#4169E1",blue:"#0000FF",mediumblue:"#0000CD",darkblue:"#00008B",navy:"#000080",midnightblue:"#191970",cornsilk:"#FFF8DC",blanchedalmond:"#FFEBCD",bisque:"#FFE4C4",navajowhite:"#FFDEAD",wheat:"#F5DEB3",burlywood:"#DEB887",tan:"#D2B48C",rosybrown:"#BC8F8F",sandybrown:"#F4A460",goldenrod:"#DAA520",darkgoldenrod:"#B8860B",peru:"#CD853F",chocolate:"#D2691E",saddlebrown:"#8B4513",sienna:"#A0522D",brown:"#A52A2A",maroon:"#800000",white:"#FFFFFF",snow:"#FFFAFA",honeydew:"#F0FFF0",mintcream:"#F5FFFA",azure:"#F0FFFF",aliceblue:"#F0F8FF",ghostwhite:"#F8F8FF",whitesmoke:"#F5F5F5",seashell:"#FFF5EE",beige:"#F5F5DC",oldlace:"#FDF5E6",floralwhite:"#FFFAF0",ivory:"#FFFFF0",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lavenderblush:"#FFF0F5",mistyrose:"#FFE4E1",gainsboro:"#DCDCDC",lightgray:"#D3D3D3",silver:"#C0C0C0",darkgray:"#A9A9A9",gray:"#808080",dimgray:"#696969",lightslategray:"#778899",slategray:"#708090",darkslategray:"#2F4F4F",black:"#000000"},darkerColor=function(e,i){i===void 0&&(i=25);var s="",a=(100-i)/100,o=0,et=0,ot=0;if(isHexColor(colourNameToHex(e)))o=hexTodec(e.charAt(1))*16+hexTodec(e.charAt(2)),et=hexTodec(e.charAt(3))*16+hexTodec(e.charAt(4)),ot=hexTodec(e.charAt(5))*16+hexTodec(e.charAt(6)),s="rgb(".concat(o*a,", ").concat(et*a,",").concat(ot*a,")");else if(e.includes("rgba")){var ft=e.replace("rgba(",""),dt=ft.split(",");s="rgb(".concat(parseInt(dt[0],10)*a,", ").concat(parseInt(dt[1],10)*a,",").concat(parseInt(dt[2],10)*a,")")}else if(e.includes("rgb")){var ft=e.replace("rgb(",""),dt=ft.split(",");s="rgb(".concat(parseInt(dt[0],10)*a,", ").concat(parseInt(dt[1],10)*a,",").concat(parseInt(dt[2],10)*a,")")}return s},hexColorToRGB=function(e,i,s){i===void 0&&(i=0);var a=s||"rgba(255, 255, 255, 0.6)";if(!e)return a;var o=e.toUpperCase();if(o.includes("RGBA"))return o;if(o.includes("RGB"))return o.replace("RGB","rgba").replace(")",", ".concat(i,")"));if(!isHexColor(colourNameToHex(o)))return a;var et="",ot=0,ft=0,dt=0;return ot=hexTodec(o.charAt(1))*16+hexTodec(o.charAt(2)),ft=hexTodec(o.charAt(3))*16+hexTodec(o.charAt(4)),dt=hexTodec(o.charAt(5))*16+hexTodec(o.charAt(6)),et="rgba(".concat(ot,", ").concat(ft,",").concat(dt," , ").concat(i,")"),et},isHexColor=function(e){if(e.charAt(0)!=="#"||e.length!==7)return!1;for(var i=1;i<e.length;i++)if(!hexArray.includes(e.charAt(i)))return!1;return!0};function colourNameToHex(e){return e?NAMED_COLORS[e.toLocaleLowerCase()]!==void 0?NAMED_COLORS[e.toLocaleLowerCase()]:e:""}var hexArray=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],decArray=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],hexTodec=function(e){return hexArray.includes(e)?decArray[hexArray.indexOf(e)]:0},asureColor=function(e){return e!==void 0&&e!==""?e:DEFAULT_FONT_COLOR},completeAsureColor=function(e,i){return i===void 0&&(i=1),hexColorToRGB(asureColor(colourNameToHex(e)),i)},DEFAULT_FONT_COLOR="#646c7f";function mergeProps(e,i){return e?__assign$1$1(__assign$1$1({},i),e):i}var InputHidden=function(e){var i=e.onChange,s=e.inputRef,a=e.accept,o=e.multiple;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("input",{"aria-label":"fui-hidden-input",style:{display:"none"},ref:s,onChange:i,type:"file",accept:a,multiple:o}))},defaultDrozoneProps={clickable:!0,behaviour:"add",disabled:!1,dropOnLayer:!0,uploadConfig:{},actionButtons:{},header:!0,footer:!0,value:[]},DEFAULT_BORDER_RADIUS="8px";___$insertStyle(`.files-ui-dropzone-children-container {
  width: 100%;
  flex-grow: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  flex-wrap: wrap;
  padding: 5px 0;
}`);var DropzoneChildren=function(e){var i=e.children,s=e.label,a=e.localization,o=Array.isArray(i)&&i.length===0,et=DropzoneLocalizerSelector(a);return i&&!o?reactExports.createElement("div",{className:"files-ui-dropzone-children-container"},i):reactExports.createElement("div",{className:"files-ui-dropzone-children-container"},reactExports.createElement("label",null," ",s||et.defaultLabel))},handleDropUtil=function(e){e.stopPropagation(),e.preventDefault()},handleDragUtil=function(e){e.dataTransfer.dropEffect="link",handleDropUtil(e)};function handleClickUtil(e){e.preventDefault(),e.stopPropagation()}var handleClickInput=function(e){e&&e.click()},asureRippleColor=function(e){return completeAsureColor(e,.4)};function createFuiRippleFromDiv(e,i,s){if(!(!i||!e)){e.style.display="block";var a=document.createElement("span");a.id="filesui-ripple",a.className="ripple";var o=Math.max(i.clientWidth,i.clientHeight);a.style.width=a.style.height="".concat(o,"px"),a.style.backgroundColor=asureRippleColor(s),i.appendChild(a),setTimeout(function(){e.style.display="none",a==null||a.remove()},501)}}function createRippleButton(e,i,s){var a=e.currentTarget,o=document.createElement("span"),et=Math.max(a.clientWidth,a.clientHeight);o.style.width=o.style.height="".concat(et,"px"),o.classList.add("ripple"),i!=="contained"?o.style.backgroundColor=asureRippleColor(s):o.style.backgroundColor=hexColorToRGB("#ffffff",.4),a.appendChild(o),setTimeout(function(){o==null||o.remove()},501)}___$insertStyle(`.filesui-disabled-root {
  position: absolute;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.38);
}`);var DropzoneDisabledLayer=function(e){var i=e.open,s=e.className,a=e.style;function o(dt){handleClickUtil(dt)}var et=function(dt){handleDragUtil(dt)},ot=function(dt){return __awaiter$1$1(void 0,void 0,void 0,function(){return __generator$1(this,function(mt){return handleDropUtil(dt),[2]})})},ft=addClassName("filesui-disabled-root",s);return i?reactExports.createElement("div",{style:a,className:ft,onDrop:ot,onDragOver:et,onClick:o}):reactExports.createElement(reactExports.Fragment,null)};___$insertStyle(`@import url(https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,900);
.fui-dropzone-root {
  width: 100%;
  min-width: 150px;
  min-height: 180px;
  position: relative;
  display: flex;
  flex-direction: column;
  gap: 0 8px;
  text-rendering: optimizeLegibility;
  font-size: 1.5em;
  font-family: "Poppins", sans-serif;
  text-align: center;
  font-weight: 400;
  letter-spacing: 0.02857em;
  box-sizing: border-box;
  word-break: normal;
  /*  &.fui-dropzone-border {
    box-sizing: border-box;

    border: 1px dashed #0c2358;
    border-radius: 10px;
    &.fui-hide-border {
      border: none;
    }
  } */
}
@media (max-width: 600px) {
  .fui-dropzone-root {
    font-size: 1.3em;
  }
}
.fui-dropzone-root.clickable {
  cursor: pointer;
}

.files-ui-header {
  min-height: 23px;
  /*  height: 22px;
  position: absolute; 
  top: 0;
  */
  cursor: text;
  display: flex;
  width: 100%;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  font-family: inherit;
  font-size: 1rem;
}
@media (max-width: 960px) {
  .files-ui-header {
    font-size: 0.8rem;
  }
}

.files-ui-footer {
  /*   border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px; */
  box-sizing: border-box;
  cursor: text;
  /* height: 23px;
  position: absolute;
  bottom: 0;
  left: 0; */
  width: 100%;
  /* display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center; */
  font-family: inherit;
  padding-left: 10px;
  font-size: 1rem;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 1; /* number of lines to show */
  line-clamp: 1;
  -webkit-box-orient: vertical;
  text-align: left;
}
@media (max-width: 960px) {
  .files-ui-footer {
    padding-left: 1px;
    font-size: 0.9rem;
  }
}`);___$insertStyle(`.filesui-base-ripple-absolute {
  position: absolute;
  display: none;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  box-sizing: border-box;
  border-radius: 8px;
  overflow: hidden;
}
.filesui-base-ripple-absolute .filesui-base-ripple-relative {
  width: 100%;
  height: 100%;
  position: relative;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
}
.filesui-base-ripple-absolute .filesui-base-ripple-relative span.ripple {
  position: absolute;
  border-radius: 50%;
  transform: scale(0);
  animation: ripple 500ms linear;
  background-color: rgba(255, 255, 255, 0.7);
}
@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}`);var parseSize=function(e){if(typeof e=="number")return e;switch(e){case"micro":return 8;case"small":return 15;case"semi-medium":return 18;case"medium":return 25;case"large":return 28;case"extra-large":return 32;default:return 24}},Cancel=function(e){var i=e.size,s=e.color,a=e.colorFill,o=e.onClick,et=e.style,ot=e.className,ft=parseSize(i),dt=et||{};return reactExports.createElement("svg",{style:o?__assign$1$1({},__assign$1$1({cursor:"pointer"},dt)):dt,onClick:function(mt){handleClickUtil(mt),o==null||o(mt)},xmlns:"http://www.w3.org/2000/svg",height:"".concat(ft,"px"),viewBox:"0 0 24 24",width:"".concat(ft,"px"),fill:s||"#000000",className:ot||""},reactExports.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none",opacity:".87"}),reactExports.createElement("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm5 11.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z",fill:a||"none",opacity:".5"}),reactExports.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}))},CheckCircle=function(e){var i=e.size,s=e.color,a=e.colorFill,o=e.onClick,et=e.style,ot=e.className,ft=parseSize(i),dt=et||{};return React.createElement("svg",{className:ot||"",style:o?__assign$1$1({},__assign$1$1({cursor:"pointer"},dt)):dt,onClick:function(){return o==null?void 0:o()},xmlns:"http://www.w3.org/2000/svg",height:"".concat(ft,"px"),viewBox:"0 0 24 24",width:"".concat(ft,"px"),fill:s||"#000000"},React.createElement("path",{d:"M0 0h24v24H0z",fill:a||"none"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))},Clean=function(e){var i=e.size,s=e.color,a=e.onClick,o=e.style,et=e.className,ot=parseSize(i),ft=o||{};return React.createElement("svg",{className:et||"",style:a?__assign$1$1({},__assign$1$1({cursor:"pointer"},ft)):ft,onClick:function(){return a==null?void 0:a()},xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:ot?"".concat(ot,"px"):"24px",viewBox:"0 0 24 24",width:ot?"".concat(ot,"px"):"24px",fill:s||"#000000"},React.createElement("g",null,React.createElement("rect",{fill:"none",height:ot||"24",width:ot||"24"})),React.createElement("g",null,React.createElement("g",null,React.createElement("path",{d:"M16,11h-1V3c0-1.1-0.9-2-2-2h-2C9.9,1,9,1.9,9,3v8H8c-2.76,0-5,2.24-5,5v7h18v-7C21,13.24,18.76,11,16,11z M11,3h2v8h-2V3 z M19,21h-2v-3c0-0.55-0.45-1-1-1s-1,0.45-1,1v3h-2v-3c0-0.55-0.45-1-1-1s-1,0.45-1,1v3H9v-3c0-0.55-0.45-1-1-1s-1,0.45-1,1v3H5 v-5c0-1.65,1.35-3,3-3h8c1.65,0,3,1.35,3,3V21z"}))))},Clear=function(e){var i=e.size,s=e.color,a=e.colorFill,o=e.onClick,et=e.style,ot=e.className,ft=parseSize(i),dt=et||{};return reactExports.createElement("svg",{className:ot||"",style:o?__assign$1$1({cursor:"pointer"},dt):dt,xmlns:"http://www.w3.org/2000/svg",height:"".concat(ft,"px"),viewBox:"0 0 24 24",width:"".concat(ft,"px"),fill:s||"#000000",onClick:function(mt){handleClickUtil(mt),o==null||o(mt)}},reactExports.createElement("path",{d:"M0 0h24v24H0V0z",fill:a||"none"}),reactExports.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}))},CloudDone=function(e){var i=e.size,s=e.color,a=e.colorFill,o=e.onClick,et=e.style,ot=e.className,ft=parseSize(i),dt=et||{};return reactExports.createElement("svg",{className:ot||"",style:o?__assign$1$1({cursor:"pointer"},dt):dt,enableBackground:"new 0 0 24 24",xmlns:"http://www.w3.org/2000/svg",height:"".concat(ft,"px"),viewBox:"0 0 24 24",width:"".concat(ft,"px"),fill:s||"#000000",onClick:function(mt){handleClickUtil(mt),o==null||o(mt)}},reactExports.createElement("path",{d:"M0 0h24v24H0V0z",fill:a||"none"}),reactExports.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zm-9-3.82l-2.09-2.09L6.5 13.5 10 17l6.01-6.01-1.41-1.41z"}))},DoDisturb=function(e){var i=e.size,s=e.color,a=e.onClick,o=e.style,et=e.className,ot=parseSize(i),ft=o||{};return React.createElement("svg",{className:et||"",style:a?__assign$1$1({},__assign$1$1({cursor:"pointer"},ft)):ft,onClick:function(){return a==null?void 0:a()},xmlns:"http://www.w3.org/2000/svg",height:ot?"".concat(ot,"px"):"24px",viewBox:"0 0 24 24",width:ot?"".concat(ot,"px"):"24px",fill:s||"#000000"},React.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),React.createElement("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8z",opacity:".4"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"}))},DownloadFile=function(e){var i=e.size,s=e.color,a=e.colorFill,o=e.onClick,et=e.style,ot=e.className,ft=parseSize(i),dt=et||{};return reactExports.createElement("svg",{className:ot||"",style:o?__assign$1$1({cursor:"pointer"},dt):dt,enableBackground:"new 0 0 24 24",xmlns:"http://www.w3.org/2000/svg",height:"".concat(ft,"px"),viewBox:"0 0 24 24",width:"".concat(ft,"px"),fill:s||"#000000",onClick:function(mt){handleClickUtil(mt),o==null||o(mt)}},reactExports.createElement("g",null,reactExports.createElement("rect",{fill:a||"none",height:ft,width:ft})),reactExports.createElement("g",null,reactExports.createElement("path",{d:"M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M17,11l-1.41-1.41L13,12.17V4h-2v8.17L8.41,9.59L7,11l5,5 L17,11z"})))},InfoDisney=function(e){var i=e.size,s=e.color,a=e.onClick,o=e.style,et=e.className,ot=parseSize(i)-2,ft=o||{};return reactExports.createElement("svg",{className:et||"",style:a?__assign$1$1({cursor:"pointer"},ft):ft,"aria-hidden":"true","aria-label":"info",fill:s||"#000000",role:"img",transform:"",version:"1.1",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",height:"".concat(ot,"px"),width:"".concat(ot,"px"),onClick:function(dt){handleClickUtil(dt),a==null||a(dt)}},reactExports.createElement("path",{d:"M22.378 0c2.412 0 3.618 1.642 3.618 3.523 0 2.349-2.095 4.522-4.822 4.522-2.284 0-3.616-1.35-3.553-3.582 0-1.877 1.586-4.462 4.757-4.462zM14.956 36c-1.904 0-3.299-1.174-1.967-6.343l2.185-9.166c0.38-1.465 0.443-2.054 0-2.054-0.571 0-3.040 1.012-4.504 2.011l-0.95-1.584c4.63-3.935 9.956-6.241 12.242-6.241 1.903 0 2.219 2.291 1.269 5.814l-2.504 9.634c-0.443 1.701-0.254 2.288 0.191 2.288 0.571 0 2.443-0.706 4.282-2.173l1.080 1.465c-4.504 4.585-9.423 6.349-11.324 6.349z"}))},PlayIcon=function(e){var i=e.size,s=e.color,a=e.colorFill,o=e.onClick,et=e.style,ot=e.className,ft=parseSize(i),dt=et||{};return React.createElement("svg",{className:ot||"",style:o?__assign$1$1({cursor:"pointer"},dt):dt,xmlns:"http://www.w3.org/2000/svg",height:"".concat(ft,"px"),viewBox:"0 0 24 24",width:"".concat(ft,"px"),fill:s||"#000000",onClick:function(mt){handleClickUtil(mt),o==null||o(mt)}},React.createElement("path",{d:"M0 0h24v24H0V0z",opacity:".9",fill:a||"none"}),React.createElement("path",{d:"M8 5v14l11-7L8 5z"}))},Upload=function(e){var i=e.size,s=e.color,a=e.colorFill,o=e.onClick,et=e.style,ot=e.className,ft=parseSize(i),dt=et||{};return React.createElement("svg",{style:o?__assign$1$1({},__assign$1$1({cursor:"pointer"},dt)):dt,onClick:function(){return o==null?void 0:o()},xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"".concat(ft,"px"),viewBox:"0 0 24 24",width:"".concat(ft,"px"),fill:s||"#000000",className:ot||""},React.createElement("g",null,React.createElement("rect",{fill:a||"none",height:i||"24",width:i||"24"})),React.createElement("g",null,React.createElement("path",{d:"M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M7,9l1.41,1.41L11,7.83V16h2V7.83l2.59,2.58L17,9l-5-5L7,9z"})))},UploadError=function(e){var i=e.size,s=e.color,a=e.colorFill,o=e.onClick,et=e.style,ot=e.className,ft=parseSize(i),dt=et||{};return React.createElement("svg",{className:ot||"",style:o?__assign$1$1({},__assign$1$1({cursor:"pointer"},dt)):dt,onClick:function(){return o==null?void 0:o()},xmlns:"http://www.w3.org/2000/svg",height:"".concat(ft,"px"),viewBox:"0 0 24 24",width:"".concat(ft,"px"),fill:s||"#000000"},React.createElement("rect",{fill:a||"none",height:ft,width:ft}),React.createElement("path",{d:"M18,15.17V15h2v2.17L18,15.17z M15.41,12.59L17,11l-1.41-1.41L14,11.17L15.41,12.59z M13,10.17V4h-2v4.17L13,10.17z M21.19,21.19l-1.78-1.78L2.81,2.81L1.39,4.22l6.19,6.19L7,11l5,5l0.59-0.59L15.17,18H6v-3H4v3c0,1.1,0.9,2,2,2h11.17l2.61,2.61 L21.19,21.19z"}))};___$insertStyle(`@keyframes filesui-rotate-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
.filesui-rotate {
  cursor: default;
}

@media (prefers-reduced-motion: no-preference) {
  .filesui-rotate {
    animation: filesui-rotate-spin infinite 2s linear;
  }
}`);var UploadingProcess=function(e){var i=e.size,s=e.color,a=e.onClick,o=e.style,et=e.className,ot=e.spin,ft=parseSize(i),dt=o||{},mt=et||"";return mt+=ot?"filesui-rotate":"",React.createElement("svg",{className:mt,style:a?__assign$1$1({},__assign$1$1({cursor:"pointer"},dt)):dt,onClick:function(){return a==null?void 0:a()},xmlns:"http://www.w3.org/2000/svg",height:ft?"".concat(ft,"px"):"24px",viewBox:"0 0 24 24",width:ft?"".concat(ft,"px"):"24px",fill:s||"#000000"},React.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),React.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}))},Visibility=function(e){var i=e.size,s=e.color,a=e.colorFill,o=e.onClick,et=e.style,ot=e.className,ft=parseSize(i),dt=et||{};return React.createElement("svg",{className:ot||"",style:o?__assign$1$1({cursor:"pointer"},dt):dt,xmlns:"http://www.w3.org/2000/svg",height:"".concat(ft,"px"),viewBox:"0 0 24 24",width:"".concat(ft,"px"),fill:s||"#000000",onClick:function(mt){handleClickUtil(mt),o==null||o(mt)}},React.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),React.createElement("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8z",fill:a||"none"}),React.createElement("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))},DropzoneHeader=function(e){var i=e.maxFileSize,s=e.numberOfValidFiles,a=e.onReset,o=e.onClean,et=e.maxFiles,ot=e.onUploadStart,ft=e.isUploading,dt=e.urlPresent,mt=e.localization,gt=e.borderRadius,bt=e.style,vt=e.className,Pt=vt===void 0?"":vt,Tt=e.resetStyles,At=e.color,wt=e.firstClassName,_t=wt===void 0?"":wt,Et=DropzoneLocalizerSelector(mt).header,yt=function(){o==null||o()},St=function(){ot==null||ot()},xt=function(){var It=[];ot&&dt&&s&&(ft?It.push(reactExports.createElement(UploadingProcess,{spin:!0,color:At})):It.push(reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(reactExports.Fragment,null,Et.uploadFilesMessage),reactExports.createElement(Upload,{color:At,onClick:St}))),It.push(reactExports.createElement(reactExports.Fragment,null,",","")));var Nt=Et.maxSizeMessage,Ot=fileSizeFormater(i);Ot&&(It.push(Nt(Ot)),It.push(reactExports.createElement(reactExports.Fragment,null,",","")));var Gt=Et.validFilesMessage;return et&&(It.push(Gt(s,et)),It.push(reactExports.createElement(reactExports.Fragment,null,",",""))),o&&It.push(reactExports.createElement(Clean,{color:At,onClick:yt,size:"semi-medium"})),a&&It.push(reactExports.createElement(Cancel,{color:At,onClick:function(){return a==null?void 0:a()}})),It};function Ct(It){It.stopPropagation()}var $t=Tt?Pt:addClassName("files-ui-header "+_t,Pt),Rt=Tt?bt:__assign$1$1(__assign$1$1({},bt),{borderTopLeftRadius:gt,borderTopRightRadius:gt});return reactExports.createElement("div",{className:$t,onClick:Ct,style:Rt},xt().map(function(It,Nt){return reactExports.createElement("span",{key:Nt,style:{display:"flex"}},It)}))},DropzoneFooter=function(e){var i=e.accept,s=e.message,a=e.localization,o=e.borderRadius,et=e.style,ot=e.className,ft=ot===void 0?"":ot,dt=e.resetStyles,mt=dt===void 0?!1:dt,gt=e.allowedTypesLabel,bt=gt===void 0?!0:gt,vt=e.customMessage,Pt=vt===void 0?void 0:vt,Tt=e.firstClassName,At=Tt===void 0?"":Tt,wt=DropzoneLocalizerSelector(a).footer,_t=wt.acceptCustom;function Et(xt){handleClickUtil(xt)}var yt=mt?ft:addClassName("files-ui-footer ".concat(At),ft),St=mt?et:__assign$1$1(__assign$1$1({},et),{borderBotomLeftRadius:o,borderBotomRightRadius:o});return reactExports.createElement("div",{className:yt,onClick:Et,style:St},Pt?reactExports.createElement(reactExports.Fragment,null,Pt):reactExports.createElement(reactExports.Fragment,null,s||(i?_t(i):bt?wt.acceptAll:void 0)))},DynamiCSS;(function(e){function i(ot){var ft="";if(typeof window>"u"||typeof ot>"u"||ot===null)return"";if(document.getElementById(ot.id))return ot.id;ft=ot.id;var dt=document.createElement("style");dt.id=ft,dt.setAttribute("type","text/css");var mt=toRawStyleSheet(ot.sheetRules||[])+ot.raw||"";dt.textContent=mt;var gt=document.head.appendChild(dt);return gt?ft:""}e.insertStyleSheet=i;function s(ot,ft){var dt="";if(typeof window>"u"||typeof ot>"u"||ot===null||ft===null)return"";var mt=document.getElementById(ot);return mt?(mt.textContent=toRawStyleSheet(ft),dt):""}e.editStyleSheet=s;function a(ot){var ft="";if(!ot)return"";var dt=document.getElementById(ot);return dt&&(document.head.removeChild(dt),ft=ot),ft}e.removeStyleSheet=a;function o(ot){if(typeof ot>"u"||ot===null)return!1;var ft=document.getElementById(ot);return!!ft}e.existStyleSheet=o;function et(ot){return typeof ot>"u"||ot===null?null:ot}e.makeStyleSheet=et})(DynamiCSS||(DynamiCSS={}));function isUpper(e){return e?!/[a-z]/.test(e)&&/[A-Z]/.test(e):!1}function fromUpperCaseToHyphen(e){for(var i="",s=" ",a=!1,o=0;o<e.length;o++){var et=e[o];if(isUpper(et)){s=et,a=!0;break}}if(a){var ot=e.split(s);i="".concat(ot[0],"-").concat(s.toLowerCase()).concat(ot[1])}else i=e;return i}function isPseudo(e){return e?e.includes(":"):!1}function makeRawRuleLabel(e){var i="",s=e.trim().split(" ");if(s.length>1){for(var a=0;a<s.length;a++)i+=".".concat(s[a]);i+=`{
`}else i+=".".concat(e,`{
`);return i}function toRawStyleSheet(e){if(typeof e>"u"||e===null)return"";for(var i="",s=[],a=0;a<e.length;a++){var o=e[a],et="";et+=makeRawRuleLabel(o.className);for(var ot=Object.keys(o.rules),ft=0;ft<ot.length;ft++){var dt=ot[ft],mt=fromUpperCaseToHyphen(dt);if(isPseudo(mt)){var gt=o.className+mt;s.push({className:gt,rules:o.rules[mt]})}else{var bt=o.rules[dt];et+="	".concat(mt," : ").concat(bt,`;
`)}}et+=`}
`,i+=et}for(var vt=0;vt<s.length;vt++){var et="",o=s[vt],ot=Object.keys(o.rules);et+=".".concat(o.className,`{
`);for(var ft=0;ft<ot.length;ft++){var dt=ot[ft],mt=fromUpperCaseToHyphen(dt),bt=o.rules[dt];et+="	".concat(mt," : ").concat(bt,`;
`)}et+=`}
`,i+=et}return i}var MaterialButtonStyleManager=function(){function e(){}return e.getNextId=function(){return e.nextButtonClassNameNumber++,e.nextButtonClassNameNumber},e.nextButtonClassNameNumber=0,e.makeDynamicStyle=function(i,s,a,o,et,ot){var ft={id:"material-button-styles-".concat(i),sheetRules:[{className:"material-button.".concat(s,"-").concat(i),rules:{}},{className:"material-button-root.".concat(s,"-").concat(i),rules:{}}]},dt=ft.sheetRules;if(!a)switch(s){case"contained":dt[0].rules={color:asureColor(colourNameToHex(et)),backgroundColor:completeAsureColor(o),textDecoration:ot},dt[1].rules={":hover":{backgroundColor:darkerColor(completeAsureColor(o))}};break;case"outlined":dt[0].rules={border:"1px solid ".concat(completeAsureColor(o,.5)),color:completeAsureColor(o),backgroundColor:"transparent",textDecoration:ot},dt[1].rules={":hover":{border:"1px solid ".concat(completeAsureColor(o,1)),backgroundColor:completeAsureColor(o,.085)}};break;case"text":dt[0].rules={color:completeAsureColor(o),backgroundColor:"transparent",textDecoration:ot},dt[1].rules={":hover":{backgroundColor:completeAsureColor(o,.085)}};break}return ft.sheetRules=dt,ft},e}(),useMaterialButtonClassName=function(e,i,s,a,o,et,ot,ft){var dt="material-button-root material-button",mt=reactExports.useState(""),gt=mt[0],bt=mt[1],vt=reactExports.useState(!1),Pt=vt[0],Tt=vt[1],At=reactExports.useState(void 0),wt=At[0],_t=At[1],Et=function(St,xt,Ct,$t,Rt,It){var Nt=dt,Ot=MaterialButtonStyleManager.makeDynamicStyle(St,xt,Ct,$t,It,Rt),Gt="";if(Pt?DynamiCSS.editStyleSheet(gt,Ot.sheetRules||[]):(Gt=DynamiCSS.insertStyleSheet(Ot),bt(Gt),Gt!==""&&Tt(!0)),Ct?Nt+=" disabled":Nt+=" ".concat(xt," ").concat(xt,"-").concat(St),et&&et.length>0&&(Nt+=" ".concat(et)),Rt){var Xt=Rt&&["uppercase","capitalize","lowercase","none"].includes(Rt==null?void 0:Rt.toLowerCase())?Rt.toLowerCase():"uppercase";Nt+=" ".concat(Xt)}_t(Nt)};reactExports.useEffect(function(){ft||Et(ot,e,i,s,o,a)},[e,i,s,o,a,et,ot,ft]);var yt=function(St,xt){St&&(DynamiCSS.removeStyleSheet(xt),Tt(!1),bt(""))};return reactExports.useEffect(function(){return function(){return yt(Pt,gt)}},[Pt,gt]),wt};___$insertStyle(`@import url(https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,900);
.material-button-root {
  border: 0;
  cursor: pointer;
  display: inline-flex;
  outline: 0;
  position: relative;
  align-items: center;
  vertical-align: middle;
  justify-content: center;
  text-decoration: none;
  text-transform: none;
  color: white;
}

.material-button {
  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  overflow: hidden;
  min-width: 64px;
  box-sizing: border-box;
  border-radius: 4px;
  font-family: "Poppins", sans-serif;
  font-size: 0.875rem;
  font-weight: 400;
  line-height: 1.75;
  letter-spacing: 0.02857em;
}

.material-button.uppercase {
  text-transform: uppercase;
}

.material-button.lowercase {
  text-transform: lowercase;
}

.material-button.capitalize {
  text-transform: capitalize;
}

.material-button.contained {
  padding: 6px 16px;
  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);
}

.material-button.outlined {
  padding: 5px 15px;
}

.material-button.text {
  padding: 5px 15px;
}

.material-button-root.contained:hover {
  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);
}

.material-button span.material-button-label {
  width: 100%;
  display: inherit;
  align-items: inherit;
  justify-content: inherit;
}

span.ripple {
  position: absolute;
  border-radius: 50%;
  transform: scale(0);
  animation: ripple 500ms linear;
  background-color: rgba(255, 255, 255, 0.7);
}

@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}
.material-button-root.disabled {
  box-shadow: none;
  cursor: default;
  pointer-events: none;
  background-color: rgba(0, 0, 0, 0.12);
  color: rgba(0, 0, 0, 0.26);
  padding: 6px 16px;
}
.material-button-root.disabled.darkmode {
  background-color: rgba(255, 255, 255, 0.12);
  color: rgba(255, 255, 255, 0.3);
}

/* @media screen and (max-width: 600px) {
  .material-button {
    min-width: 30px;
    font-size: 0.78rem;
    line-height: 1.5;
    letter-spacing: 0.025em;
  }
  .material-button.contained {
    padding: 4px 13px;
  }
  .material-button.outlined {
    padding: 4px 12px;
  }
}
 */`);var FilesUiContext=React.createContext({}),MaterialButton=function(e){var i=e.disabled,s=e.href,a=e.textTransform,o=e.variant,et=o===void 0?"contained":o,ot=e.color,ft=ot===void 0?"#1976d2":ot,dt=e.textColor,mt=dt===void 0?"white":dt,gt=e.children,bt=e.className,vt=e.style,Pt=e.onClick,Tt=e.resetStyles,At=e.disableRipple,wt=e.darkMode,_t=e.id,Et=__rest$2(e,["disabled","href","textTransform","variant","color","textColor","children","className","style","onClick","resetStyles","disableRipple","darkMode","id"]),yt=reactExports.useContext(FilesUiContext).darkMode,St=wt!==void 0?wt:yt,xt=reactExports.useMemo(function(){return _t||FileIdGenerator.getNextId()+""},[_t]),Ct=useMaterialButtonClassName(et,i,ft,mt,a,bt,xt.replace(":","").replace(":",""),Tt),$t=Ct&&St?addClassName(Ct,"darkmode"):Ct;function Rt(It){It.preventDefault(),At||createRippleButton(It,et,ft),Pt==null||Pt(It)}return $t!==void 0||Tt?reactExports.createElement(s?"a":"button",__assign$1$1({className:Tt&&bt?bt:$t,"data-testid":s?"dui-anchor":"dui-button",onClick:Rt,href:s,style:vt,children:reactExports.createElement("span",{className:"material-button-label"},gt),disabled:i},Et)):reactExports.createElement(reactExports.Fragment,null,"loading styes")};___$insertStyle(`.files-ui-buttons-container {
  width: 100%;
  box-sizing: border-box;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
  gap: 10px;
}
.files-ui-buttons-container.top {
  padding-bottom: 10px;
}
.files-ui-buttons-container.bottom {
  padding-top: 10px;
}`);var DropzoneButtons=function(e){var i=e.cleanButton,s=e.abortButton,a=e.className,o=e.style,et=e.deleteButton,ot=e.uploadButton,ft=e.onAbort,dt=e.onClean,mt=e.onDelete,gt=e.onUpload,bt=e.top;e.disabled;var vt=[i?__assign$1$1(__assign$1$1({},i),{label:i.label||"Clean",onClick:i.onClick||dt}):void 0,et?__assign$1$1(__assign$1$1({},et),{label:et.label||"Delete",onClick:et.onClick||mt}):void 0,ot?__assign$1$1(__assign$1$1({},ot),{label:ot.label||"Upload",onClick:ot.onClick||gt}):void 0,s?__assign$1$1(__assign$1$1({},s),{label:s.label||"Abort",onClick:s.onClick||ft}):void 0].filter(function(At){return At!==void 0}),Pt="".concat(bt?" top":" bottom"),Tt=addClassName("files-ui-buttons-container"+Pt,a);return reactExports.createElement("div",{className:Tt,style:o},vt.map(function(At,wt){var _t=At.disabled,Et=At.children,yt=At.label,St=At.resetStyles,xt=At.className,Ct=At.style,$t=At.onClick;return reactExports.createElement(MaterialButton,{key:wt,className:xt,style:Ct,resetStyles:St,onClick:function(Rt){return $t==null?void 0:$t(Rt)},disabled:_t},Et||yt)}))},DropLayer=function(e){var i=e.onDrop,s=e.onDragLeave,a=e.className,o=e.open,et=e.style;return reactExports.createElement("div",{className:a,onDragLeave:s,onDrop:i,style:et||{display:o?void 0:"none"}})};function useDropzoneClassName(e,i,s,a,o){var et=s===void 0&&a===void 0&&o===void 0?"default":e.replace(":","_").replace(":","_"),ot="fui-dropzone-root fui-dropzone-border",ft=reactExports.useState(""),dt=ft[0],mt=ft[1],gt=reactExports.useState(!1),bt=gt[0],vt=gt[1],Pt=reactExports.useState(void 0),Tt=Pt[0],At=Pt[1],wt=reactExports.useState(void 0),_t=wt[0],Et=wt[1],yt=reactExports.useState(void 0),St=yt[0],xt=yt[1],Ct=reactExports.useState(void 0),$t=Ct[0],Rt=Ct[1],It=function(Nt,Ot,Gt,Xt){var Ht=ot,Yt=makeDynamicDropzoneStyleSheet(et,Ot,Gt,Xt),zt="";bt?DynamiCSS.editStyleSheet(dt,Yt.sheetRules||[]):(zt=DynamiCSS.insertStyleSheet(Yt),mt(zt),zt!==""&&vt(!0)),Ht+=" files-ui-dropzone-extra-".concat(et),Nt&&(Ht="".concat(Ht," ").concat(Nt)),At(Ht),Et("files-ui-header-border-rd-".concat(et)),xt("files-ui-footer-border-rd-top-bg-color-".concat(et)),Rt("files-ui-disabled-layer-color-".concat(et))};return reactExports.useEffect(function(){It(i,s,a,o)},[i,s,a,o]),[Tt,_t,St,$t]}var makeDynamicDropzoneStyleSheet=function(e,i,s,a){var o={className:"files-ui-dropzone-extra-".concat(e),rules:{color:completeAsureColor(i),border:"1px dashed ".concat(completeAsureColor(i)),borderRadius:DEFAULT_BORDER_RADIUS,background:s,minHeight:typeof a=="number"?"".concat(a,"px"):a}},et={className:"files-ui-root-border-hide",rules:{borderColor:"transparent"}},ot={className:"files-ui-header-border-rd-".concat(e),rules:{"border-top-left-radius":DEFAULT_BORDER_RADIUS,"border-top-right-radius":DEFAULT_BORDER_RADIUS}},ft={className:"files-ui-footer-border-rd-top-bg-color-".concat(e),rules:{"border-bottom-left-radius":DEFAULT_BORDER_RADIUS,"border-bottom-right-radius":DEFAULT_BORDER_RADIUS,background:completeAsureColor(i,.129),borderTop:"1px dotted ".concat(completeAsureColor(i))}},dt={className:"files-ui-disabled-layer-color-".concat(e),rules:{borderRadius:DEFAULT_BORDER_RADIUS,background:completeAsureColor(i,.38)}},mt=[o,et,ot,ft,dt];return{id:"files-dropzone-ui-style-id-"+e,sheetRules:mt}},useDropzoneFileListUpdater=function(e,i,s,a,o,et,ot,ft,dt){var mt=reactExports.useState([]),gt=mt[0],bt=mt[1],vt=reactExports.useState(0),Pt=vt[0],Tt=vt[1];return reactExports.useEffect(function(){var At=ExtFileManager.getExtFileInstanceList(e);s?At&&At.forEach(function(wt){var _t=i.findIndex(function(yt){return yt.id===wt.id});if(_t===-1)wt.extraData={deleted:!0};else{var Et=i[_t];setNextUploadStatus(wt,Et)}}):bt(i)},[e,i]),reactExports.useEffect(function(){if(!dt){bt(gt.map(function(_t){return __assign$1$1(__assign$1$1({},_t),{valid:void 0})}));return}var At={maxFileSize:a,accept:o},wt=validateExtFileList(gt,et?et-Pt:1/0,At,ot,et,ft);bt(wt)},[dt,a,o,et,ft]),reactExports.useEffect(function(){Tt(dt?gt.filter(function(At){return At.valid}).length:gt.length)},[gt,dt]),[gt,Pt,bt]},makeDropLayerDynamicStyle=function(e,i){return{id:"files-ui-drop-layer-style-id-"+e,sheetRules:[{className:"dropzone-layer-".concat(e),rules:{backgroundColor:completeAsureColor(i,.4),borderRadius:DEFAULT_BORDER_RADIUS,position:"absolute",left:0,top:0,width:"0%",height:"0%",zIndex:20,border:"0px dashed ".concat(completeAsureColor(i))}},{className:"dropzone-layer-drag",rules:{width:"100%",height:"100%",borderWidth:"2px"}}]}},useDropLayerClassName=function(e,i,s){var a=reactExports.useState(""),o=a[0],et=a[1],ot=reactExports.useState(!1),ft=ot[0],dt=ot[1],mt=reactExports.useState(""),gt=mt[0],bt=mt[1],vt=i===void 0?"default":e.replace(":","_").replace(":","_");return reactExports.useEffect(function(){var Pt=function(Tt){var At="",wt=makeDropLayerDynamicStyle(vt,Tt),_t="";vt==="default"&&!ft?DynamiCSS.existStyleSheet("files-ui-drop-layer-style-id-"+vt)?(dt(!0),et("files-ui-drop-layer-style-id-"+vt)):(_t=DynamiCSS.insertStyleSheet(wt),et(_t),_t!==""&&dt(!0)):ft?DynamiCSS.editStyleSheet(o,wt.sheetRules||[]):(_t=DynamiCSS.insertStyleSheet(wt),et(_t),_t!==""&&dt(!0)),At+="dropzone-layer-".concat(vt),bt(At)};s&&Pt(i)},[i,s]),gt},useFileMosaicInitializer=function(e,i,s,a,o,et,ot,ft,dt){var mt=reactExports.useState(!1),gt=mt[0],bt=mt[1],vt=reactExports.useState(!1),Pt=vt[0],Tt=vt[1],At=reactExports.useState(""),wt=At[0],_t=At[1],Et=reactExports.useState(void 0),yt=Et[0],St=Et[1],xt=reactExports.useState(void 0),Ct=xt[0],$t=xt[1],Rt=reactExports.useState(!1),It=Rt[0],Nt=Rt[1],Ot=function(Gt,Xt,Ht,Yt,zt,Ut,kt,Ft,Qt,Zt){return __awaiter$1$1(void 0,void 0,void 0,function(){var rr,qt,Dt;return __generator$1(this,function(Vt){switch(Vt.label){case 0:return!Gt&&!Xt&&!Ht?[2]:(rr=(Gt?getURLFileIco(Gt,Ft):getURLFileIcoFromNameAndType(Xt,Ht,Ft)).url,_t(rr),Ut&&kt?(Tt(!0),St(Ut),$t(kt),Nt(!0),[2]):[3,1]);case 1:return Ut?(bt(!0),St(Ut),Nt(!0),[2]):[3,2];case 2:return kt?(Tt(!0),$t(kt),Nt(!0),[3,5]):[3,3];case 3:return qt=getHeaderAndTail(Gt,Ht),bt(qt[0]==="image"),["mp4","ogg","webm"].includes(qt[1])&&Tt(qt[0]==="video"),zt&&(Yt||typeof Yt>"u"||Yt===null)&&qt[0]==="image"?(Dt=void 0,Gt?[4,readAsDataURL(Gt)]:[3,5]):[3,5];case 4:Dt=Vt.sent(),Dt&&St(Dt),Vt.label=5;case 5:return Nt(!0),[2]}})})};return reactExports.useEffect(function(){return Ot(e,i,s,a,o||!1,et,ot,ft),function(){St(void 0),bt(!1),Tt(!1),Nt(!1)}},[e,i,s,a,o,et,ot,ft]),[It,gt,Pt,wt,yt,Ct]},getHeaderAndTail=function(e,i){if(e)if(e.type){var s=e.type.split("/");return[s[0],s[1]]}else return["octet","octet"];else{var s=i==null?void 0:i.split("/");return s&&s.length>1?[s[0],s[1]]:["octet","octet"]}},useIsUploading=function(e){var i=reactExports.useState(!1),s=i[0],a=i[1],o=reactExports.useState(e),et=o[0],ot=o[1];return reactExports.useEffect(function(){if(ot(e),["uploading","preparing"].includes(et||"")&&["success","error","aborted"].includes(e||"")){setTimeout(function(){a(!1)},3500);return}else a(e==="preparing"||e==="uploading")},[e]),s},useProgress=function(e,i){var s=reactExports.useState(void 0),a=s[0],o=s[1];return e!==void 0?a!==e&&o(e):i!=null&&i.upload.onprogress===null&&(i.upload.onprogress=function(et){o(et.loaded/et.total*100)},o(0)),a},isThereValidUrl=function(e,i,s){return ExtFileInstance.someValidUrl(s||[])||i!=null||e!=null&&e.length>0},Dropzone=function(e){var i=mergeProps(e,defaultDrozoneProps),s=i.onChange,a=i.value,o=a===void 0?[]:a,et=i.accept,ot=i.maxFileSize,ft=i.maxFiles,dt=i.validator,mt=i.cleanFiles,gt=i.onClean,bt=i.autoClean,vt=i.uploadConfig,Pt=i.fakeUpload,Tt=i.groupUpload,At=i.onUploadStart,wt=i.onUploadFinish,_t=i.background,Et=i.color,yt=i.minHeight,St=i.style,xt=i.className,Ct=i.label,$t=i.localization,Rt=i.disableRipple,It=i.onDragEnter,Nt=i.onDragLeave,Ot=i.actionButtons,Gt=i.dropOnLayer,Xt=i.header,Ht=i.footer,Yt=i.headerConfig,zt=Yt===void 0?{}:Yt,Ut=i.footerConfig,kt=Ut===void 0?{}:Ut,Ft=i.disabled,Qt=i.clickable,Zt=i.behaviour,rr=i.children,qt=__rest$2(i,["onChange","value","accept","maxFileSize","maxFiles","validator","cleanFiles","onClean","autoClean","uploadConfig","fakeUpload","groupUpload","onUploadStart","onUploadFinish","background","color","minHeight","style","className","label","localization","disableRipple","onDragEnter","onDragLeave","actionButtons","dropOnLayer","header","footer","headerConfig","footerConfig","disabled","clickable","behaviour","children"]),Dt=reactExports.useContext(FilesUiContext).localization,Vt=$t!==void 0?$t:Dt,Lt=vt,jt=Lt.url,Wt=Lt.method,Kt=Lt.headers,er=Lt.uploadLabel,tr=Lt.cleanOnUpload,ur=tr===void 0?!0:tr,cr=Lt.preparingTime,nr=cr===void 0?1500:cr,vr=Lt.autoUpload,Pr=vr===void 0?!1:vr,Ar=Lt.urlFromExtFile,Ir=Ot,zr=Ir.position,Cr=Ir.abortButton,Dr=Ir.deleteButton,xr=Ir.uploadButton,hr=Ir.cleanButton,pr=Ir.style,br=Ir.className,kr=St==null?void 0:St.borderRadius,$r=zt.cleanFiles,Gr=$r===void 0?!0:$r,qr=zt.deleteFiles,Wr=qr===void 0?!0:qr,tn=zt.maxFileSize,Kr=tn===void 0?!0:tn,Jr=zt.uploadFiles,Qr=Jr===void 0?!0:Jr,wr=zt.uploadingIcon,Er=wr===void 0?!0:wr,mr=zt.validFilesCount,Fr=mr===void 0?!0:mr,Mr=zt.customHeader,dn=zt.className,hn=zt.resetStyles,_r=hn===void 0?!1:hn,Vr=zt.style,Xr=kt.customFooter,Nr=kt.noMissingFilesLabel,Yr=Nr===void 0?!0:Nr,Zr=kt.uploadProgressMessage,ln=Zr===void 0?!0:Zr,Lr=kt.uploadResultMessage,on=Lr===void 0?!0:Lr,Hr=DropzoneLocalizerSelector(Vt),ir=reactExports.useRef(null),Bt=reactExports.useRef(null),Jt=reactExports.useRef(null),or=reactExports.useState(!1),dr=or[0],yr=or[1],Sr=reactExports.useState(!1),Rr=Sr[0],Or=Sr[1],Br=reactExports.useState(""),nn=Br[0],jr=Br[1],Ur=reactExports.useMemo(function(){return FileIdGenerator.getNextId()+""},[]),rn=isValidateActive(et,ot,ft,dt),sn=useDropzoneFileListUpdater(Ur,o||[],Rr,ot,et,ft,dt,Vt,rn),an=sn[0],cn=sn[1],gn=sn[2],fn=isThereValidUrl(jt,Ar,an),_n=function(pn){return __awaiter$1$1(void 0,void 0,void 0,function(){var un,vn,wn,$n,lo,vs,co,_s,uo,ho,ys,Yn,Sn,Fn,Bn,Qn,fo,Es;return __generator$1(this,function(yn){switch(yn.label){case 0:return Or(!0),Rr||pn.length===0||!fn?(Or(!1),[2]):pn.length===0?(jr(Hr.noFilesMessage),setTimeout(function(){Or(!1)},1500),[2]):(un=[],vn=pn.length,wn=pn.filter(function(bn){return isUploadAbleExtFile(bn,rn)}).length,$n=0,lo=0,vs=Hr.uploadingMessage,wn>0?(ln&&jr(vs("".concat(wn,"/").concat(vn))),At==null||At(pn),un=ExtFileManager.setFileListMapPreparing(Ur,pn,rn,ur)||[],co=__spreadArray$1$1([],un,!0).map(function(bn){return bn.toExtFile()}),xn(co,!0),[4,sleepPreparing(nr)]):(setTimeout(function(){Yr&&jr(Hr.noFilesMessage),Or(!1)},1500),[2]));case 1:if(yn.sent(),_s=[],!Tt)return[3,6];uo=function(bn,Al,po){un.forEach(function(As){return As.uploadStatus="uploading"}),xn(sanitizeArrExtFile(un),!0);for(var mo=new FormData,bs=0;bs<po.length;bs++)mo.append("files",po[bs].file);return new Promise(function(As,go){var An=new XMLHttpRequest;An.upload.onprogress=function(Zn){un.forEach(function(Pl){Pl.progress=Zn.loaded/Zn.total*100}),xn(sanitizeArrExtFile(un),!0)},An.responseType="json",An.onload=function(){An.status>=200&&An.status<300?(console.log(An.response),console.log(typeof An.response),As(An.response)):go(An.response)},An.onerror=function(Zn){go(Zn)},An.open(bn,Al),An.send(mo)})},yn.label=2;case 2:return yn.trys.push([2,4,,5]),[4,uo("POST",jt,un)];case 3:return ho=yn.sent(),un.forEach(function(bn){return bn.uploadStatus="success"}),un.forEach(function(bn){return bn.uploadMessage=ho.message}),[3,5];case 4:return ys=yn.sent(),un.forEach(function(bn){return bn.uploadStatus="error"}),un.forEach(function(bn){return bn.uploadMessage=ys.message}),console.log(ys),[3,5];case 5:return xn(sanitizeArrExtFile(un),!0),[3,21];case 6:Yn=0,yn.label=7;case 7:return Yn<un.length?(Sn=un[Yn],Sn.uploadStatus==="preparing"&&!(!((Es=Sn.extraData)===null||Es===void 0)&&Es.deleted)?[4,sleepTransition()]:[3,19]):[3,21];case 8:return yn.sent(),instantPreparingToUploadOne(Sn),ln&&jr(vs("".concat(++lo,"/").concat(wn))),xn(sanitizeArrExtFile(un),!0),Fn=void 0,Pt?[4,fakeFuiUpload(Sn,Hr)]:[3,13];case 9:Fn=yn.sent(),Bn=0,yn.label=10;case 10:return Bn<100?(Bn+=getRandomInt(21,35),Sn.progress=Bn>100?100:Bn,[4,sleepTransition(1e3)]):[3,12];case 11:return yn.sent(),xn(sanitizeArrExtFile(un),!0),[3,10];case 12:return[3,16];case 13:return yn.trys.push([13,15,,16]),[4,uploadExtFile(Sn,jt,Ar,Wt,Kt,er)];case 14:return Fn=yn.sent(),[3,16];case 15:return yn.sent(),Fn=unexpectedErrorUploadResult(Sn.toExtFile()),[3,16];case 16:return Qn=Fn,Sn.uploadStatus=Qn.uploadStatus,Sn.uploadMessage=Qn.uploadMessage,Sn.uploadStatus==="aborted"?[3,18]:[4,sleepTransition()];case 17:yn.sent(),yn.label=18;case 18:return xn(sanitizeArrExtFile(un),!0),Qn.uploadStatus==="error"&&$n++,_s.push(Fn),[3,20];case 19:xn(sanitizeArrExtFile(un),!0),yn.label=20;case 20:return Yn++,[3,7];case 21:return gn(sanitizeArrExtFile(un)),wt==null||wt(_s),fo=Hr.uploadFinished,on&&jr(fo(wn-$n,$n)),setTimeout(function(){Or(!1)},2e3),[2]}})})},Tn=function(){var pn=ExtFileManager.getExtFileInstanceList(Ur);pn&&pn.forEach(function(un){(un.uploadStatus==="uploading"||un.uploadStatus==="preparing")&&(un.xhr!==null&&un.xhr!==void 0&&un.xhr.abort(),un.uploadStatus="aborted",un.uploadMessage="Upload was aborted by user")})},En=useDropzoneClassName(Ur,xt,Et,_t,yt),kn=En[0],Qo=En[1],Zo=En[2],Jo=En[3],ro=useDropLayerClassName(Ur,Et,!It&&!Nt);reactExports.useEffect(function(){var pn={maxFileSize:ot,accept:et},un=validateExtFileList(an,ft?ft-cn:1/0,pn,dt,ft,Vt);gn(un)},[ot,et,ft,Vt]);var xn=function(pn,un){var vn=__spreadArray$1$1(Zt==="add"&&!un?__spreadArray$1$1([],an,!0):[],pn,!0);s?s(vn):gn(vn),Pr&&!un&&_n(vn)},_l=function(pn){var un=pn.target.files,vn=fileListToExtFileArray(un);rn&&(vn=no(vn),bt&&(vn=vn.filter(function(wn){return wn.valid}))),fn&&(vn=toUploadableExtFileList(vn)),cleanInput(Jt.current),xn(vn)},no=function(pn){var un={maxFileSize:ot,accept:et},vn=cn;Zt==="replace"&&(vn=0);var wn=validateExtFileList(pn,ft?ft-vn:1/0,un,dt,ft,Vt);return wn};function yl(){!Qt||Ft||Rr||(so(),handleClickInput(Jt.current))}var El=function(pn){handleDragUtil(pn),!Ft&&yr(!0)},io=function(pn){Ft||(handleDragUtil(pn),yr(!1))},so=function(){createFuiRippleFromDiv(ir.current,Bt.current,Et)},ao=function(pn){return __awaiter$1$1(void 0,void 0,void 0,function(){var un,vn;return __generator$1(this,function(wn){return handleDropUtil(pn),Ft?[2]:Rr?[2]:(Rt||so(),yr(!1),un=pn.dataTransfer.files,vn=fileListToExtFileArray(un),rn&&(vn=no(vn),bt&&(vn=vn.filter(function($n){return $n.valid}))),fn&&(vn=toUploadableExtFileList(vn)),xn(vn),[2])})})},ps=function(){s?s([]):gn([])},ms=function(){gt?gt():s?s(an.filter(function(pn){return pn.valid})):gn(an.filter(function(pn){return pn.valid}))},gs=kn?dr&&Gt||Ft?addClassName(kn,"files-ui-root-border-hide"):kn:void 0,oo=gs?Qt&&!Ft?addClassName(gs,"clickable"):gs:void 0;return oo?reactExports.createElement(reactExports.Fragment,null,zr==="before"&&reactExports.createElement(DropzoneButtons,{disabled:Ft,abortButton:Rr?Cr:void 0,onAbort:Tn,deleteButton:Dr,onDelete:Rr?void 0:ps,uploadButton:!Rr&&!Pr?xr:void 0,onUpload:Pr?void 0:function(){return _n(an)},cleanButton:rn&&!Rr&&!bt?hr:void 0,onClean:ms,style:pr,className:br,top:!0}),reactExports.createElement("div",__assign$1$1({style:St,className:oo},qt,{onClick:yl,onDragOver:El,onDragLeave:Gt?void 0:io,onDrop:Gt?void 0:ao}),!Rt&&reactExports.createElement("div",{ref:ir,className:"filesui-base-ripple-absolute",style:{borderRadius:St==null?void 0:St.borderRadius}},reactExports.createElement("div",{ref:Bt,className:"filesui-base-ripple-relative"})),reactExports.createElement(reactExports.Fragment,null,Xt?reactExports.createElement(reactExports.Fragment,null,Mr?reactExports.createElement(reactExports.Fragment,null,Mr):reactExports.createElement(DropzoneHeader,{firstClassName:Qo,color:completeAsureColor(Et),style:Vr,className:dn,resetStyles:_r,borderRadius:kr,isUploading:Rr&&Er,onReset:!Rr&&Wr?ps:void 0,maxFileSize:ot&&Kr?ot:void 0,maxFiles:ft&&Fr?ft:void 0,localization:Vt,urlPresent:fn&&Qr,onUploadStart:!Pr&&!xr?function(){return _n(an)}:void 0,numberOfValidFiles:cn,onClean:!Gr||Rr||hr||bt?void 0:(mt||gt)&&rn?ms:void 0})):reactExports.createElement(reactExports.Fragment,null)),reactExports.createElement(DropzoneChildren,{label:Ct,localization:Vt},rr),reactExports.createElement(reactExports.Fragment,null,Xr?reactExports.createElement(reactExports.Fragment,null,Xr):reactExports.createElement(reactExports.Fragment,null,Ht&&reactExports.createElement(DropzoneFooter,__assign$1$1({firstClassName:Zo,borderRadius:kr,accept:et,message:Rr?nn:void 0,localization:Vt},kt)))),Gt&&reactExports.createElement(DropLayer,{open:dr,className:dr?"".concat(ro," dropzone-layer-drag"):ro,onDragLeave:io,onDrop:ao,style:{borderRadius:St==null?void 0:St.borderRadius}}),reactExports.createElement(InputHidden,{multiple:ft?ft>1:!0,accept:et||"",inputRef:Jt,onChange:_l}),reactExports.createElement(DropzoneDisabledLayer,{open:Ft,className:Jo})),zr==="after"&&reactExports.createElement(DropzoneButtons,{disabled:Ft,abortButton:Rr?Cr:void 0,onAbort:Tn,deleteButton:Dr,onDelete:Rr?void 0:ps,uploadButton:!Rr&&!Pr?xr:void 0,onUpload:Pr?void 0:function(){return _n(an)},cleanButton:rn&&!Rr&&!bt?hr:void 0,onClean:ms,style:pr,className:br,top:!1})):reactExports.createElement(reactExports.Fragment,null)};___$insertStyle(`@import url(https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,900);
.fui-avatar-main-container {
  width: 200px;
  height: 200px;
  position: relative;
  background-color: transparent;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(128, 128, 128, 0.486);
  border-radius: 10px;
  font-family: "Poppins", sans-serif;
}
.fui-avatar-main-container.square {
  border-radius: 0px;
}
.fui-avatar-main-container.circle {
  border-radius: 50%;
}
.fui-avatar-main-container .fui-avatar-image {
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
}
.fui-avatar-main-container:hover .fui-avatar-label.hide {
  display: flex;
}
.fui-avatar-main-container .fui-avatar-label {
  margin: 0;
  overflow: hidden;
  background-color: rgba(128, 128, 128, 0.486);
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  flex-direction: column;
}
.fui-avatar-main-container .fui-avatar-label.hide {
  display: none;
}
.fui-avatar-main-container .fui-avatar-label:hover {
  background-color: rgba(71, 71, 71, 0.74);
  display: flex;
  cursor: pointer;
}`);var BasePreparingLoader=function(e){var i=e.size,s=e.color,a=e.style,o=e.radius,et=e.x,ot=e.y,ft=e.width,dt=o||46,mt=et||50,gt=ot||50,bt=parseSize(i),vt=a||{};return reactExports.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"".concat(bt,"px"),height:"".concat(bt,"px"),style:vt,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},reactExports.createElement("circle",{cx:"".concat(mt),cy:"".concat(gt),r:"".concat(dt),fill:"none",stroke:s||"#14ff00",strokeWidth:"".concat(ft||8,"px"),strokeDasharray:"164.93361431346415 100.97787143782138"},reactExports.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",dur:"1s",values:"0 ".concat(mt," ").concat(mt,";360 ").concat(mt," ").concat(mt),keyTimes:"0;1"})))};___$insertStyle(`.files-ui-loader-container {
  background-color: rgba(0, 0, 0, 0.41);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
}
.files-ui-loader-container.clickable {
  cursor: pointer;
}
.files-ui-loader-container:hover {
  background-color: rgba(0, 0, 0, 0.61);
}`);var LoaderContainer=function(e){var i=e.children,s=e.className,a=e.style,o=e.size,et=e.onClick,ot=o?parseSize(o):void 0,ft=et?"files-ui-loader-container clickable":"files-ui-loader-container",dt=function(){et==null||et()};return reactExports.createElement("div",{onClick:dt,className:s?"".concat(ft," ").concat(s):ft,style:__assign$1$1(__assign$1$1({},a),{height:ot,width:ot})},i)},InfiniteLoader=function(e){var i=e.onClick,s=e.size;return reactExports.createElement(LoaderContainer,{onClick:i,size:s},reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(BasePreparingLoader,{size:s}),reactExports.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},i&&reactExports.createElement(Clear,{color:"rgba(255,255,255,0.75)",size:45,onClick:i}))))};___$insertStyle(`.files-ui-layer {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}`);var Layer=function(e){var i=e.style,s=e.className,a=e.children,o=e.visible,et=__rest$2(e,["style","className","children","visible"]),ot=addClassName(s||"","files-ui-layer");return o?reactExports.createElement("div",__assign$1$1({className:ot,style:i},et),a):reactExports.createElement(reactExports.Fragment,null)},ImagePreviewDefaultProps={alt:"image-preview",smartImgFit:"orientation"};___$insertStyle(`.fui-image-preview {
  position: relative;
  border-radius: 10px;
}`);var ImagePreview=function(e){var i=mergeProps(e,ImagePreviewDefaultProps),s=i.src,a=i.alt,o=i.width,et=i.height,ot=i.onError,ft=i.smartImgFit,dt=i.style,mt=i.className,gt=reactExports.useState([void 0,void 0]),bt=gt[0],vt=bt[0],Pt=bt[1],Tt=gt[1],At=reactExports.useState(void 0),wt=At[0],_t=At[1],Et=function(xt){return __awaiter$1$1(void 0,void 0,void 0,function(){var Ct;return __generator$1(this,function($t){switch($t.label){case 0:return[4,readAsDataURL(xt)];case 1:return Ct=$t.sent(),yt(Ct),[2]}})})},yt=function(xt){return __awaiter$1$1(void 0,void 0,void 0,function(){var Ct,$t,Rt;return __generator$1(this,function(It){switch(It.label){case 0:return xt===""||!xt?[2]:(Ct=void 0,$t=void 0,ft?[3,1]:($t="100%",[3,4]));case 1:return It.trys.push([1,3,,4]),[4,getImageOrientation(xt)];case 2:return Rt=It.sent(),Rt==="landscape"?ft==="orientation"?(Ct=void 0,$t="100%"):(Ct="100%",$t=void 0):ft==="center"?(Ct=void 0,$t="100%"):(Ct="100%",$t=void 0),[3,4];case 3:return It.sent(),ot==null||ot(),[3,4];case 4:return et&&(Ct=et),o&&($t=o),Tt([Ct,$t]),_t(xt),[2]}})})};reactExports.useEffect(function(){if(s)if(typeof s=="string")yt(s);else{var xt=s.type?s.type.split("/")[0]:"octet";xt==="image"?Et(s):ot==null||ot()}},[s]);var St=function(xt){ot==null||ot()};return reactExports.createElement(reactExports.Fragment,null,s&&wt&&(vt||Pt)&&reactExports.createElement("img",{style:dt||{},onClick:function(xt){xt.preventDefault()},width:Pt,height:vt,src:wt,alt:a,className:mt,onError:St}))};___$insertStyle(`@import url(https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,900);
.files-ui-file-card-main-container {
  border-radius: 8px;
  color: rgba(0, 0, 0, 0.858);
  display: flex;
  flex-direction: row;
  align-items: center;
  min-height: 100px;
  box-sizing: border-box;
  position: relative;
  font-size: 15px;
  font-weight: 400;
  width: 320px;
  font-family: "Poppins", sans-serif;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container {
  border-radius: 8px;
  overflow: hidden;
  width: 320px;
  box-sizing: border-box;
  height: 100px;
  box-sizing: border-box;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer {
  box-sizing: border-box;
  position: absolute;
  left: 0;
  right: 0;
  width: 100%;
  height: 100%;
  display: flex;
  box-sizing: border-box;
  align-items: center;
  justify-content: space-between;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 5px;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data .file-card-icon-container {
  width: 100px;
  height: 100px;
  overflow: hidden;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data .file-card-icon-container .file-card-icon-layer {
  box-sizing: border-box;
  position: absolute;
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  overflow: hidden;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data .file-card-icon-container .file-card-icon-layer img {
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data .file-card-icon-container .file-card-icon-layer.blur img {
  filter: blur(4px);
  width: 200%;
  height: 200%;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data .file-card-icon-container .file-card-status-layer {
  display: flex;
  align-items: flex-end;
  justify-content: flex-start;
  padding: 5px;
  box-sizing: border-box;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data .file-card-data {
  padding-right: 10px;
  box-sizing: border-box;
  line-height: 19px;
  font-weight: 500;
  width: calc(100% - 100px);
  word-break: break-all;
  color: black;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center;
  height: 100%;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data .file-card-data.dark-mode {
  color: rgba(255, 255, 255, 0.7);
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data .file-card-data .file-card-size {
  font-weight: 400;
  font-size: 0.9rem;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data .file-card-data .file-card-name {
  font-size: 1rem;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 1; /* number of lines to show */
  line-clamp: 1;
  -webkit-box-orient: vertical;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-main-layer .file-card-icon-plus-data .file-card-data .file-card-name.not-allowed {
  background-color: rgba(180, 16, 16, 0.7);
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-upload-layer-container {
  cursor: default;
  display: flex;
  box-sizing: border-box;
  background: linear-gradient(to right, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.625), rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9));
  color: rgba(255, 255, 255, 0.8);
  font-weight: 500;
  font-size: 1em;
  position: relative;
  overflow: hidden;
  align-items: center;
  justify-content: flex-end;
  height: 100%;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-info-layer-container {
  cursor: default;
  display: flex;
  box-sizing: border-box;
  background: linear-gradient(to right, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9));
  color: rgba(255, 255, 255, 0.8);
  font-weight: 500;
  font-size: 1em;
  overflow: hidden;
  align-items: center;
  justify-content: flex-end;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-info-layer-container .file-card-file-info {
  width: calc(100% - 100px);
  height: 100px;
  text-align: left;
  scrollbar-width: thin;
  overflow: auto;
  scrollbar-color: rgba(100, 108, 127, 0.662745098) transparent;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-info-layer-container .file-card-file-info::-webkit-scrollbar {
  width: 9px;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-info-layer-container .file-card-file-info::-webkit-scrollbar-track {
  background: transparent;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-info-layer-container .file-card-file-info::-webkit-scrollbar-thumb {
  background-color: rgba(100, 108, 127, 0.662745098);
  border-radius: 20px;
  border: transparent;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-info-layer-container .file-card-file-info .files-ui-file-card-info-layer-header {
  display: flex;
  width: 100%;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  /*  position: absolute;
  top: 5;
  right: 5; */
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-info-layer-container .file-card-file-info .heading {
  font-weight: 600;
  padding: 0 5px;
}
.files-ui-file-card-main-container .files-ui-file-card-main-layer-container .file-card-info-layer-container .file-card-file-info .label {
  padding: 0 5px;
  font-weight: 399;
}
.files-ui-file-card-main-container.clickable {
  cursor: pointer;
}

/* .files-ui-file-icon {
  font-size: 0.7rem;
  min-width: 19px;
  min-height: 19px;
  margin: 0;
  padding: 2px 2px;
  border-radius: 50%;
  background-color: rgba(32, 33, 36, 0.65);
  word-break: break-word;
  box-sizing: content-box;
  &:hover {
    background-color: rgba(32, 33, 36, 0.85);
  }
  &.dark-mode {
    background-color: rgba(154, 160, 166, 0.65);
    &:hover {
      background-color: rgba(154, 160, 166, 0.85);
    }
  }
} */`);___$insertStyle(`.files-ui-file-icon {
  font-size: 0.7rem;
  min-width: 19px;
  min-height: 19px;
  margin: 0;
  padding: 2px 2px;
  border-radius: 50%;
  background-color: rgba(32, 33, 36, 0.65);
  word-break: break-word;
  box-sizing: content-box;
}
.files-ui-file-icon:hover {
  background-color: rgba(32, 33, 36, 0.85);
}
.files-ui-file-icon.dark-mode {
  background-color: rgba(154, 160, 166, 0.65);
}
.files-ui-file-icon.dark-mode:hover {
  background-color: rgba(154, 160, 166, 0.85);
}`);___$insertStyle(`.files-ui-file-card-main-container.dark-mode {
  color: rgba(255, 255, 255, 0.7);
  background-color: #121212;
}
.files-ui-file-card-main-container.dark-mode.elevation-0 {
  background-image: linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 0));
}
.files-ui-file-card-main-container.dark-mode.elevation-1 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05));
}
.files-ui-file-card-main-container.dark-mode.elevation-2 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.07), rgba(255, 255, 255, 0.07));
}
.files-ui-file-card-main-container.dark-mode.elevation-3 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.08));
}
.files-ui-file-card-main-container.dark-mode.elevation-4 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.09), rgba(255, 255, 255, 0.09));
}
.files-ui-file-card-main-container.dark-mode.elevation-5 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.1));
}
.files-ui-file-card-main-container.dark-mode.elevation-6 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.11), rgba(255, 255, 255, 0.11));
}
.files-ui-file-card-main-container.dark-mode.elevation-7 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.11), rgba(255, 255, 255, 0.11));
}
.files-ui-file-card-main-container.dark-mode.elevation-8 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.12));
}
.files-ui-file-card-main-container.dark-mode.elevation-9 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.12));
}
.files-ui-file-card-main-container.dark-mode.elevation-10 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.13), rgba(255, 255, 255, 0.13));
}
.files-ui-file-card-main-container.dark-mode.elevation-11 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.13), rgba(255, 255, 255, 0.13));
}
.files-ui-file-card-main-container.dark-mode.elevation-12 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.14), rgba(255, 255, 255, 0.14));
}
.files-ui-file-card-main-container.dark-mode.elevation-13 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.14), rgba(255, 255, 255, 0.14));
}
.files-ui-file-card-main-container.dark-mode.elevation-14 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.14), rgba(255, 255, 255, 0.14));
}
.files-ui-file-card-main-container.dark-mode.elevation-15 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.14), rgba(255, 255, 255, 0.14));
}
.files-ui-file-card-main-container.dark-mode.elevation-16 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.13), rgba(255, 255, 255, 0.15));
}
.files-ui-file-card-main-container.dark-mode.elevation-17 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.13), rgba(255, 255, 255, 0.15));
}
.files-ui-file-card-main-container.dark-mode.elevation-18 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.13), rgba(255, 255, 255, 0.15));
}
.files-ui-file-card-main-container.dark-mode.elevation-19 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.15));
}
.files-ui-file-card-main-container.dark-mode.elevation-20 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.16));
}
.files-ui-file-card-main-container.dark-mode.elevation-21 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.16));
}
.files-ui-file-card-main-container.dark-mode.elevation-22 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.16));
}
.files-ui-file-card-main-container.dark-mode.elevation-23 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.16));
}
.files-ui-file-card-main-container.dark-mode.elevation-24 {
  background-image: linear-gradient(rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0.16));
}
.files-ui-file-card-main-container.elevation-0 {
  box-shadow: none;
}
.files-ui-file-card-main-container.elevation-1 {
  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-2 {
  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-3 {
  box-shadow: 0px 3px 3px -2px rgba(0, 0, 0, 0.2), 0px 3px 4px 0px rgba(0, 0, 0, 0.14), 0px 1px 8px 0px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-4 {
  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-5 {
  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 5px 8px 0px rgba(0, 0, 0, 0.14), 0px 1px 14px 0px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-6 {
  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-7 {
  box-shadow: 0px 4px 5px -2px rgba(0, 0, 0, 0.2), 0px 7px 10px 1px rgba(0, 0, 0, 0.14), 0px 2px 16px 1px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-8 {
  box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-9 {
  box-shadow: 0px 5px 6px -3px rgba(0, 0, 0, 0.2), 0px 9px 12px 1px rgba(0, 0, 0, 0.14), 0px 3px 16px 2px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-10 {
  box-shadow: 0px 6px 6px -3px rgba(0, 0, 0, 0.2), 0px 10px 14px 1px rgba(0, 0, 0, 0.14), 0px 4px 18px 3px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-11 {
  box-shadow: 0px 6px 7px -4px rgba(0, 0, 0, 0.2), 0px 11px 15px 1px rgba(0, 0, 0, 0.14), 0px 4px 20px 3px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-12 {
  box-shadow: 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-13 {
  box-shadow: 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 13px 19px 2px rgba(0, 0, 0, 0.14), 0px 5px 24px 4px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-14 {
  box-shadow: 0px 7px 9px -4px rgba(0, 0, 0, 0.2), 0px 14px 21px 2px rgba(0, 0, 0, 0.14), 0px 5px 26px 4px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-15 {
  box-shadow: 0px 8px 9px -5px rgba(0, 0, 0, 0.2), 0px 15px 22px 2px rgba(0, 0, 0, 0.14), 0px 6px 28px 5px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-16 {
  box-shadow: 0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-17 {
  box-shadow: 0px 8px 11px -5px rgba(0, 0, 0, 0.2), 0px 17px 26px 2px rgba(0, 0, 0, 0.14), 0px 6px 32px 5px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-18 {
  box-shadow: 0px 9px 11px -5px rgba(0, 0, 0, 0.2), 0px 18px 28px 2px rgba(0, 0, 0, 0.14), 0px 7px 34px 6px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-19 {
  box-shadow: 0px 9px 12px -6px rgba(0, 0, 0, 0.2), 0px 19px 29px 2px rgba(0, 0, 0, 0.14), 0px 7px 36px 6px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-20 {
  box-shadow: 0px 10px 13px -6px rgba(0, 0, 0, 0.2), 0px 20px 31px 3px rgba(0, 0, 0, 0.14), 0px 8px 38px 7px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-21 {
  box-shadow: 0px 10px 13px -6px rgba(0, 0, 0, 0.2), 0px 21px 33px 3px rgba(0, 0, 0, 0.14), 0px 8px 40px 7px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-22 {
  box-shadow: 0px 10px 14px -6px rgba(0, 0, 0, 0.2), 0px 22px 35px 3px rgba(0, 0, 0, 0.14), 0px 8px 42px 7px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-23 {
  box-shadow: 0px 11px 14px -7px rgba(0, 0, 0, 0.2), 0px 23px 36px 3px rgba(0, 0, 0, 0.14), 0px 9px 44px 8px rgba(0, 0, 0, 0.12);
}
.files-ui-file-card-main-container.elevation-24 {
  box-shadow: 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);
}`);___$insertStyle(`.file-card-right-layer-header {
  margin-top: 3px;
  margin-right: 3px;
  position: absolute;
  top: 0;
  right: 0;
  left: unset;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 2px;
}

.file-card-right-layer-footer {
  margin-bottom: 3px;
  margin-right: 3px;
  left: unset;
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 2px;
  bottom: 0;
  right: 0;
}`);var AbortedStatus=function(e){var i=e.localization,s=e.size,a=FileItemLocalizerSelector(i).status;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DoDisturb,{color:"#f44336",size:s||65}),reactExports.createElement("span",null," ",a.aborted))},EmptyStatus=function(e){var i=e.height,s=i?typeof i=="number"?"".concat(i,"px"):i:"132px";return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",{style:{width:"100%",height:s}}))},ErrorStatus=function(e){var i=e.localization,s=e.size,a=FileItemLocalizerSelector(i).status;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Clear,{color:"rgba(255,255,255,0.4)",style:{backgroundColor:"rgba(244, 67, 54, 0.8)",borderRadius:"50%"},size:s||65}),reactExports.createElement("span",null," ",a.error))},PreparingStatus=function(e){var i=e.onCancel,s=e.localization,a=e.size,o=FileItemLocalizerSelector(s).status;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(InfiniteLoader,{onClick:i,size:a||65}),reactExports.createElement("span",null,o.preparing))},SuccessStatus=function(e){var i=e.localization,s=e.size,a=FileItemLocalizerSelector(i).status;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(CheckCircle,{color:"#4caf50",size:s||65}),reactExports.createElement("span",null," ",a.success))};___$insertStyle(`text.files-ui-text-dynamic-loader {
  text-anchor: middle;
  font-size: 1em;
  fill: aliceblue;
}`);var DynamicLoader=function(e){var i=e.size,s=e.color,a=e.style,o=e.percentage,et=e.hidePerncentage,ot=e.radius,ft=e.x,dt=e.y,mt=e.width,gt=e.onClick,bt=ot||28,vt=ft||30,Pt=dt||30,Tt=parseSize(i),At=a||{},wt=reactExports.useRef(null);function _t(Et,yt,St){yt.style.strokeDashoffset="".concat(St*(1-Et/100))}return reactExports.useEffect(function(){var Et=wt.current;if(Et!=null&&o!==void 0){var yt=2*Math.PI*Et.r.baseVal.value;Et.style.strokeDasharray="".concat(yt," 1000"),_t(o>=100?100:o,Et,yt)}},[o]),o!==void 0?reactExports.createElement(LoaderContainer,{size:i},reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("svg",{className:"dui_svg_circle_loader",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"".concat(Tt,"px"),height:"".concat(Tt,"px"),style:At},reactExports.createElement("circle",{style:{transform:"rotate(-90deg)",transformOrigin:"center"},stroke:s||"#14ff00",cx:"".concat(vt),cy:"".concat(Pt),r:"".concat(bt),strokeWidth:"".concat(mt||8,"px"),id:"circle",ref:wt,fill:"none"}),!et&&o!==void 0&&reactExports.createElement("text",{className:"files-ui-text-dynamic-loader",x:"".concat(vt),y:"".concat(vt*7/6)},"".concat(o.toFixed(0)," %"))),gt&&reactExports.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},reactExports.createElement(Clear,{color:"rgba(255,255,255,0.75)",size:45,onClick:gt})))):reactExports.createElement(reactExports.Fragment,null)};___$insertStyle(`.lds-colorbar {
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 4px;
}
.lds-colorbar .files-ui-text-default-loader {
  font-size: 1.5rem;
  font-weight: 400;
  text-anchor: middle;
}`);var UploadingStatus=function(e){var i=e.localization,s=e.size,a=e.onAbort,o=e.progress,et=FileItemLocalizerSelector(i).status;return reactExports.createElement(reactExports.Fragment,null,o!==void 0?reactExports.createElement(DynamicLoader,{size:70,x:35,y:35,radius:32,percentage:o,width:6,hidePerncentage:o===void 0||a!==void 0,onClick:a}):reactExports.createElement(InfiniteLoader,{onClick:a,size:s||70}),reactExports.createElement("span",null," ",et.uploading))};___$insertStyle(`.files-ui-file-card-upload-layer {
  width: 100px;
  height: 100%;
  color: rgba(255, 255, 255, 0.8);
  font-weight: 500;
  font-size: 1em;
  position: relative;
  overflow: hidden;
}
.files-ui-file-card-upload-layer .elevation-list-card {
  transition: all 1.5s ease;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}
.files-ui-file-card-upload-layer .elevation-list-card .elevation-item-card {
  width: 100%;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  padding: 0 10px;
  box-sizing: border-box;
}
.files-ui-file-card-upload-layer .elevation-list-card .elevation-item-card span {
  text-align: center;
  word-break: break-word;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2; /* number of lines to show */
  line-clamp: 2;
  -webkit-box-orient: vertical;
}`);___$insertStyle(`.files-ui-tooltip {
  cursor: default;
  position: relative;
}
.files-ui-tooltip:hover {
  z-index: 2;
}
.files-ui-tooltip:hover .files-ui-tooltiptext {
  visibility: visible;
  opacity: 1;
  z-index: 2;
}
.files-ui-tooltip.card:hover {
  z-index: 2;
}
.files-ui-tooltip.card:hover .files-ui-tooltiptext {
  visibility: visible;
  opacity: 1;
  z-index: 2;
}
.files-ui-tooltip.card .files-ui-tooltiptext {
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
  font-size: 0.8rem;
  font-weight: 400;
  visibility: hidden;
  width: 200px;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 2px 2px;
  position: absolute;
  z-index: 2;
  left: calc(50% - 100px);
  left: 0;
  margin-top: 5px;
  top: 100%;
  opacity: 0;
  transition: opacity 1s;
}
.files-ui-tooltip.card .files-ui-tooltiptext.not-valid-error {
  background: linear-gradient(to top, #c62828, #d32f2f);
}
.files-ui-tooltip.card .files-ui-tooltiptext.not-valid-error::after {
  border-color: transparent transparent #d32f2f transparent;
}
.files-ui-tooltip.card .files-ui-tooltiptext.success {
  background: linear-gradient(to top, #1b5e20, #2e7d32);
}
.files-ui-tooltip.card .files-ui-tooltiptext.success::after {
  border-color: transparent transparent #2e7d32 transparent;
}
.files-ui-tooltip.card .files-ui-tooltiptext::after {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
}
.files-ui-tooltip .files-ui-tooltiptext {
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
  font-size: 0.8rem;
  font-weight: 400;
  visibility: hidden;
  width: 132px;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 2px 2px;
  position: absolute;
  z-index: 2;
  left: 0;
  opacity: 0;
  transition: opacity 1s;
}
.files-ui-tooltip .files-ui-tooltiptext.not-valid-error {
  background: linear-gradient(to top, #c62828, #d32f2f);
}
.files-ui-tooltip .files-ui-tooltiptext.not-valid-error::after {
  border-color: transparent transparent #d32f2f transparent;
}
.files-ui-tooltip .files-ui-tooltiptext.success {
  background: linear-gradient(to top, #1b5e20, #2e7d32);
}
.files-ui-tooltip .files-ui-tooltiptext.success::after {
  border-color: transparent transparent #2e7d32 transparent;
}
.files-ui-tooltip .files-ui-tooltiptext::after {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
}`);var Tooltip=function(e){var i=e.uploadStatus,s=e.valid,a=e.errors,o=e.uploadMessage,et=e.open,ot=reactExports.useState(void 0),ft=ot[0],dt=ot[1],mt=reactExports.useState(void 0),gt=mt[0],bt=mt[1],vt=function(Pt,Tt){Pt!==void 0?(bt(o),dt(Pt==="success"?"success":"not-valid-error")):Tt!==void 0&&(Tt||(dt("not-valid-error"),bt(a?a.reduce(function(At,wt){return At+="".concat(wt,". "),At},""):"")))};return reactExports.useEffect(function(){vt(i,s)},[i,s]),reactExports.createElement(reactExports.Fragment,null,et&&gt&&ft&&reactExports.createElement("span",{className:"files-ui-tooltiptext ".concat(ft)},gt))},DownloadHidden=function(e){var i=e.downloadUrl,s=e.anchorRef,a=e.fileName;function o(et){et.stopPropagation()}return i?reactExports.createElement("a",{ref:s,target:"_blank",href:i,download:a,hidden:!0,rel:"noopener noreferrer",onClick:o},"download_file"):reactExports.createElement(reactExports.Fragment,null)};___$insertStyle(`@import url(https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,900);
.files-ui-file-mosaic-main-container {
  width: 132px;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
  font-size: 15px;
  font-weight: 400;
  word-break: break-word;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container {
  width: 132px;
  height: 132px;
  border-radius: 8px;
  box-sizing: border-box;
  overflow: hidden;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-image-layer {
  position: absolute;
  left: 0;
  right: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-image-layer img {
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-image-layer.blur img {
  filter: blur(4px);
  width: 200%;
  height: 200%;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-main-layer {
  position: absolute;
  left: 0;
  right: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-direction: column;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-main-layer .file-mosaic-main-layer-header {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: flex-end;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-main-layer .file-mosaic-main-layer-footer {
  width: 100%;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  flex-direction: row;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-main-layer .file-mosaic-main-layer-footer .file-mosaic-footer-right {
  display: flex;
  align-items: center;
  flex-direction: row;
  flex-grow: 1;
  align-items: flex-end;
  justify-content: flex-end;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-main-layer .file-mosaic-main-layer-footer .file-mosaic-footer-left {
  display: flex;
  align-items: center;
  flex-direction: column;
  flex-grow: 1;
  align-items: flex-start;
  justify-content: center;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-info-layer {
  position: absolute;
  left: 0;
  right: 0;
  text-align: left;
  scrollbar-width: thin;
  line-height: 1.5;
  letter-spacing: 0.02857em;
  font-family: "Poppins", sans-serif;
  width: inherit;
  background-color: rgba(0, 0, 0, 0.85);
  word-break: break-word;
  height: 100%;
  width: 100%;
  font-size: 0.8rem;
  transition: all 0.5s ease 0s;
  overflow: auto;
  color: white;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-info-layer::-webkit-scrollbar {
  width: 9px;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-info-layer::-webkit-scrollbar-track {
  background: transparent;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-info-layer::-webkit-scrollbar-thumb {
  background-color: rgba(100, 108, 127, 0.662745098);
  border-radius: 20px;
  border: transparent;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-info-layer .files-ui-file-mosaic-info-layer-header {
  display: flex;
  width: 100%;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-info-layer .heading {
  font-weight: 600;
  padding: 0 5px;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-icon-layer-container .files-ui-file-mosaic-info-layer .label {
  padding: 0 5px;
  font-weight: 399;
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-file-name {
  margin-top: 1px;
  height: 31px;
  text-align: center;
  width: 100%;
  color: black;
  font-size: 0.95em;
  box-sizing: border-box;
  line-height: 15px;
  font-weight: 400;
  letter-spacing: 0.07rem;
  word-break: break-all;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2; /* number of lines to show */
  line-clamp: 2;
  -webkit-box-orient: vertical;
  /*  display: flex;
   align-items: center;
   justify-content: center; */
}
.files-ui-file-mosaic-main-container .files-ui-file-mosaic-file-name.dark-mode {
  color: rgba(255, 255, 255, 0.7);
}
.files-ui-file-mosaic-main-container.clickable {
  cursor: pointer;
}

/* .files-ui-file-icon {
  font-size: 0.7rem;
  min-width: 19px;
  min-height: 19px;
  margin: 0;
  padding: 2px 2px;
  border-radius: 50%;
  background-color: rgba(32, 33, 36, 0.65);
  word-break: break-word;
  box-sizing: content-box;
  &:hover {
    background-color: rgba(32, 33, 36, 0.85);
  }
  &.dark-mode {
    background-color: rgba(154, 160, 166, 0.65);
    &:hover {
      background-color: rgba(154, 160, 166, 0.85);
    }
  }
}
 */`);___$insertStyle(`.files-ui-layer-container {
  position: relative;
}`);var LayerContainer=function(e){var i=e.style,s=e.className,a=e.children,o=addClassName(s||"","files-ui-layer-container");return reactExports.createElement("div",{className:o,style:i},a)},FileMosaicName=function(e){var i=e.fileName;return i?reactExports.createElement("span",null,i):reactExports.createElement(reactExports.Fragment,null)};___$insertStyle(`.files-ui-file-mosaic-upload-layer {
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.65);
  color: rgba(255, 255, 255, 0.8);
  font-weight: 500;
  font-size: 1em;
  position: relative;
  overflow: hidden;
}
.files-ui-file-mosaic-upload-layer .elevation-list {
  transition: all 1.5s ease;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}
.files-ui-file-mosaic-upload-layer .elevation-list .elevation-item {
  width: 100%;
  height: 132px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  padding: 0 10px;
  box-sizing: border-box;
}
.files-ui-file-mosaic-upload-layer .elevation-list .elevation-item span {
  text-align: center;
  word-break: break-word;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2; /* number of lines to show */
  line-clamp: 2;
  -webkit-box-orient: vertical;
}`);var FileMosaicUploadLayer=function(e){var i=e.uploadStatus,s=e.onCancel,a=e.onAbort,o=e.progress,et=e.localization,ot=reactExports.useRef(null),ft=reactExports.useRef(null),dt=reactExports.useState([void 0]),mt=dt[0],gt=dt[1];reactExports.useEffect(function(){gt(function(vt){if(vt[vt.length-1]==="preparing"&&i==="uploading"){var Pt=__spreadArray$1$1([],vt,!0);return Pt[vt.length-1]=i,__spreadArray$1$1([],Pt,!0)}return __spreadArray$1$1(__spreadArray$1$1([],vt,!0),[i],!1)})},[i]);var bt=function(){var vt=ot.current,Pt=ft.current;vt===null||Pt===null||(Pt.style.top=0-(mt.length-1)*132+"px")};return reactExports.useEffect(function(){mt.length>1&&bt()},[mt.length]),reactExports.createElement("div",{className:"elevation-layer-container",ref:ot},reactExports.createElement("div",{className:"elevation-list",ref:ft},mt.map(function(vt,Pt){switch(vt){case"preparing":return reactExports.createElement("div",{className:"elevation-item",key:Pt+1},reactExports.createElement(PreparingStatus,{onCancel:s,localization:et}));case"uploading":return reactExports.createElement("div",{className:"elevation-item",key:Pt+1},reactExports.createElement(UploadingStatus,{onAbort:a,progress:o,localization:et}));case"error":return reactExports.createElement("div",{className:"elevation-item",key:Pt+1},reactExports.createElement(ErrorStatus,{localization:et}));case"success":return reactExports.createElement("div",{className:"elevation-item",key:Pt+1},reactExports.createElement(SuccessStatus,{localization:et}));case"aborted":return reactExports.createElement("div",{className:"elevation-item",key:Pt+1},reactExports.createElement(AbortedStatus,{localization:et}));default:return reactExports.createElement("div",{className:"elevation-item",key:Pt+1},reactExports.createElement(EmptyStatus,null))}})))},FileMosaicImageLayer=function(e){var i=e.imageSource,s=e.url,a=e.fileName,o=e.card,et=e.isBlur,ot=e.smartImgFit,ft=reactExports.useState(void 0),dt=ft[0],mt=ft[1],gt=reactExports.useState(!1),bt=gt[0],vt=gt[1];reactExports.useEffect(function(){mt(i||s)},[i,s]);var Pt=function(){vt(!0),mt(s)};return et?reactExports.createElement(reactExports.Fragment,null,!o&&!bt&&i&&reactExports.createElement(ImagePreview,{src:dt,alt:"blur ".concat(a),smartImgFit:!1})):reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ImagePreview,{onError:Pt,src:dt,style:{borderRadius:"0px"},alt:"preview ".concat(a),smartImgFit:ot}))};___$insertStyle(`.files-ui-file-item-status-container {
  text-align: center;
  font-size: 0.8rem;
  background-color: rgba(255, 255, 255, 0.8);
  display: flex;
  align-items: center;
  flex-direction: row;
  border-radius: 4px;
  padding: 0.5px;
  font-weight: 400;
}
.files-ui-file-item-status-container.file-status-error {
  color: #f44336;
}
.files-ui-file-item-status-container.file-status-ok {
  color: #5c7a1f;
}
.files-ui-file-item-status-container.file-status-loading {
  position: relative;
  display: flex;
  color: #8b6b10;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  background-color: rgba(255, 255, 255, 0.7);
}
.files-ui-file-item-status-container.file-status-loading.percentage {
  padding: 7px 4px 2px 5px;
}
.files-ui-file-item-status-container.file-status-loading .abort-button {
  position: absolute;
  right: -2px;
  top: -2px;
}
.files-ui-file-item-status-container.file-status-loading .uploading-text.up {
  margin-bottom: -22px;
}
.files-ui-file-item-status-container.file-status-loading .uploading-text.down {
  margin-top: -20px;
}
.files-ui-file-item-status-container.file-status-loading .uploading-text p.percentage {
  font-weight: 500;
}`);var FileMosaicStatus=function(e){var i=e.valid,s=e.uploadStatus,a=e.localization,o=e.style,et=FileItemLocalizerSelector(a).status;return s==="success"?reactExports.createElement("div",{className:"files-ui-file-item-status-container file-status-ok",style:o},reactExports.createElement(CloudDone,{color:"#4caf50",size:"small",className:"status-icon"}),et.success):s==="error"||s==="aborted"?reactExports.createElement("div",{className:"files-ui-file-item-status-container file-status-error",style:o},reactExports.createElement(UploadError,{color:"#f44336",size:"semi-medium",className:"status-icon"}),et.error):i!=null?i?reactExports.createElement("div",{className:"files-ui-file-item-status-container file-status-ok",style:o},reactExports.createElement(CheckCircle,{color:"#4caf50",size:"small",className:"status-icon"}),et.valid):reactExports.createElement("div",{className:"files-ui-file-item-status-container file-status-error",style:o},reactExports.createElement(DoDisturb,{color:"#f44336",size:"small",className:"status-icon"}),et.denied):reactExports.createElement(reactExports.Fragment,null)},FileMosaicInfoLayer=function(e){var i=e.valid,s=e.localization,a=e.onCloseInfo,o=e.uploadStatus,et=e.localName,ot=e.sizeFormatted,ft=e.localType,dt=FileItemLocalizerSelector(s),mt=dt.fullInfoLayer,gt=mt.name,bt=mt.size,vt=mt.type;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",{className:"files-ui-file-mosaic-info-layer-header"},reactExports.createElement(Cancel,{color:"rgba(255,255,255,0.8)",onClick:a,colorFill:"black"}),reactExports.createElement(FileMosaicStatus,{valid:i,uploadStatus:o,localization:s})),reactExports.createElement("div",{className:"heading"},gt),reactExports.createElement("div",{className:"label"},et),reactExports.createElement("div",{className:"heading"},bt),reactExports.createElement("div",{className:"label"},ot),reactExports.createElement("div",{className:"heading"},vt),reactExports.createElement("div",{className:"label"},ft))};___$insertStyle(`.filesui-file-item-size {
  box-sizing: border-box;
  font-size: 0.7rem;
  border: 0.5px solid wheat;
  text-align: center;
  color: rgba(255, 255, 255, 0.89);
  padding: 2px 1.5px;
  border-radius: 7px;
  background-color: rgba(32, 33, 36, 0.75);
  min-width: 45px;
  word-break: break-word;
  font-family: inherit;
}
.filesui-file-item-size:hover {
  background-color: rgba(32, 33, 36, 0.85);
  color: rgba(255, 255, 255, 0.97);
}`);var FileMosaicSize=function(e){var i=e.sizeFormatted;return reactExports.createElement(reactExports.Fragment,null,i&&reactExports.createElement("div",{className:"filesui-file-item-size"},i))},FileMosaicMainLayer=function(e){var i=e.darkMode,s=e.deleteIcon,a=e.downloadIcon,o=e.imageIcon,et=e.infoIcon,ot=e.onDelete,ft=e.onDownload,dt=e.onOpenInfo,mt=e.onSee,gt=e.onWatch,bt=e.sizeFormatted,vt=e.valid,Pt=e.videoIcon,Tt=e.localization,At=e.uploadStatus,wt=e.isActive;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",{className:"file-mosaic-main-layer-header"},wt&&s&&reactExports.createElement(Clear,{className:i?"files-ui-file-icon dark-mode":"files-ui-file-icon",color:i?"#121212":"rgba(255,255,255,0.851)",onClick:ot,size:"small",colorFill:"transparent"})),reactExports.createElement("div",{className:"file-mosaic-main-layer-footer"},reactExports.createElement("div",{className:"file-mosaic-footer-left"},reactExports.createElement(FileMosaicStatus,{valid:vt,uploadStatus:At,localization:Tt}),wt&&bt&&reactExports.createElement(FileMosaicSize,{sizeFormatted:bt})),reactExports.createElement("div",{className:"file-mosaic-footer-right"},wt&&reactExports.createElement(reactExports.Fragment,null,o&&reactExports.createElement(Visibility,{className:i?"files-ui-file-icon dark-mode":"files-ui-file-icon",color:i?"#121212":"rgba(255,255,255,0.851)",onClick:mt,size:"small"}),Pt&&reactExports.createElement(PlayIcon,{className:i?"files-ui-file-icon dark-mode":"files-ui-file-icon",color:i?"#121212":"rgba(255,255,255,0.851)",onClick:gt,size:"small"}),a&&reactExports.createElement(DownloadFile,{className:i?"files-ui-file-icon dark-mode":"files-ui-file-icon",color:i?"#121212":"rgba(255,255,255,0.851)",onClick:ft,size:"small"}),et&&reactExports.createElement(InfoDisney,{className:i?"files-ui-file-icon dark-mode":"files-ui-file-icon",onClick:dt,color:i?"#121212":"rgba(255,255,255,0.851)",size:"micro"})))))},FileMosaic=function(e){var i=e.style,s=e.className,a=e.file,o=e.name,et=e.size,ot=e.type,ft=e.id,dt=e.valid,mt=e.errors,gt=e.uploadStatus,bt=e.uploadMessage,vt=e.progress,Pt=e.xhr,Tt=e.localization,At=e.preview,wt=e.imageUrl,_t=e.videoUrl,Et=e.info,yt=e.backgroundBlurImage,St=yt===void 0?!0:yt,xt=e.darkMode,Ct=e.alwaysActive,$t=Ct===void 0?!0:Ct,Rt=e.resultOnTooltip,It=Rt===void 0?!0:Rt,Nt=e.downloadUrl,Ot=e.onDelete,Gt=e.onCancel,Xt=e.onAbort,Ht=e.onDownload,Yt=e.onSee,zt=e.onWatch,Ut=e.onDoubleClick,kt=e.onClick,Ft=e.onRightClick,Qt=e.smartImgFit,Zt=Qt===void 0?"orientation":Qt,rr=reactExports.useContext(FilesUiContext),qt=rr.darkMode,Dt=rr.icons,Vt=rr.localization,Lt=Tt!==void 0?Tt:Vt,jt=xt!==void 0?xt:qt,Wt=reactExports.useRef(null),Kt=addClassName(addClassName("files-ui-file-mosaic-main-container files-ui-tooltip",s),kt?"clickable":void 0),er=jt?"files-ui-file-mosaic-file-name dark-mode":"files-ui-file-mosaic-file-name",tr=getLocalFileItemData(a,o,ot,et),ur=tr[0],cr=tr[1],nr=tr[2],vr=useProgress(vt,Pt),Pr=useFileMosaicInitializer(a,o,ot,dt,At,wt,_t,Dt),Ar=Pr[0],Ir=Pr[1],zr=Pr[2],Cr=Pr[3],Dr=Pr[4],xr=Pr[5],hr=fileSizeFormater(nr),pr=reactExports.useState(!1),br=pr[0],kr=pr[1],$r=reactExports.useState(!1),Gr=$r[0],qr=$r[1],Wr=function(){$t||qr(!0)},tn=function(){$t||qr(!1)},Kr=function(){return Ot==null?void 0:Ot(ft)},Jr=function(){return kr(!0)},Qr=function(){return kr(!1)},wr=useIsUploading(gt);reactExports.useEffect(function(){wr&&br&&Qr()},[wr]);function Er(_r){_r.stopPropagation(),kt==null||kt(_r)}var mr=function(_r){_r.preventDefault(),Ut==null||Ut(_r)};function Fr(_r){Ft==null||Ft(_r)}var Mr=function(){var _r=Wt.current;_r&&_r.click()},dn=function(){Ht?Ht==null||Ht(ft,Nt):typeof Nt=="string"&&Mr()},hn=function(){Pt==null||Pt.abort(),Xt==null||Xt(ft)};return Ar?reactExports.createElement("div",{className:Kt,style:i,onClick:Er,onMouseEnter:Wr,onMouseLeave:tn,onDoubleClick:mr,onContextMenu:Fr},reactExports.createElement(LayerContainer,{className:"files-ui-file-mosaic-icon-layer-container",style:i},reactExports.createElement(Layer,{className:"files-ui-file-mosaic-image-layer blur",visible:St},reactExports.createElement(FileMosaicImageLayer,{imageSource:Dr,url:Cr,fileName:ur,isBlur:!0,smartImgFit:!1})),reactExports.createElement(Layer,{className:"files-ui-file-mosaic-image-layer",visible:!0},reactExports.createElement(FileMosaicImageLayer,{imageSource:Dr,url:Cr,fileName:ur,isBlur:!1,smartImgFit:Zt})),reactExports.createElement(Layer,{className:"files-ui-file-mosaic-main-layer",visible:!wr&&!br},reactExports.createElement(FileMosaicMainLayer,{deleteIcon:Ot!==void 0,onDelete:Kr,darkMode:jt,valid:dt,uploadStatus:gt,localization:Lt,sizeFormatted:hr,imageIcon:Ir&&Yt!==void 0,onSee:function(){return Yt==null?void 0:Yt(Dr)},videoIcon:zr&&zt!==void 0,onWatch:function(){return zt==null?void 0:zt(xr)},downloadIcon:Ht!==void 0||Nt!==void 0,onDownload:dn,infoIcon:Et!==void 0,onOpenInfo:Jr,isActive:$t||Gr})),reactExports.createElement(Layer,{className:"files-ui-file-mosaic-info-layer",visible:br,onClick:handleClickUtil},reactExports.createElement(FileMosaicInfoLayer,{onCloseInfo:Qr,valid:dt,localization:Lt,localName:ur,sizeFormatted:hr,localType:cr})),reactExports.createElement(Layer,{className:"files-ui-file-mosaic-upload-layer",visible:wr,onClick:handleClickUtil},reactExports.createElement(FileMosaicUploadLayer,{uploadStatus:gt,progress:vr,onCancel:Gt?function(){return Gt==null?void 0:Gt(ft)}:void 0,onAbort:Xt?hn:void 0,localization:Lt}))),reactExports.createElement("div",{className:er},reactExports.createElement(FileMosaicName,{fileName:ur})),reactExports.createElement(Tooltip,{open:It,uploadStatus:gt,valid:dt,errors:mt,uploadMessage:bt}),reactExports.createElement(DownloadHidden,{fileName:ur,anchorRef:Wt,downloadUrl:Nt})):reactExports.createElement(reactExports.Fragment,null)};___$insertStyle(`.fui-fullscreen-container {
  position: fixed;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100vh;
  top: 0;
  left: 0;
  background: rgba(0, 0, 0, 0.734);
  transform: translate(100%);
  transition: transform 0.2s ease-in-out;
  margin: 0 !important;
  z-index: 4000;
  box-sizing: border-box;
}
.fui-fullscreen-container.show-fs {
  transform: translate(0);
}

.fui-fullscreen-relative-container {
  position: relative;
  width: 90%;
  height: 90%;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  /*   @media (max-width: 600px) {
    width: 80%;
    height: auto;
  }*/
}
.fui-fullscreen-relative-container img {
  height: 100%;
  width: auto;
}
.fui-fullscreen-relative-container video {
  height: 100%;
  width: auto;
}
@media (max-width: 960px) {
  .fui-fullscreen-relative-container {
    height: 90%;
    width: 100%;
  }
  .fui-fullscreen-relative-container video {
    height: auto;
    width: 100%;
  }
  .fui-fullscreen-relative-container img {
    height: auto;
    width: 100%;
  }
}

.button-full-screen {
  position: absolute;
  top: 0;
  right: 0;
}`);var lottie={exports:{}};(function(module,exports){typeof navigator<"u"&&function(e,i){module.exports=i()}(commonjsGlobal$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(i){_useWebWorker=!!i},getWebWorker=function(){return _useWebWorker},setLocationHref=function(i){locationHref=i},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,i){var s,a=e.length,o;for(s=0;s<a;s+=1){o=e[s].prototype;for(var et in o)Object.prototype.hasOwnProperty.call(o,et)&&(i.prototype[et]=o[et])}}function getDescriptor(e,i){return Object.getOwnPropertyDescriptor(e,i)}function createProxyFunction(e){function i(){}return i.prototype=e,i}var audioControllerFactory=function(){function e(i){this.audios=[],this.audioFactory=i,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(s){this.audios.push(s)},pause:function(){var s,a=this.audios.length;for(s=0;s<a;s+=1)this.audios[s].pause()},resume:function(){var s,a=this.audios.length;for(s=0;s<a;s+=1)this.audios[s].resume()},setRate:function(s){var a,o=this.audios.length;for(a=0;a<o;a+=1)this.audios[a].setRate(s)},createAudio:function(s){return this.audioFactory?this.audioFactory(s):window.Howl?new window.Howl({src:[s]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(s){this.audioFactory=s},setVolume:function(s){this._volume=s,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var s,a=this.audios.length;for(s=0;s<a;s+=1)this.audios[s].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(s,a){var o=0,et=[],ot;switch(s){case"int16":case"uint8c":ot=1;break;default:ot=1.1;break}for(o=0;o<a;o+=1)et.push(ot);return et}function i(s,a){return s==="float32"?new Float32Array(a):s==="int16"?new Int16Array(a):s==="uint8c"?new Uint8ClampedArray(a):e(s,a)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?i:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(s){return typeof s}:_typeof$6=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i,s=e.length;for(i=0;i<s;i+=1)BMMath[e[i]]=Math[e[i]]})(),BMMath.random=Math.random,BMMath.abs=function(e){var i=_typeof$6(e);if(i==="object"&&e.length){var s=createSizedArray(e.length),a,o=e.length;for(a=0;a<o;a+=1)s[a]=Math.abs(e[a]);return s}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,i,s,a){this.type=e,this.currentTime=i,this.totalTime=s,this.direction=a<0?-1:1}function BMCompleteEvent(e,i){this.type=e,this.direction=i<0?-1:1}function BMCompleteLoopEvent(e,i,s,a){this.type=e,this.currentLoop=s,this.totalLoops=i,this.direction=a<0?-1:1}function BMSegmentStartEvent(e,i,s){this.type=e,this.firstFrame=i,this.totalFrames=s}function BMDestroyEvent(e,i){this.type=e,this.target=i}function BMRenderFrameErrorEvent(e,i){this.type="renderFrameError",this.nativeError=e,this.currentTime=i}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}var createElementID=function(){var e=0;return function(){return e+=1,idPrefix$1+"__lottie_element_"+e}}();function HSVtoRGB(e,i,s){var a,o,et,ot,ft,dt,mt,gt;switch(ot=Math.floor(e*6),ft=e*6-ot,dt=s*(1-i),mt=s*(1-ft*i),gt=s*(1-(1-ft)*i),ot%6){case 0:a=s,o=gt,et=dt;break;case 1:a=mt,o=s,et=dt;break;case 2:a=dt,o=s,et=gt;break;case 3:a=dt,o=mt,et=s;break;case 4:a=gt,o=dt,et=s;break;case 5:a=s,o=dt,et=mt;break}return[a,o,et]}function RGBtoHSV(e,i,s){var a=Math.max(e,i,s),o=Math.min(e,i,s),et=a-o,ot,ft=a===0?0:et/a,dt=a/255;switch(a){case o:ot=0;break;case e:ot=i-s+et*(i<s?6:0),ot/=6*et;break;case i:ot=s-e+et*2,ot/=6*et;break;case s:ot=e-i+et*4,ot/=6*et;break}return[ot,ft,dt]}function addSaturationToRGB(e,i){var s=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return s[1]+=i,s[1]>1?s[1]=1:s[1]<=0&&(s[1]=0),HSVtoRGB(s[0],s[1],s[2])}function addBrightnessToRGB(e,i){var s=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return s[2]+=i,s[2]>1?s[2]=1:s[2]<0&&(s[2]=0),HSVtoRGB(s[0],s[1],s[2])}function addHueToRGB(e,i){var s=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return s[0]+=i/360,s[0]>1?s[0]-=1:s[0]<0&&(s[0]+=1),HSVtoRGB(s[0],s[1],s[2])}var rgbToHex=function(){var e=[],i,s;for(i=0;i<256;i+=1)s=i.toString(16),e[i]=s.length===1?"0"+s:s;return function(a,o,et){return a<0&&(a=0),o<0&&(o=0),et<0&&(et=0),"#"+e[a]+e[o]+e[et]}}(),setSubframeEnabled=function(i){subframeEnabled=!!i},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(i){expressionsPlugin=i},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(i){expressionsInterfaces=i},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(i){defaultCurveSegments=i},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(i){idPrefix$1=i};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(s){return typeof s}:_typeof$5=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$5(e)}var dataManager=function(){var e=1,i=[],s,a,o={onmessage:function(){},postMessage:function(Pt){s({data:Pt})}},et={postMessage:function(Pt){o.onmessage({data:Pt})}};function ot(vt){if(window.Worker&&window.Blob&&getWebWorker()){var Pt=new Blob(["var _workerSelf = self; self.onmessage = ",vt.toString()],{type:"text/javascript"}),Tt=URL.createObjectURL(Pt);return new Worker(Tt)}return s=vt,o}function ft(){a||(a=ot(function(Pt){function Tt(){function wt(Yt,zt){var Ut,kt,Ft=Yt.length,Qt,Zt,rr,qt;for(kt=0;kt<Ft;kt+=1)if(Ut=Yt[kt],"ks"in Ut&&!Ut.completed){if(Ut.completed=!0,Ut.hasMask){var Dt=Ut.masksProperties;for(Zt=Dt.length,Qt=0;Qt<Zt;Qt+=1)if(Dt[Qt].pt.k.i)xt(Dt[Qt].pt.k);else for(qt=Dt[Qt].pt.k.length,rr=0;rr<qt;rr+=1)Dt[Qt].pt.k[rr].s&&xt(Dt[Qt].pt.k[rr].s[0]),Dt[Qt].pt.k[rr].e&&xt(Dt[Qt].pt.k[rr].e[0])}Ut.ty===0?(Ut.layers=yt(Ut.refId,zt),wt(Ut.layers,zt)):Ut.ty===4?St(Ut.shapes):Ut.ty===5&&Xt(Ut)}}function _t(Yt,zt){if(Yt){var Ut=0,kt=Yt.length;for(Ut=0;Ut<kt;Ut+=1)Yt[Ut].t===1&&(Yt[Ut].data.layers=yt(Yt[Ut].data.refId,zt),wt(Yt[Ut].data.layers,zt))}}function Et(Yt,zt){for(var Ut=0,kt=zt.length;Ut<kt;){if(zt[Ut].id===Yt)return zt[Ut];Ut+=1}return null}function yt(Yt,zt){var Ut=Et(Yt,zt);return Ut?Ut.layers.__used?JSON.parse(JSON.stringify(Ut.layers)):(Ut.layers.__used=!0,Ut.layers):null}function St(Yt){var zt,Ut=Yt.length,kt,Ft;for(zt=Ut-1;zt>=0;zt-=1)if(Yt[zt].ty==="sh")if(Yt[zt].ks.k.i)xt(Yt[zt].ks.k);else for(Ft=Yt[zt].ks.k.length,kt=0;kt<Ft;kt+=1)Yt[zt].ks.k[kt].s&&xt(Yt[zt].ks.k[kt].s[0]),Yt[zt].ks.k[kt].e&&xt(Yt[zt].ks.k[kt].e[0]);else Yt[zt].ty==="gr"&&St(Yt[zt].it)}function xt(Yt){var zt,Ut=Yt.i.length;for(zt=0;zt<Ut;zt+=1)Yt.i[zt][0]+=Yt.v[zt][0],Yt.i[zt][1]+=Yt.v[zt][1],Yt.o[zt][0]+=Yt.v[zt][0],Yt.o[zt][1]+=Yt.v[zt][1]}function Ct(Yt,zt){var Ut=zt?zt.split("."):[100,100,100];return Yt[0]>Ut[0]?!0:Ut[0]>Yt[0]?!1:Yt[1]>Ut[1]?!0:Ut[1]>Yt[1]?!1:Yt[2]>Ut[2]?!0:Ut[2]>Yt[2]?!1:null}var $t=function(){var Yt=[4,4,14];function zt(kt){var Ft=kt.t.d;kt.t.d={k:[{s:Ft,t:0}]}}function Ut(kt){var Ft,Qt=kt.length;for(Ft=0;Ft<Qt;Ft+=1)kt[Ft].ty===5&&zt(kt[Ft])}return function(kt){if(Ct(Yt,kt.v)&&(Ut(kt.layers),kt.assets)){var Ft,Qt=kt.assets.length;for(Ft=0;Ft<Qt;Ft+=1)kt.assets[Ft].layers&&Ut(kt.assets[Ft].layers)}}}(),Rt=function(){var Yt=[4,7,99];return function(zt){if(zt.chars&&!Ct(Yt,zt.v)){var Ut,kt=zt.chars.length;for(Ut=0;Ut<kt;Ut+=1){var Ft=zt.chars[Ut];Ft.data&&Ft.data.shapes&&(St(Ft.data.shapes),Ft.data.ip=0,Ft.data.op=99999,Ft.data.st=0,Ft.data.sr=1,Ft.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},zt.chars[Ut].t||(Ft.data.shapes.push({ty:"no"}),Ft.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),It=function(){var Yt=[5,7,15];function zt(kt){var Ft=kt.t.p;typeof Ft.a=="number"&&(Ft.a={a:0,k:Ft.a}),typeof Ft.p=="number"&&(Ft.p={a:0,k:Ft.p}),typeof Ft.r=="number"&&(Ft.r={a:0,k:Ft.r})}function Ut(kt){var Ft,Qt=kt.length;for(Ft=0;Ft<Qt;Ft+=1)kt[Ft].ty===5&&zt(kt[Ft])}return function(kt){if(Ct(Yt,kt.v)&&(Ut(kt.layers),kt.assets)){var Ft,Qt=kt.assets.length;for(Ft=0;Ft<Qt;Ft+=1)kt.assets[Ft].layers&&Ut(kt.assets[Ft].layers)}}}(),Nt=function(){var Yt=[4,1,9];function zt(kt){var Ft,Qt=kt.length,Zt,rr;for(Ft=0;Ft<Qt;Ft+=1)if(kt[Ft].ty==="gr")zt(kt[Ft].it);else if(kt[Ft].ty==="fl"||kt[Ft].ty==="st")if(kt[Ft].c.k&&kt[Ft].c.k[0].i)for(rr=kt[Ft].c.k.length,Zt=0;Zt<rr;Zt+=1)kt[Ft].c.k[Zt].s&&(kt[Ft].c.k[Zt].s[0]/=255,kt[Ft].c.k[Zt].s[1]/=255,kt[Ft].c.k[Zt].s[2]/=255,kt[Ft].c.k[Zt].s[3]/=255),kt[Ft].c.k[Zt].e&&(kt[Ft].c.k[Zt].e[0]/=255,kt[Ft].c.k[Zt].e[1]/=255,kt[Ft].c.k[Zt].e[2]/=255,kt[Ft].c.k[Zt].e[3]/=255);else kt[Ft].c.k[0]/=255,kt[Ft].c.k[1]/=255,kt[Ft].c.k[2]/=255,kt[Ft].c.k[3]/=255}function Ut(kt){var Ft,Qt=kt.length;for(Ft=0;Ft<Qt;Ft+=1)kt[Ft].ty===4&&zt(kt[Ft].shapes)}return function(kt){if(Ct(Yt,kt.v)&&(Ut(kt.layers),kt.assets)){var Ft,Qt=kt.assets.length;for(Ft=0;Ft<Qt;Ft+=1)kt.assets[Ft].layers&&Ut(kt.assets[Ft].layers)}}}(),Ot=function(){var Yt=[4,4,18];function zt(kt){var Ft,Qt=kt.length,Zt,rr;for(Ft=Qt-1;Ft>=0;Ft-=1)if(kt[Ft].ty==="sh")if(kt[Ft].ks.k.i)kt[Ft].ks.k.c=kt[Ft].closed;else for(rr=kt[Ft].ks.k.length,Zt=0;Zt<rr;Zt+=1)kt[Ft].ks.k[Zt].s&&(kt[Ft].ks.k[Zt].s[0].c=kt[Ft].closed),kt[Ft].ks.k[Zt].e&&(kt[Ft].ks.k[Zt].e[0].c=kt[Ft].closed);else kt[Ft].ty==="gr"&&zt(kt[Ft].it)}function Ut(kt){var Ft,Qt,Zt=kt.length,rr,qt,Dt,Vt;for(Qt=0;Qt<Zt;Qt+=1){if(Ft=kt[Qt],Ft.hasMask){var Lt=Ft.masksProperties;for(qt=Lt.length,rr=0;rr<qt;rr+=1)if(Lt[rr].pt.k.i)Lt[rr].pt.k.c=Lt[rr].cl;else for(Vt=Lt[rr].pt.k.length,Dt=0;Dt<Vt;Dt+=1)Lt[rr].pt.k[Dt].s&&(Lt[rr].pt.k[Dt].s[0].c=Lt[rr].cl),Lt[rr].pt.k[Dt].e&&(Lt[rr].pt.k[Dt].e[0].c=Lt[rr].cl)}Ft.ty===4&&zt(Ft.shapes)}}return function(kt){if(Ct(Yt,kt.v)&&(Ut(kt.layers),kt.assets)){var Ft,Qt=kt.assets.length;for(Ft=0;Ft<Qt;Ft+=1)kt.assets[Ft].layers&&Ut(kt.assets[Ft].layers)}}}();function Gt(Yt){Yt.__complete||(Nt(Yt),$t(Yt),Rt(Yt),It(Yt),Ot(Yt),wt(Yt.layers,Yt.assets),_t(Yt.chars,Yt.assets),Yt.__complete=!0)}function Xt(Yt){Yt.t.a.length===0&&"m"in Yt.t.p}var Ht={};return Ht.completeData=Gt,Ht.checkColors=Nt,Ht.checkChars=Rt,Ht.checkPathProperties=It,Ht.checkShapes=Ot,Ht.completeLayers=wt,Ht}if(et.dataManager||(et.dataManager=Tt()),et.assetLoader||(et.assetLoader=function(){function wt(Et){var yt=Et.getResponseHeader("content-type");return yt&&Et.responseType==="json"&&yt.indexOf("json")!==-1||Et.response&&_typeof$5(Et.response)==="object"?Et.response:Et.response&&typeof Et.response=="string"?JSON.parse(Et.response):Et.responseText?JSON.parse(Et.responseText):null}function _t(Et,yt,St,xt){var Ct,$t=new XMLHttpRequest;try{$t.responseType="json"}catch{}$t.onreadystatechange=function(){if($t.readyState===4)if($t.status===200)Ct=wt($t),St(Ct);else try{Ct=wt($t),St(Ct)}catch(Rt){xt&&xt(Rt)}};try{$t.open(["G","E","T"].join(""),Et,!0)}catch{$t.open(["G","E","T"].join(""),yt+"/"+Et,!0)}$t.send()}return{load:_t}}()),Pt.data.type==="loadAnimation")et.assetLoader.load(Pt.data.path,Pt.data.fullPath,function(wt){et.dataManager.completeData(wt),et.postMessage({id:Pt.data.id,payload:wt,status:"success"})},function(){et.postMessage({id:Pt.data.id,status:"error"})});else if(Pt.data.type==="complete"){var At=Pt.data.animation;et.dataManager.completeData(At),et.postMessage({id:Pt.data.id,payload:At,status:"success"})}else Pt.data.type==="loadData"&&et.assetLoader.load(Pt.data.path,Pt.data.fullPath,function(wt){et.postMessage({id:Pt.data.id,payload:wt,status:"success"})},function(){et.postMessage({id:Pt.data.id,status:"error"})})}),a.onmessage=function(vt){var Pt=vt.data,Tt=Pt.id,At=i[Tt];i[Tt]=null,Pt.status==="success"?At.onComplete(Pt.payload):At.onError&&At.onError()})}function dt(vt,Pt){e+=1;var Tt="processId_"+e;return i[Tt]={onComplete:vt,onError:Pt},Tt}function mt(vt,Pt,Tt){ft();var At=dt(Pt,Tt);a.postMessage({type:"loadAnimation",path:vt,fullPath:window.location.origin+window.location.pathname,id:At})}function gt(vt,Pt,Tt){ft();var At=dt(Pt,Tt);a.postMessage({type:"loadData",path:vt,fullPath:window.location.origin+window.location.pathname,id:At})}function bt(vt,Pt,Tt){ft();var At=dt(Pt,Tt);a.postMessage({type:"complete",animation:vt,id:At})}return{loadAnimation:mt,loadData:gt,completeAnimation:bt}}(),ImagePreloader=function(){var e=function(){var _t=createTag("canvas");_t.width=1,_t.height=1;var Et=_t.getContext("2d");return Et.fillStyle="rgba(0,0,0,0)",Et.fillRect(0,0,1,1),_t}();function i(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function a(_t,Et,yt){var St="";if(_t.e)St=_t.p;else if(Et){var xt=_t.p;xt.indexOf("images/")!==-1&&(xt=xt.split("/")[1]),St=Et+xt}else St=yt,St+=_t.u?_t.u:"",St+=_t.p;return St}function o(_t){var Et=0,yt=setInterval((function(){var St=_t.getBBox();(St.width||Et>500)&&(this._imageLoaded(),clearInterval(yt)),Et+=1}).bind(this),50)}function et(_t){var Et=a(_t,this.assetsPath,this.path),yt=createNS("image");isSafari?this.testImageLoaded(yt):yt.addEventListener("load",this._imageLoaded,!1),yt.addEventListener("error",(function(){St.img=e,this._imageLoaded()}).bind(this),!1),yt.setAttributeNS("http://www.w3.org/1999/xlink","href",Et),this._elementHelper.append?this._elementHelper.append(yt):this._elementHelper.appendChild(yt);var St={img:yt,assetData:_t};return St}function ot(_t){var Et=a(_t,this.assetsPath,this.path),yt=createTag("img");yt.crossOrigin="anonymous",yt.addEventListener("load",this._imageLoaded,!1),yt.addEventListener("error",(function(){St.img=e,this._imageLoaded()}).bind(this),!1),yt.src=Et;var St={img:yt,assetData:_t};return St}function ft(_t){var Et={assetData:_t},yt=a(_t,this.assetsPath,this.path);return dataManager.loadData(yt,(function(St){Et.img=St,this._footageLoaded()}).bind(this),(function(){Et.img={},this._footageLoaded()}).bind(this)),Et}function dt(_t,Et){this.imagesLoadedCb=Et;var yt,St=_t.length;for(yt=0;yt<St;yt+=1)_t[yt].layers||(!_t[yt].t||_t[yt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(_t[yt]))):_t[yt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(_t[yt]))))}function mt(_t){this.path=_t||""}function gt(_t){this.assetsPath=_t||""}function bt(_t){for(var Et=0,yt=this.images.length;Et<yt;){if(this.images[Et].assetData===_t)return this.images[Et].img;Et+=1}return null}function vt(){this.imagesLoadedCb=null,this.images.length=0}function Pt(){return this.totalImages===this.loadedAssets}function Tt(){return this.totalFootages===this.loadedFootagesCount}function At(_t,Et){_t==="svg"?(this._elementHelper=Et,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function wt(){this._imageLoaded=i.bind(this),this._footageLoaded=s.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=ft.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return wt.prototype={loadAssets:dt,setAssetsPath:gt,setPath:mt,loadedImages:Pt,loadedFootages:Tt,destroy:vt,getAsset:bt,createImgData:ot,createImageData:et,imageLoaded:i,footageLoaded:s,setCacheType:At},wt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(i,s){if(this._cbs[i])for(var a=this._cbs[i],o=0;o<a.length;o+=1)a[o](s)},addEventListener:function(i,s){return this._cbs[i]||(this._cbs[i]=[]),this._cbs[i].push(s),(function(){this.removeEventListener(i,s)}).bind(this)},removeEventListener:function(i,s){if(!s)this._cbs[i]=null;else if(this._cbs[i]){for(var a=0,o=this._cbs[i].length;a<o;)this._cbs[i][a]===s&&(this._cbs[i].splice(a,1),a-=1,o-=1),a+=1;this._cbs[i].length||(this._cbs[i]=null)}}};var markerParser=function(){function e(i){for(var s=i.split(`\r
`),a={},o,et=0,ot=0;ot<s.length;ot+=1)o=s[ot].split(":"),o.length===2&&(a[o[0]]=o[1].trim(),et+=1);if(et===0)throw new Error;return a}return function(i){for(var s=[],a=0;a<i.length;a+=1){var o=i[a],et={time:o.tm,duration:o.dr};try{et.payload=JSON.parse(i[a].cm)}catch{try{et.payload=e(i[a].cm)}catch{et.payload={name:i[a].cm}}}s.push(et)}return s}}(),ProjectInterface=function(){function e(i){this.compositions.push(i)}return function(){function i(s){for(var a=0,o=this.compositions.length;a<o;){if(this.compositions[a].data&&this.compositions[a].data.nm===s)return this.compositions[a].prepareFrame&&this.compositions[a].data.xt&&this.compositions[a].prepareFrame(this.currentFrame),this.compositions[a].compInterface;a+=1}return null}return i.compositions=[],i.currentFrame=0,i.registerComposition=e,i}}(),renderers={},registerRenderer=function(i,s){renderers[i]=s};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(s){return typeof s}:_typeof$4=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var i="svg";e.animType?i=e.animType:e.renderer&&(i=e.renderer);var s=getRenderer(i);this.renderer=new s(this,e.rendererSettings),this.imagePreloader.setCacheType(i,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=i,e.loop===""||e.loop===null||e.loop===void 0||e.loop===!0?this.loop=!0:e.loop===!1?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay="autoplay"in e?e.autoplay:!0,this.name=e.name?e.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(e,"autoloadSegments")?e.autoloadSegments:!0,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(e.path.lastIndexOf("\\")!==-1?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,i){i&&_typeof$4(i)!=="object"&&(i=JSON.parse(i));var s={wrapper:e,animationData:i},a=e.attributes;s.path=a.getNamedItem("data-animation-path")?a.getNamedItem("data-animation-path").value:a.getNamedItem("data-bm-path")?a.getNamedItem("data-bm-path").value:a.getNamedItem("bm-path")?a.getNamedItem("bm-path").value:"",s.animType=a.getNamedItem("data-anim-type")?a.getNamedItem("data-anim-type").value:a.getNamedItem("data-bm-type")?a.getNamedItem("data-bm-type").value:a.getNamedItem("bm-type")?a.getNamedItem("bm-type").value:a.getNamedItem("data-bm-renderer")?a.getNamedItem("data-bm-renderer").value:a.getNamedItem("bm-renderer")?a.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var o=a.getNamedItem("data-anim-loop")?a.getNamedItem("data-anim-loop").value:a.getNamedItem("data-bm-loop")?a.getNamedItem("data-bm-loop").value:a.getNamedItem("bm-loop")?a.getNamedItem("bm-loop").value:"";o==="false"?s.loop=!1:o==="true"?s.loop=!0:o!==""&&(s.loop=parseInt(o,10));var et=a.getNamedItem("data-anim-autoplay")?a.getNamedItem("data-anim-autoplay").value:a.getNamedItem("data-bm-autoplay")?a.getNamedItem("data-bm-autoplay").value:a.getNamedItem("bm-autoplay")?a.getNamedItem("bm-autoplay").value:!0;s.autoplay=et!=="false",s.name=a.getNamedItem("data-name")?a.getNamedItem("data-name").value:a.getNamedItem("data-bm-name")?a.getNamedItem("data-bm-name").value:a.getNamedItem("bm-name")?a.getNamedItem("bm-name").value:"";var ot=a.getNamedItem("data-anim-prerender")?a.getNamedItem("data-anim-prerender").value:a.getNamedItem("data-bm-prerender")?a.getNamedItem("data-bm-prerender").value:a.getNamedItem("bm-prerender")?a.getNamedItem("bm-prerender").value:"";ot==="false"&&(s.prerender=!1),s.path?this.setParams(s):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var i=this.animationData.layers,s,a=i.length,o=e.layers,et,ot=o.length;for(et=0;et<ot;et+=1)for(s=0;s<a;){if(i[s].id===o[et].id){i[s]=o[et];break}s+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(a=e.assets.length,s=0;s<a;s+=1)this.animationData.assets.push(e.assets[s]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var i=getExpressionsPlugin();i&&i.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||e.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var i=e.shift();this.timeCompleted=i.time*this.frameRate;var s=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(s,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var e=this.animationData.segments;e||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(i){this.triggerConfigError(i)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,i){var s=typeof e=="number"?e:void 0,a=typeof i=="number"?i:void 0;this.renderer.updateContainerSize(s,a)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var i,s=0;s<this.markers.length;s+=1)if(i=this.markers[s],i.payload&&i.payload.name===e)return i;return null},AnimationItem.prototype.goToAndStop=function(e,i,s){if(!(s&&this.name!==s)){var a=Number(e);if(isNaN(a)){var o=this.getMarkerData(e);o&&this.goToAndStop(o.time,!0)}else i?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,i,s){if(!(s&&this.name!==s)){var a=Number(e);if(isNaN(a)){var o=this.getMarkerData(e);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(a,i,s);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!(this.isPaused===!0||this.isLoaded===!1)){var i=this.currentRawFrame+e*this.frameModifier,s=!1;i>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(i>this.totalFrames?i%this.totalFrames:0)||(s=!0,i=this.totalFrames-1):i>=this.totalFrames?(this.playCount+=1,this.checkSegments(i%this.totalFrames)||(this.setCurrentRawFrameValue(i%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(i):i<0?this.checkSegments(i%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+i%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(s=!0,i=0)):this.setCurrentRawFrameValue(i),s&&(this.setCurrentRawFrameValue(i),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,i){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-i)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+i)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,i){var s=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?s=e:this.currentRawFrame+this.firstFrame>i&&(s=i-e)),this.firstFrame=e,this.totalFrames=i-e,this.timeCompleted=this.totalFrames,s!==-1&&this.goToAndStop(s,!0)},AnimationItem.prototype.playSegments=function(e,i){if(i&&(this.segments.length=0),_typeof$4(e[0])==="object"){var s,a=e.length;for(s=0;s<a;s+=1)this.segments.push(e[s])}else this.segments.push(e);this.segments.length&&i&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return this.segments.length?(this.adjustSegment(this.segments.shift(),e),!0):!1},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,i){i&&this.name!==i||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var i="";if(e.e)i=e.p;else if(this.assetsPath){var s=e.p;s.indexOf("images/")!==-1&&(s=s.split("/")[1]),i=this.assetsPath+s}else i=this.path,i+=e.u?e.u:"",i+=e.p;return i},AnimationItem.prototype.getAssetData=function(e){for(var i=0,s=this.assets.length;i<s;){if(e===this.assets[i].id)return this.assets[i];i+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,i,s){try{var a=this.renderer.getElementByPath(e);a.updateDocumentData(i,s)}catch{}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var i=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",i),this.onError&&this.onError.call(this,i)},AnimationItem.prototype.triggerConfigError=function(e){var i=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",i),this.onError&&this.onError.call(this,i)};var animationManager=function(){var e={},i=[],s=0,a=0,o=0,et=!0,ot=!1;function ft(zt){for(var Ut=0,kt=zt.target;Ut<a;)i[Ut].animation===kt&&(i.splice(Ut,1),Ut-=1,a-=1,kt.isPaused||bt()),Ut+=1}function dt(zt,Ut){if(!zt)return null;for(var kt=0;kt<a;){if(i[kt].elem===zt&&i[kt].elem!==null)return i[kt].animation;kt+=1}var Ft=new AnimationItem;return vt(Ft,zt),Ft.setData(zt,Ut),Ft}function mt(){var zt,Ut=i.length,kt=[];for(zt=0;zt<Ut;zt+=1)kt.push(i[zt].animation);return kt}function gt(){o+=1,Nt()}function bt(){o-=1}function vt(zt,Ut){zt.addEventListener("destroy",ft),zt.addEventListener("_active",gt),zt.addEventListener("_idle",bt),i.push({elem:Ut,animation:zt}),a+=1}function Pt(zt){var Ut=new AnimationItem;return vt(Ut,null),Ut.setParams(zt),Ut}function Tt(zt,Ut){var kt;for(kt=0;kt<a;kt+=1)i[kt].animation.setSpeed(zt,Ut)}function At(zt,Ut){var kt;for(kt=0;kt<a;kt+=1)i[kt].animation.setDirection(zt,Ut)}function wt(zt){var Ut;for(Ut=0;Ut<a;Ut+=1)i[Ut].animation.play(zt)}function _t(zt){var Ut=zt-s,kt;for(kt=0;kt<a;kt+=1)i[kt].animation.advanceTime(Ut);s=zt,o&&!ot?window.requestAnimationFrame(_t):et=!0}function Et(zt){s=zt,window.requestAnimationFrame(_t)}function yt(zt){var Ut;for(Ut=0;Ut<a;Ut+=1)i[Ut].animation.pause(zt)}function St(zt,Ut,kt){var Ft;for(Ft=0;Ft<a;Ft+=1)i[Ft].animation.goToAndStop(zt,Ut,kt)}function xt(zt){var Ut;for(Ut=0;Ut<a;Ut+=1)i[Ut].animation.stop(zt)}function Ct(zt){var Ut;for(Ut=0;Ut<a;Ut+=1)i[Ut].animation.togglePause(zt)}function $t(zt){var Ut;for(Ut=a-1;Ut>=0;Ut-=1)i[Ut].animation.destroy(zt)}function Rt(zt,Ut,kt){var Ft=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Qt,Zt=Ft.length;for(Qt=0;Qt<Zt;Qt+=1)kt&&Ft[Qt].setAttribute("data-bm-type",kt),dt(Ft[Qt],zt);if(Ut&&Zt===0){kt||(kt="svg");var rr=document.getElementsByTagName("body")[0];rr.innerText="";var qt=createTag("div");qt.style.width="100%",qt.style.height="100%",qt.setAttribute("data-bm-type",kt),rr.appendChild(qt),dt(qt,zt)}}function It(){var zt;for(zt=0;zt<a;zt+=1)i[zt].animation.resize()}function Nt(){!ot&&o&&et&&(window.requestAnimationFrame(Et),et=!1)}function Ot(){ot=!0}function Gt(){ot=!1,Nt()}function Xt(zt,Ut){var kt;for(kt=0;kt<a;kt+=1)i[kt].animation.setVolume(zt,Ut)}function Ht(zt){var Ut;for(Ut=0;Ut<a;Ut+=1)i[Ut].animation.mute(zt)}function Yt(zt){var Ut;for(Ut=0;Ut<a;Ut+=1)i[Ut].animation.unmute(zt)}return e.registerAnimation=dt,e.loadAnimation=Pt,e.setSpeed=Tt,e.setDirection=At,e.play=wt,e.pause=yt,e.stop=xt,e.togglePause=Ct,e.searchAnimations=Rt,e.resize=It,e.goToAndStop=St,e.destroy=$t,e.freeze=Ot,e.unfreeze=Gt,e.setVolume=Xt,e.mute=Ht,e.unmute=Yt,e.getRegisteredAnimations=mt,e}(),BezierFactory=function(){var e={};e.getBezierEasing=s;var i={};function s(Et,yt,St,xt,Ct){var $t=Ct||("bez_"+Et+"_"+yt+"_"+St+"_"+xt).replace(/\./g,"p");if(i[$t])return i[$t];var Rt=new _t([Et,yt,St,xt]);return i[$t]=Rt,Rt}var a=4,o=.001,et=1e-7,ot=10,ft=11,dt=1/(ft-1),mt=typeof Float32Array=="function";function gt(Et,yt){return 1-3*yt+3*Et}function bt(Et,yt){return 3*yt-6*Et}function vt(Et){return 3*Et}function Pt(Et,yt,St){return((gt(yt,St)*Et+bt(yt,St))*Et+vt(yt))*Et}function Tt(Et,yt,St){return 3*gt(yt,St)*Et*Et+2*bt(yt,St)*Et+vt(yt)}function At(Et,yt,St,xt,Ct){var $t,Rt,It=0;do Rt=yt+(St-yt)/2,$t=Pt(Rt,xt,Ct)-Et,$t>0?St=Rt:yt=Rt;while(Math.abs($t)>et&&++It<ot);return Rt}function wt(Et,yt,St,xt){for(var Ct=0;Ct<a;++Ct){var $t=Tt(yt,St,xt);if($t===0)return yt;var Rt=Pt(yt,St,xt)-Et;yt-=Rt/$t}return yt}function _t(Et){this._p=Et,this._mSampleValues=mt?new Float32Array(ft):new Array(ft),this._precomputed=!1,this.get=this.get.bind(this)}return _t.prototype={get:function(yt){var St=this._p[0],xt=this._p[1],Ct=this._p[2],$t=this._p[3];return this._precomputed||this._precompute(),St===xt&&Ct===$t?yt:yt===0?0:yt===1?1:Pt(this._getTForX(yt),xt,$t)},_precompute:function(){var yt=this._p[0],St=this._p[1],xt=this._p[2],Ct=this._p[3];this._precomputed=!0,(yt!==St||xt!==Ct)&&this._calcSampleValues()},_calcSampleValues:function(){for(var yt=this._p[0],St=this._p[2],xt=0;xt<ft;++xt)this._mSampleValues[xt]=Pt(xt*dt,yt,St)},_getTForX:function(yt){for(var St=this._p[0],xt=this._p[2],Ct=this._mSampleValues,$t=0,Rt=1,It=ft-1;Rt!==It&&Ct[Rt]<=yt;++Rt)$t+=dt;--Rt;var Nt=(yt-Ct[Rt])/(Ct[Rt+1]-Ct[Rt]),Ot=$t+Nt*dt,Gt=Tt(Ot,St,xt);return Gt>=o?wt(yt,Ot,St,xt):Gt===0?Ot:At(yt,$t,$t+dt,St,xt)}},e}(),pooling=function(){function e(i){return i.concat(createSizedArray(i.length))}return{double:e}}(),poolFactory=function(){return function(e,i,s){var a=0,o=e,et=createSizedArray(o),ot={newElement:ft,release:dt};function ft(){var mt;return a?(a-=1,mt=et[a]):mt=i(),mt}function dt(mt){a===o&&(et=pooling.double(et),o*=2),s&&s(mt),et[a]=mt,a+=1}return ot}}(),bezierLengthPool=function(){function e(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,e)}(),segmentsLengthPool=function(){function e(){return{lengths:[],totalLength:0}}function i(s){var a,o=s.lengths.length;for(a=0;a<o;a+=1)bezierLengthPool.release(s.lengths[a]);s.lengths.length=0}return poolFactory(8,e,i)}();function bezFunction(){var e=Math;function i(vt,Pt,Tt,At,wt,_t){var Et=vt*At+Pt*wt+Tt*_t-wt*At-_t*vt-Tt*Pt;return Et>-.001&&Et<.001}function s(vt,Pt,Tt,At,wt,_t,Et,yt,St){if(Tt===0&&_t===0&&St===0)return i(vt,Pt,At,wt,Et,yt);var xt=e.sqrt(e.pow(At-vt,2)+e.pow(wt-Pt,2)+e.pow(_t-Tt,2)),Ct=e.sqrt(e.pow(Et-vt,2)+e.pow(yt-Pt,2)+e.pow(St-Tt,2)),$t=e.sqrt(e.pow(Et-At,2)+e.pow(yt-wt,2)+e.pow(St-_t,2)),Rt;return xt>Ct?xt>$t?Rt=xt-Ct-$t:Rt=$t-Ct-xt:$t>Ct?Rt=$t-Ct-xt:Rt=Ct-xt-$t,Rt>-1e-4&&Rt<1e-4}var a=function(){return function(vt,Pt,Tt,At){var wt=getDefaultCurveSegments(),_t,Et,yt,St,xt,Ct=0,$t,Rt=[],It=[],Nt=bezierLengthPool.newElement();for(yt=Tt.length,_t=0;_t<wt;_t+=1){for(xt=_t/(wt-1),$t=0,Et=0;Et<yt;Et+=1)St=bmPow(1-xt,3)*vt[Et]+3*bmPow(1-xt,2)*xt*Tt[Et]+3*(1-xt)*bmPow(xt,2)*At[Et]+bmPow(xt,3)*Pt[Et],Rt[Et]=St,It[Et]!==null&&($t+=bmPow(Rt[Et]-It[Et],2)),It[Et]=Rt[Et];$t&&($t=bmSqrt($t),Ct+=$t),Nt.percents[_t]=xt,Nt.lengths[_t]=Ct}return Nt.addedLength=Ct,Nt}}();function o(vt){var Pt=segmentsLengthPool.newElement(),Tt=vt.c,At=vt.v,wt=vt.o,_t=vt.i,Et,yt=vt._length,St=Pt.lengths,xt=0;for(Et=0;Et<yt-1;Et+=1)St[Et]=a(At[Et],At[Et+1],wt[Et],_t[Et+1]),xt+=St[Et].addedLength;return Tt&&yt&&(St[Et]=a(At[Et],At[0],wt[Et],_t[0]),xt+=St[Et].addedLength),Pt.totalLength=xt,Pt}function et(vt){this.segmentLength=0,this.points=new Array(vt)}function ot(vt,Pt){this.partialLength=vt,this.point=Pt}var ft=function(){var vt={};return function(Pt,Tt,At,wt){var _t=(Pt[0]+"_"+Pt[1]+"_"+Tt[0]+"_"+Tt[1]+"_"+At[0]+"_"+At[1]+"_"+wt[0]+"_"+wt[1]).replace(/\./g,"p");if(!vt[_t]){var Et=getDefaultCurveSegments(),yt,St,xt,Ct,$t,Rt=0,It,Nt,Ot=null;Pt.length===2&&(Pt[0]!==Tt[0]||Pt[1]!==Tt[1])&&i(Pt[0],Pt[1],Tt[0],Tt[1],Pt[0]+At[0],Pt[1]+At[1])&&i(Pt[0],Pt[1],Tt[0],Tt[1],Tt[0]+wt[0],Tt[1]+wt[1])&&(Et=2);var Gt=new et(Et);for(xt=At.length,yt=0;yt<Et;yt+=1){for(Nt=createSizedArray(xt),$t=yt/(Et-1),It=0,St=0;St<xt;St+=1)Ct=bmPow(1-$t,3)*Pt[St]+3*bmPow(1-$t,2)*$t*(Pt[St]+At[St])+3*(1-$t)*bmPow($t,2)*(Tt[St]+wt[St])+bmPow($t,3)*Tt[St],Nt[St]=Ct,Ot!==null&&(It+=bmPow(Nt[St]-Ot[St],2));It=bmSqrt(It),Rt+=It,Gt.points[yt]=new ot(It,Nt),Ot=Nt}Gt.segmentLength=Rt,vt[_t]=Gt}return vt[_t]}}();function dt(vt,Pt){var Tt=Pt.percents,At=Pt.lengths,wt=Tt.length,_t=bmFloor((wt-1)*vt),Et=vt*Pt.addedLength,yt=0;if(_t===wt-1||_t===0||Et===At[_t])return Tt[_t];for(var St=At[_t]>Et?-1:1,xt=!0;xt;)if(At[_t]<=Et&&At[_t+1]>Et?(yt=(Et-At[_t])/(At[_t+1]-At[_t]),xt=!1):_t+=St,_t<0||_t>=wt-1){if(_t===wt-1)return Tt[_t];xt=!1}return Tt[_t]+(Tt[_t+1]-Tt[_t])*yt}function mt(vt,Pt,Tt,At,wt,_t){var Et=dt(wt,_t),yt=1-Et,St=e.round((yt*yt*yt*vt[0]+(Et*yt*yt+yt*Et*yt+yt*yt*Et)*Tt[0]+(Et*Et*yt+yt*Et*Et+Et*yt*Et)*At[0]+Et*Et*Et*Pt[0])*1e3)/1e3,xt=e.round((yt*yt*yt*vt[1]+(Et*yt*yt+yt*Et*yt+yt*yt*Et)*Tt[1]+(Et*Et*yt+yt*Et*Et+Et*yt*Et)*At[1]+Et*Et*Et*Pt[1])*1e3)/1e3;return[St,xt]}var gt=createTypedArray("float32",8);function bt(vt,Pt,Tt,At,wt,_t,Et){wt<0?wt=0:wt>1&&(wt=1);var yt=dt(wt,Et);_t=_t>1?1:_t;var St=dt(_t,Et),xt,Ct=vt.length,$t=1-yt,Rt=1-St,It=$t*$t*$t,Nt=yt*$t*$t*3,Ot=yt*yt*$t*3,Gt=yt*yt*yt,Xt=$t*$t*Rt,Ht=yt*$t*Rt+$t*yt*Rt+$t*$t*St,Yt=yt*yt*Rt+$t*yt*St+yt*$t*St,zt=yt*yt*St,Ut=$t*Rt*Rt,kt=yt*Rt*Rt+$t*St*Rt+$t*Rt*St,Ft=yt*St*Rt+$t*St*St+yt*Rt*St,Qt=yt*St*St,Zt=Rt*Rt*Rt,rr=St*Rt*Rt+Rt*St*Rt+Rt*Rt*St,qt=St*St*Rt+Rt*St*St+St*Rt*St,Dt=St*St*St;for(xt=0;xt<Ct;xt+=1)gt[xt*4]=e.round((It*vt[xt]+Nt*Tt[xt]+Ot*At[xt]+Gt*Pt[xt])*1e3)/1e3,gt[xt*4+1]=e.round((Xt*vt[xt]+Ht*Tt[xt]+Yt*At[xt]+zt*Pt[xt])*1e3)/1e3,gt[xt*4+2]=e.round((Ut*vt[xt]+kt*Tt[xt]+Ft*At[xt]+Qt*Pt[xt])*1e3)/1e3,gt[xt*4+3]=e.round((Zt*vt[xt]+rr*Tt[xt]+qt*At[xt]+Dt*Pt[xt])*1e3)/1e3;return gt}return{getSegmentsLength:o,getNewSegment:bt,getPointInSegment:mt,buildBezierData:ft,pointOnLine2D:i,pointOnLine3D:s}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,i){var s=this.offsetTime,a;this.propType==="multidimensional"&&(a=createTypedArray("float32",this.pv.length));for(var o=i.lastIndex,et=o,ot=this.keyframes.length-1,ft=!0,dt,mt,gt;ft;){if(dt=this.keyframes[et],mt=this.keyframes[et+1],et===ot-1&&e>=mt.t-s){dt.h&&(dt=mt),o=0;break}if(mt.t-s>e){o=et;break}et<ot-1?et+=1:(o=0,ft=!1)}gt=this.keyframesMetadata[et]||{};var bt,vt,Pt,Tt,At,wt,_t=mt.t-s,Et=dt.t-s,yt;if(dt.to){gt.bezierData||(gt.bezierData=bez.buildBezierData(dt.s,mt.s||dt.e,dt.to,dt.ti));var St=gt.bezierData;if(e>=_t||e<Et){var xt=e>=_t?St.points.length-1:0;for(vt=St.points[xt].point.length,bt=0;bt<vt;bt+=1)a[bt]=St.points[xt].point[bt]}else{gt.__fnct?wt=gt.__fnct:(wt=BezierFactory.getBezierEasing(dt.o.x,dt.o.y,dt.i.x,dt.i.y,dt.n).get,gt.__fnct=wt),Pt=wt((e-Et)/(_t-Et));var Ct=St.segmentLength*Pt,$t,Rt=i.lastFrame<e&&i._lastKeyframeIndex===et?i._lastAddedLength:0;for(At=i.lastFrame<e&&i._lastKeyframeIndex===et?i._lastPoint:0,ft=!0,Tt=St.points.length;ft;){if(Rt+=St.points[At].partialLength,Ct===0||Pt===0||At===St.points.length-1){for(vt=St.points[At].point.length,bt=0;bt<vt;bt+=1)a[bt]=St.points[At].point[bt];break}else if(Ct>=Rt&&Ct<Rt+St.points[At+1].partialLength){for($t=(Ct-Rt)/St.points[At+1].partialLength,vt=St.points[At].point.length,bt=0;bt<vt;bt+=1)a[bt]=St.points[At].point[bt]+(St.points[At+1].point[bt]-St.points[At].point[bt])*$t;break}At<Tt-1?At+=1:ft=!1}i._lastPoint=At,i._lastAddedLength=Rt-St.points[At].partialLength,i._lastKeyframeIndex=et}}else{var It,Nt,Ot,Gt,Xt;if(ot=dt.s.length,yt=mt.s||dt.e,this.sh&&dt.h!==1)if(e>=_t)a[0]=yt[0],a[1]=yt[1],a[2]=yt[2];else if(e<=Et)a[0]=dt.s[0],a[1]=dt.s[1],a[2]=dt.s[2];else{var Ht=createQuaternion(dt.s),Yt=createQuaternion(yt),zt=(e-Et)/(_t-Et);quaternionToEuler(a,slerp(Ht,Yt,zt))}else for(et=0;et<ot;et+=1)dt.h!==1&&(e>=_t?Pt=1:e<Et?Pt=0:(dt.o.x.constructor===Array?(gt.__fnct||(gt.__fnct=[]),gt.__fnct[et]?wt=gt.__fnct[et]:(It=dt.o.x[et]===void 0?dt.o.x[0]:dt.o.x[et],Nt=dt.o.y[et]===void 0?dt.o.y[0]:dt.o.y[et],Ot=dt.i.x[et]===void 0?dt.i.x[0]:dt.i.x[et],Gt=dt.i.y[et]===void 0?dt.i.y[0]:dt.i.y[et],wt=BezierFactory.getBezierEasing(It,Nt,Ot,Gt).get,gt.__fnct[et]=wt)):gt.__fnct?wt=gt.__fnct:(It=dt.o.x,Nt=dt.o.y,Ot=dt.i.x,Gt=dt.i.y,wt=BezierFactory.getBezierEasing(It,Nt,Ot,Gt).get,dt.keyframeMetadata=wt),Pt=wt((e-Et)/(_t-Et)))),yt=mt.s||dt.e,Xt=dt.h===1?dt.s[et]:dt.s[et]+(yt[et]-dt.s[et])*Pt,this.propType==="multidimensional"?a[et]=Xt:a=Xt}return i.lastIndex=o,a}function slerp(e,i,s){var a=[],o=e[0],et=e[1],ot=e[2],ft=e[3],dt=i[0],mt=i[1],gt=i[2],bt=i[3],vt,Pt,Tt,At,wt;return Pt=o*dt+et*mt+ot*gt+ft*bt,Pt<0&&(Pt=-Pt,dt=-dt,mt=-mt,gt=-gt,bt=-bt),1-Pt>1e-6?(vt=Math.acos(Pt),Tt=Math.sin(vt),At=Math.sin((1-s)*vt)/Tt,wt=Math.sin(s*vt)/Tt):(At=1-s,wt=s),a[0]=At*o+wt*dt,a[1]=At*et+wt*mt,a[2]=At*ot+wt*gt,a[3]=At*ft+wt*bt,a}function quaternionToEuler(e,i){var s=i[0],a=i[1],o=i[2],et=i[3],ot=Math.atan2(2*a*et-2*s*o,1-2*a*a-2*o*o),ft=Math.asin(2*s*a+2*o*et),dt=Math.atan2(2*s*et-2*a*o,1-2*s*s-2*o*o);e[0]=ot/degToRads,e[1]=ft/degToRads,e[2]=dt/degToRads}function createQuaternion(e){var i=e[0]*degToRads,s=e[1]*degToRads,a=e[2]*degToRads,o=Math.cos(i/2),et=Math.cos(s/2),ot=Math.cos(a/2),ft=Math.sin(i/2),dt=Math.sin(s/2),mt=Math.sin(a/2),gt=o*et*ot-ft*dt*mt,bt=ft*dt*ot+o*et*mt,vt=ft*et*ot+o*dt*mt,Pt=o*dt*ot-ft*et*mt;return[bt,vt,Pt,gt]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=s&&e>=s||this._caching.lastFrame<i&&e<i))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var a=this.interpolateValue(e,this._caching);this.pv=a}return this._caching.lastFrame=e,this.pv}function setVValue(e){var i;if(this.propType==="unidimensional")i=e*this.mult,mathAbs(this.v-i)>1e-5&&(this.v=i,this._mdf=!0);else for(var s=0,a=this.v.length;s<a;)i=e[s]*this.mult,mathAbs(this.v[s]-i)>1e-5&&(this.v[s]=i,this._mdf=!0),s+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var e,i=this.effectsSequence.length,s=this.kf?this.pv:this.data.k;for(e=0;e<i;e+=1)s=this.effectsSequence[e](s);this.setVValue(s),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,i,s,a){this.propType="unidimensional",this.mult=s||1,this.data=i,this.v=s?i.k*s:i.k,this.pv=i.k,this._mdf=!1,this.elem=e,this.container=a,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,i,s,a){this.propType="multidimensional",this.mult=s||1,this.data=i,this._mdf=!1,this.elem=e,this.container=a,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var o,et=i.k.length;for(this.v=createTypedArray("float32",et),this.pv=createTypedArray("float32",et),this.vel=createTypedArray("float32",et),o=0;o<et;o+=1)this.v[o]=i.k[o]*this.mult,this.pv[o]=i.k[o];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,i,s,a){this.propType="unidimensional",this.keyframes=i.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=s||1,this.elem=e,this.container=a,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,i,s,a){this.propType="multidimensional";var o,et=i.k.length,ot,ft,dt,mt;for(o=0;o<et-1;o+=1)i.k[o].to&&i.k[o].s&&i.k[o+1]&&i.k[o+1].s&&(ot=i.k[o].s,ft=i.k[o+1].s,dt=i.k[o].to,mt=i.k[o].ti,(ot.length===2&&!(ot[0]===ft[0]&&ot[1]===ft[1])&&bez.pointOnLine2D(ot[0],ot[1],ft[0],ft[1],ot[0]+dt[0],ot[1]+dt[1])&&bez.pointOnLine2D(ot[0],ot[1],ft[0],ft[1],ft[0]+mt[0],ft[1]+mt[1])||ot.length===3&&!(ot[0]===ft[0]&&ot[1]===ft[1]&&ot[2]===ft[2])&&bez.pointOnLine3D(ot[0],ot[1],ot[2],ft[0],ft[1],ft[2],ot[0]+dt[0],ot[1]+dt[1],ot[2]+dt[2])&&bez.pointOnLine3D(ot[0],ot[1],ot[2],ft[0],ft[1],ft[2],ft[0]+mt[0],ft[1]+mt[1],ft[2]+mt[2]))&&(i.k[o].to=null,i.k[o].ti=null),ot[0]===ft[0]&&ot[1]===ft[1]&&dt[0]===0&&dt[1]===0&&mt[0]===0&&mt[1]===0&&(ot.length===2||ot[2]===ft[2]&&dt[2]===0&&mt[2]===0)&&(i.k[o].to=null,i.k[o].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=i,this.keyframes=i.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=s||1,this.elem=e,this.container=a,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var gt=i.k[0].s.length;for(this.v=createTypedArray("float32",gt),this.pv=createTypedArray("float32",gt),o=0;o<gt;o+=1)this.v[o]=initFrame,this.pv[o]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",gt)},this.addEffect=addEffect}var PropertyFactory=function(){function e(s,a,o,et,ot){a.sid&&(a=s.globalData.slotManager.getProp(a));var ft;if(!a.k.length)ft=new ValueProperty(s,a,et,ot);else if(typeof a.k[0]=="number")ft=new MultiDimensionalProperty(s,a,et,ot);else switch(o){case 0:ft=new KeyframedValueProperty(s,a,et,ot);break;case 1:ft=new KeyframedMultidimensionalProperty(s,a,et,ot);break}return ft.effectsSequence.length&&ot.addDynamicProperty(ft),ft}var i={getProp:e};return i}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(i){this.dynamicProperties.indexOf(i)===-1&&(this.dynamicProperties.push(i),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var i,s=this.dynamicProperties.length;for(i=0;i<s;i+=1)this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(i){this.container=i,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function e(){return createTypedArray("float32",2)}return poolFactory(8,e)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,i){this.c=e,this.setLength(i);for(var s=0;s<i;)this.v[s]=pointPool.newElement(),this.o[s]=pointPool.newElement(),this.i[s]=pointPool.newElement(),s+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,i,s,a,o){var et;switch(this._length=Math.max(this._length,a+1),this._length>=this._maxLength&&this.doubleArrayLength(),s){case"v":et=this.v;break;case"i":et=this.i;break;case"o":et=this.o;break;default:et=[];break}(!et[a]||et[a]&&!o)&&(et[a]=pointPool.newElement()),et[a][0]=e,et[a][1]=i},ShapePath.prototype.setTripleAt=function(e,i,s,a,o,et,ot,ft){this.setXYAt(e,i,"v",ot,ft),this.setXYAt(s,a,"o",ot,ft),this.setXYAt(o,et,"i",ot,ft)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var i=this.v,s=this.o,a=this.i,o=0;this.c&&(e.setTripleAt(i[0][0],i[0][1],a[0][0],a[0][1],s[0][0],s[0][1],0,!1),o=1);var et=this._length-1,ot=this._length,ft;for(ft=o;ft<ot;ft+=1)e.setTripleAt(i[et][0],i[et][1],a[et][0],a[et][1],s[et][0],s[et][1],ft,!1),et-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function e(){return new ShapePath}function i(o){var et=o._length,ot;for(ot=0;ot<et;ot+=1)pointPool.release(o.v[ot]),pointPool.release(o.i[ot]),pointPool.release(o.o[ot]),o.v[ot]=null,o.i[ot]=null,o.o[ot]=null;o._length=0,o.c=!1}function s(o){var et=a.newElement(),ot,ft=o._length===void 0?o.v.length:o._length;for(et.setLength(ft),et.c=o.c,ot=0;ot<ft;ot+=1)et.setTripleAt(o.v[ot][0],o.v[ot][1],o.o[ot][0],o.o[ot][1],o.i[ot][0],o.i[ot][1],ot);return et}var a=poolFactory(4,e,i);return a.clone=s,a}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=function(){var e={newShapeCollection:o,release:et},i=0,s=4,a=createSizedArray(s);function o(){var ot;return i?(i-=1,ot=a[i]):ot=new ShapeCollection,ot}function et(ot){var ft,dt=ot._length;for(ft=0;ft<dt;ft+=1)shapePool.release(ot.shapes[ft]);ot._length=0,i===s&&(a=pooling.double(a),s*=2),a[i]=ot,i+=1}return e}(),ShapePropertyFactory=function(){var e=-999999;function i(_t,Et,yt){var St=yt.lastIndex,xt,Ct,$t,Rt,It,Nt,Ot,Gt,Xt,Ht=this.keyframes;if(_t<Ht[0].t-this.offsetTime)xt=Ht[0].s[0],$t=!0,St=0;else if(_t>=Ht[Ht.length-1].t-this.offsetTime)xt=Ht[Ht.length-1].s?Ht[Ht.length-1].s[0]:Ht[Ht.length-2].e[0],$t=!0;else{for(var Yt=St,zt=Ht.length-1,Ut=!0,kt,Ft,Qt;Ut&&(kt=Ht[Yt],Ft=Ht[Yt+1],!(Ft.t-this.offsetTime>_t));)Yt<zt-1?Yt+=1:Ut=!1;if(Qt=this.keyframesMetadata[Yt]||{},$t=kt.h===1,St=Yt,!$t){if(_t>=Ft.t-this.offsetTime)Gt=1;else if(_t<kt.t-this.offsetTime)Gt=0;else{var Zt;Qt.__fnct?Zt=Qt.__fnct:(Zt=BezierFactory.getBezierEasing(kt.o.x,kt.o.y,kt.i.x,kt.i.y).get,Qt.__fnct=Zt),Gt=Zt((_t-(kt.t-this.offsetTime))/(Ft.t-this.offsetTime-(kt.t-this.offsetTime)))}Ct=Ft.s?Ft.s[0]:kt.e[0]}xt=kt.s[0]}for(Nt=Et._length,Ot=xt.i[0].length,yt.lastIndex=St,Rt=0;Rt<Nt;Rt+=1)for(It=0;It<Ot;It+=1)Xt=$t?xt.i[Rt][It]:xt.i[Rt][It]+(Ct.i[Rt][It]-xt.i[Rt][It])*Gt,Et.i[Rt][It]=Xt,Xt=$t?xt.o[Rt][It]:xt.o[Rt][It]+(Ct.o[Rt][It]-xt.o[Rt][It])*Gt,Et.o[Rt][It]=Xt,Xt=$t?xt.v[Rt][It]:xt.v[Rt][It]+(Ct.v[Rt][It]-xt.v[Rt][It])*Gt,Et.v[Rt][It]=Xt}function s(){var _t=this.comp.renderedFrame-this.offsetTime,Et=this.keyframes[0].t-this.offsetTime,yt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,St=this._caching.lastFrame;return St!==e&&(St<Et&&_t<Et||St>yt&&_t>yt)||(this._caching.lastIndex=St<_t?this._caching.lastIndex:0,this.interpolateShape(_t,this.pv,this._caching)),this._caching.lastFrame=_t,this.pv}function a(){this.paths=this.localShapeCollection}function o(_t,Et){if(_t._length!==Et._length||_t.c!==Et.c)return!1;var yt,St=_t._length;for(yt=0;yt<St;yt+=1)if(_t.v[yt][0]!==Et.v[yt][0]||_t.v[yt][1]!==Et.v[yt][1]||_t.o[yt][0]!==Et.o[yt][0]||_t.o[yt][1]!==Et.o[yt][1]||_t.i[yt][0]!==Et.i[yt][0]||_t.i[yt][1]!==Et.i[yt][1])return!1;return!0}function et(_t){o(this.v,_t)||(this.v=shapePool.clone(_t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function ot(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var _t;this.kf?_t=this.pv:this.data.ks?_t=this.data.ks.k:_t=this.data.pt.k;var Et,yt=this.effectsSequence.length;for(Et=0;Et<yt;Et+=1)_t=this.effectsSequence[Et](_t);this.setVValue(_t),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ft(_t,Et,yt){this.propType="shape",this.comp=_t.comp,this.container=_t,this.elem=_t,this.data=Et,this.k=!1,this.kf=!1,this._mdf=!1;var St=yt===3?Et.pt.k:Et.ks.k;this.v=shapePool.clone(St),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=a,this.effectsSequence=[]}function dt(_t){this.effectsSequence.push(_t),this.container.addDynamicProperty(this)}ft.prototype.interpolateShape=i,ft.prototype.getValue=ot,ft.prototype.setVValue=et,ft.prototype.addEffect=dt;function mt(_t,Et,yt){this.propType="shape",this.comp=_t.comp,this.elem=_t,this.container=_t,this.offsetTime=_t.data.st,this.keyframes=yt===3?Et.pt.k:Et.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var St=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,St),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=a,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[s.bind(this)]}mt.prototype.getValue=ot,mt.prototype.interpolateShape=i,mt.prototype.setVValue=et,mt.prototype.addEffect=dt;var gt=function(){var _t=roundCorner;function Et(yt,St){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=St.d,this.elem=yt,this.comp=yt.comp,this.frameId=-1,this.initDynamicPropertyContainer(yt),this.p=PropertyFactory.getProp(yt,St.p,1,0,this),this.s=PropertyFactory.getProp(yt,St.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Et.prototype={reset:a,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var St=this.p.v[0],xt=this.p.v[1],Ct=this.s.v[0]/2,$t=this.s.v[1]/2,Rt=this.d!==3,It=this.v;It.v[0][0]=St,It.v[0][1]=xt-$t,It.v[1][0]=Rt?St+Ct:St-Ct,It.v[1][1]=xt,It.v[2][0]=St,It.v[2][1]=xt+$t,It.v[3][0]=Rt?St-Ct:St+Ct,It.v[3][1]=xt,It.i[0][0]=Rt?St-Ct*_t:St+Ct*_t,It.i[0][1]=xt-$t,It.i[1][0]=Rt?St+Ct:St-Ct,It.i[1][1]=xt-$t*_t,It.i[2][0]=Rt?St+Ct*_t:St-Ct*_t,It.i[2][1]=xt+$t,It.i[3][0]=Rt?St-Ct:St+Ct,It.i[3][1]=xt+$t*_t,It.o[0][0]=Rt?St+Ct*_t:St-Ct*_t,It.o[0][1]=xt-$t,It.o[1][0]=Rt?St+Ct:St-Ct,It.o[1][1]=xt+$t*_t,It.o[2][0]=Rt?St-Ct*_t:St+Ct*_t,It.o[2][1]=xt+$t,It.o[3][0]=Rt?St-Ct:St+Ct,It.o[3][1]=xt-$t*_t}},extendPrototype([DynamicPropertyContainer],Et),Et}(),bt=function(){function _t(Et,yt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Et,this.comp=Et.comp,this.data=yt,this.frameId=-1,this.d=yt.d,this.initDynamicPropertyContainer(Et),yt.sy===1?(this.ir=PropertyFactory.getProp(Et,yt.ir,0,0,this),this.is=PropertyFactory.getProp(Et,yt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Et,yt.pt,0,0,this),this.p=PropertyFactory.getProp(Et,yt.p,1,0,this),this.r=PropertyFactory.getProp(Et,yt.r,0,degToRads,this),this.or=PropertyFactory.getProp(Et,yt.or,0,0,this),this.os=PropertyFactory.getProp(Et,yt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return _t.prototype={reset:a,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var yt=Math.floor(this.pt.v)*2,St=Math.PI*2/yt,xt=!0,Ct=this.or.v,$t=this.ir.v,Rt=this.os.v,It=this.is.v,Nt=2*Math.PI*Ct/(yt*2),Ot=2*Math.PI*$t/(yt*2),Gt,Xt,Ht,Yt,zt=-Math.PI/2;zt+=this.r.v;var Ut=this.data.d===3?-1:1;for(this.v._length=0,Gt=0;Gt<yt;Gt+=1){Xt=xt?Ct:$t,Ht=xt?Rt:It,Yt=xt?Nt:Ot;var kt=Xt*Math.cos(zt),Ft=Xt*Math.sin(zt),Qt=kt===0&&Ft===0?0:Ft/Math.sqrt(kt*kt+Ft*Ft),Zt=kt===0&&Ft===0?0:-kt/Math.sqrt(kt*kt+Ft*Ft);kt+=+this.p.v[0],Ft+=+this.p.v[1],this.v.setTripleAt(kt,Ft,kt-Qt*Yt*Ht*Ut,Ft-Zt*Yt*Ht*Ut,kt+Qt*Yt*Ht*Ut,Ft+Zt*Yt*Ht*Ut,Gt,!0),xt=!xt,zt+=St*Ut}},convertPolygonToPath:function(){var yt=Math.floor(this.pt.v),St=Math.PI*2/yt,xt=this.or.v,Ct=this.os.v,$t=2*Math.PI*xt/(yt*4),Rt,It=-Math.PI*.5,Nt=this.data.d===3?-1:1;for(It+=this.r.v,this.v._length=0,Rt=0;Rt<yt;Rt+=1){var Ot=xt*Math.cos(It),Gt=xt*Math.sin(It),Xt=Ot===0&&Gt===0?0:Gt/Math.sqrt(Ot*Ot+Gt*Gt),Ht=Ot===0&&Gt===0?0:-Ot/Math.sqrt(Ot*Ot+Gt*Gt);Ot+=+this.p.v[0],Gt+=+this.p.v[1],this.v.setTripleAt(Ot,Gt,Ot-Xt*$t*Ct*Nt,Gt-Ht*$t*Ct*Nt,Ot+Xt*$t*Ct*Nt,Gt+Ht*$t*Ct*Nt,Rt,!0),It+=St*Nt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],_t),_t}(),vt=function(){function _t(Et,yt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Et,this.comp=Et.comp,this.frameId=-1,this.d=yt.d,this.initDynamicPropertyContainer(Et),this.p=PropertyFactory.getProp(Et,yt.p,1,0,this),this.s=PropertyFactory.getProp(Et,yt.s,1,0,this),this.r=PropertyFactory.getProp(Et,yt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return _t.prototype={convertRectToPath:function(){var yt=this.p.v[0],St=this.p.v[1],xt=this.s.v[0]/2,Ct=this.s.v[1]/2,$t=bmMin(xt,Ct,this.r.v),Rt=$t*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(yt+xt,St-Ct+$t,yt+xt,St-Ct+$t,yt+xt,St-Ct+Rt,0,!0),this.v.setTripleAt(yt+xt,St+Ct-$t,yt+xt,St+Ct-Rt,yt+xt,St+Ct-$t,1,!0),$t!==0?(this.v.setTripleAt(yt+xt-$t,St+Ct,yt+xt-$t,St+Ct,yt+xt-Rt,St+Ct,2,!0),this.v.setTripleAt(yt-xt+$t,St+Ct,yt-xt+Rt,St+Ct,yt-xt+$t,St+Ct,3,!0),this.v.setTripleAt(yt-xt,St+Ct-$t,yt-xt,St+Ct-$t,yt-xt,St+Ct-Rt,4,!0),this.v.setTripleAt(yt-xt,St-Ct+$t,yt-xt,St-Ct+Rt,yt-xt,St-Ct+$t,5,!0),this.v.setTripleAt(yt-xt+$t,St-Ct,yt-xt+$t,St-Ct,yt-xt+Rt,St-Ct,6,!0),this.v.setTripleAt(yt+xt-$t,St-Ct,yt+xt-Rt,St-Ct,yt+xt-$t,St-Ct,7,!0)):(this.v.setTripleAt(yt-xt,St+Ct,yt-xt+Rt,St+Ct,yt-xt,St+Ct,2),this.v.setTripleAt(yt-xt,St-Ct,yt-xt,St-Ct+Rt,yt-xt,St-Ct,3))):(this.v.setTripleAt(yt+xt,St-Ct+$t,yt+xt,St-Ct+Rt,yt+xt,St-Ct+$t,0,!0),$t!==0?(this.v.setTripleAt(yt+xt-$t,St-Ct,yt+xt-$t,St-Ct,yt+xt-Rt,St-Ct,1,!0),this.v.setTripleAt(yt-xt+$t,St-Ct,yt-xt+Rt,St-Ct,yt-xt+$t,St-Ct,2,!0),this.v.setTripleAt(yt-xt,St-Ct+$t,yt-xt,St-Ct+$t,yt-xt,St-Ct+Rt,3,!0),this.v.setTripleAt(yt-xt,St+Ct-$t,yt-xt,St+Ct-Rt,yt-xt,St+Ct-$t,4,!0),this.v.setTripleAt(yt-xt+$t,St+Ct,yt-xt+$t,St+Ct,yt-xt+Rt,St+Ct,5,!0),this.v.setTripleAt(yt+xt-$t,St+Ct,yt+xt-Rt,St+Ct,yt+xt-$t,St+Ct,6,!0),this.v.setTripleAt(yt+xt,St+Ct-$t,yt+xt,St+Ct-$t,yt+xt,St+Ct-Rt,7,!0)):(this.v.setTripleAt(yt-xt,St-Ct,yt-xt+Rt,St-Ct,yt-xt,St-Ct,1,!0),this.v.setTripleAt(yt-xt,St+Ct,yt-xt,St+Ct-Rt,yt-xt,St+Ct,2,!0),this.v.setTripleAt(yt+xt,St+Ct,yt+xt-Rt,St+Ct,yt+xt,St+Ct,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:a},extendPrototype([DynamicPropertyContainer],_t),_t}();function Pt(_t,Et,yt){var St;if(yt===3||yt===4){var xt=yt===3?Et.pt:Et.ks,Ct=xt.k;Ct.length?St=new mt(_t,Et,yt):St=new ft(_t,Et,yt)}else yt===5?St=new vt(_t,Et):yt===6?St=new gt(_t,Et):yt===7&&(St=new bt(_t,Et));return St.k&&_t.addDynamicProperty(St),St}function Tt(){return ft}function At(){return mt}var wt={};return wt.getShapeProp=Pt,wt.getConstructorFunction=Tt,wt.getKeyframedConstructorFunction=At,wt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var e=Math.cos,i=Math.sin,s=Math.tan,a=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function et(kt){if(kt===0)return this;var Ft=e(kt),Qt=i(kt);return this._t(Ft,-Qt,0,0,Qt,Ft,0,0,0,0,1,0,0,0,0,1)}function ot(kt){if(kt===0)return this;var Ft=e(kt),Qt=i(kt);return this._t(1,0,0,0,0,Ft,-Qt,0,0,Qt,Ft,0,0,0,0,1)}function ft(kt){if(kt===0)return this;var Ft=e(kt),Qt=i(kt);return this._t(Ft,0,Qt,0,0,1,0,0,-Qt,0,Ft,0,0,0,0,1)}function dt(kt){if(kt===0)return this;var Ft=e(kt),Qt=i(kt);return this._t(Ft,-Qt,0,0,Qt,Ft,0,0,0,0,1,0,0,0,0,1)}function mt(kt,Ft){return this._t(1,Ft,kt,1,0,0)}function gt(kt,Ft){return this.shear(s(kt),s(Ft))}function bt(kt,Ft){var Qt=e(Ft),Zt=i(Ft);return this._t(Qt,Zt,0,0,-Zt,Qt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,s(kt),1,0,0,0,0,1,0,0,0,0,1)._t(Qt,-Zt,0,0,Zt,Qt,0,0,0,0,1,0,0,0,0,1)}function vt(kt,Ft,Qt){return!Qt&&Qt!==0&&(Qt=1),kt===1&&Ft===1&&Qt===1?this:this._t(kt,0,0,0,0,Ft,0,0,0,0,Qt,0,0,0,0,1)}function Pt(kt,Ft,Qt,Zt,rr,qt,Dt,Vt,Lt,jt,Wt,Kt,er,tr,ur,cr){return this.props[0]=kt,this.props[1]=Ft,this.props[2]=Qt,this.props[3]=Zt,this.props[4]=rr,this.props[5]=qt,this.props[6]=Dt,this.props[7]=Vt,this.props[8]=Lt,this.props[9]=jt,this.props[10]=Wt,this.props[11]=Kt,this.props[12]=er,this.props[13]=tr,this.props[14]=ur,this.props[15]=cr,this}function Tt(kt,Ft,Qt){return Qt=Qt||0,kt!==0||Ft!==0||Qt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,kt,Ft,Qt,1):this}function At(kt,Ft,Qt,Zt,rr,qt,Dt,Vt,Lt,jt,Wt,Kt,er,tr,ur,cr){var nr=this.props;if(kt===1&&Ft===0&&Qt===0&&Zt===0&&rr===0&&qt===1&&Dt===0&&Vt===0&&Lt===0&&jt===0&&Wt===1&&Kt===0)return nr[12]=nr[12]*kt+nr[15]*er,nr[13]=nr[13]*qt+nr[15]*tr,nr[14]=nr[14]*Wt+nr[15]*ur,nr[15]*=cr,this._identityCalculated=!1,this;var vr=nr[0],Pr=nr[1],Ar=nr[2],Ir=nr[3],zr=nr[4],Cr=nr[5],Dr=nr[6],xr=nr[7],hr=nr[8],pr=nr[9],br=nr[10],kr=nr[11],$r=nr[12],Gr=nr[13],qr=nr[14],Wr=nr[15];return nr[0]=vr*kt+Pr*rr+Ar*Lt+Ir*er,nr[1]=vr*Ft+Pr*qt+Ar*jt+Ir*tr,nr[2]=vr*Qt+Pr*Dt+Ar*Wt+Ir*ur,nr[3]=vr*Zt+Pr*Vt+Ar*Kt+Ir*cr,nr[4]=zr*kt+Cr*rr+Dr*Lt+xr*er,nr[5]=zr*Ft+Cr*qt+Dr*jt+xr*tr,nr[6]=zr*Qt+Cr*Dt+Dr*Wt+xr*ur,nr[7]=zr*Zt+Cr*Vt+Dr*Kt+xr*cr,nr[8]=hr*kt+pr*rr+br*Lt+kr*er,nr[9]=hr*Ft+pr*qt+br*jt+kr*tr,nr[10]=hr*Qt+pr*Dt+br*Wt+kr*ur,nr[11]=hr*Zt+pr*Vt+br*Kt+kr*cr,nr[12]=$r*kt+Gr*rr+qr*Lt+Wr*er,nr[13]=$r*Ft+Gr*qt+qr*jt+Wr*tr,nr[14]=$r*Qt+Gr*Dt+qr*Wt+Wr*ur,nr[15]=$r*Zt+Gr*Vt+qr*Kt+Wr*cr,this._identityCalculated=!1,this}function wt(kt){var Ft=kt.props;return this.transform(Ft[0],Ft[1],Ft[2],Ft[3],Ft[4],Ft[5],Ft[6],Ft[7],Ft[8],Ft[9],Ft[10],Ft[11],Ft[12],Ft[13],Ft[14],Ft[15])}function _t(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Et(kt){for(var Ft=0;Ft<16;){if(kt.props[Ft]!==this.props[Ft])return!1;Ft+=1}return!0}function yt(kt){var Ft;for(Ft=0;Ft<16;Ft+=1)kt.props[Ft]=this.props[Ft];return kt}function St(kt){var Ft;for(Ft=0;Ft<16;Ft+=1)this.props[Ft]=kt[Ft]}function xt(kt,Ft,Qt){return{x:kt*this.props[0]+Ft*this.props[4]+Qt*this.props[8]+this.props[12],y:kt*this.props[1]+Ft*this.props[5]+Qt*this.props[9]+this.props[13],z:kt*this.props[2]+Ft*this.props[6]+Qt*this.props[10]+this.props[14]}}function Ct(kt,Ft,Qt){return kt*this.props[0]+Ft*this.props[4]+Qt*this.props[8]+this.props[12]}function $t(kt,Ft,Qt){return kt*this.props[1]+Ft*this.props[5]+Qt*this.props[9]+this.props[13]}function Rt(kt,Ft,Qt){return kt*this.props[2]+Ft*this.props[6]+Qt*this.props[10]+this.props[14]}function It(){var kt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Ft=this.props[5]/kt,Qt=-this.props[1]/kt,Zt=-this.props[4]/kt,rr=this.props[0]/kt,qt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/kt,Dt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/kt,Vt=new Matrix;return Vt.props[0]=Ft,Vt.props[1]=Qt,Vt.props[4]=Zt,Vt.props[5]=rr,Vt.props[12]=qt,Vt.props[13]=Dt,Vt}function Nt(kt){var Ft=this.getInverseMatrix();return Ft.applyToPointArray(kt[0],kt[1],kt[2]||0)}function Ot(kt){var Ft,Qt=kt.length,Zt=[];for(Ft=0;Ft<Qt;Ft+=1)Zt[Ft]=Nt(kt[Ft]);return Zt}function Gt(kt,Ft,Qt){var Zt=createTypedArray("float32",6);if(this.isIdentity())Zt[0]=kt[0],Zt[1]=kt[1],Zt[2]=Ft[0],Zt[3]=Ft[1],Zt[4]=Qt[0],Zt[5]=Qt[1];else{var rr=this.props[0],qt=this.props[1],Dt=this.props[4],Vt=this.props[5],Lt=this.props[12],jt=this.props[13];Zt[0]=kt[0]*rr+kt[1]*Dt+Lt,Zt[1]=kt[0]*qt+kt[1]*Vt+jt,Zt[2]=Ft[0]*rr+Ft[1]*Dt+Lt,Zt[3]=Ft[0]*qt+Ft[1]*Vt+jt,Zt[4]=Qt[0]*rr+Qt[1]*Dt+Lt,Zt[5]=Qt[0]*qt+Qt[1]*Vt+jt}return Zt}function Xt(kt,Ft,Qt){var Zt;return this.isIdentity()?Zt=[kt,Ft,Qt]:Zt=[kt*this.props[0]+Ft*this.props[4]+Qt*this.props[8]+this.props[12],kt*this.props[1]+Ft*this.props[5]+Qt*this.props[9]+this.props[13],kt*this.props[2]+Ft*this.props[6]+Qt*this.props[10]+this.props[14]],Zt}function Ht(kt,Ft){if(this.isIdentity())return kt+","+Ft;var Qt=this.props;return Math.round((kt*Qt[0]+Ft*Qt[4]+Qt[12])*100)/100+","+Math.round((kt*Qt[1]+Ft*Qt[5]+Qt[13])*100)/100}function Yt(){for(var kt=0,Ft=this.props,Qt="matrix3d(",Zt=1e4;kt<16;)Qt+=a(Ft[kt]*Zt)/Zt,Qt+=kt===15?")":",",kt+=1;return Qt}function zt(kt){var Ft=1e4;return kt<1e-6&&kt>0||kt>-1e-6&&kt<0?a(kt*Ft)/Ft:kt}function Ut(){var kt=this.props,Ft=zt(kt[0]),Qt=zt(kt[1]),Zt=zt(kt[4]),rr=zt(kt[5]),qt=zt(kt[12]),Dt=zt(kt[13]);return"matrix("+Ft+","+Qt+","+Zt+","+rr+","+qt+","+Dt+")"}return function(){this.reset=o,this.rotate=et,this.rotateX=ot,this.rotateY=ft,this.rotateZ=dt,this.skew=gt,this.skewFromAxis=bt,this.shear=mt,this.scale=vt,this.setTransform=Pt,this.translate=Tt,this.transform=At,this.multiply=wt,this.applyToPoint=xt,this.applyToX=Ct,this.applyToY=$t,this.applyToZ=Rt,this.applyToPointArray=Xt,this.applyToTriplePoints=Gt,this.applyToPointStringified=Ht,this.toCSS=Yt,this.to2dCSS=Ut,this.clone=yt,this.cloneFromProps=St,this.equals=Et,this.inversePoints=Ot,this.inversePoint=Nt,this.getInverseMatrix=It,this._t=this.transform,this.isIdentity=_t,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(s){return typeof s}:_typeof$3=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$3(e)}var lottie={};function setLocation(e){setLocationHref(e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return animationManager.loadAnimation(e)}function setQuality(e){if(typeof e=="string")switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e)}function inBrowser(){return typeof navigator<"u"}function installPlugin(e,i){e==="expressions"&&setExpressionsPlugin(i)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var i=queryString.split("&"),s=0;s<i.length;s+=1){var a=i[s].split("=");if(decodeURIComponent(a[0])==e)return decodeURIComponent(a[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=function(){var e={},i={};e.registerModifier=s,e.getModifier=a;function s(o,et){i[o]||(i[o]=et)}function a(o,et,ot){return new i[o](et,ot)}return e}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var i={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(i),this.addShapeToModifier(i),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,i){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,i),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,i){this.s=PropertyFactory.getProp(e,i.s,0,.01,this),this.e=PropertyFactory.getProp(e,i.e,0,.01,this),this.o=PropertyFactory.getProp(e,i.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=i.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,i,s,a,o){var et=[];i<=1?et.push({s:e,e:i}):e>=1?et.push({s:e-1,e:i-1}):(et.push({s:e,e:1}),et.push({s:0,e:i-1}));var ot=[],ft,dt=et.length,mt;for(ft=0;ft<dt;ft+=1)if(mt=et[ft],!(mt.e*o<a||mt.s*o>a+s)){var gt,bt;mt.s*o<=a?gt=0:gt=(mt.s*o-a)/s,mt.e*o>=a+s?bt=1:bt=(mt.e*o-a)/s,ot.push([gt,bt])}return ot.length||ot.push([0,0]),ot},TrimModifier.prototype.releasePathsData=function(e){var i,s=e.length;for(i=0;i<s;i+=1)segmentsLengthPool.release(e[i]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var i,s;if(this._mdf||e){var a=this.o.v%360/360;if(a<0&&(a+=1),this.s.v>1?i=1+a:this.s.v<0?i=0+a:i=this.s.v+a,this.e.v>1?s=1+a:this.e.v<0?s=0+a:s=this.e.v+a,i>s){var o=i;i=s,s=o}i=Math.round(i*1e4)*1e-4,s=Math.round(s*1e4)*1e-4,this.sValue=i,this.eValue=s}else i=this.sValue,s=this.eValue;var et,ot,ft=this.shapes.length,dt,mt,gt,bt,vt,Pt=0;if(s===i)for(ot=0;ot<ft;ot+=1)this.shapes[ot].localShapeCollection.releaseShapes(),this.shapes[ot].shape._mdf=!0,this.shapes[ot].shape.paths=this.shapes[ot].localShapeCollection,this._mdf&&(this.shapes[ot].pathsData.length=0);else if(s===1&&i===0||s===0&&i===1){if(this._mdf)for(ot=0;ot<ft;ot+=1)this.shapes[ot].pathsData.length=0,this.shapes[ot].shape._mdf=!0}else{var Tt=[],At,wt;for(ot=0;ot<ft;ot+=1)if(At=this.shapes[ot],!At.shape._mdf&&!this._mdf&&!e&&this.m!==2)At.shape.paths=At.localShapeCollection;else{if(et=At.shape.paths,mt=et._length,vt=0,!At.shape._mdf&&At.pathsData.length)vt=At.totalShapeLength;else{for(gt=this.releasePathsData(At.pathsData),dt=0;dt<mt;dt+=1)bt=bez.getSegmentsLength(et.shapes[dt]),gt.push(bt),vt+=bt.totalLength;At.totalShapeLength=vt,At.pathsData=gt}Pt+=vt,At.shape._mdf=!0}var _t=i,Et=s,yt=0,St;for(ot=ft-1;ot>=0;ot-=1)if(At=this.shapes[ot],At.shape._mdf){for(wt=At.localShapeCollection,wt.releaseShapes(),this.m===2&&ft>1?(St=this.calculateShapeEdges(i,s,At.totalShapeLength,yt,Pt),yt+=At.totalShapeLength):St=[[_t,Et]],mt=St.length,dt=0;dt<mt;dt+=1){_t=St[dt][0],Et=St[dt][1],Tt.length=0,Et<=1?Tt.push({s:At.totalShapeLength*_t,e:At.totalShapeLength*Et}):_t>=1?Tt.push({s:At.totalShapeLength*(_t-1),e:At.totalShapeLength*(Et-1)}):(Tt.push({s:At.totalShapeLength*_t,e:At.totalShapeLength}),Tt.push({s:0,e:At.totalShapeLength*(Et-1)}));var xt=this.addShapes(At,Tt[0]);if(Tt[0].s!==Tt[0].e){if(Tt.length>1){var Ct=At.shape.paths.shapes[At.shape.paths._length-1];if(Ct.c){var $t=xt.pop();this.addPaths(xt,wt),xt=this.addShapes(At,Tt[1],$t)}else this.addPaths(xt,wt),xt=this.addShapes(At,Tt[1])}this.addPaths(xt,wt)}}At.shape.paths=wt}}},TrimModifier.prototype.addPaths=function(e,i){var s,a=e.length;for(s=0;s<a;s+=1)i.addShape(e[s])},TrimModifier.prototype.addSegment=function(e,i,s,a,o,et,ot){o.setXYAt(i[0],i[1],"o",et),o.setXYAt(s[0],s[1],"i",et+1),ot&&o.setXYAt(e[0],e[1],"v",et),o.setXYAt(a[0],a[1],"v",et+1)},TrimModifier.prototype.addSegmentFromArray=function(e,i,s,a){i.setXYAt(e[1],e[5],"o",s),i.setXYAt(e[2],e[6],"i",s+1),a&&i.setXYAt(e[0],e[4],"v",s),i.setXYAt(e[3],e[7],"v",s+1)},TrimModifier.prototype.addShapes=function(e,i,s){var a=e.pathsData,o=e.shape.paths.shapes,et,ot=e.shape.paths._length,ft,dt,mt=0,gt,bt,vt,Pt,Tt=[],At,wt=!0;for(s?(bt=s._length,At=s._length):(s=shapePool.newElement(),bt=0,At=0),Tt.push(s),et=0;et<ot;et+=1){for(vt=a[et].lengths,s.c=o[et].c,dt=o[et].c?vt.length:vt.length+1,ft=1;ft<dt;ft+=1)if(gt=vt[ft-1],mt+gt.addedLength<i.s)mt+=gt.addedLength,s.c=!1;else if(mt>i.e){s.c=!1;break}else i.s<=mt&&i.e>=mt+gt.addedLength?(this.addSegment(o[et].v[ft-1],o[et].o[ft-1],o[et].i[ft],o[et].v[ft],s,bt,wt),wt=!1):(Pt=bez.getNewSegment(o[et].v[ft-1],o[et].v[ft],o[et].o[ft-1],o[et].i[ft],(i.s-mt)/gt.addedLength,(i.e-mt)/gt.addedLength,vt[ft-1]),this.addSegmentFromArray(Pt,s,bt,wt),wt=!1,s.c=!1),mt+=gt.addedLength,bt+=1;if(o[et].c&&vt.length){if(gt=vt[ft-1],mt<=i.e){var _t=vt[ft-1].addedLength;i.s<=mt&&i.e>=mt+_t?(this.addSegment(o[et].v[ft-1],o[et].o[ft-1],o[et].i[0],o[et].v[0],s,bt,wt),wt=!1):(Pt=bez.getNewSegment(o[et].v[ft-1],o[et].v[0],o[et].o[ft-1],o[et].i[0],(i.s-mt)/_t,(i.e-mt)/_t,vt[ft-1]),this.addSegmentFromArray(Pt,s,bt,wt),wt=!1,s.c=!1)}else s.c=!1;mt+=gt.addedLength,bt+=1}if(s._length&&(s.setXYAt(s.v[At][0],s.v[At][1],"i",At),s.setXYAt(s.v[s._length-1][0],s.v[s._length-1][1],"o",s._length-1)),mt>i.e)break;et<ot-1&&(s=shapePool.newElement(),wt=!0,Tt.push(s),bt=0)}return Tt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,i){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,i.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,i){var s=i/100,a=[0,0],o=e._length,et=0;for(et=0;et<o;et+=1)a[0]+=e.v[et][0],a[1]+=e.v[et][1];a[0]/=o,a[1]/=o;var ot=shapePool.newElement();ot.c=e.c;var ft,dt,mt,gt,bt,vt;for(et=0;et<o;et+=1)ft=e.v[et][0]+(a[0]-e.v[et][0])*s,dt=e.v[et][1]+(a[1]-e.v[et][1])*s,mt=e.o[et][0]+(a[0]-e.o[et][0])*-s,gt=e.o[et][1]+(a[1]-e.o[et][1])*-s,bt=e.i[et][0]+(a[0]-e.i[et][0])*-s,vt=e.i[et][1]+(a[1]-e.i[et][1])*-s,ot.setTripleAt(ft,dt,mt,gt,bt,vt,et);return ot},PuckerAndBloatModifier.prototype.processShapes=function(e){var i,s,a=this.shapes.length,o,et,ot=this.amount.v;if(ot!==0){var ft,dt;for(s=0;s<a;s+=1){if(ft=this.shapes[s],dt=ft.localShapeCollection,!(!ft.shape._mdf&&!this._mdf&&!e))for(dt.releaseShapes(),ft.shape._mdf=!0,i=ft.shape.paths.shapes,et=ft.shape.paths._length,o=0;o<et;o+=1)dt.addShape(this.processPath(i[o],ot));ft.shape.paths=ft.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function i(dt){var mt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||mt,this.a&&dt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&dt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&dt.skewFromAxis(-this.sk.v,this.sa.v),this.r?dt.rotate(-this.r.v):dt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?dt.translate(this.px.v,this.py.v,-this.pz.v):dt.translate(this.px.v,this.py.v,0):dt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function s(dt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||dt){var mt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var gt,bt;if(mt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(gt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/mt,0),bt=this.p.getValueAtTime(this.p.keyframes[0].t/mt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(gt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/mt,0),bt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/mt,0)):(gt=this.p.pv,bt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/mt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){gt=[],bt=[];var vt=this.px,Pt=this.py;vt._caching.lastFrame+vt.offsetTime<=vt.keyframes[0].t?(gt[0]=vt.getValueAtTime((vt.keyframes[0].t+.01)/mt,0),gt[1]=Pt.getValueAtTime((Pt.keyframes[0].t+.01)/mt,0),bt[0]=vt.getValueAtTime(vt.keyframes[0].t/mt,0),bt[1]=Pt.getValueAtTime(Pt.keyframes[0].t/mt,0)):vt._caching.lastFrame+vt.offsetTime>=vt.keyframes[vt.keyframes.length-1].t?(gt[0]=vt.getValueAtTime(vt.keyframes[vt.keyframes.length-1].t/mt,0),gt[1]=Pt.getValueAtTime(Pt.keyframes[Pt.keyframes.length-1].t/mt,0),bt[0]=vt.getValueAtTime((vt.keyframes[vt.keyframes.length-1].t-.01)/mt,0),bt[1]=Pt.getValueAtTime((Pt.keyframes[Pt.keyframes.length-1].t-.01)/mt,0)):(gt=[vt.pv,Pt.pv],bt[0]=vt.getValueAtTime((vt._caching.lastFrame+vt.offsetTime-.01)/mt,vt.offsetTime),bt[1]=Pt.getValueAtTime((Pt._caching.lastFrame+Pt.offsetTime-.01)/mt,Pt.offsetTime))}else bt=e,gt=bt;this.v.rotate(-Math.atan2(gt[1]-bt[1],gt[0]-bt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function a(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function o(){}function et(dt){this._addDynamicProperty(dt),this.elem.addDynamicProperty(dt),this._isDirty=!0}function ot(dt,mt,gt){if(this.elem=dt,this.frameId=-1,this.propType="transform",this.data=mt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(gt||dt),mt.p&&mt.p.s?(this.px=PropertyFactory.getProp(dt,mt.p.x,0,0,this),this.py=PropertyFactory.getProp(dt,mt.p.y,0,0,this),mt.p.z&&(this.pz=PropertyFactory.getProp(dt,mt.p.z,0,0,this))):this.p=PropertyFactory.getProp(dt,mt.p||{k:[0,0,0]},1,0,this),mt.rx){if(this.rx=PropertyFactory.getProp(dt,mt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(dt,mt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(dt,mt.rz,0,degToRads,this),mt.or.k[0].ti){var bt,vt=mt.or.k.length;for(bt=0;bt<vt;bt+=1)mt.or.k[bt].to=null,mt.or.k[bt].ti=null}this.or=PropertyFactory.getProp(dt,mt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(dt,mt.r||{k:0},0,degToRads,this);mt.sk&&(this.sk=PropertyFactory.getProp(dt,mt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(dt,mt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(dt,mt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(dt,mt.s||{k:[100,100,100]},1,.01,this),mt.o?this.o=PropertyFactory.getProp(dt,mt.o,0,.01,dt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}ot.prototype={applyToMatrix:i,getValue:s,precalculateMatrix:a,autoOrient:o},extendPrototype([DynamicPropertyContainer],ot),ot.prototype.addDynamicProperty=et,ot.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ft(dt,mt,gt){return new ot(dt,mt,gt)}return{getTransformProperty:ft}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,i){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,i.c,0,null,this),this.o=PropertyFactory.getProp(e,i.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,i.tr,this),this.so=PropertyFactory.getProp(e,i.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,i.tr.eo,0,.01,this),this.data=i,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,i,s,a,o,et){var ot=et?-1:1,ft=a.s.v[0]+(1-a.s.v[0])*(1-o),dt=a.s.v[1]+(1-a.s.v[1])*(1-o);e.translate(a.p.v[0]*ot*o,a.p.v[1]*ot*o,a.p.v[2]),i.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),i.rotate(-a.r.v*ot*o),i.translate(a.a.v[0],a.a.v[1],a.a.v[2]),s.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),s.scale(et?1/ft:ft,et?1/dt:dt),s.translate(a.a.v[0],a.a.v[1],a.a.v[2])},RepeaterModifier.prototype.init=function(e,i,s,a){for(this.elem=e,this.arr=i,this.pos=s,this.elemsData=a,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,i[s]);s>0;)s-=1,this._elements.unshift(i[s]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var i,s=e.length;for(i=0;i<s;i+=1)e[i]._processed=!1,e[i].ty==="gr"&&this.resetElements(e[i].it)},RepeaterModifier.prototype.cloneElements=function(e){var i=JSON.parse(JSON.stringify(e));return this.resetElements(i),i},RepeaterModifier.prototype.changeGroupRender=function(e,i){var s,a=e.length;for(s=0;s<a;s+=1)e[s]._render=i,e[s].ty==="gr"&&this.changeGroupRender(e[s].it,i)},RepeaterModifier.prototype.processShapes=function(e){var i,s,a,o,et,ot=!1;if(this._mdf||e){var ft=Math.ceil(this.c.v);if(this._groups.length<ft){for(;this._groups.length<ft;){var dt={it:this.cloneElements(this._elements),ty:"gr"};dt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,dt),this._groups.splice(0,0,dt),this._currentCopies+=1}this.elem.reloadShapes(),ot=!0}et=0;var mt;for(a=0;a<=this._groups.length-1;a+=1){if(mt=et<ft,this._groups[a]._render=mt,this.changeGroupRender(this._groups[a].it,mt),!mt){var gt=this.elemsData[a].it,bt=gt[gt.length-1];bt.transform.op.v!==0?(bt.transform.op._mdf=!0,bt.transform.op.v=0):bt.transform.op._mdf=!1}et+=1}this._currentCopies=ft;var vt=this.o.v,Pt=vt%1,Tt=vt>0?Math.floor(vt):Math.ceil(vt),At=this.pMatrix.props,wt=this.rMatrix.props,_t=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Et=0;if(vt>0){for(;Et<Tt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Et+=1;Pt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,Pt,!1),Et+=Pt)}else if(vt<0){for(;Et>Tt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Et-=1;Pt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-Pt,!0),Et-=Pt)}a=this.data.m===1?0:this._currentCopies-1,o=this.data.m===1?1:-1,et=this._currentCopies;for(var yt,St;et;){if(i=this.elemsData[a].it,s=i[i.length-1].transform.mProps.v.props,St=s.length,i[i.length-1].transform.mProps._mdf=!0,i[i.length-1].transform.op._mdf=!0,i[i.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(a/(this._currentCopies-1)),Et!==0){for((a!==0&&o===1||a!==this._currentCopies-1&&o===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(wt[0],wt[1],wt[2],wt[3],wt[4],wt[5],wt[6],wt[7],wt[8],wt[9],wt[10],wt[11],wt[12],wt[13],wt[14],wt[15]),this.matrix.transform(_t[0],_t[1],_t[2],_t[3],_t[4],_t[5],_t[6],_t[7],_t[8],_t[9],_t[10],_t[11],_t[12],_t[13],_t[14],_t[15]),this.matrix.transform(At[0],At[1],At[2],At[3],At[4],At[5],At[6],At[7],At[8],At[9],At[10],At[11],At[12],At[13],At[14],At[15]),yt=0;yt<St;yt+=1)s[yt]=this.matrix.props[yt];this.matrix.reset()}else for(this.matrix.reset(),yt=0;yt<St;yt+=1)s[yt]=this.matrix.props[yt];Et+=1,et-=1,a+=o}}else for(et=this._currentCopies,a=0,o=1;et;)i=this.elemsData[a].it,s=i[i.length-1].transform.mProps.v.props,i[i.length-1].transform.mProps._mdf=!1,i[i.length-1].transform.op._mdf=!1,et-=1,a+=o;return ot},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,i){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,i.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,i){var s=shapePool.newElement();s.c=e.c;var a,o=e._length,et,ot,ft,dt,mt,gt,bt=0,vt,Pt,Tt,At,wt,_t;for(a=0;a<o;a+=1)et=e.v[a],ft=e.o[a],ot=e.i[a],et[0]===ft[0]&&et[1]===ft[1]&&et[0]===ot[0]&&et[1]===ot[1]?(a===0||a===o-1)&&!e.c?(s.setTripleAt(et[0],et[1],ft[0],ft[1],ot[0],ot[1],bt),bt+=1):(a===0?dt=e.v[o-1]:dt=e.v[a-1],mt=Math.sqrt(Math.pow(et[0]-dt[0],2)+Math.pow(et[1]-dt[1],2)),gt=mt?Math.min(mt/2,i)/mt:0,wt=et[0]+(dt[0]-et[0])*gt,vt=wt,_t=et[1]-(et[1]-dt[1])*gt,Pt=_t,Tt=vt-(vt-et[0])*roundCorner,At=Pt-(Pt-et[1])*roundCorner,s.setTripleAt(vt,Pt,Tt,At,wt,_t,bt),bt+=1,a===o-1?dt=e.v[0]:dt=e.v[a+1],mt=Math.sqrt(Math.pow(et[0]-dt[0],2)+Math.pow(et[1]-dt[1],2)),gt=mt?Math.min(mt/2,i)/mt:0,Tt=et[0]+(dt[0]-et[0])*gt,vt=Tt,At=et[1]+(dt[1]-et[1])*gt,Pt=At,wt=vt-(vt-et[0])*roundCorner,_t=Pt-(Pt-et[1])*roundCorner,s.setTripleAt(vt,Pt,Tt,At,wt,_t,bt),bt+=1):(s.setTripleAt(e.v[a][0],e.v[a][1],e.o[a][0],e.o[a][1],e.i[a][0],e.i[a][1],bt),bt+=1);return s},RoundCornersModifier.prototype.processShapes=function(e){var i,s,a=this.shapes.length,o,et,ot=this.rd.v;if(ot!==0){var ft,dt;for(s=0;s<a;s+=1){if(ft=this.shapes[s],dt=ft.localShapeCollection,!(!ft.shape._mdf&&!this._mdf&&!e))for(dt.releaseShapes(),ft.shape._mdf=!0,i=ft.shape.paths.shapes,et=ft.shape.paths._length,o=0;o<et;o+=1)dt.addShape(this.processPath(i[o],ot));ft.shape.paths=ft.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(e,i){return Math.abs(e-i)*1e5<=Math.min(Math.abs(e),Math.abs(i))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,i,s){return e*(1-s)+i*s}function lerpPoint(e,i,s){return[lerp(e[0],i[0],s),lerp(e[1],i[1],s)]}function quadRoots(e,i,s){if(e===0)return[];var a=i*i-4*e*s;if(a<0)return[];var o=-i/(2*e);if(a===0)return[o];var et=Math.sqrt(a)/(2*e);return[o-et,o+et]}function polynomialCoefficients(e,i,s,a){return[-e+3*i-3*s+a,3*e-6*i+3*s,-3*e+3*i,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,i,s,a,o){o&&pointEqual(e,i)&&(i=lerpPoint(e,a,1/3)),o&&pointEqual(s,a)&&(s=lerpPoint(e,a,2/3));var et=polynomialCoefficients(e[0],i[0],s[0],a[0]),ot=polynomialCoefficients(e[1],i[1],s[1],a[1]);this.a=[et[0],ot[0]],this.b=[et[1],ot[1]],this.c=[et[2],ot[2]],this.d=[et[3],ot[3]],this.points=[e,i,s,a]}PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var i=this.derivative(e);return Math.atan2(i[1],i[0])},PolynomialBezier.prototype.normalAngle=function(e){var i=this.derivative(e);return Math.atan2(i[0],i[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var i=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,s=i*i-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(s<0)return[];var a=Math.sqrt(s);return floatZero(a)?a>0&&a<1?[i]:[]:[i-a,i+a].filter(function(o){return o>0&&o<1})},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var i=lerpPoint(this.points[0],this.points[1],e),s=lerpPoint(this.points[1],this.points[2],e),a=lerpPoint(this.points[2],this.points[3],e),o=lerpPoint(i,s,e),et=lerpPoint(s,a,e),ot=lerpPoint(o,et,e);return[new PolynomialBezier(this.points[0],i,o,ot,!0),new PolynomialBezier(ot,et,a,this.points[3],!0)]};function extrema(e,i){var s=e.points[0][i],a=e.points[e.points.length-1][i];if(s>a){var o=a;a=s,s=o}for(var et=quadRoots(3*e.a[i],2*e.b[i],e.c[i]),ot=0;ot<et.length;ot+=1)if(et[ot]>0&&et[ot]<1){var ft=e.point(et[ot])[i];ft<s?s=ft:ft>a&&(a=ft)}return{min:s,max:a}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}};function intersectData(e,i,s){var a=e.boundingBox();return{cx:a.cx,cy:a.cy,width:a.width,height:a.height,bez:e,t:(i+s)/2,t1:i,t2:s}}function splitData(e){var i=e.bez.split(.5);return[intersectData(i[0],e.t1,e.t),intersectData(i[1],e.t,e.t2)]}function boxIntersect(e,i){return Math.abs(e.cx-i.cx)*2<e.width+i.width&&Math.abs(e.cy-i.cy)*2<e.height+i.height}function intersectsImpl(e,i,s,a,o,et){if(boxIntersect(e,i)){if(s>=et||e.width<=a&&e.height<=a&&i.width<=a&&i.height<=a){o.push([e.t,i.t]);return}var ot=splitData(e),ft=splitData(i);intersectsImpl(ot[0],ft[0],s+1,a,o,et),intersectsImpl(ot[0],ft[1],s+1,a,o,et),intersectsImpl(ot[1],ft[0],s+1,a,o,et),intersectsImpl(ot[1],ft[1],s+1,a,o,et)}}PolynomialBezier.prototype.intersections=function(e,i,s){i===void 0&&(i=2),s===void 0&&(s=7);var a=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,i,a,s),a},PolynomialBezier.shapeSegment=function(e,i){var s=(i+1)%e.length();return new PolynomialBezier(e.v[i],e.o[i],e.i[s],e.v[s],!0)},PolynomialBezier.shapeSegmentInverted=function(e,i){var s=(i+1)%e.length();return new PolynomialBezier(e.v[s],e.i[s],e.o[i],e.v[i],!0)};function crossProduct(e,i){return[e[1]*i[2]-e[2]*i[1],e[2]*i[0]-e[0]*i[2],e[0]*i[1]-e[1]*i[0]]}function lineIntersection(e,i,s,a){var o=[e[0],e[1],1],et=[i[0],i[1],1],ot=[s[0],s[1],1],ft=[a[0],a[1],1],dt=crossProduct(crossProduct(o,et),crossProduct(ot,ft));return floatZero(dt[2])?null:[dt[0]/dt[2],dt[1]/dt[2]]}function polarOffset(e,i,s){return[e[0]+Math.cos(i)*s,e[1]-Math.sin(i)*s]}function pointDistance(e,i){return Math.hypot(e[0]-i[0],e[1]-i[1])}function pointEqual(e,i){return floatEqual(e[0],i[0])&&floatEqual(e[1],i[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,i){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,i.s,0,null,this),this.frequency=PropertyFactory.getProp(e,i.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,i.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(e,i,s,a,o,et,ot){var ft=s-Math.PI/2,dt=s+Math.PI/2,mt=i[0]+Math.cos(s)*a*o,gt=i[1]-Math.sin(s)*a*o;e.setTripleAt(mt,gt,mt+Math.cos(ft)*et,gt-Math.sin(ft)*et,mt+Math.cos(dt)*ot,gt-Math.sin(dt)*ot,e.length())}function getPerpendicularVector(e,i){var s=[i[0]-e[0],i[1]-e[1]],a=-Math.PI*.5,o=[Math.cos(a)*s[0]-Math.sin(a)*s[1],Math.sin(a)*s[0]+Math.cos(a)*s[1]];return o}function getProjectingAngle(e,i){var s=i===0?e.length()-1:i-1,a=(i+1)%e.length(),o=e.v[s],et=e.v[a],ot=getPerpendicularVector(o,et);return Math.atan2(0,1)-Math.atan2(ot[1],ot[0])}function zigZagCorner(e,i,s,a,o,et,ot){var ft=getProjectingAngle(i,s),dt=i.v[s%i._length],mt=i.v[s===0?i._length-1:s-1],gt=i.v[(s+1)%i._length],bt=et===2?Math.sqrt(Math.pow(dt[0]-mt[0],2)+Math.pow(dt[1]-mt[1],2)):0,vt=et===2?Math.sqrt(Math.pow(dt[0]-gt[0],2)+Math.pow(dt[1]-gt[1],2)):0;setPoint(e,i.v[s%i._length],ft,ot,a,vt/((o+1)*2),bt/((o+1)*2))}function zigZagSegment(e,i,s,a,o,et){for(var ot=0;ot<a;ot+=1){var ft=(ot+1)/(a+1),dt=o===2?Math.sqrt(Math.pow(i.points[3][0]-i.points[0][0],2)+Math.pow(i.points[3][1]-i.points[0][1],2)):0,mt=i.normalAngle(ft),gt=i.point(ft);setPoint(e,gt,mt,et,s,dt/((a+1)*2),dt/((a+1)*2)),et=-et}return et}ZigZagModifier.prototype.processPath=function(e,i,s,a){var o=e._length,et=shapePool.newElement();if(et.c=e.c,e.c||(o-=1),o===0)return et;var ot=-1,ft=PolynomialBezier.shapeSegment(e,0);zigZagCorner(et,e,0,i,s,a,ot);for(var dt=0;dt<o;dt+=1)ot=zigZagSegment(et,ft,i,s,a,-ot),dt===o-1&&!e.c?ft=null:ft=PolynomialBezier.shapeSegment(e,(dt+1)%o),zigZagCorner(et,e,dt+1,i,s,a,ot);return et},ZigZagModifier.prototype.processShapes=function(e){var i,s,a=this.shapes.length,o,et,ot=this.amplitude.v,ft=Math.max(0,Math.round(this.frequency.v)),dt=this.pointsType.v;if(ot!==0){var mt,gt;for(s=0;s<a;s+=1){if(mt=this.shapes[s],gt=mt.localShapeCollection,!(!mt.shape._mdf&&!this._mdf&&!e))for(gt.releaseShapes(),mt.shape._mdf=!0,i=mt.shape.paths.shapes,et=mt.shape.paths._length,o=0;o<et;o+=1)gt.addShape(this.processPath(i[o],ot,ft,dt));mt.shape.paths=mt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(e,i,s){var a=Math.atan2(i[0]-e[0],i[1]-e[1]);return[polarOffset(e,a,s),polarOffset(i,a,s)]}function offsetSegment(e,i){var s,a,o,et,ot,ft,dt;dt=linearOffset(e.points[0],e.points[1],i),s=dt[0],a=dt[1],dt=linearOffset(e.points[1],e.points[2],i),o=dt[0],et=dt[1],dt=linearOffset(e.points[2],e.points[3],i),ot=dt[0],ft=dt[1];var mt=lineIntersection(s,a,o,et);mt===null&&(mt=a);var gt=lineIntersection(ot,ft,o,et);return gt===null&&(gt=ot),new PolynomialBezier(s,mt,gt,ft)}function joinLines(e,i,s,a,o){var et=i.points[3],ot=s.points[0];if(a===3||pointEqual(et,ot))return et;if(a===2){var ft=-i.tangentAngle(1),dt=-s.tangentAngle(0)+Math.PI,mt=lineIntersection(et,polarOffset(et,ft+Math.PI/2,100),ot,polarOffset(ot,ft+Math.PI/2,100)),gt=mt?pointDistance(mt,et):pointDistance(et,ot)/2,bt=polarOffset(et,ft,2*gt*roundCorner);return e.setXYAt(bt[0],bt[1],"o",e.length()-1),bt=polarOffset(ot,dt,2*gt*roundCorner),e.setTripleAt(ot[0],ot[1],ot[0],ot[1],bt[0],bt[1],e.length()),ot}var vt=pointEqual(et,i.points[2])?i.points[0]:i.points[2],Pt=pointEqual(ot,s.points[1])?s.points[3]:s.points[1],Tt=lineIntersection(vt,et,ot,Pt);return Tt&&pointDistance(Tt,et)<o?(e.setTripleAt(Tt[0],Tt[1],Tt[0],Tt[1],Tt[0],Tt[1],e.length()),Tt):et}function getIntersection(e,i){var s=e.intersections(i);return s.length&&floatEqual(s[0][0],1)&&s.shift(),s.length?s[0]:null}function pruneSegmentIntersection(e,i){var s=e.slice(),a=i.slice(),o=getIntersection(e[e.length-1],i[0]);return o&&(s[e.length-1]=e[e.length-1].split(o[0])[0],a[0]=i[0].split(o[1])[1]),e.length>1&&i.length>1&&(o=getIntersection(e[0],i[i.length-1]),o)?[[e[0].split(o[0])[0]],[i[i.length-1].split(o[1])[1]]]:[s,a]}function pruneIntersections(e){for(var i,s=1;s<e.length;s+=1)i=pruneSegmentIntersection(e[s-1],e[s]),e[s-1]=i[0],e[s]=i[1];return e.length>1&&(i=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=i[0],e[0]=i[1]),e}function offsetSegmentSplit(e,i){var s=e.inflectionPoints(),a,o,et,ot;if(s.length===0)return[offsetSegment(e,i)];if(s.length===1||floatEqual(s[1],1))return et=e.split(s[0]),a=et[0],o=et[1],[offsetSegment(a,i),offsetSegment(o,i)];et=e.split(s[0]),a=et[0];var ft=(s[1]-s[0])/(1-s[0]);return et=et[1].split(ft),ot=et[0],o=et[1],[offsetSegment(a,i),offsetSegment(ot,i),offsetSegment(o,i)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,i){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,i.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,i.ml,0,null,this),this.lineJoin=i.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(e,i,s,a){var o=shapePool.newElement();o.c=e.c;var et=e.length();e.c||(et-=1);var ot,ft,dt,mt=[];for(ot=0;ot<et;ot+=1)dt=PolynomialBezier.shapeSegment(e,ot),mt.push(offsetSegmentSplit(dt,i));if(!e.c)for(ot=et-1;ot>=0;ot-=1)dt=PolynomialBezier.shapeSegmentInverted(e,ot),mt.push(offsetSegmentSplit(dt,i));mt=pruneIntersections(mt);var gt=null,bt=null;for(ot=0;ot<mt.length;ot+=1){var vt=mt[ot];for(bt&&(gt=joinLines(o,bt,vt[0],s,a)),bt=vt[vt.length-1],ft=0;ft<vt.length;ft+=1)dt=vt[ft],gt&&pointEqual(dt.points[0],gt)?o.setXYAt(dt.points[1][0],dt.points[1][1],"o",o.length()-1):o.setTripleAt(dt.points[0][0],dt.points[0][1],dt.points[1][0],dt.points[1][1],dt.points[0][0],dt.points[0][1],o.length()),o.setTripleAt(dt.points[3][0],dt.points[3][1],dt.points[3][0],dt.points[3][1],dt.points[2][0],dt.points[2][1],o.length()),gt=dt.points[3]}return mt.length&&joinLines(o,bt,mt[0][0],s,a),o},OffsetPathModifier.prototype.processShapes=function(e){var i,s,a=this.shapes.length,o,et,ot=this.amount.v,ft=this.miterLimit.v,dt=this.lineJoin;if(ot!==0){var mt,gt;for(s=0;s<a;s+=1){if(mt=this.shapes[s],gt=mt.localShapeCollection,!(!mt.shape._mdf&&!this._mdf&&!e))for(gt.releaseShapes(),mt.shape._mdf=!0,i=mt.shape.paths.shapes,et=mt.shape.paths._length,o=0;o<et;o+=1)gt.addShape(this.processPath(i[o],ot,dt,ft));mt.shape.paths=mt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(e){for(var i=e.fStyle?e.fStyle.split(" "):[],s="normal",a="normal",o=i.length,et,ot=0;ot<o;ot+=1)switch(et=i[ot].toLowerCase(),et){case"italic":a="italic";break;case"bold":s="700";break;case"black":s="900";break;case"medium":s="500";break;case"regular":case"normal":s="400";break;case"light":case"thin":s="200";break}return{style:a,weight:e.fWeight||s}}var FontManager=function(){var e=5e3,i={w:0,size:0,shapes:[],data:{shapes:[]}},s=[];s=s.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var a=127988,o=917631,et=917601,ot=917626,ft=65039,dt=8205,mt=127462,gt=127487,bt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function vt(zt){var Ut=zt.split(","),kt,Ft=Ut.length,Qt=[];for(kt=0;kt<Ft;kt+=1)Ut[kt]!=="sans-serif"&&Ut[kt]!=="monospace"&&Qt.push(Ut[kt]);return Qt.join(",")}function Pt(zt,Ut){var kt=createTag("span");kt.setAttribute("aria-hidden",!0),kt.style.fontFamily=Ut;var Ft=createTag("span");Ft.innerText="giItT1WQy@!-/#",kt.style.position="absolute",kt.style.left="-10000px",kt.style.top="-10000px",kt.style.fontSize="300px",kt.style.fontVariant="normal",kt.style.fontStyle="normal",kt.style.fontWeight="normal",kt.style.letterSpacing="0",kt.appendChild(Ft),document.body.appendChild(kt);var Qt=Ft.offsetWidth;return Ft.style.fontFamily=vt(zt)+", "+Ut,{node:Ft,w:Qt,parent:kt}}function Tt(){var zt,Ut=this.fonts.length,kt,Ft,Qt=Ut;for(zt=0;zt<Ut;zt+=1)this.fonts[zt].loaded?Qt-=1:this.fonts[zt].fOrigin==="n"||this.fonts[zt].origin===0?this.fonts[zt].loaded=!0:(kt=this.fonts[zt].monoCase.node,Ft=this.fonts[zt].monoCase.w,kt.offsetWidth!==Ft?(Qt-=1,this.fonts[zt].loaded=!0):(kt=this.fonts[zt].sansCase.node,Ft=this.fonts[zt].sansCase.w,kt.offsetWidth!==Ft&&(Qt-=1,this.fonts[zt].loaded=!0)),this.fonts[zt].loaded&&(this.fonts[zt].sansCase.parent.parentNode.removeChild(this.fonts[zt].sansCase.parent),this.fonts[zt].monoCase.parent.parentNode.removeChild(this.fonts[zt].monoCase.parent)));Qt!==0&&Date.now()-this.initTime<e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function At(zt,Ut){var kt=document.body&&Ut?"svg":"canvas",Ft,Qt=getFontProperties(zt);if(kt==="svg"){var Zt=createNS("text");Zt.style.fontSize="100px",Zt.setAttribute("font-family",zt.fFamily),Zt.setAttribute("font-style",Qt.style),Zt.setAttribute("font-weight",Qt.weight),Zt.textContent="1",zt.fClass?(Zt.style.fontFamily="inherit",Zt.setAttribute("class",zt.fClass)):Zt.style.fontFamily=zt.fFamily,Ut.appendChild(Zt),Ft=Zt}else{var rr=new OffscreenCanvas(500,500).getContext("2d");rr.font=Qt.style+" "+Qt.weight+" 100px "+zt.fFamily,Ft=rr}function qt(Dt){return kt==="svg"?(Ft.textContent=Dt,Ft.getComputedTextLength()):Ft.measureText(Dt).width}return{measureText:qt}}function wt(zt,Ut){if(!zt){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=zt.list;return}if(!document.body){this.isLoaded=!0,zt.list.forEach(function(Wt){Wt.helper=At(Wt),Wt.cache={}}),this.fonts=zt.list;return}var kt=zt.list,Ft,Qt=kt.length,Zt=Qt;for(Ft=0;Ft<Qt;Ft+=1){var rr=!0,qt,Dt;if(kt[Ft].loaded=!1,kt[Ft].monoCase=Pt(kt[Ft].fFamily,"monospace"),kt[Ft].sansCase=Pt(kt[Ft].fFamily,"sans-serif"),!kt[Ft].fPath)kt[Ft].loaded=!0,Zt-=1;else if(kt[Ft].fOrigin==="p"||kt[Ft].origin===3){if(qt=document.querySelectorAll('style[f-forigin="p"][f-family="'+kt[Ft].fFamily+'"], style[f-origin="3"][f-family="'+kt[Ft].fFamily+'"]'),qt.length>0&&(rr=!1),rr){var Vt=createTag("style");Vt.setAttribute("f-forigin",kt[Ft].fOrigin),Vt.setAttribute("f-origin",kt[Ft].origin),Vt.setAttribute("f-family",kt[Ft].fFamily),Vt.type="text/css",Vt.innerText="@font-face {font-family: "+kt[Ft].fFamily+"; font-style: normal; src: url('"+kt[Ft].fPath+"');}",Ut.appendChild(Vt)}}else if(kt[Ft].fOrigin==="g"||kt[Ft].origin===1){for(qt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Dt=0;Dt<qt.length;Dt+=1)qt[Dt].href.indexOf(kt[Ft].fPath)!==-1&&(rr=!1);if(rr){var Lt=createTag("link");Lt.setAttribute("f-forigin",kt[Ft].fOrigin),Lt.setAttribute("f-origin",kt[Ft].origin),Lt.type="text/css",Lt.rel="stylesheet",Lt.href=kt[Ft].fPath,document.body.appendChild(Lt)}}else if(kt[Ft].fOrigin==="t"||kt[Ft].origin===2){for(qt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Dt=0;Dt<qt.length;Dt+=1)kt[Ft].fPath===qt[Dt].src&&(rr=!1);if(rr){var jt=createTag("link");jt.setAttribute("f-forigin",kt[Ft].fOrigin),jt.setAttribute("f-origin",kt[Ft].origin),jt.setAttribute("rel","stylesheet"),jt.setAttribute("href",kt[Ft].fPath),Ut.appendChild(jt)}}kt[Ft].helper=At(kt[Ft],Ut),kt[Ft].cache={},this.fonts.push(kt[Ft])}Zt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function _t(zt){if(zt){this.chars||(this.chars=[]);var Ut,kt=zt.length,Ft,Qt=this.chars.length,Zt;for(Ut=0;Ut<kt;Ut+=1){for(Ft=0,Zt=!1;Ft<Qt;)this.chars[Ft].style===zt[Ut].style&&this.chars[Ft].fFamily===zt[Ut].fFamily&&this.chars[Ft].ch===zt[Ut].ch&&(Zt=!0),Ft+=1;Zt||(this.chars.push(zt[Ut]),Qt+=1)}}}function Et(zt,Ut,kt){for(var Ft=0,Qt=this.chars.length;Ft<Qt;){if(this.chars[Ft].ch===zt&&this.chars[Ft].style===Ut&&this.chars[Ft].fFamily===kt)return this.chars[Ft];Ft+=1}return(typeof zt=="string"&&zt.charCodeAt(0)!==13||!zt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",zt,Ut,kt)),i}function yt(zt,Ut,kt){var Ft=this.getFontByName(Ut),Qt=zt;if(!Ft.cache[Qt]){var Zt=Ft.helper;if(zt===" "){var rr=Zt.measureText("|"+zt+"|"),qt=Zt.measureText("||");Ft.cache[Qt]=(rr-qt)/100}else Ft.cache[Qt]=Zt.measureText(zt)/100}return Ft.cache[Qt]*kt}function St(zt){for(var Ut=0,kt=this.fonts.length;Ut<kt;){if(this.fonts[Ut].fName===zt)return this.fonts[Ut];Ut+=1}return this.fonts[0]}function xt(zt){var Ut=0,kt=zt.charCodeAt(0);if(kt>=55296&&kt<=56319){var Ft=zt.charCodeAt(1);Ft>=56320&&Ft<=57343&&(Ut=(kt-55296)*1024+Ft-56320+65536)}return Ut}function Ct(zt,Ut){var kt=zt.toString(16)+Ut.toString(16);return bt.indexOf(kt)!==-1}function $t(zt){return zt===dt}function Rt(zt){return zt===ft}function It(zt){var Ut=xt(zt);return Ut>=mt&&Ut<=gt}function Nt(zt){return It(zt.substr(0,2))&&It(zt.substr(2,2))}function Ot(zt){return s.indexOf(zt)!==-1}function Gt(zt,Ut){var kt=xt(zt.substr(Ut,2));if(kt!==a)return!1;var Ft=0;for(Ut+=2;Ft<5;){if(kt=xt(zt.substr(Ut,2)),kt<et||kt>ot)return!1;Ft+=1,Ut+=2}return xt(zt.substr(Ut,2))===o}function Xt(){this.isLoaded=!0}var Ht=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Ht.isModifier=Ct,Ht.isZeroWidthJoiner=$t,Ht.isFlagEmoji=Nt,Ht.isRegionalCode=It,Ht.isCombinedCharacter=Ot,Ht.isRegionalFlag=Gt,Ht.isVariationSelector=Rt,Ht.BLACK_FLAG_CODE_POINT=a;var Yt={addChars:_t,addFonts:wt,getCharData:Et,getFontByName:St,measureText:yt,checkLoadedFonts:Tt,setIsLoaded:Xt};return Ht.prototype=Yt,Ht}();function SlotManager(e){this.animationData=e}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e};function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(i){this.renderableComponents.indexOf(i)===-1&&this.renderableComponents.push(i)},removeRenderableComponent:function(i){this.renderableComponents.indexOf(i)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(i),1)},prepareRenderableFrame:function(i){this.checkLayerLimits(i)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(i){this.data.ip-this.data.st<=i&&this.data.op-this.data.st>i?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var i,s=this.renderableComponents.length;for(i=0;i<s;i+=1)this.renderableComponents[i].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(i){return e[i]||""}}();function SliderEffect(e,i,s){this.p=PropertyFactory.getProp(i,e.v,0,0,s)}function AngleEffect(e,i,s){this.p=PropertyFactory.getProp(i,e.v,0,0,s)}function ColorEffect(e,i,s){this.p=PropertyFactory.getProp(i,e.v,1,0,s)}function PointEffect(e,i,s){this.p=PropertyFactory.getProp(i,e.v,1,0,s)}function LayerIndexEffect(e,i,s){this.p=PropertyFactory.getProp(i,e.v,0,0,s)}function MaskIndexEffect(e,i,s){this.p=PropertyFactory.getProp(i,e.v,0,0,s)}function CheckboxEffect(e,i,s){this.p=PropertyFactory.getProp(i,e.v,0,0,s)}function NoValueEffect(){this.p={}}function EffectsManager(e,i){var s=e.ef||[];this.effectElements=[];var a,o=s.length,et;for(a=0;a<o;a+=1)et=new GroupEffect(s[a],i),this.effectElements.push(et)}function GroupEffect(e,i){this.init(e,i)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,i){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(i);var s,a=this.data.ef.length,o,et=this.data.ef;for(s=0;s<a;s+=1){switch(o=null,et[s].ty){case 0:o=new SliderEffect(et[s],i,this);break;case 1:o=new AngleEffect(et[s],i,this);break;case 2:o=new ColorEffect(et[s],i,this);break;case 3:o=new PointEffect(et[s],i,this);break;case 4:case 7:o=new CheckboxEffect(et[s],i,this);break;case 10:o=new LayerIndexEffect(et[s],i,this);break;case 11:o=new MaskIndexEffect(et[s],i,this);break;case 5:o=new EffectsManager(et[s],i);break;default:o=new NoValueEffect(et[s]);break}o&&this.effectElements.push(o)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var i=0,s=this.data.masksProperties.length;i<s;){if(this.data.masksProperties[i].mode!=="n"&&this.data.masksProperties[i].cl!==!1)return!0;i+=1}return!1},initExpressions:function(){var i=getExpressionInterfaces();if(i){var s=i("layer"),a=i("effects"),o=i("shape"),et=i("text"),ot=i("comp");this.layerInterface=s(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ft=a.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ft),this.data.ty===0||this.data.xt?this.compInterface=ot(this):this.data.ty===4?(this.layerInterface.shapeInterface=o(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=et(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var i=getBlendMode(this.data.bm),s=this.baseElement||this.layerElement;s.style["mix-blend-mode"]=i},initBaseData:function(i,s,a){this.globalData=s,this.comp=a,this.data=i,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(i,s){var a,o=this.dynamicProperties.length;for(a=0;a<o;a+=1)(s||this._isParent&&this.dynamicProperties[a].propType==="transform")&&(this.dynamicProperties[a].getValue(),this.dynamicProperties[a]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(i){this.dynamicProperties.indexOf(i)===-1&&this.dynamicProperties.push(i)}};function FootageElement(e,i,s){this.initFrame(),this.initRenderable(),this.assetData=i.getAssetData(e.refId),this.footageData=i.imageLoader.getAsset(this.assetData),this.initBaseData(e,i,s)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var i=e("footage");this.layerInterface=i(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(e,i,s){this.initFrame(),this.initRenderable(),this.assetData=i.getAssetData(e.refId),this.initBaseData(e,i,s),this._isPlaying=!1,this._canPlay=!1;var a=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(a),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,i.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var i=this.tm.v;this._currentTime=i}this._volume=this.lv.v[0];var s=this._volume*this._volumeMultiplier;this._previousVolume!==s&&(this._previousVolume=s,this.audio.volume(s))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(e){var i,s=this.layers.length,a;for(this.completeLayers=!0,i=s-1;i>=0;i-=1)this.elements[i]||(a=this.layers[i],a.ip-a.st<=e-this.layers[i].st&&a.op-a.st>e-this.layers[i].st&&this.buildItem(i)),this.completeLayers=this.elements[i]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e);default:return this.createNull(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,i=this.layers.length;for(e=0;e<i;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var i,s=e.length,a,o=this.layers.length;for(i=0;i<s;i+=1)for(a=0;a<o;){if(this.layers[a].id===e[i].id){this.layers[a]=e[i];break}a+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,i,s){for(var a=this.elements,o=this.layers,et=0,ot=o.length;et<ot;)o[et].ind==i&&(!a[et]||a[et]===!0?(this.buildItem(et),this.addPendingElement(e)):(s.push(a[et]),a[et].setAsParent(),o[et].parent!==void 0?this.buildElementParenting(e,o[et].parent,s):e.setHierarchy(s))),et+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var i,s=e.length;for(i=0;i<s;i+=1)if(e[i].xt){var a=this.createComp(e[i]);a.initExpressions(),this.globalData.projectInterface.registerComposition(a)}},BaseRenderer.prototype.getElementById=function(e){var i,s=this.elements.length;for(i=0;i<s;i+=1)if(this.elements[i].data.ind===e)return this.elements[i];return null},BaseRenderer.prototype.getElementByPath=function(e){var i=e.shift(),s;if(typeof i=="number")s=this.elements[i];else{var a,o=this.elements.length;for(a=0;a<o;a+=1)if(this.elements[a].data.nm===i){s=this.elements[a];break}}return e.length===0?s:s.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,i){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,i),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var i=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:i,localMat:i,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var i,s=this.finalTransform.mat,a=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;a<o;){if(this.hierarchy[a].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}a+=1}if(this.finalTransform._matMdf)for(i=this.finalTransform.mProp.v.props,s.cloneFromProps(i),a=0;a<o;a+=1)s.multiply(this.hierarchy[a].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var i=0,s=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;i<s;)this.localTransforms[i]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[i]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),i+=1;if(this.finalTransform._localMatMdf){var a=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(a),i=1;i<s;i+=1){var o=this.localTransforms[i].matrix;a.multiply(o)}a.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var et=this.finalTransform.localOpacity;for(i=0;i<s;i+=1)et*=this.localTransforms[i].opacity*.01;this.finalTransform.localOpacity=et}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var i=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(i.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var s=0,a=i.length;for(s=0;s<a;s+=1)this.localTransforms.push(i[s])}}},globalToLocal:function(i){var s=[];s.push(this.finalTransform);for(var a=!0,o=this.comp;a;)o.finalTransform?(o.data.hasMask&&s.splice(0,0,o.finalTransform),o=o.comp):a=!1;var et,ot=s.length,ft;for(et=0;et<ot;et+=1)ft=s[et].mat.applyToPointArray(0,0,0),i=[i[0]-ft[0],i[1]-ft[1],0];return i},mHelper:new Matrix};function MaskElement(e,i,s){this.data=e,this.element=i,this.globalData=s,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var a=this.globalData.defs,o,et=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(et),this.solidPath="";var ot,ft=this.masksProperties,dt=0,mt=[],gt,bt,vt=createElementID(),Pt,Tt,At,wt,_t="clipPath",Et="clip-path";for(o=0;o<et;o+=1)if((ft[o].mode!=="a"&&ft[o].mode!=="n"||ft[o].inv||ft[o].o.k!==100||ft[o].o.x)&&(_t="mask",Et="mask"),(ft[o].mode==="s"||ft[o].mode==="i")&&dt===0?(Pt=createNS("rect"),Pt.setAttribute("fill","#ffffff"),Pt.setAttribute("width",this.element.comp.data.w||0),Pt.setAttribute("height",this.element.comp.data.h||0),mt.push(Pt)):Pt=null,ot=createNS("path"),ft[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,ft[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ft[o],3),elem:ot,lastPath:""},a.appendChild(ot);else{dt+=1,ot.setAttribute("fill",ft[o].mode==="s"?"#000000":"#ffffff"),ot.setAttribute("clip-rule","nonzero");var yt;if(ft[o].x.k!==0?(_t="mask",Et="mask",wt=PropertyFactory.getProp(this.element,ft[o].x,0,null,this.element),yt=createElementID(),Tt=createNS("filter"),Tt.setAttribute("id",yt),At=createNS("feMorphology"),At.setAttribute("operator","erode"),At.setAttribute("in","SourceGraphic"),At.setAttribute("radius","0"),Tt.appendChild(At),a.appendChild(Tt),ot.setAttribute("stroke",ft[o].mode==="s"?"#000000":"#ffffff")):(At=null,wt=null),this.storedData[o]={elem:ot,x:wt,expan:At,lastPath:"",lastOperator:"",filterId:yt,lastRadius:0},ft[o].mode==="i"){bt=mt.length;var St=createNS("g");for(gt=0;gt<bt;gt+=1)St.appendChild(mt[gt]);var xt=createNS("mask");xt.setAttribute("mask-type","alpha"),xt.setAttribute("id",vt+"_"+dt),xt.appendChild(ot),a.appendChild(xt),St.setAttribute("mask","url("+getLocationHref()+"#"+vt+"_"+dt+")"),mt.length=0,mt.push(St)}else mt.push(ot);ft[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:ot,lastPath:"",op:PropertyFactory.getProp(this.element,ft[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ft[o],3),invRect:Pt},this.viewData[o].prop.k||this.drawPath(ft[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(_t),et=mt.length,o=0;o<et;o+=1)this.maskElement.appendChild(mt[o]);dt>0&&(this.maskElement.setAttribute("id",vt),this.element.maskedElement.setAttribute(Et,"url("+getLocationHref()+"#"+vt+")"),a.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var i=this.element.finalTransform.mat,s,a=this.masksProperties.length;for(s=0;s<a;s+=1)if((this.viewData[s].prop._mdf||e)&&this.drawPath(this.masksProperties[s],this.viewData[s].prop.v,this.viewData[s]),(this.viewData[s].op._mdf||e)&&this.viewData[s].elem.setAttribute("fill-opacity",this.viewData[s].op.v),this.masksProperties[s].mode!=="n"&&(this.viewData[s].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[s].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[s].x&&(this.storedData[s].x._mdf||e))){var o=this.storedData[s].expan;this.storedData[s].x.v<0?(this.storedData[s].lastOperator!=="erode"&&(this.storedData[s].lastOperator="erode",this.storedData[s].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[s].filterId+")")),o.setAttribute("radius",-this.storedData[s].x.v)):(this.storedData[s].lastOperator!=="dilate"&&(this.storedData[s].lastOperator="dilate",this.storedData[s].elem.setAttribute("filter",null)),this.storedData[s].elem.setAttribute("stroke-width",this.storedData[s].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" ",e},MaskElement.prototype.drawPath=function(e,i,s){var a=" M"+i.v[0][0]+","+i.v[0][1],o,et;for(et=i._length,o=1;o<et;o+=1)a+=" C"+i.o[o-1][0]+","+i.o[o-1][1]+" "+i.i[o][0]+","+i.i[o][1]+" "+i.v[o][0]+","+i.v[o][1];if(i.c&&et>1&&(a+=" C"+i.o[o-1][0]+","+i.o[o-1][1]+" "+i.i[0][0]+","+i.i[0][1]+" "+i.v[0][0]+","+i.v[0][1]),s.lastPath!==a){var ot="";s.elem&&(i.c&&(ot=e.inv?this.solidPath+a:a),s.elem.setAttribute("d",ot)),s.lastPath=a}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={};e.createFilter=i,e.createAlphaToLuminanceFilter=s;function i(a,o){var et=createNS("filter");return et.setAttribute("id",a),o!==!0&&(et.setAttribute("filterUnits","objectBoundingBox"),et.setAttribute("x","0%"),et.setAttribute("y","0%"),et.setAttribute("width","100%"),et.setAttribute("height","100%")),et}function s(){var a=createNS("feColorMatrix");return a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),a}return e}(),featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var i,s="SourceGraphic",a=e.data.ef?e.data.ef.length:0,o=createElementID(),et=filtersFactory.createFilter(o,!0),ot=0;this.filters=[];var ft;for(i=0;i<a;i+=1){ft=null;var dt=e.data.ef[i].ty;if(registeredEffects$1[dt]){var mt=registeredEffects$1[dt].effect;ft=new mt(et,e.effectsManager.effectElements[i],e,idPrefix+ot,s),s=idPrefix+ot,registeredEffects$1[dt].countsAsEffect&&(ot+=1)}ft&&this.filters.push(ft)}ot&&(e.globalData.defs.appendChild(et),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+o+")")),this.filters.length&&e.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(e){var i,s=this.filters.length;for(i=0;i<s;i+=1)this.filters[i].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var i,s=this.filters.length,a=[];for(i=0;i<s;i+=1)this.filters[i].type===e&&a.push(this.filters[i]);return a};function registerEffect$1(e,i,s){registeredEffects$1[e]={effect:i,countsAsEffect:s}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var i=null;if(this.data.td){this.matteMasks={};var s=createNS("g");s.setAttribute("id",this.layerId),s.appendChild(this.layerElement),i=s,this.globalData.defs.appendChild(s)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var a=createNS("clipPath"),o=createNS("path");o.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var et=createElementID();if(a.setAttribute("id",et),a.appendChild(o),this.globalData.defs.appendChild(a),this.checkMasks()){var ot=createNS("g");ot.setAttribute("clip-path","url("+getLocationHref()+"#"+et+")"),ot.appendChild(this.layerElement),this.transformedElement=ot,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+et+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(i){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[i]){var s=this.layerId+"_"+i,a,o,et,ot;if(i===1||i===3){var ft=createNS("mask");ft.setAttribute("id",s),ft.setAttribute("mask-type",i===3?"luminance":"alpha"),et=createNS("use"),et.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ft.appendChild(et),this.globalData.defs.appendChild(ft),!featureSupport.maskType&&i===1&&(ft.setAttribute("mask-type","luminance"),a=createElementID(),o=filtersFactory.createFilter(a),this.globalData.defs.appendChild(o),o.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ot=createNS("g"),ot.appendChild(et),ft.appendChild(ot),ot.setAttribute("filter","url("+getLocationHref()+"#"+a+")"))}else if(i===2){var dt=createNS("mask");dt.setAttribute("id",s),dt.setAttribute("mask-type","alpha");var mt=createNS("g");dt.appendChild(mt),a=createElementID(),o=filtersFactory.createFilter(a);var gt=createNS("feComponentTransfer");gt.setAttribute("in","SourceGraphic"),o.appendChild(gt);var bt=createNS("feFuncA");bt.setAttribute("type","table"),bt.setAttribute("tableValues","1.0 0.0"),gt.appendChild(bt),this.globalData.defs.appendChild(o);var vt=createNS("rect");vt.setAttribute("width",this.comp.data.w),vt.setAttribute("height",this.comp.data.h),vt.setAttribute("x","0"),vt.setAttribute("y","0"),vt.setAttribute("fill","#ffffff"),vt.setAttribute("opacity","0"),mt.setAttribute("filter","url("+getLocationHref()+"#"+a+")"),mt.appendChild(vt),et=createNS("use"),et.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),mt.appendChild(et),featureSupport.maskType||(dt.setAttribute("mask-type","luminance"),o.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ot=createNS("g"),mt.appendChild(vt),ot.appendChild(this.layerElement),mt.appendChild(ot)),this.globalData.defs.appendChild(dt)}this.matteMasks[i]=s}return this.matteMasks[i]},setMatte:function(i){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+i+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(i){this.hierarchy=i},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var e={initElement:function(s,a,o){this.initFrame(),this.initBaseData(s,a,o),this.initTransform(s,a,o),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var s=this.baseElement||this.layerElement;s.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var s=this.baseElement||this.layerElement;s.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(s){this._mdf=!1,this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(e)],RenderableDOMElement)})();function IImageElement(e,i,s){this.assetData=i.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=i.slotManager.getProp(this.assetData)),this.initElement(e,i,s),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(e,i){this.elem=e,this.pos=i}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(i){var s,a=this.shapeModifiers.length;for(s=0;s<a;s+=1)this.shapeModifiers[s].addShape(i)},isShapeInAnimatedModifiers:function(i){for(var s=0,a=this.shapeModifiers.length;s<a;)if(this.shapeModifiers[s].isAnimatedWithShape(i))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var i,s=this.shapes.length;for(i=0;i<s;i+=1)this.shapes[i].sh.reset();s=this.shapeModifiers.length;var a;for(i=s-1;i>=0&&(a=this.shapeModifiers[i].processShapes(this._isFirstFrame),!a);i-=1);}},searchProcessedElement:function(i){for(var s=this.processedElements,a=0,o=s.length;a<o;){if(s[a].elem===i)return s[a].pos;a+=1}return 0},addProcessedElement:function(i,s){for(var a=this.processedElements,o=a.length;o;)if(o-=1,a[o].elem===i){a[o].pos=s;return}a.push(new ProcessedElement(i,s))},prepareFrame:function(i){this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,i,s){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=s,this.lvl=i,this._isAnimated=!!s.k;for(var a=0,o=e.length;a<o;){if(e[a].mProps.dynamicProperties.length){this._isAnimated=!0;break}a+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(e,i){this.data=e,this.type=e.ty,this.d="",this.lvl=i,this._mdf=!1,this.closed=e.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(e,i,s,a){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(i.length),this.renderer=s,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",i.length?i.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(a);var o,et=i.length||0,ot;for(o=0;o<et;o+=1)ot=PropertyFactory.getProp(e,i[o].v,0,0,this),this.k=ot.k||this.k,this.dataProps[o]={n:i[o].n,p:ot};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(e){if(!(this.elem.globalData.frameId===this.frameId&&!e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var i=0,s=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),i=0;i<s;i+=1)this.dataProps[i].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[i].p.v:this.dashArray[i]=this.dataProps[i].p.v:this.dashoffset[0]=this.dataProps[i].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(e,i,s){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,i.o,0,.01,this),this.w=PropertyFactory.getProp(e,i.w,0,null,this),this.d=new DashProperty(e,i.d||{},"svg",this),this.c=PropertyFactory.getProp(e,i.c,1,255,this),this.style=s,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(e,i,s){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,i.o,0,.01,this),this.c=PropertyFactory.getProp(e,i.c,1,255,this),this.style=s}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(e,i,s){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=s}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(e,i,s){this.data=i,this.c=createTypedArray("uint8c",i.p*4);var a=i.k.k[0].s?i.k.k[0].s.length-i.p*4:i.k.k.length-i.p*4;this.o=createTypedArray("float32",a),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=a,this.initDynamicPropertyContainer(s),this.prop=PropertyFactory.getProp(e,i.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(e,i){for(var s=0,a=this.o.length/2,o;s<a;){if(o=Math.abs(e[s*4]-e[i*4+s*2]),o>.01)return!1;s+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,i=this.data.k.k.length;e<i;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var i,s=this.data.p*4,a,o;for(i=0;i<s;i+=1)a=i%4===0?100:255,o=Math.round(this.prop.v[i]*a),this.c[i]!==o&&(this.c[i]=o,this._cmdf=!e);if(this.o.length)for(s=this.prop.v.length,i=this.data.p*4;i<s;i+=1)a=i%2===0?100:1,o=i%2===0?Math.round(this.prop.v[i]*100):this.prop.v[i],this.o[i-this.data.p*4]!==o&&(this.o[i-this.data.p*4]=o,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(e,i,s){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,i,s)}SVGGradientFillStyleData.prototype.initGradientData=function(e,i,s){this.o=PropertyFactory.getProp(e,i.o,0,.01,this),this.s=PropertyFactory.getProp(e,i.s,1,null,this),this.e=PropertyFactory.getProp(e,i.e,1,null,this),this.h=PropertyFactory.getProp(e,i.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,i.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,i.g,this),this.style=s,this.stops=[],this.setGradientData(s.pElem,i),this.setGradientOpacity(i,s),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,i){var s=createElementID(),a=createNS(i.t===1?"linearGradient":"radialGradient");a.setAttribute("id",s),a.setAttribute("spreadMethod","pad"),a.setAttribute("gradientUnits","userSpaceOnUse");var o=[],et,ot,ft;for(ft=i.g.p*4,ot=0;ot<ft;ot+=4)et=createNS("stop"),a.appendChild(et),o.push(et);e.setAttribute(i.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+s+")"),this.gf=a,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,i){if(this.g._hasOpacity&&!this.g._collapsable){var s,a,o,et=createNS("mask"),ot=createNS("path");et.appendChild(ot);var ft=createElementID(),dt=createElementID();et.setAttribute("id",dt);var mt=createNS(e.t===1?"linearGradient":"radialGradient");mt.setAttribute("id",ft),mt.setAttribute("spreadMethod","pad"),mt.setAttribute("gradientUnits","userSpaceOnUse"),o=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var gt=this.stops;for(a=e.g.p*4;a<o;a+=2)s=createNS("stop"),s.setAttribute("stop-color","rgb(255,255,255)"),mt.appendChild(s),gt.push(s);ot.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ft+")"),e.ty==="gs"&&(ot.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),ot.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),e.lj===1&&ot.setAttribute("stroke-miterlimit",e.ml)),this.of=mt,this.ms=et,this.ost=gt,this.maskId=dt,i.msElem=ot}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(e,i,s){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,i.w,0,null,this),this.d=new DashProperty(e,i.d||{},"svg",this),this.initGradientData(e,i,s),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,i,s){this.transform={mProps:e,op:i,container:s},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(i,s,a,o){if(s===0)return"";var et=i.o,ot=i.i,ft=i.v,dt,mt=" M"+o.applyToPointStringified(ft[0][0],ft[0][1]);for(dt=1;dt<s;dt+=1)mt+=" C"+o.applyToPointStringified(et[dt-1][0],et[dt-1][1])+" "+o.applyToPointStringified(ot[dt][0],ot[dt][1])+" "+o.applyToPointStringified(ft[dt][0],ft[dt][1]);return a&&s&&(mt+=" C"+o.applyToPointStringified(et[dt-1][0],et[dt-1][1])+" "+o.applyToPointStringified(ot[0][0],ot[0][1])+" "+o.applyToPointStringified(ft[0][0],ft[0][1]),mt+="z"),mt},SVGElementsRenderer=function(){var e=new Matrix,i=new Matrix,s={createRenderFunction:a};function a(bt){switch(bt.ty){case"fl":return ft;case"gf":return mt;case"gs":return dt;case"st":return gt;case"sh":case"el":case"rc":case"sr":return ot;case"tr":return o;case"no":return et;default:return null}}function o(bt,vt,Pt){(Pt||vt.transform.op._mdf)&&vt.transform.container.setAttribute("opacity",vt.transform.op.v),(Pt||vt.transform.mProps._mdf)&&vt.transform.container.setAttribute("transform",vt.transform.mProps.v.to2dCSS())}function et(){}function ot(bt,vt,Pt){var Tt,At,wt,_t,Et,yt,St=vt.styles.length,xt=vt.lvl,Ct,$t,Rt,It;for(yt=0;yt<St;yt+=1){if(_t=vt.sh._mdf||Pt,vt.styles[yt].lvl<xt){for($t=i.reset(),Rt=xt-vt.styles[yt].lvl,It=vt.transformers.length-1;!_t&&Rt>0;)_t=vt.transformers[It].mProps._mdf||_t,Rt-=1,It-=1;if(_t)for(Rt=xt-vt.styles[yt].lvl,It=vt.transformers.length-1;Rt>0;)$t.multiply(vt.transformers[It].mProps.v),Rt-=1,It-=1}else $t=e;if(Ct=vt.sh.paths,At=Ct._length,_t){for(wt="",Tt=0;Tt<At;Tt+=1)Et=Ct.shapes[Tt],Et&&Et._length&&(wt+=buildShapeString(Et,Et._length,Et.c,$t));vt.caches[yt]=wt}else wt=vt.caches[yt];vt.styles[yt].d+=bt.hd===!0?"":wt,vt.styles[yt]._mdf=_t||vt.styles[yt]._mdf}}function ft(bt,vt,Pt){var Tt=vt.style;(vt.c._mdf||Pt)&&Tt.pElem.setAttribute("fill","rgb("+bmFloor(vt.c.v[0])+","+bmFloor(vt.c.v[1])+","+bmFloor(vt.c.v[2])+")"),(vt.o._mdf||Pt)&&Tt.pElem.setAttribute("fill-opacity",vt.o.v)}function dt(bt,vt,Pt){mt(bt,vt,Pt),gt(bt,vt,Pt)}function mt(bt,vt,Pt){var Tt=vt.gf,At=vt.g._hasOpacity,wt=vt.s.v,_t=vt.e.v;if(vt.o._mdf||Pt){var Et=bt.ty==="gf"?"fill-opacity":"stroke-opacity";vt.style.pElem.setAttribute(Et,vt.o.v)}if(vt.s._mdf||Pt){var yt=bt.t===1?"x1":"cx",St=yt==="x1"?"y1":"cy";Tt.setAttribute(yt,wt[0]),Tt.setAttribute(St,wt[1]),At&&!vt.g._collapsable&&(vt.of.setAttribute(yt,wt[0]),vt.of.setAttribute(St,wt[1]))}var xt,Ct,$t,Rt;if(vt.g._cmdf||Pt){xt=vt.cst;var It=vt.g.c;for($t=xt.length,Ct=0;Ct<$t;Ct+=1)Rt=xt[Ct],Rt.setAttribute("offset",It[Ct*4]+"%"),Rt.setAttribute("stop-color","rgb("+It[Ct*4+1]+","+It[Ct*4+2]+","+It[Ct*4+3]+")")}if(At&&(vt.g._omdf||Pt)){var Nt=vt.g.o;for(vt.g._collapsable?xt=vt.cst:xt=vt.ost,$t=xt.length,Ct=0;Ct<$t;Ct+=1)Rt=xt[Ct],vt.g._collapsable||Rt.setAttribute("offset",Nt[Ct*2]+"%"),Rt.setAttribute("stop-opacity",Nt[Ct*2+1])}if(bt.t===1)(vt.e._mdf||Pt)&&(Tt.setAttribute("x2",_t[0]),Tt.setAttribute("y2",_t[1]),At&&!vt.g._collapsable&&(vt.of.setAttribute("x2",_t[0]),vt.of.setAttribute("y2",_t[1])));else{var Ot;if((vt.s._mdf||vt.e._mdf||Pt)&&(Ot=Math.sqrt(Math.pow(wt[0]-_t[0],2)+Math.pow(wt[1]-_t[1],2)),Tt.setAttribute("r",Ot),At&&!vt.g._collapsable&&vt.of.setAttribute("r",Ot)),vt.e._mdf||vt.h._mdf||vt.a._mdf||Pt){Ot||(Ot=Math.sqrt(Math.pow(wt[0]-_t[0],2)+Math.pow(wt[1]-_t[1],2)));var Gt=Math.atan2(_t[1]-wt[1],_t[0]-wt[0]),Xt=vt.h.v;Xt>=1?Xt=.99:Xt<=-1&&(Xt=-.99);var Ht=Ot*Xt,Yt=Math.cos(Gt+vt.a.v)*Ht+wt[0],zt=Math.sin(Gt+vt.a.v)*Ht+wt[1];Tt.setAttribute("fx",Yt),Tt.setAttribute("fy",zt),At&&!vt.g._collapsable&&(vt.of.setAttribute("fx",Yt),vt.of.setAttribute("fy",zt))}}}function gt(bt,vt,Pt){var Tt=vt.style,At=vt.d;At&&(At._mdf||Pt)&&At.dashStr&&(Tt.pElem.setAttribute("stroke-dasharray",At.dashStr),Tt.pElem.setAttribute("stroke-dashoffset",At.dashoffset[0])),vt.c&&(vt.c._mdf||Pt)&&Tt.pElem.setAttribute("stroke","rgb("+bmFloor(vt.c.v[0])+","+bmFloor(vt.c.v[1])+","+bmFloor(vt.c.v[2])+")"),(vt.o._mdf||Pt)&&Tt.pElem.setAttribute("stroke-opacity",vt.o.v),(vt.w._mdf||Pt)&&(Tt.pElem.setAttribute("stroke-width",vt.w.v),Tt.msElem&&Tt.msElem.setAttribute("stroke-width",vt.w.v))}return s}();function SVGShapeElement(e,i,s){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,i,s),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,i=this.shapes.length,s,a,o=this.stylesList.length,et,ot=[],ft=!1;for(a=0;a<o;a+=1){for(et=this.stylesList[a],ft=!1,ot.length=0,e=0;e<i;e+=1)s=this.shapes[e],s.styles.indexOf(et)!==-1&&(ot.push(s),ft=s._isAnimated||ft);ot.length>1&&ft&&this.setShapesAsAnimated(ot)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var i,s=e.length;for(i=0;i<s;i+=1)e[i].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,i){var s,a=new SVGStyleData(e,i),o=a.pElem;if(e.ty==="st")s=new SVGStrokeStyleData(this,e,a);else if(e.ty==="fl")s=new SVGFillStyleData(this,e,a);else if(e.ty==="gf"||e.ty==="gs"){var et=e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;s=new et(this,e,a),this.globalData.defs.appendChild(s.gf),s.maskId&&(this.globalData.defs.appendChild(s.ms),this.globalData.defs.appendChild(s.of),o.setAttribute("mask","url("+getLocationHref()+"#"+s.maskId+")"))}else e.ty==="no"&&(s=new SVGNoStyleData(this,e,a));return(e.ty==="st"||e.ty==="gs")&&(o.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),o.setAttribute("fill-opacity","0"),e.lj===1&&o.setAttribute("stroke-miterlimit",e.ml)),e.r===2&&o.setAttribute("fill-rule","evenodd"),e.ln&&o.setAttribute("id",e.ln),e.cl&&o.setAttribute("class",e.cl),e.bm&&(o.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(a),this.addToAnimatedContents(e,s),s},SVGShapeElement.prototype.createGroupElement=function(e){var i=new ShapeGroupData;return e.ln&&i.gr.setAttribute("id",e.ln),e.cl&&i.gr.setAttribute("class",e.cl),e.bm&&(i.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),i},SVGShapeElement.prototype.createTransformElement=function(e,i){var s=TransformPropertyFactory.getTransformProperty(this,e,this),a=new SVGTransformData(s,s.o,i);return this.addToAnimatedContents(e,a),a},SVGShapeElement.prototype.createShapeElement=function(e,i,s){var a=4;e.ty==="rc"?a=5:e.ty==="el"?a=6:e.ty==="sr"&&(a=7);var o=ShapePropertyFactory.getShapeProp(this,e,a,this),et=new SVGShapeData(i,s,o);return this.shapes.push(et),this.addShapeToModifiers(et),this.addToAnimatedContents(e,et),et},SVGShapeElement.prototype.addToAnimatedContents=function(e,i){for(var s=0,a=this.animatedContents.length;s<a;){if(this.animatedContents[s].element===i)return;s+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:i,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var i=e.styles,s,a=this.stylesList.length;for(s=0;s<a;s+=1)this.stylesList[s].closed||i.push(this.stylesList[s])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,i=this.itemsData.length;for(e=0;e<i;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),i=this.dynamicProperties.length,e=0;e<i;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,i,s,a,o,et,ot){var ft=[].concat(et),dt,mt=e.length-1,gt,bt,vt=[],Pt=[],Tt,At,wt;for(dt=mt;dt>=0;dt-=1){if(wt=this.searchProcessedElement(e[dt]),wt?i[dt]=s[wt-1]:e[dt]._render=ot,e[dt].ty==="fl"||e[dt].ty==="st"||e[dt].ty==="gf"||e[dt].ty==="gs"||e[dt].ty==="no")wt?i[dt].style.closed=!1:i[dt]=this.createStyleElement(e[dt],o),e[dt]._render&&i[dt].style.pElem.parentNode!==a&&a.appendChild(i[dt].style.pElem),vt.push(i[dt].style);else if(e[dt].ty==="gr"){if(!wt)i[dt]=this.createGroupElement(e[dt]);else for(bt=i[dt].it.length,gt=0;gt<bt;gt+=1)i[dt].prevViewData[gt]=i[dt].it[gt];this.searchShapes(e[dt].it,i[dt].it,i[dt].prevViewData,i[dt].gr,o+1,ft,ot),e[dt]._render&&i[dt].gr.parentNode!==a&&a.appendChild(i[dt].gr)}else e[dt].ty==="tr"?(wt||(i[dt]=this.createTransformElement(e[dt],a)),Tt=i[dt].transform,ft.push(Tt)):e[dt].ty==="sh"||e[dt].ty==="rc"||e[dt].ty==="el"||e[dt].ty==="sr"?(wt||(i[dt]=this.createShapeElement(e[dt],ft,o)),this.setElementStyles(i[dt])):e[dt].ty==="tm"||e[dt].ty==="rd"||e[dt].ty==="ms"||e[dt].ty==="pb"||e[dt].ty==="zz"||e[dt].ty==="op"?(wt?(At=i[dt],At.closed=!1):(At=ShapeModifiers.getModifier(e[dt].ty),At.init(this,e[dt]),i[dt]=At,this.shapeModifiers.push(At)),Pt.push(At)):e[dt].ty==="rp"&&(wt?(At=i[dt],At.closed=!0):(At=ShapeModifiers.getModifier(e[dt].ty),i[dt]=At,At.init(this,e,dt,i),this.shapeModifiers.push(At),ot=!1),Pt.push(At));this.addProcessedElement(e[dt],dt+1)}for(mt=vt.length,dt=0;dt<mt;dt+=1)vt[dt].closed=!0;for(mt=Pt.length,dt=0;dt<mt;dt+=1)Pt[dt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<i;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,i=this.animatedContents.length,s;for(e=0;e<i;e+=1)s=this.animatedContents[e],(this._isFirstFrame||s.element._isAnimated)&&s.data!==!0&&s.fn(s.data,s.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(e,i,s,a,o,et){this.o=e,this.sw=i,this.sc=s,this.fc=a,this.m=o,this.p=et,this._mdf={o:!0,sw:!!i,sc:!!s,fc:!!a,m:!0,p:!0}}LetterProps.prototype.update=function(e,i,s,a,o,et){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var ot=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,ot=!0),this.sw!==i&&(this.sw=i,this._mdf.sw=!0,ot=!0),this.sc!==s&&(this.sc=s,this._mdf.sc=!0,ot=!0),this.fc!==a&&(this.fc=a,this._mdf.fc=!0,ot=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,ot=!0),et.length&&(this.p[0]!==et[0]||this.p[1]!==et[1]||this.p[4]!==et[4]||this.p[5]!==et[5]||this.p[12]!==et[12]||this.p[13]!==et[13])&&(this.p=et,this._mdf.p=!0,ot=!0),ot};function TextProperty(e,i){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,i.d&&i.d.sid&&(i.d=e.globalData.slotManager.getProp(i.d)),this.data=i,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!e)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var i=this.currentData,s=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var a,o=this.effectsSequence.length,et=e||this.data.d.k[this.keysIndex].s;for(a=0;a<o;a+=1)s!==this.keysIndex?et=this.effectsSequence[a](et,et.t):et=this.effectsSequence[a](this.currentData,et.t);i!==et&&this.setCurrentData(et),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,i=this.elem.comp.renderedFrame,s=0,a=e.length;s<=a-1&&!(s===a-1||e[s+1].t>i);)s+=1;return this.keysIndex!==s&&(this.keysIndex=s),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var i=[],s=0,a=e.length,o,et,ot=!1,ft=!1,dt="";s<a;)ot=ft,ft=!1,o=e.charCodeAt(s),dt=e.charAt(s),FontManager.isCombinedCharacter(o)?ot=!0:o>=55296&&o<=56319?FontManager.isRegionalFlag(e,s)?dt=e.substr(s,14):(et=e.charCodeAt(s+1),et>=56320&&et<=57343&&(FontManager.isModifier(o,et)?(dt=e.substr(s,2),ot=!0):FontManager.isFlagEmoji(e.substr(s,4))?dt=e.substr(s,4):dt=e.substr(s,2))):o>56319?(et=e.charCodeAt(s+1),FontManager.isVariationSelector(o)&&(ot=!0)):FontManager.isZeroWidthJoiner(o)&&(ot=!0,ft=!0),ot?(i[i.length-1]+=dt,ot=!1):i.push(dt),s+=dt.length;return i},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var i=this.elem.globalData.fontManager,s=this.data,a=[],o,et,ot,ft=0,dt,mt=s.m.g,gt=0,bt=0,vt=0,Pt=[],Tt=0,At=0,wt,_t,Et=i.getFontByName(e.f),yt,St=0,xt=getFontProperties(Et);e.fWeight=xt.weight,e.fStyle=xt.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),et=e.finalText.length,e.finalLineHeight=e.lh;var Ct=e.tr/1e3*e.finalSize,$t;if(e.sz)for(var Rt=!0,It=e.sz[0],Nt=e.sz[1],Ot,Gt;Rt;){Gt=this.buildFinalText(e.t),Ot=0,Tt=0,et=Gt.length,Ct=e.tr/1e3*e.finalSize;var Xt=-1;for(o=0;o<et;o+=1)$t=Gt[o].charCodeAt(0),ot=!1,Gt[o]===" "?Xt=o:($t===13||$t===3)&&(Tt=0,ot=!0,Ot+=e.finalLineHeight||e.finalSize*1.2),i.chars?(yt=i.getCharData(Gt[o],Et.fStyle,Et.fFamily),St=ot?0:yt.w*e.finalSize/100):St=i.measureText(Gt[o],e.f,e.finalSize),Tt+St>It&&Gt[o]!==" "?(Xt===-1?et+=1:o=Xt,Ot+=e.finalLineHeight||e.finalSize*1.2,Gt.splice(o,Xt===o?1:0,"\r"),Xt=-1,Tt=0):(Tt+=St,Tt+=Ct);Ot+=Et.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&Nt<Ot?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=Gt,et=e.finalText.length,Rt=!1)}Tt=-Ct,St=0;var Ht=0,Yt;for(o=0;o<et;o+=1)if(ot=!1,Yt=e.finalText[o],$t=Yt.charCodeAt(0),$t===13||$t===3?(Ht=0,Pt.push(Tt),At=Tt>At?Tt:At,Tt=-2*Ct,dt="",ot=!0,vt+=1):dt=Yt,i.chars?(yt=i.getCharData(Yt,Et.fStyle,i.getFontByName(e.f).fFamily),St=ot?0:yt.w*e.finalSize/100):St=i.measureText(dt,e.f,e.finalSize),Yt===" "?Ht+=St+Ct:(Tt+=St+Ct+Ht,Ht=0),a.push({l:St,an:St,add:gt,n:ot,anIndexes:[],val:dt,line:vt,animatorJustifyOffset:0}),mt==2){if(gt+=St,dt===""||dt===" "||o===et-1){for((dt===""||dt===" ")&&(gt-=St);bt<=o;)a[bt].an=gt,a[bt].ind=ft,a[bt].extra=St,bt+=1;ft+=1,gt=0}}else if(mt==3){if(gt+=St,dt===""||o===et-1){for(dt===""&&(gt-=St);bt<=o;)a[bt].an=gt,a[bt].ind=ft,a[bt].extra=St,bt+=1;gt=0,ft+=1}}else a[ft].ind=ft,a[ft].extra=0,ft+=1;if(e.l=a,At=Tt>At?Tt:At,Pt.push(Tt),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=At,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=Pt;var zt=s.a,Ut,kt;_t=zt.length;var Ft,Qt,Zt=[];for(wt=0;wt<_t;wt+=1){for(Ut=zt[wt],Ut.a.sc&&(e.strokeColorAnim=!0),Ut.a.sw&&(e.strokeWidthAnim=!0),(Ut.a.fc||Ut.a.fh||Ut.a.fs||Ut.a.fb)&&(e.fillColorAnim=!0),Qt=0,Ft=Ut.s.b,o=0;o<et;o+=1)kt=a[o],kt.anIndexes[wt]=Qt,(Ft==1&&kt.val!==""||Ft==2&&kt.val!==""&&kt.val!==" "||Ft==3&&(kt.n||kt.val==" "||o==et-1)||Ft==4&&(kt.n||o==et-1))&&(Ut.s.rn===1&&Zt.push(Qt),Qt+=1);s.a[wt].s.totalChars=Qt;var rr=-1,qt;if(Ut.s.rn===1)for(o=0;o<et;o+=1)kt=a[o],rr!=kt.anIndexes[wt]&&(rr=kt.anIndexes[wt],qt=Zt.splice(Math.floor(Math.random()*Zt.length),1)[0]),kt.anIndexes[wt]=qt}e.yOffset=e.finalLineHeight||e.finalSize*1.2,e.ls=e.ls||0,e.ascent=Et.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,i){i=i===void 0?this.keysIndex:i;var s=this.copyData({},this.data.d.k[i].s);s=this.copyData(s,e),this.data.d.k[i].s=s,this.recalculate(i),this.setCurrentData(s),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var i=this.data.d.k[e].s;i.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(i)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,i=Math.min,s=Math.floor;function a(et,ot){this._currentTextLength=-1,this.k=!1,this.data=ot,this.elem=et,this.comp=et.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(et),this.s=PropertyFactory.getProp(et,ot.s||{k:0},0,0,this),"e"in ot?this.e=PropertyFactory.getProp(et,ot.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(et,ot.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(et,ot.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(et,ot.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(et,ot.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(et,ot.a,0,.01,this),this.dynamicProperties.length||this.getValue()}a.prototype={getMult:function(ot){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ft=0,dt=0,mt=1,gt=1;this.ne.v>0?ft=this.ne.v/100:dt=-this.ne.v/100,this.xe.v>0?mt=1-this.xe.v/100:gt=1+this.xe.v/100;var bt=BezierFactory.getBezierEasing(ft,dt,mt,gt).get,vt=0,Pt=this.finalS,Tt=this.finalE,At=this.data.sh;if(At===2)Tt===Pt?vt=ot>=Tt?1:0:vt=e(0,i(.5/(Tt-Pt)+(ot-Pt)/(Tt-Pt),1)),vt=bt(vt);else if(At===3)Tt===Pt?vt=ot>=Tt?0:1:vt=1-e(0,i(.5/(Tt-Pt)+(ot-Pt)/(Tt-Pt),1)),vt=bt(vt);else if(At===4)Tt===Pt?vt=0:(vt=e(0,i(.5/(Tt-Pt)+(ot-Pt)/(Tt-Pt),1)),vt<.5?vt*=2:vt=1-2*(vt-.5)),vt=bt(vt);else if(At===5){if(Tt===Pt)vt=0;else{var wt=Tt-Pt;ot=i(e(0,ot+.5-Pt),Tt-Pt);var _t=-wt/2+ot,Et=wt/2;vt=Math.sqrt(1-_t*_t/(Et*Et))}vt=bt(vt)}else At===6?(Tt===Pt?vt=0:(ot=i(e(0,ot+.5-Pt),Tt-Pt),vt=(1+Math.cos(Math.PI+Math.PI*2*ot/(Tt-Pt)))/2),vt=bt(vt)):(ot>=s(Pt)&&(ot-Pt<0?vt=e(0,i(i(Tt,1)-(Pt-ot),1)):vt=e(0,i(Tt-ot,1))),vt=bt(vt));if(this.sm.v!==100){var yt=this.sm.v*.01;yt===0&&(yt=1e-8);var St=.5-yt*.5;vt<St?vt=0:(vt=(vt-St)/yt,vt>1&&(vt=1))}return vt*this.a.v},getValue:function(ot){this.iterateDynamicProperties(),this._mdf=ot||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,ot&&this.data.r===2&&(this.e.v=this._currentTextLength);var ft=this.data.r===2?1:100/this.data.totalChars,dt=this.o.v/ft,mt=this.s.v/ft+dt,gt=this.e.v/ft+dt;if(mt>gt){var bt=mt;mt=gt,gt=bt}this.finalS=mt,this.finalE=gt}},extendPrototype([DynamicPropertyContainer],a);function o(et,ot,ft){return new a(et,ot)}return{getTextSelectorProp:o}}();function TextAnimatorDataProperty(e,i,s){var a={propType:!1},o=PropertyFactory.getProp,et=i.a;this.a={r:et.r?o(e,et.r,0,degToRads,s):a,rx:et.rx?o(e,et.rx,0,degToRads,s):a,ry:et.ry?o(e,et.ry,0,degToRads,s):a,sk:et.sk?o(e,et.sk,0,degToRads,s):a,sa:et.sa?o(e,et.sa,0,degToRads,s):a,s:et.s?o(e,et.s,1,.01,s):a,a:et.a?o(e,et.a,1,0,s):a,o:et.o?o(e,et.o,0,.01,s):a,p:et.p?o(e,et.p,1,0,s):a,sw:et.sw?o(e,et.sw,0,0,s):a,sc:et.sc?o(e,et.sc,1,0,s):a,fc:et.fc?o(e,et.fc,1,0,s):a,fh:et.fh?o(e,et.fh,0,0,s):a,fs:et.fs?o(e,et.fs,0,.01,s):a,fb:et.fb?o(e,et.fb,0,.01,s):a,t:et.t?o(e,et.t,0,0,s):a},this.s=TextSelectorProp.getTextSelectorProp(e,i.s,s),this.s.t=i.s.t}function TextAnimatorProperty(e,i,s){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=i,this._elem=s,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(s)}TextAnimatorProperty.prototype.searchProperties=function(){var e,i=this._textData.a.length,s,a=PropertyFactory.getProp;for(e=0;e<i;e+=1)s=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,s,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:a(this._elem,this._textData.p.a,0,0,this),f:a(this._elem,this._textData.p.f,0,0,this),l:a(this._elem,this._textData.p.l,0,0,this),r:a(this._elem,this._textData.p.r,0,0,this),p:a(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=a(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,i){if(this.lettersChangedFlag=i,!(!this._mdf&&!this._isFirstFrame&&!i&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var s=this._moreOptions.alignment.v,a=this._animatorsData,o=this._textData,et=this.mHelper,ot=this._renderType,ft=this.renderedLetters.length,dt,mt,gt,bt,vt=e.l,Pt,Tt,At,wt,_t,Et,yt,St,xt,Ct,$t,Rt,It,Nt,Ot;if(this._hasMaskedPath){if(Ot=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Gt=Ot.v;this._pathData.r.v&&(Gt=Gt.reverse()),Pt={tLength:0,segments:[]},bt=Gt._length-1;var Xt;for(Rt=0,gt=0;gt<bt;gt+=1)Xt=bez.buildBezierData(Gt.v[gt],Gt.v[gt+1],[Gt.o[gt][0]-Gt.v[gt][0],Gt.o[gt][1]-Gt.v[gt][1]],[Gt.i[gt+1][0]-Gt.v[gt+1][0],Gt.i[gt+1][1]-Gt.v[gt+1][1]]),Pt.tLength+=Xt.segmentLength,Pt.segments.push(Xt),Rt+=Xt.segmentLength;gt=bt,Ot.v.c&&(Xt=bez.buildBezierData(Gt.v[gt],Gt.v[0],[Gt.o[gt][0]-Gt.v[gt][0],Gt.o[gt][1]-Gt.v[gt][1]],[Gt.i[0][0]-Gt.v[0][0],Gt.i[0][1]-Gt.v[0][1]]),Pt.tLength+=Xt.segmentLength,Pt.segments.push(Xt),Rt+=Xt.segmentLength),this._pathData.pi=Pt}if(Pt=this._pathData.pi,Tt=this._pathData.f.v,yt=0,Et=1,wt=0,_t=!0,Ct=Pt.segments,Tt<0&&Ot.v.c)for(Pt.tLength<Math.abs(Tt)&&(Tt=-Math.abs(Tt)%Pt.tLength),yt=Ct.length-1,xt=Ct[yt].points,Et=xt.length-1;Tt<0;)Tt+=xt[Et].partialLength,Et-=1,Et<0&&(yt-=1,xt=Ct[yt].points,Et=xt.length-1);xt=Ct[yt].points,St=xt[Et-1],At=xt[Et],$t=At.partialLength}bt=vt.length,dt=0,mt=0;var Ht=e.finalSize*1.2*.714,Yt=!0,zt,Ut,kt,Ft,Qt;Ft=a.length;var Zt,rr=-1,qt,Dt,Vt,Lt=Tt,jt=yt,Wt=Et,Kt=-1,er,tr,ur,cr,nr,vr,Pr,Ar,Ir="",zr=this.defaultPropsArray,Cr;if(e.j===2||e.j===1){var Dr=0,xr=0,hr=e.j===2?-.5:-1,pr=0,br=!0;for(gt=0;gt<bt;gt+=1)if(vt[gt].n){for(Dr&&(Dr+=xr);pr<gt;)vt[pr].animatorJustifyOffset=Dr,pr+=1;Dr=0,br=!0}else{for(kt=0;kt<Ft;kt+=1)zt=a[kt].a,zt.t.propType&&(br&&e.j===2&&(xr+=zt.t.v*hr),Ut=a[kt].s,Zt=Ut.getMult(vt[gt].anIndexes[kt],o.a[kt].s.totalChars),Zt.length?Dr+=zt.t.v*Zt[0]*hr:Dr+=zt.t.v*Zt*hr);br=!1}for(Dr&&(Dr+=xr);pr<gt;)vt[pr].animatorJustifyOffset=Dr,pr+=1}for(gt=0;gt<bt;gt+=1){if(et.reset(),er=1,vt[gt].n)dt=0,mt+=e.yOffset,mt+=Yt?1:0,Tt=Lt,Yt=!1,this._hasMaskedPath&&(yt=jt,Et=Wt,xt=Ct[yt].points,St=xt[Et-1],At=xt[Et],$t=At.partialLength,wt=0),Ir="",Ar="",vr="",Cr="",zr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Kt!==vt[gt].line){switch(e.j){case 1:Tt+=Rt-e.lineWidths[vt[gt].line];break;case 2:Tt+=(Rt-e.lineWidths[vt[gt].line])/2;break}Kt=vt[gt].line}rr!==vt[gt].ind&&(vt[rr]&&(Tt+=vt[rr].extra),Tt+=vt[gt].an/2,rr=vt[gt].ind),Tt+=s[0]*vt[gt].an*.005;var kr=0;for(kt=0;kt<Ft;kt+=1)zt=a[kt].a,zt.p.propType&&(Ut=a[kt].s,Zt=Ut.getMult(vt[gt].anIndexes[kt],o.a[kt].s.totalChars),Zt.length?kr+=zt.p.v[0]*Zt[0]:kr+=zt.p.v[0]*Zt),zt.a.propType&&(Ut=a[kt].s,Zt=Ut.getMult(vt[gt].anIndexes[kt],o.a[kt].s.totalChars),Zt.length?kr+=zt.a.v[0]*Zt[0]:kr+=zt.a.v[0]*Zt);for(_t=!0,this._pathData.a.v&&(Tt=vt[0].an*.5+(Rt-this._pathData.f.v-vt[0].an*.5-vt[vt.length-1].an*.5)*rr/(bt-1),Tt+=this._pathData.f.v);_t;)wt+$t>=Tt+kr||!xt?(It=(Tt+kr-wt)/At.partialLength,Dt=St.point[0]+(At.point[0]-St.point[0])*It,Vt=St.point[1]+(At.point[1]-St.point[1])*It,et.translate(-s[0]*vt[gt].an*.005,-(s[1]*Ht)*.01),_t=!1):xt&&(wt+=At.partialLength,Et+=1,Et>=xt.length&&(Et=0,yt+=1,Ct[yt]?xt=Ct[yt].points:Ot.v.c?(Et=0,yt=0,xt=Ct[yt].points):(wt-=At.partialLength,xt=null)),xt&&(St=At,At=xt[Et],$t=At.partialLength));qt=vt[gt].an/2-vt[gt].add,et.translate(-qt,0,0)}else qt=vt[gt].an/2-vt[gt].add,et.translate(-qt,0,0),et.translate(-s[0]*vt[gt].an*.005,-s[1]*Ht*.01,0);for(kt=0;kt<Ft;kt+=1)zt=a[kt].a,zt.t.propType&&(Ut=a[kt].s,Zt=Ut.getMult(vt[gt].anIndexes[kt],o.a[kt].s.totalChars),(dt!==0||e.j!==0)&&(this._hasMaskedPath?Zt.length?Tt+=zt.t.v*Zt[0]:Tt+=zt.t.v*Zt:Zt.length?dt+=zt.t.v*Zt[0]:dt+=zt.t.v*Zt));for(e.strokeWidthAnim&&(ur=e.sw||0),e.strokeColorAnim&&(e.sc?tr=[e.sc[0],e.sc[1],e.sc[2]]:tr=[0,0,0]),e.fillColorAnim&&e.fc&&(cr=[e.fc[0],e.fc[1],e.fc[2]]),kt=0;kt<Ft;kt+=1)zt=a[kt].a,zt.a.propType&&(Ut=a[kt].s,Zt=Ut.getMult(vt[gt].anIndexes[kt],o.a[kt].s.totalChars),Zt.length?et.translate(-zt.a.v[0]*Zt[0],-zt.a.v[1]*Zt[1],zt.a.v[2]*Zt[2]):et.translate(-zt.a.v[0]*Zt,-zt.a.v[1]*Zt,zt.a.v[2]*Zt));for(kt=0;kt<Ft;kt+=1)zt=a[kt].a,zt.s.propType&&(Ut=a[kt].s,Zt=Ut.getMult(vt[gt].anIndexes[kt],o.a[kt].s.totalChars),Zt.length?et.scale(1+(zt.s.v[0]-1)*Zt[0],1+(zt.s.v[1]-1)*Zt[1],1):et.scale(1+(zt.s.v[0]-1)*Zt,1+(zt.s.v[1]-1)*Zt,1));for(kt=0;kt<Ft;kt+=1){if(zt=a[kt].a,Ut=a[kt].s,Zt=Ut.getMult(vt[gt].anIndexes[kt],o.a[kt].s.totalChars),zt.sk.propType&&(Zt.length?et.skewFromAxis(-zt.sk.v*Zt[0],zt.sa.v*Zt[1]):et.skewFromAxis(-zt.sk.v*Zt,zt.sa.v*Zt)),zt.r.propType&&(Zt.length?et.rotateZ(-zt.r.v*Zt[2]):et.rotateZ(-zt.r.v*Zt)),zt.ry.propType&&(Zt.length?et.rotateY(zt.ry.v*Zt[1]):et.rotateY(zt.ry.v*Zt)),zt.rx.propType&&(Zt.length?et.rotateX(zt.rx.v*Zt[0]):et.rotateX(zt.rx.v*Zt)),zt.o.propType&&(Zt.length?er+=(zt.o.v*Zt[0]-er)*Zt[0]:er+=(zt.o.v*Zt-er)*Zt),e.strokeWidthAnim&&zt.sw.propType&&(Zt.length?ur+=zt.sw.v*Zt[0]:ur+=zt.sw.v*Zt),e.strokeColorAnim&&zt.sc.propType)for(nr=0;nr<3;nr+=1)Zt.length?tr[nr]+=(zt.sc.v[nr]-tr[nr])*Zt[0]:tr[nr]+=(zt.sc.v[nr]-tr[nr])*Zt;if(e.fillColorAnim&&e.fc){if(zt.fc.propType)for(nr=0;nr<3;nr+=1)Zt.length?cr[nr]+=(zt.fc.v[nr]-cr[nr])*Zt[0]:cr[nr]+=(zt.fc.v[nr]-cr[nr])*Zt;zt.fh.propType&&(Zt.length?cr=addHueToRGB(cr,zt.fh.v*Zt[0]):cr=addHueToRGB(cr,zt.fh.v*Zt)),zt.fs.propType&&(Zt.length?cr=addSaturationToRGB(cr,zt.fs.v*Zt[0]):cr=addSaturationToRGB(cr,zt.fs.v*Zt)),zt.fb.propType&&(Zt.length?cr=addBrightnessToRGB(cr,zt.fb.v*Zt[0]):cr=addBrightnessToRGB(cr,zt.fb.v*Zt))}}for(kt=0;kt<Ft;kt+=1)zt=a[kt].a,zt.p.propType&&(Ut=a[kt].s,Zt=Ut.getMult(vt[gt].anIndexes[kt],o.a[kt].s.totalChars),this._hasMaskedPath?Zt.length?et.translate(0,zt.p.v[1]*Zt[0],-zt.p.v[2]*Zt[1]):et.translate(0,zt.p.v[1]*Zt,-zt.p.v[2]*Zt):Zt.length?et.translate(zt.p.v[0]*Zt[0],zt.p.v[1]*Zt[1],-zt.p.v[2]*Zt[2]):et.translate(zt.p.v[0]*Zt,zt.p.v[1]*Zt,-zt.p.v[2]*Zt));if(e.strokeWidthAnim&&(vr=ur<0?0:ur),e.strokeColorAnim&&(Pr="rgb("+Math.round(tr[0]*255)+","+Math.round(tr[1]*255)+","+Math.round(tr[2]*255)+")"),e.fillColorAnim&&e.fc&&(Ar="rgb("+Math.round(cr[0]*255)+","+Math.round(cr[1]*255)+","+Math.round(cr[2]*255)+")"),this._hasMaskedPath){if(et.translate(0,-e.ls),et.translate(0,s[1]*Ht*.01+mt,0),this._pathData.p.v){Nt=(At.point[1]-St.point[1])/(At.point[0]-St.point[0]);var $r=Math.atan(Nt)*180/Math.PI;At.point[0]<St.point[0]&&($r+=180),et.rotate(-$r*Math.PI/180)}et.translate(Dt,Vt,0),Tt-=s[0]*vt[gt].an*.005,vt[gt+1]&&rr!==vt[gt+1].ind&&(Tt+=vt[gt].an/2,Tt+=e.tr*.001*e.finalSize)}else{switch(et.translate(dt,mt,0),e.ps&&et.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:et.translate(vt[gt].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[vt[gt].line]),0,0);break;case 2:et.translate(vt[gt].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[vt[gt].line])/2,0,0);break}et.translate(0,-e.ls),et.translate(qt,0,0),et.translate(s[0]*vt[gt].an*.005,s[1]*Ht*.01,0),dt+=vt[gt].l+e.tr*.001*e.finalSize}ot==="html"?Ir=et.toCSS():ot==="svg"?Ir=et.to2dCSS():zr=[et.props[0],et.props[1],et.props[2],et.props[3],et.props[4],et.props[5],et.props[6],et.props[7],et.props[8],et.props[9],et.props[10],et.props[11],et.props[12],et.props[13],et.props[14],et.props[15]],Cr=er}ft<=gt?(Qt=new LetterProps(Cr,vr,Pr,Ar,Ir,zr),this.renderedLetters.push(Qt),ft+=1,this.lettersChangedFlag=!0):(Qt=this.renderedLetters[gt],this.lettersChangedFlag=Qt.update(Cr,vr,Pr,Ar,Ir,zr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(e,i,s){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,i,s),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,i,s),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,i){var s,a=i.length,o,et="";for(s=0;s<a;s+=1)i[s].ty==="sh"&&(o=i[s].ks.k,et+=buildShapeString(o,o.i.length,!0,e));return et},ITextElement.prototype.updateDocumentData=function(e,i){this.textProperty.updateDocumentData(e,i)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,i,s,a,o){switch(e.ps&&i.translate(e.ps[0],e.ps[1]+e.ascent,0),i.translate(0,-e.ls,0),e.j){case 1:i.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[s]),0,0);break;case 2:i.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[s])/2,0,0);break}i.translate(a,o,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(e[0]*255)+","+Math.round(e[1]*255)+","+Math.round(e[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,i,s){this.textSpans=[],this.renderType="svg",this.initElement(e,i,s)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var i=0,s=e.length,a=[],o="";i<s;)e[i]==="\r"||e[i]===""?(a.push(o),o=""):o+=e[i],i+=1;return a.push(o),a},SVGTextLottieElement.prototype.buildShapeData=function(e,i){if(e.shapes&&e.shapes.length){var s=e.shapes[0];if(s.it){var a=s.it[s.it.length-1];a.s&&(a.s.k[0]=i,a.s.k[1]=i)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var e,i,s=this.textProperty.currentData;this.renderedLetters=createSizedArray(s?s.l.length:0),s.fc?this.layerElement.setAttribute("fill",this.buildColor(s.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),s.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(s.sc)),this.layerElement.setAttribute("stroke-width",s.sw)),this.layerElement.setAttribute("font-size",s.finalSize);var a=this.globalData.fontManager.getFontByName(s.f);if(a.fClass)this.layerElement.setAttribute("class",a.fClass);else{this.layerElement.setAttribute("font-family",a.fFamily);var o=s.fWeight,et=s.fStyle;this.layerElement.setAttribute("font-style",et),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",s.t);var ot=s.l||[],ft=!!this.globalData.fontManager.chars;i=ot.length;var dt,mt=this.mHelper,gt="",bt=this.data.singleShape,vt=0,Pt=0,Tt=!0,At=s.tr*.001*s.finalSize;if(bt&&!ft&&!s.sz){var wt=this.textContainer,_t="start";switch(s.j){case 1:_t="end";break;case 2:_t="middle";break;default:_t="start";break}wt.setAttribute("text-anchor",_t),wt.setAttribute("letter-spacing",At);var Et=this.buildTextContents(s.finalText);for(i=Et.length,Pt=s.ps?s.ps[1]+s.ascent:0,e=0;e<i;e+=1)dt=this.textSpans[e].span||createNS("tspan"),dt.textContent=Et[e],dt.setAttribute("x",0),dt.setAttribute("y",Pt),dt.style.display="inherit",wt.appendChild(dt),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=dt,Pt+=s.finalLineHeight;this.layerElement.appendChild(wt)}else{var yt=this.textSpans.length,St;for(e=0;e<i;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!ft||!bt||e===0){if(dt=yt>e?this.textSpans[e].span:createNS(ft?"g":"text"),yt<=e){if(dt.setAttribute("stroke-linecap","butt"),dt.setAttribute("stroke-linejoin","round"),dt.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=dt,ft){var xt=createNS("g");dt.appendChild(xt),this.textSpans[e].childSpan=xt}this.textSpans[e].span=dt,this.layerElement.appendChild(dt)}dt.style.display="inherit"}if(mt.reset(),bt&&(ot[e].n&&(vt=-At,Pt+=s.yOffset,Pt+=Tt?1:0,Tt=!1),this.applyTextPropertiesToMatrix(s,mt,ot[e].line,vt,Pt),vt+=ot[e].l||0,vt+=At),ft){St=this.globalData.fontManager.getCharData(s.finalText[e],a.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily);var Ct;if(St.t===1)Ct=new SVGCompElement(St.data,this.globalData,this);else{var $t=emptyShapeData;St.data&&St.data.shapes&&($t=this.buildShapeData(St.data,s.finalSize)),Ct=new SVGShapeElement($t,this.globalData,this)}if(this.textSpans[e].glyph){var Rt=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(Rt.layerElement),Rt.destroy()}this.textSpans[e].glyph=Ct,Ct._debug=!0,Ct.prepareFrame(0),Ct.renderFrame(),this.textSpans[e].childSpan.appendChild(Ct.layerElement),St.t===1&&this.textSpans[e].childSpan.setAttribute("transform","scale("+s.finalSize/100+","+s.finalSize/100+")")}else bt&&dt.setAttribute("transform","translate("+mt.props[12]+","+mt.props[13]+")"),dt.textContent=ot[e].val,dt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}bt&&dt&&dt.setAttribute("d",gt)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,i=this.textSpans.length,s;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<i;e+=1)s=this.textSpans[e].glyph,s&&(s.prepareFrame(this.comp.renderedFrame-this.data.st),s._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,i,s=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;i=a.length;var o,et,ot;for(e=0;e<i;e+=1)a[e].n||(o=s[e],et=this.textSpans[e].span,ot=this.textSpans[e].glyph,ot&&ot.renderFrame(),o._mdf.m&&et.setAttribute("transform",o.m),o._mdf.o&&et.setAttribute("opacity",o.o),o._mdf.sw&&et.setAttribute("stroke-width",o.sw),o._mdf.sc&&et.setAttribute("stroke",o.sc),o._mdf.fc&&et.setAttribute("fill",o.fc))}};function ISolidElement(e,i,s){this.initElement(e,i,s)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)};function NullElement(e,i,s){this.initFrame(),this.initBaseData(e,i,s),this.initFrame(),this.initTransform(e,i,s),this.initHierarchy()}NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var i=this.globalData.defs;this.setupGlobalData(e,i),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var s=createNS("clipPath"),a=createNS("rect");a.setAttribute("width",e.w),a.setAttribute("height",e.h),a.setAttribute("x",0),a.setAttribute("y",0);var o=createElementID();s.setAttribute("id",o),s.appendChild(a),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),i.appendChild(s),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e,i=this.layers?this.layers.length:0;for(e=0;e<i;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var i=0,s=this.layers.length;for(i=0;i<s;i+=1)if(this.layers[i].ind===e)return i;return-1},SVGRendererBase.prototype.buildItem=function(e){var i=this.elements;if(!(i[e]||this.layers[e].ty===99)){i[e]=!0;var s=this.createItem(this.layers[e]);if(i[e]=s,getExpressionsPlugin()&&(this.layers[e].ty===0&&this.globalData.projectInterface.registerComposition(s),s.initExpressions()),this.appendElementInPos(s,e),this.layers[e].tt){var a="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(a===-1)return;if(!this.elements[a]||this.elements[a]===!0)this.buildItem(a),this.addPendingElement(s);else{var o=i[a],et=o.getMatte(this.layers[e].tt);s.setMatte(et)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var i=0,s=this.elements.length;i<s;){if(this.elements[i]===e){var a="tp"in e.data?this.findIndexByInd(e.data.tp):i-1,o=this.elements[a],et=o.getMatte(this.layers[i].tt);e.setMatte(et);break}i+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(!(this.renderedFrame===e||this.destroyed)){e===null?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var i,s=this.layers.length;for(this.completeLayers||this.checkLayers(e),i=s-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(e-this.layers[i].st);if(this.globalData._mdf)for(i=0;i<s;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,i){var s=e.getBaseElement();if(s){for(var a=0,o;a<i;)this.elements[a]&&this.elements[a]!==!0&&this.elements[a].getBaseElement()&&(o=this.elements[a].getBaseElement()),a+=1;o?this.layerElement.insertBefore(s,o):this.layerElement.appendChild(s)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,i,s){this.initFrame(),this.initBaseData(e,i,s),this.initTransform(e,i,s),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!i.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var i=this.tm.v;i===this.data.op&&(i=this.data.op-1),this.renderedFrame=i}var s,a=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),s=a-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&(this.elements[s].prepareFrame(this.renderedFrame-this.layers[s].st),this.elements[s]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,i=this.layers.length;for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,i=this.layers.length;for(e=0;e<i;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(e,i,s){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,i,s),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function SVGRenderer(e,i){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var s="";if(i&&i.title){var a=createNS("title"),o=createElementID();a.setAttribute("id",o),a.textContent=i.title,this.svgElement.appendChild(a),s+=o}if(i&&i.description){var et=createNS("desc"),ot=createElementID();et.setAttribute("id",ot),et.textContent=i.description,this.svgElement.appendChild(et),s+=" "+ot}s&&this.svgElement.setAttribute("aria-labelledby",s);var ft=createNS("defs");this.svgElement.appendChild(ft);var dt=createNS("g");this.svgElement.appendChild(dt),this.layerElement=dt,this.renderConfig={preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",progressiveLoad:i&&i.progressiveLoad||!1,hideOnTransparent:!(i&&i.hideOnTransparent===!1),viewBoxOnly:i&&i.viewBoxOnly||!1,viewBoxSize:i&&i.viewBoxSize||!1,className:i&&i.className||"",id:i&&i.id||"",focusable:i&&i.focusable,filterSize:{width:i&&i.filterSize&&i.filterSize.width||"100%",height:i&&i.filterSize&&i.filterSize.height||"100%",x:i&&i.filterSize&&i.filterSize.x||"0%",y:i&&i.filterSize&&i.filterSize.y||"0%"},width:i&&i.width,height:i&&i.height,runExpressions:!i||i.runExpressions===void 0||i.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ft,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(i){var s,a=i.length,o="_";for(s=0;s<a;s+=1)o+=i[s].transform.key+"_";var et=this.sequences[o];return et||(et={transforms:[].concat(i),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=et,this.sequenceList.push(et)),et},processSequence:function(i,s){for(var a=0,o=i.transforms.length,et=s;a<o&&!s;){if(i.transforms[a].transform.mProps._mdf){et=!0;break}a+=1}if(et)for(i.finalTransform.reset(),a=o-1;a>=0;a-=1)i.finalTransform.multiply(i.transforms[a].transform.mProps.v);i._mdf=et},processSequences:function(i){var s,a=this.sequenceList.length;for(s=0;s<a;s+=1)this.processSequence(this.sequenceList[s],i)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var i="__lottie_element_luma_buffer",s=null,a=null,o=null;function et(){var dt=createNS("svg"),mt=createNS("filter"),gt=createNS("feColorMatrix");return mt.setAttribute("id",i),gt.setAttribute("type","matrix"),gt.setAttribute("color-interpolation-filters","sRGB"),gt.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),mt.appendChild(gt),dt.appendChild(mt),dt.setAttribute("id",i+"_svg"),featureSupport.svgLumaHidden&&(dt.style.display="none"),dt}function ot(){s||(o=et(),document.body.appendChild(o),s=createTag("canvas"),a=s.getContext("2d"),a.filter="url(#"+i+")",a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1))}function ft(dt){return s||ot(),s.width=dt.width,s.height=dt.height,a.filter="url(#"+i+")",s}return{load:ot,get:ft}};function createCanvas(e,i){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,i);var s=createTag("canvas");return s.width=e,s.height=i,s}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(e){var i,s=e.data.ef?e.data.ef.length:0;this.filters=[];var a;for(i=0;i<s;i+=1){a=null;var o=e.data.ef[i].ty;if(registeredEffects[o]){var et=registeredEffects[o].effect;a=new et(e.effectsManager.effectElements[i],e)}a&&this.filters.push(a)}this.filters.length&&e.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(e){var i,s=this.filters.length;for(i=0;i<s;i+=1)this.filters[i].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var i,s=this.filters.length,a=[];for(i=0;i<s;i+=1)this.filters[i].type===e&&a.push(this.filters[i]);return a};function registerEffect(e,i){registeredEffects[e]={effect:i}}function CVMaskElement(e,i){this.data=e,this.element=i,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var s,a=this.masksProperties.length,o=!1;for(s=0;s<a;s+=1)this.masksProperties[s].mode!=="n"&&(o=!0),this.viewData[s]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[s],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e=this.element.finalTransform.mat,i=this.element.canvasContext,s,a=this.masksProperties.length,o,et,ot;for(i.beginPath(),s=0;s<a;s+=1)if(this.masksProperties[s].mode!=="n"){this.masksProperties[s].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),ot=this.viewData[s].v,o=e.applyToPointArray(ot.v[0][0],ot.v[0][1],0),i.moveTo(o[0],o[1]);var ft,dt=ot._length;for(ft=1;ft<dt;ft+=1)et=e.applyToTriplePoints(ot.o[ft-1],ot.i[ft],ot.v[ft]),i.bezierCurveTo(et[0],et[1],et[2],et[3],et[4],et[5]);et=e.applyToTriplePoints(ot.o[ft-1],ot.i[0],ot.v[0]),i.bezierCurveTo(et[0],et[1],et[2],et[3],et[4],et[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var i=this.globalData.canvasContext,s=assetLoader.createCanvas(i.canvas.width,i.canvas.height);this.buffers.push(s);var a=assetLoader.createCanvas(i.canvas.width,i.canvas.height);this.buffers.push(a),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var i=this.globalData;if(i.blendMode!==this.data.bm){i.blendMode=this.data.bm;var s=getBlendMode(this.data.bm);i.canvasContext.globalCompositeOperation=s}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(i){i.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var i=this.buffers[0],s=i.getContext("2d");this.clearCanvas(s),s.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var i=this.buffers[1],s=i.getContext("2d");this.clearCanvas(s),s.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var a=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(a.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var o=assetLoader.getLumaCanvas(this.canvasContext.canvas),et=o.getContext("2d");et.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(o,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(i,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(i){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!i)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var s=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(s),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(s),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(e,i,s,a){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o=4;i.ty==="rc"?o=5:i.ty==="el"?o=6:i.ty==="sr"&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(e,i,o,e);var et,ot=s.length,ft;for(et=0;et<ot;et+=1)s[et].closed||(ft={transforms:a.addTransformSequence(s[et].transforms),trNodes:[]},this.styledShapes.push(ft),s[et].elements.push(ft))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(e,i,s){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,i,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,i){var s={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(i),transforms:[],elements:[],closed:e.hd===!0},a={};if(e.ty==="fl"||e.ty==="st"?(a.c=PropertyFactory.getProp(this,e.c,1,255,this),a.c.k||(s.co="rgb("+bmFloor(a.c.v[0])+","+bmFloor(a.c.v[1])+","+bmFloor(a.c.v[2])+")")):(e.ty==="gf"||e.ty==="gs")&&(a.s=PropertyFactory.getProp(this,e.s,1,null,this),a.e=PropertyFactory.getProp(this,e.e,1,null,this),a.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),a.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),a.g=new GradientProperty(this,e.g,this)),a.o=PropertyFactory.getProp(this,e.o,0,.01,this),e.ty==="st"||e.ty==="gs"){if(s.lc=lineCapEnum[e.lc||2],s.lj=lineJoinEnum[e.lj||2],e.lj==1&&(s.ml=e.ml),a.w=PropertyFactory.getProp(this,e.w,0,null,this),a.w.k||(s.wi=a.w.v),e.d){var o=new DashProperty(this,e.d,"canvas",this);a.d=o,a.d.k||(s.da=a.d.dashArray,s.do=a.d.dashoffset[0])}}else s.r=e.r===2?"evenodd":"nonzero";return this.stylesList.push(s),a.style=s,a},CVShapeElement.prototype.createGroupElement=function(){var e={it:[],prevViewData:[]};return e},CVShapeElement.prototype.createTransformElement=function(e){var i={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}};return i},CVShapeElement.prototype.createShapeElement=function(e){var i=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(i),this.addShapeToModifiers(i),i},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,i=this.itemsData.length;for(e=0;e<i;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),i=this.dynamicProperties.length,e=0;e<i;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var i,s=this.stylesList.length;for(i=0;i<s;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,i=this.stylesList.length;for(e=0;e<i;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var i,s=e.length;for(i=0;i<s;i+=1)e[i].closed=!0},CVShapeElement.prototype.searchShapes=function(e,i,s,a,o){var et,ot=e.length-1,ft,dt,mt=[],gt=[],bt,vt,Pt,Tt=[].concat(o);for(et=ot;et>=0;et-=1){if(bt=this.searchProcessedElement(e[et]),bt?i[et]=s[bt-1]:e[et]._shouldRender=a,e[et].ty==="fl"||e[et].ty==="st"||e[et].ty==="gf"||e[et].ty==="gs")bt?i[et].style.closed=!1:i[et]=this.createStyleElement(e[et],Tt),mt.push(i[et].style);else if(e[et].ty==="gr"){if(!bt)i[et]=this.createGroupElement(e[et]);else for(dt=i[et].it.length,ft=0;ft<dt;ft+=1)i[et].prevViewData[ft]=i[et].it[ft];this.searchShapes(e[et].it,i[et].it,i[et].prevViewData,a,Tt)}else e[et].ty==="tr"?(bt||(Pt=this.createTransformElement(e[et]),i[et]=Pt),Tt.push(i[et]),this.addTransformToStyleList(i[et])):e[et].ty==="sh"||e[et].ty==="rc"||e[et].ty==="el"||e[et].ty==="sr"?bt||(i[et]=this.createShapeElement(e[et])):e[et].ty==="tm"||e[et].ty==="rd"||e[et].ty==="pb"||e[et].ty==="zz"||e[et].ty==="op"?(bt?(vt=i[et],vt.closed=!1):(vt=ShapeModifiers.getModifier(e[et].ty),vt.init(this,e[et]),i[et]=vt,this.shapeModifiers.push(vt)),gt.push(vt)):e[et].ty==="rp"&&(bt?(vt=i[et],vt.closed=!0):(vt=ShapeModifiers.getModifier(e[et].ty),i[et]=vt,vt.init(this,e,et,i),this.shapeModifiers.push(vt),a=!1),gt.push(vt));this.addProcessedElement(e[et],et+1)}for(this.removeTransformFromStyleList(),this.closeStyles(mt),ot=gt.length,et=0;et<ot;et+=1)gt[et].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,i){(e._opMdf||i.op._mdf||this._isFirstFrame)&&(i.opacity=e.opacity,i.opacity*=i.op.v,i._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,i=this.stylesList.length,s,a,o,et,ot,ft,dt=this.globalData.renderer,mt=this.globalData.canvasContext,gt,bt;for(e=0;e<i;e+=1)if(bt=this.stylesList[e],gt=bt.type,!((gt==="st"||gt==="gs")&&bt.wi===0||!bt.data._shouldRender||bt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(dt.save(),ot=bt.elements,gt==="st"||gt==="gs"?(dt.ctxStrokeStyle(gt==="st"?bt.co:bt.grd),dt.ctxLineWidth(bt.wi),dt.ctxLineCap(bt.lc),dt.ctxLineJoin(bt.lj),dt.ctxMiterLimit(bt.ml||0)):dt.ctxFillStyle(gt==="fl"?bt.co:bt.grd),dt.ctxOpacity(bt.coOp),gt!=="st"&&gt!=="gs"&&mt.beginPath(),dt.ctxTransform(bt.preTransforms.finalTransform.props),a=ot.length,s=0;s<a;s+=1){for((gt==="st"||gt==="gs")&&(mt.beginPath(),bt.da&&(mt.setLineDash(bt.da),mt.lineDashOffset=bt.do)),ft=ot[s].trNodes,et=ft.length,o=0;o<et;o+=1)ft[o].t==="m"?mt.moveTo(ft[o].p[0],ft[o].p[1]):ft[o].t==="c"?mt.bezierCurveTo(ft[o].pts[0],ft[o].pts[1],ft[o].pts[2],ft[o].pts[3],ft[o].pts[4],ft[o].pts[5]):mt.closePath();(gt==="st"||gt==="gs")&&(dt.ctxStroke(),bt.da&&mt.setLineDash(this.dashResetter))}gt!=="st"&&gt!=="gs"&&this.globalData.renderer.ctxFill(bt.r),dt.restore()}},CVShapeElement.prototype.renderShape=function(e,i,s,a){var o,et=i.length-1,ot;for(ot=e,o=et;o>=0;o-=1)i[o].ty==="tr"?(ot=s[o].transform,this.renderShapeTransform(e,ot)):i[o].ty==="sh"||i[o].ty==="el"||i[o].ty==="rc"||i[o].ty==="sr"?this.renderPath(i[o],s[o]):i[o].ty==="fl"?this.renderFill(i[o],s[o],ot):i[o].ty==="st"?this.renderStroke(i[o],s[o],ot):i[o].ty==="gf"||i[o].ty==="gs"?this.renderGradientFill(i[o],s[o],ot):i[o].ty==="gr"?this.renderShape(ot,i[o].it,s[o].it):i[o].ty;a&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,i){if(this._isFirstFrame||i._mdf||e.transforms._mdf){var s=e.trNodes,a=i.paths,o,et,ot,ft=a._length;s.length=0;var dt=e.transforms.finalTransform;for(ot=0;ot<ft;ot+=1){var mt=a.shapes[ot];if(mt&&mt.v){for(et=mt._length,o=1;o<et;o+=1)o===1&&s.push({t:"m",p:dt.applyToPointArray(mt.v[0][0],mt.v[0][1],0)}),s.push({t:"c",pts:dt.applyToTriplePoints(mt.o[o-1],mt.i[o],mt.v[o])});et===1&&s.push({t:"m",p:dt.applyToPointArray(mt.v[0][0],mt.v[0][1],0)}),mt.c&&et&&(s.push({t:"c",pts:dt.applyToTriplePoints(mt.o[o-1],mt.i[0],mt.v[0])}),s.push({t:"z"}))}}e.trNodes=s}},CVShapeElement.prototype.renderPath=function(e,i){if(e.hd!==!0&&e._shouldRender){var s,a=i.styledShapes.length;for(s=0;s<a;s+=1)this.renderStyledShape(i.styledShapes[s],i.sh)}},CVShapeElement.prototype.renderFill=function(e,i,s){var a=i.style;(i.c._mdf||this._isFirstFrame)&&(a.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||s._opMdf||this._isFirstFrame)&&(a.coOp=i.o.v*s.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,i,s){var a=i.style,o;if(!a.grd||i.g._mdf||i.s._mdf||i.e._mdf||e.t!==1&&(i.h._mdf||i.a._mdf)){var et=this.globalData.canvasContext,ot=i.s.v,ft=i.e.v;if(e.t===1)o=et.createLinearGradient(ot[0],ot[1],ft[0],ft[1]);else{var dt=Math.sqrt(Math.pow(ot[0]-ft[0],2)+Math.pow(ot[1]-ft[1],2)),mt=Math.atan2(ft[1]-ot[1],ft[0]-ot[0]),gt=i.h.v;gt>=1?gt=.99:gt<=-1&&(gt=-.99);var bt=dt*gt,vt=Math.cos(mt+i.a.v)*bt+ot[0],Pt=Math.sin(mt+i.a.v)*bt+ot[1];o=et.createRadialGradient(vt,Pt,0,ot[0],ot[1],dt)}var Tt,At=e.g.p,wt=i.g.c,_t=1;for(Tt=0;Tt<At;Tt+=1)i.g._hasOpacity&&i.g._collapsable&&(_t=i.g.o[Tt*2+1]),o.addColorStop(wt[Tt*4]/100,"rgba("+wt[Tt*4+1]+","+wt[Tt*4+2]+","+wt[Tt*4+3]+","+_t+")");a.grd=o}a.coOp=i.o.v*s.opacity},CVShapeElement.prototype.renderStroke=function(e,i,s){var a=i.style,o=i.d;o&&(o._mdf||this._isFirstFrame)&&(a.da=o.dashArray,a.do=o.dashoffset[0]),(i.c._mdf||this._isFirstFrame)&&(a.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||s._opMdf||this._isFirstFrame)&&(a.coOp=i.o.v*s.opacity),(i.w._mdf||this._isFirstFrame)&&(a.wi=i.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(e,i,s){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,i,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var i=!1;e.fc?(i=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=i;var s=!1;e.sc&&(s=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var a=this.globalData.fontManager.getFontByName(e.f),o,et,ot=e.l,ft=this.mHelper;this.stroke=s,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,et=e.finalText.length;var dt,mt,gt,bt,vt,Pt,Tt,At,wt,_t,Et=this.data.singleShape,yt=e.tr*.001*e.finalSize,St=0,xt=0,Ct=!0,$t=0;for(o=0;o<et;o+=1){dt=this.globalData.fontManager.getCharData(e.finalText[o],a.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),mt=dt&&dt.data||{},ft.reset(),Et&&ot[o].n&&(St=-yt,xt+=e.yOffset,xt+=Ct?1:0,Ct=!1),vt=mt.shapes?mt.shapes[0].it:[],Tt=vt.length,ft.scale(e.finalSize/100,e.finalSize/100),Et&&this.applyTextPropertiesToMatrix(e,ft,ot[o].line,St,xt),wt=createSizedArray(Tt-1);var Rt=0;for(Pt=0;Pt<Tt;Pt+=1)if(vt[Pt].ty==="sh"){for(bt=vt[Pt].ks.k.i.length,At=vt[Pt].ks.k,_t=[],gt=1;gt<bt;gt+=1)gt===1&&_t.push(ft.applyToX(At.v[0][0],At.v[0][1],0),ft.applyToY(At.v[0][0],At.v[0][1],0)),_t.push(ft.applyToX(At.o[gt-1][0],At.o[gt-1][1],0),ft.applyToY(At.o[gt-1][0],At.o[gt-1][1],0),ft.applyToX(At.i[gt][0],At.i[gt][1],0),ft.applyToY(At.i[gt][0],At.i[gt][1],0),ft.applyToX(At.v[gt][0],At.v[gt][1],0),ft.applyToY(At.v[gt][0],At.v[gt][1],0));_t.push(ft.applyToX(At.o[gt-1][0],At.o[gt-1][1],0),ft.applyToY(At.o[gt-1][0],At.o[gt-1][1],0),ft.applyToX(At.i[0][0],At.i[0][1],0),ft.applyToY(At.i[0][0],At.i[0][1],0),ft.applyToX(At.v[0][0],At.v[0][1],0),ft.applyToY(At.v[0][0],At.v[0][1],0)),wt[Rt]=_t,Rt+=1}Et&&(St+=ot[o].l,St+=yt),this.textSpans[$t]?this.textSpans[$t].elem=wt:this.textSpans[$t]={elem:wt},$t+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var e=this.canvasContext;e.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var i,s,a,o,et,ot,ft=this.textAnimator.renderedLetters,dt=this.textProperty.currentData.l;s=dt.length;var mt,gt=null,bt=null,vt=null,Pt,Tt,At=this.globalData.renderer;for(i=0;i<s;i+=1)if(!dt[i].n){if(mt=ft[i],mt&&(At.save(),At.ctxTransform(mt.p),At.ctxOpacity(mt.o)),this.fill){for(mt&&mt.fc?gt!==mt.fc&&(At.ctxFillStyle(mt.fc),gt=mt.fc):gt!==this.values.fill&&(gt=this.values.fill,At.ctxFillStyle(this.values.fill)),Pt=this.textSpans[i].elem,o=Pt.length,this.globalData.canvasContext.beginPath(),a=0;a<o;a+=1)for(Tt=Pt[a],ot=Tt.length,this.globalData.canvasContext.moveTo(Tt[0],Tt[1]),et=2;et<ot;et+=6)this.globalData.canvasContext.bezierCurveTo(Tt[et],Tt[et+1],Tt[et+2],Tt[et+3],Tt[et+4],Tt[et+5]);this.globalData.canvasContext.closePath(),At.ctxFill()}if(this.stroke){for(mt&&mt.sw?vt!==mt.sw&&(vt=mt.sw,At.ctxLineWidth(mt.sw)):vt!==this.values.sWidth&&(vt=this.values.sWidth,At.ctxLineWidth(this.values.sWidth)),mt&&mt.sc?bt!==mt.sc&&(bt=mt.sc,At.ctxStrokeStyle(mt.sc)):bt!==this.values.stroke&&(bt=this.values.stroke,At.ctxStrokeStyle(this.values.stroke)),Pt=this.textSpans[i].elem,o=Pt.length,this.globalData.canvasContext.beginPath(),a=0;a<o;a+=1)for(Tt=Pt[a],ot=Tt.length,this.globalData.canvasContext.moveTo(Tt[0],Tt[1]),et=2;et<ot;et+=6)this.globalData.canvasContext.bezierCurveTo(Tt[et],Tt[et+1],Tt[et+2],Tt[et+3],Tt[et+4],Tt[et+5]);this.globalData.canvasContext.closePath(),At.ctxStroke()}mt&&this.globalData.renderer.restore()}};function CVImageElement(e,i,s){this.assetData=i.getAssetData(e.refId),this.img=i.imageLoader.getAsset(this.assetData),this.initElement(e,i,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var i=e.getContext("2d"),s=this.img.width,a=this.img.height,o=s/a,et=this.assetData.w/this.assetData.h,ot,ft,dt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>et&&dt==="xMidYMid slice"||o<et&&dt!=="xMidYMid slice"?(ft=a,ot=ft*et):(ot=s,ft=ot/et),i.drawImage(this.img,(s-ot)/2,(a-ft)/2,ot,ft,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(e,i,s){this.initElement(e,i,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){e[0]===1&&e[1]===0&&e[4]===0&&e[5]===1&&e[12]===0&&e[13]===0||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,i,s,a){this.canvasContext.fillRect(e,i,s,a)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var i=this.animationItem.container.style;i.width="100%",i.height="100%";var s="0px 0px 0px";i.transformOrigin=s,i.mozTransformOrigin=s,i.webkitTransformOrigin=s,i["-webkit-transform"]=s,i.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,i){this.reset();var s,a;e?(s=e,a=i,this.canvasContext.canvas.width=s,this.canvasContext.canvas.height=a):(this.animationItem.wrapper&&this.animationItem.container?(s=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight):(s=this.canvasContext.canvas.width,a=this.canvasContext.canvas.height),this.canvasContext.canvas.width=s*this.renderConfig.dpr,this.canvasContext.canvas.height=a*this.renderConfig.dpr);var o,et;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var ot=this.renderConfig.preserveAspectRatio.split(" "),ft=ot[1]||"meet",dt=ot[0]||"xMidYMid",mt=dt.substr(0,4),gt=dt.substr(4);o=s/a,et=this.transformCanvas.w/this.transformCanvas.h,et>o&&ft==="meet"||et<o&&ft==="slice"?(this.transformCanvas.sx=s/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=a/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=a/(this.transformCanvas.h/this.renderConfig.dpr)),mt==="xMid"&&(et<o&&ft==="meet"||et>o&&ft==="slice")?this.transformCanvas.tx=(s-this.transformCanvas.w*(a/this.transformCanvas.h))/2*this.renderConfig.dpr:mt==="xMax"&&(et<o&&ft==="meet"||et>o&&ft==="slice")?this.transformCanvas.tx=(s-this.transformCanvas.w*(a/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,gt==="YMid"&&(et>o&&ft==="meet"||et<o&&ft==="slice")?this.transformCanvas.ty=(a-this.transformCanvas.h*(s/this.transformCanvas.w))/2*this.renderConfig.dpr:gt==="YMax"&&(et>o&&ft==="meet"||et<o&&ft==="slice")?this.transformCanvas.ty=(a-this.transformCanvas.h*(s/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=s/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=a/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var e,i=this.layers?this.layers.length:0;for(e=i-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,i){if(!(this.renderedFrame===e&&this.renderConfig.clearCanvas===!0&&!i||this.destroyed||e===-1)){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||i,this.globalData.projectInterface.currentFrame=e;var s,a=this.layers.length;for(this.completeLayers||this.checkLayers(e),s=a-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&this.elements[s].prepareFrame(e-this.layers[s].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),s=a-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&this.elements[s].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var i=this.elements;if(!(i[e]||this.layers[e].ty===99)){var s=this.createItem(this.layers[e],this,this.globalData);i[e]=s,s.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var e,i=15;for(e=0;e<i;e+=1){var s=new CanvasContext;this.stack[e]=s}this._length=i,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var e=this._length*2,i=0;for(i=this._length;i<e;i+=1)this.stack[i]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var i=this.stack[this.cArrPos],s=i.transform,a,o=this.cTr.props;for(a=0;a<16;a+=1)o[a]=s[a];if(e){this.nativeContext.restore();var et=this.stack[this.cArrPos+1];this.appliedFillStyle=et.fillStyle,this.appliedStrokeStyle=et.strokeStyle,this.appliedLineWidth=et.lineWidth,this.appliedLineCap=et.lineCap,this.appliedLineJoin=et.lineJoin,this.appliedMiterLimit=et.miterLimit}this.nativeContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13]),(e||i.opacity!==-1&&this.currentOpacity!==i.opacity)&&(this.nativeContext.globalAlpha=i.opacity,this.currentOpacity=i.opacity),this.currentFillStyle=i.fillStyle,this.currentStrokeStyle=i.strokeStyle,this.currentLineWidth=i.lineWidth,this.currentLineCap=i.lineCap,this.currentLineJoin=i.lineJoin,this.currentMiterLimit=i.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var i=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var s=this.stack[this.cArrPos],a;for(a=0;a<16;a+=1)s.transform[a]=i[a];this.cArrPos+=1;var o=this.stack[this.cArrPos];o.opacity=s.opacity,o.fillStyle=s.fillStyle,o.strokeStyle=s.strokeStyle,o.lineWidth=s.lineWidth,o.lineCap=s.lineCap,o.lineJoin=s.lineJoin,o.miterLimit=s.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var i=this.cTr;this.transformMat.multiply(i),i.cloneFromProps(this.transformMat.props);var s=i.props;this.nativeContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13])},CVContextData.prototype.opacity=function(e){var i=this.stack[this.cArrPos].opacity;i*=e<0?0:e,this.stack[this.cArrPos].opacity!==i&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=i)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,i,s,a){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,i,s,a)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(e,i,s){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,i,s),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip();var i,s=this.layers.length;for(i=s-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()},CVCompElement.prototype.destroy=function(){var e,i=this.layers.length;for(e=i-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function CanvasRenderer(e,i){this.animationItem=e,this.renderConfig={clearCanvas:i&&i.clearCanvas!==void 0?i.clearCanvas:!0,context:i&&i.context||null,progressiveLoad:i&&i.progressiveLoad||!1,preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",className:i&&i.className||"",id:i&&i.id||"",runExpressions:!i||i.runExpressions===void 0||i.runExpressions},this.renderConfig.dpr=i&&i.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=i&&i.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var i=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var s=this.finalTransform.mat.toCSS();i.transform=s,i.webkitTransform=s}this.finalTransform._opMdf&&(i.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(e,i,s){this.initElement(e,i,s)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?(e=createNS("rect"),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(e=createTag("div"),e.style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)};function HShapeElement(e,i,s){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,i,s),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var i=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",i.w),e.setAttribute("height",i.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,i){var s,a=e.length;for(s=0;s<a;s+=1)i=e[s].mProps.v.applyToPointArray(i[0],i[1],0);return i},HShapeElement.prototype.calculateShapeBoundingBox=function(e,i){var s=e.sh.v,a=e.transformers,o,et=s._length,ot,ft,dt,mt;if(!(et<=1)){for(o=0;o<et-1;o+=1)ot=this.getTransformedPoint(a,s.v[o]),ft=this.getTransformedPoint(a,s.o[o]),dt=this.getTransformedPoint(a,s.i[o+1]),mt=this.getTransformedPoint(a,s.v[o+1]),this.checkBounds(ot,ft,dt,mt,i);s.c&&(ot=this.getTransformedPoint(a,s.v[o]),ft=this.getTransformedPoint(a,s.o[o]),dt=this.getTransformedPoint(a,s.i[0]),mt=this.getTransformedPoint(a,s.v[0]),this.checkBounds(ot,ft,dt,mt,i))}},HShapeElement.prototype.checkBounds=function(e,i,s,a,o){this.getBoundsOfCurve(e,i,s,a);var et=this.shapeBoundingBox;o.x=bmMin(et.left,o.x),o.xMax=bmMax(et.right,o.xMax),o.y=bmMin(et.top,o.y),o.yMax=bmMax(et.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,i,s,a){for(var o=[[e[0],a[0]],[e[1],a[1]]],et,ot,ft,dt,mt,gt,bt,vt=0;vt<2;++vt)ot=6*e[vt]-12*i[vt]+6*s[vt],et=-3*e[vt]+9*i[vt]-9*s[vt]+3*a[vt],ft=3*i[vt]-3*e[vt],ot|=0,et|=0,ft|=0,et===0&&ot===0||(et===0?(dt=-ft/ot,dt>0&&dt<1&&o[vt].push(this.calculateF(dt,e,i,s,a,vt))):(mt=ot*ot-4*ft*et,mt>=0&&(gt=(-ot+bmSqrt(mt))/(2*et),gt>0&&gt<1&&o[vt].push(this.calculateF(gt,e,i,s,a,vt)),bt=(-ot-bmSqrt(mt))/(2*et),bt>0&&bt<1&&o[vt].push(this.calculateF(bt,e,i,s,a,vt)))));this.shapeBoundingBox.left=bmMin.apply(null,o[0]),this.shapeBoundingBox.top=bmMin.apply(null,o[1]),this.shapeBoundingBox.right=bmMax.apply(null,o[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,o[1])},HShapeElement.prototype.calculateF=function(e,i,s,a,o,et){return bmPow(1-e,3)*i[et]+3*bmPow(1-e,2)*e*s[et]+3*(1-e)*bmPow(e,2)*a[et]+bmPow(e,3)*o[et]},HShapeElement.prototype.calculateBoundingBox=function(e,i){var s,a=e.length;for(s=0;s<a;s+=1)e[s]&&e[s].sh?this.calculateShapeBoundingBox(e[s],i):e[s]&&e[s].it?this.calculateBoundingBox(e[s].it,i):e[s]&&e[s].style&&e[s].w&&this.expandStrokeBoundingBox(e[s].w,i)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,i){var s=0;if(e.keyframes){for(var a=0;a<e.keyframes.length;a+=1){var o=e.keyframes[a].s;o>s&&(s=o)}s*=e.mult}else s=e.v*e.mult;i.x-=s,i.xMax+=s,i.y-=s,i.yMax+=s},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,i=999999;if(e.x=i,e.xMax=-i,e.y=i,e.yMax=-i,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var s=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),s=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),s=!0),s||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var a=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";a.transform=o,a.webkitTransform=o}}};function HTextElement(e,i,s){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,i,s)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var i=this.innerElem.style,s=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";i.fill=s,i.color=s,e.sc&&(i.stroke=this.buildColor(e.sc),i.strokeWidth=e.sw+"px");var a=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(i.fontSize=e.finalSize+"px",i.lineHeight=e.finalSize+"px",a.fClass)this.innerElem.className=a.fClass;else{i.fontFamily=a.fFamily;var o=e.fWeight,et=e.fStyle;i.fontStyle=et,i.fontWeight=o}var ot,ft,dt=e.l;ft=dt.length;var mt,gt,bt,vt=this.mHelper,Pt,Tt="",At=0;for(ot=0;ot<ft;ot+=1){if(this.globalData.fontManager.chars?(this.textPaths[At]?mt=this.textPaths[At]:(mt=createNS("path"),mt.setAttribute("stroke-linecap",lineCapEnum[1]),mt.setAttribute("stroke-linejoin",lineJoinEnum[2]),mt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[At]?(gt=this.textSpans[At],bt=gt.children[0]):(gt=createTag("div"),gt.style.lineHeight=0,bt=createNS("svg"),bt.appendChild(mt),styleDiv(gt)))):this.isMasked?mt=this.textPaths[At]?this.textPaths[At]:createNS("text"):this.textSpans[At]?(gt=this.textSpans[At],mt=this.textPaths[At]):(gt=createTag("span"),styleDiv(gt),mt=createTag("span"),styleDiv(mt),gt.appendChild(mt)),this.globalData.fontManager.chars){var wt=this.globalData.fontManager.getCharData(e.finalText[ot],a.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),_t;if(wt?_t=wt.data:_t=null,vt.reset(),_t&&_t.shapes&&_t.shapes.length&&(Pt=_t.shapes[0].it,vt.scale(e.finalSize/100,e.finalSize/100),Tt=this.createPathShape(vt,Pt),mt.setAttribute("d",Tt)),this.isMasked)this.innerElem.appendChild(mt);else{if(this.innerElem.appendChild(gt),_t&&_t.shapes){document.body.appendChild(bt);var Et=bt.getBBox();bt.setAttribute("width",Et.width+2),bt.setAttribute("height",Et.height+2),bt.setAttribute("viewBox",Et.x-1+" "+(Et.y-1)+" "+(Et.width+2)+" "+(Et.height+2));var yt=bt.style,St="translate("+(Et.x-1)+"px,"+(Et.y-1)+"px)";yt.transform=St,yt.webkitTransform=St,dt[ot].yOffset=Et.y-1}else bt.setAttribute("width",1),bt.setAttribute("height",1);gt.appendChild(bt)}}else if(mt.textContent=dt[ot].val,mt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(mt);else{this.innerElem.appendChild(gt);var xt=mt.style,Ct="translate3d(0,"+-e.finalSize/1.2+"px,0)";xt.transform=Ct,xt.webkitTransform=Ct}this.isMasked?this.textSpans[At]=mt:this.textSpans[At]=gt,this.textSpans[At].style.display="block",this.textPaths[At]=mt,At+=1}for(;At<this.textSpans.length;)this.textSpans[At].style.display="none",At+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var i="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=i,e.webkitTransform=i}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var s,a,o=0,et=this.textAnimator.renderedLetters,ot=this.textProperty.currentData.l;a=ot.length;var ft,dt,mt;for(s=0;s<a;s+=1)ot[s].n?o+=1:(dt=this.textSpans[s],mt=this.textPaths[s],ft=et[o],o+=1,ft._mdf.m&&(this.isMasked?dt.setAttribute("transform",ft.m):(dt.style.webkitTransform=ft.m,dt.style.transform=ft.m)),dt.style.opacity=ft.o,ft.sw&&ft._mdf.sw&&mt.setAttribute("stroke-width",ft.sw),ft.sc&&ft._mdf.sc&&mt.setAttribute("stroke",ft.sc),ft.fc&&ft._mdf.fc&&(mt.setAttribute("fill",ft.fc),mt.style.color=ft.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var gt=this.innerElem.getBBox();this.currentBBox.w!==gt.width&&(this.currentBBox.w=gt.width,this.svgElement.setAttribute("width",gt.width)),this.currentBBox.h!==gt.height&&(this.currentBBox.h=gt.height,this.svgElement.setAttribute("height",gt.height));var bt=1;if(this.currentBBox.w!==gt.width+bt*2||this.currentBBox.h!==gt.height+bt*2||this.currentBBox.x!==gt.x-bt||this.currentBBox.y!==gt.y-bt){this.currentBBox.w=gt.width+bt*2,this.currentBBox.h=gt.height+bt*2,this.currentBBox.x=gt.x-bt,this.currentBBox.y=gt.y-bt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var vt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=vt,e.webkitTransform=vt}}}};function HCameraElement(e,i,s){this.initFrame(),this.initBaseData(e,i,s),this.initHierarchy();var a=PropertyFactory.getProp;if(this.pe=a(this,e.pe,0,0,this),e.ks.p.s?(this.px=a(this,e.ks.p.x,1,0,this),this.py=a(this,e.ks.p.y,1,0,this),this.pz=a(this,e.ks.p.z,1,0,this)):this.p=a(this,e.ks.p,1,0,this),e.ks.a&&(this.a=a(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var o,et=e.ks.or.k.length;for(o=0;o<et;o+=1)e.ks.or.k[o].to=null,e.ks.or.k[o].ti=null}this.or=a(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=a(this,e.ks.rx,0,degToRads,this),this.ry=a(this,e.ks.ry,0,degToRads,this),this.rz=a(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,i=this.comp.threeDElements.length,s,a,o;for(e=0;e<i;e+=1)if(s=this.comp.threeDElements[e],s.type==="3d"){a=s.perspectiveElem.style,o=s.container.style;var et=this.pe.v+"px",ot="0px 0px 0px",ft="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";a.perspective=et,a.webkitPerspective=et,o.transformOrigin=ot,o.mozTransformOrigin=ot,o.webkitTransformOrigin=ot,a.transform=ft,a.webkitTransform=ft}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e=this._isFirstFrame,i,s;if(this.hierarchy)for(s=this.hierarchy.length,i=0;i<s;i+=1)e=this.hierarchy[i].finalTransform.mProp._mdf||e;if(e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(s=this.hierarchy.length-1,i=s;i>=0;i-=1){var a=this.hierarchy[i].finalTransform.mProp;this.mat.translate(-a.p.v[0],-a.p.v[1],a.p.v[2]),this.mat.rotateX(-a.or.v[0]).rotateY(-a.or.v[1]).rotateZ(a.or.v[2]),this.mat.rotateX(-a.rx.v).rotateY(-a.ry.v).rotateZ(a.rz.v),this.mat.scale(1/a.s.v[0],1/a.s.v[1],1/a.s.v[2]),this.mat.translate(a.a.v[0],a.a.v[1],a.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;this.p?o=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:o=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var et=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),ot=[o[0]/et,o[1]/et,o[2]/et],ft=Math.sqrt(ot[2]*ot[2]+ot[0]*ot[0]),dt=Math.atan2(ot[1],ft),mt=Math.atan2(ot[0],-ot[2]);this.mat.rotateY(mt).rotateX(-dt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var gt=!this._prevMat.equals(this.mat);if((gt||this.pe._mdf)&&this.comp.threeDElements){s=this.comp.threeDElements.length;var bt,vt,Pt;for(i=0;i<s;i+=1)if(bt=this.comp.threeDElements[i],bt.type==="3d"){if(gt){var Tt=this.mat.toCSS();Pt=bt.container.style,Pt.transform=Tt,Pt.webkitTransform=Tt}this.pe._mdf&&(vt=bt.perspectiveElem.style,vt.perspective=this.pe.v+"px",vt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(e,i,s){this.assetData=i.getAssetData(e.refId),this.initElement(e,i,s)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),i=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(i),i.crossOrigin="anonymous",i.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(e,i){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:i&&i.className||"",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(i&&i.hideOnTransparent===!1),filterSize:{width:i&&i.filterSize&&i.filterSize.width||"400%",height:i&&i.filterSize&&i.filterSize.height||"400%",x:i&&i.filterSize&&i.filterSize.x||"-100%",y:i&&i.filterSize&&i.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(e,i){var s=e.getBaseElement();if(s){var a=this.layers[i];if(!a.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(s,i);else{for(var o=0,et,ot,ft;o<i;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement&&(ot=this.elements[o],ft=this.layers[o].ddd?this.getThreeDContainerByPos(o):ot.getBaseElement(),et=ft||et),o+=1;et?(!a.ddd||!this.supports3d)&&this.layerElement.insertBefore(s,et):(!a.ddd||!this.supports3d)&&this.layerElement.appendChild(s)}else this.addTo3dContainer(s,i)}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var i=0,s=this.threeDElements.length;i<s;){if(this.threeDElements[i].startPos<=e&&this.threeDElements[i].endPos>=e)return this.threeDElements[i].perspectiveElem;i+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,i){var s=createTag("div"),a,o;styleDiv(s);var et=createTag("div");if(styleDiv(et),i==="3d"){a=s.style,a.width=this.globalData.compSize.w+"px",a.height=this.globalData.compSize.h+"px";var ot="50% 50%";a.webkitTransformOrigin=ot,a.mozTransformOrigin=ot,a.transformOrigin=ot,o=et.style;var ft="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";o.transform=ft,o.webkitTransform=ft}s.appendChild(et);var dt={container:et,perspectiveElem:s,startPos:e,endPos:e,type:i};return this.threeDElements.push(dt),dt},HybridRendererBase.prototype.build3dContainers=function(){var e,i=this.layers.length,s,a="";for(e=0;e<i;e+=1)this.layers[e].ddd&&this.layers[e].ty!==3?(a!=="3d"&&(a="3d",s=this.createThreeDContainer(e,"3d")),s.endPos=Math.max(s.endPos,e)):(a!=="2d"&&(a="2d",s=this.createThreeDContainer(e,"2d")),s.endPos=Math.max(s.endPos,e));for(i=this.threeDElements.length,e=i-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,i){for(var s=0,a=this.threeDElements.length;s<a;){if(i<=this.threeDElements[s].endPos){for(var o=this.threeDElements[s].startPos,et;o<i;)this.elements[o]&&this.elements[o].getBaseElement&&(et=this.elements[o].getBaseElement()),o+=1;et?this.threeDElements[s].container.insertBefore(e,et):this.threeDElements[s].container.appendChild(e);break}s+=1}},HybridRendererBase.prototype.configAnimation=function(e){var i=createTag("div"),s=this.animationItem.wrapper,a=i.style;a.width=e.w+"px",a.height=e.h+"px",this.resizerElem=i,styleDiv(i),a.transformStyle="flat",a.mozTransformStyle="flat",a.webkitTransformStyle="flat",this.renderConfig.className&&i.setAttribute("class",this.renderConfig.className),s.appendChild(i),a.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var et=createNS("defs");o.appendChild(et),this.data=e,this.setupGlobalData(e,o),this.globalData.defs=et,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e,i=this.layers?this.layers.length:0;for(e=0;e<i;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,s=e/i,a=this.globalData.compSize.w/this.globalData.compSize.h,o,et,ot,ft;a>s?(o=e/this.globalData.compSize.w,et=e/this.globalData.compSize.w,ot=0,ft=(i-this.globalData.compSize.h*(e/this.globalData.compSize.w))/2):(o=i/this.globalData.compSize.h,et=i/this.globalData.compSize.h,ot=(e-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,ft=0);var dt=this.resizerElem.style;dt.webkitTransform="matrix3d("+o+",0,0,0,0,"+et+",0,0,0,0,1,0,"+ot+","+ft+",0,1)",dt.transform=dt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e=this.globalData.compSize.w,i=this.globalData.compSize.h,s,a=this.threeDElements.length;for(s=0;s<a;s+=1){var o=this.threeDElements[s].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(i,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var i,s=e.length,a=createTag("div");for(i=0;i<s;i+=1)if(e[i].xt){var o=this.createComp(e[i],a,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}};function HCompElement(e,i,s){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,i,s),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,i){for(var s=0,a;s<i;)this.elements[s]&&this.elements[s].getBaseElement&&(a=this.elements[s].getBaseElement()),s+=1;a?this.layerElement.insertBefore(e,a):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};function HybridRenderer(e,i){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:i&&i.className||"",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(i&&i.hideOnTransparent===!1),filterSize:{width:i&&i.filterSize&&i.filterSize.width||"400%",height:i&&i.filterSize&&i.filterSize.height||"400%",x:i&&i.filterSize&&i.filterSize.x||"-100%",y:i&&i.filterSize&&i.filterSize.y||"-100%"},runExpressions:!i||i.runExpressions===void 0||i.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(){return function(e){function i(s){for(var a=0,o=e.layers.length;a<o;){if(e.layers[a].nm===s||e.layers[a].ind===s)return e.elements[a].layerInterface;a+=1}return null}return Object.defineProperty(i,"_name",{value:e.data.nm}),i.layer=i,i.pixelAspect=1,i.height=e.data.h||e.globalData.compSize.h,i.width=e.data.w||e.globalData.compSize.w,i.pixelAspect=1,i.frameDuration=1/e.globalData.frameRate,i.displayStartTime=0,i.numLayers=e.layers.length,i}}();function _typeof$2(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(s){return typeof s}:_typeof$2=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$2(e)}function seedRandom(e,i){var s=this,a=256,o=6,et=52,ot="random",ft=i.pow(a,o),dt=i.pow(2,et),mt=dt*2,gt=a-1,bt;function vt(yt,St,xt){var Ct=[];St=St===!0?{entropy:!0}:St||{};var $t=wt(At(St.entropy?[yt,Et(e)]:yt===null?_t():yt,3),Ct),Rt=new Pt(Ct),It=function(){for(var Ot=Rt.g(o),Gt=ft,Xt=0;Ot<dt;)Ot=(Ot+Xt)*a,Gt*=a,Xt=Rt.g(1);for(;Ot>=mt;)Ot/=2,Gt/=2,Xt>>>=1;return(Ot+Xt)/Gt};return It.int32=function(){return Rt.g(4)|0},It.quick=function(){return Rt.g(4)/4294967296},It.double=It,wt(Et(Rt.S),e),(St.pass||xt||function(Nt,Ot,Gt,Xt){return Xt&&(Xt.S&&Tt(Xt,Rt),Nt.state=function(){return Tt(Rt,{})}),Gt?(i[ot]=Nt,Ot):Nt})(It,$t,"global"in St?St.global:this==i,St.state)}i["seed"+ot]=vt;function Pt(yt){var St,xt=yt.length,Ct=this,$t=0,Rt=Ct.i=Ct.j=0,It=Ct.S=[];for(xt||(yt=[xt++]);$t<a;)It[$t]=$t++;for($t=0;$t<a;$t++)It[$t]=It[Rt=gt&Rt+yt[$t%xt]+(St=It[$t])],It[Rt]=St;Ct.g=function(Nt){for(var Ot,Gt=0,Xt=Ct.i,Ht=Ct.j,Yt=Ct.S;Nt--;)Ot=Yt[Xt=gt&Xt+1],Gt=Gt*a+Yt[gt&(Yt[Xt]=Yt[Ht=gt&Ht+Ot])+(Yt[Ht]=Ot)];return Ct.i=Xt,Ct.j=Ht,Gt}}function Tt(yt,St){return St.i=yt.i,St.j=yt.j,St.S=yt.S.slice(),St}function At(yt,St){var xt=[],Ct=_typeof$2(yt),$t;if(St&&Ct=="object")for($t in yt)try{xt.push(At(yt[$t],St-1))}catch{}return xt.length?xt:Ct=="string"?yt:yt+"\0"}function wt(yt,St){for(var xt=yt+"",Ct,$t=0;$t<xt.length;)St[gt&$t]=gt&(Ct^=St[gt&$t]*19)+xt.charCodeAt($t++);return Et(St)}function _t(){try{var yt=new Uint8Array(a);return(s.crypto||s.msCrypto).getRandomValues(yt),Et(yt)}catch{var St=s.navigator,xt=St&&St.plugins;return[+new Date,s,xt,s.screen,Et(e)]}}function Et(yt){return String.fromCharCode.apply(0,yt)}wt(i.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(s){return typeof s}:_typeof$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,i){return e==="number"||i instanceof Number||e==="boolean"||e==="string"}function $bm_neg(e){var i=_typeof$1(e);if(i==="number"||e instanceof Number||i==="boolean")return-e;if($bm_isInstanceOfArray(e)){var s,a=e.length,o=[];for(s=0;s<a;s+=1)o[s]=-e[s];return o}return e.propType?e.v:-e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,i){var s=_typeof$1(e),a=_typeof$1(i);if(isNumerable(s,e)&&isNumerable(a,i)||s==="string"||a==="string")return e+i;if($bm_isInstanceOfArray(e)&&isNumerable(a,i))return e=e.slice(0),e[0]+=i,e;if(isNumerable(s,e)&&$bm_isInstanceOfArray(i))return i=i.slice(0),i[0]=e+i[0],i;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(i)){for(var o=0,et=e.length,ot=i.length,ft=[];o<et||o<ot;)(typeof e[o]=="number"||e[o]instanceof Number)&&(typeof i[o]=="number"||i[o]instanceof Number)?ft[o]=e[o]+i[o]:ft[o]=i[o]===void 0?e[o]:e[o]||i[o],o+=1;return ft}return 0}var add=sum;function sub(e,i){var s=_typeof$1(e),a=_typeof$1(i);if(isNumerable(s,e)&&isNumerable(a,i))return s==="string"&&(e=parseInt(e,10)),a==="string"&&(i=parseInt(i,10)),e-i;if($bm_isInstanceOfArray(e)&&isNumerable(a,i))return e=e.slice(0),e[0]-=i,e;if(isNumerable(s,e)&&$bm_isInstanceOfArray(i))return i=i.slice(0),i[0]=e-i[0],i;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(i)){for(var o=0,et=e.length,ot=i.length,ft=[];o<et||o<ot;)(typeof e[o]=="number"||e[o]instanceof Number)&&(typeof i[o]=="number"||i[o]instanceof Number)?ft[o]=e[o]-i[o]:ft[o]=i[o]===void 0?e[o]:e[o]||i[o],o+=1;return ft}return 0}function mul(e,i){var s=_typeof$1(e),a=_typeof$1(i),o;if(isNumerable(s,e)&&isNumerable(a,i))return e*i;var et,ot;if($bm_isInstanceOfArray(e)&&isNumerable(a,i)){for(ot=e.length,o=createTypedArray("float32",ot),et=0;et<ot;et+=1)o[et]=e[et]*i;return o}if(isNumerable(s,e)&&$bm_isInstanceOfArray(i)){for(ot=i.length,o=createTypedArray("float32",ot),et=0;et<ot;et+=1)o[et]=e*i[et];return o}return 0}function div(e,i){var s=_typeof$1(e),a=_typeof$1(i),o;if(isNumerable(s,e)&&isNumerable(a,i))return e/i;var et,ot;if($bm_isInstanceOfArray(e)&&isNumerable(a,i)){for(ot=e.length,o=createTypedArray("float32",ot),et=0;et<ot;et+=1)o[et]=e[et]/i;return o}if(isNumerable(s,e)&&$bm_isInstanceOfArray(i)){for(ot=i.length,o=createTypedArray("float32",ot),et=0;et<ot;et+=1)o[et]=e/i[et];return o}return 0}function mod(e,i){return typeof e=="string"&&(e=parseInt(e,10)),typeof i=="string"&&(i=parseInt(i,10)),e%i}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,i,s){if(i>s){var a=s;s=i,i=a}return Math.min(Math.max(e,i),s)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,i){if(typeof e=="number"||e instanceof Number)return i=i||0,Math.abs(e-i);i||(i=helperLengthArray);var s,a=Math.min(e.length,i.length),o=0;for(s=0;s<a;s+=1)o+=Math.pow(i[s]-e[s],2);return Math.sqrt(o)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var i=e[0],s=e[1],a=e[2],o=Math.max(i,s,a),et=Math.min(i,s,a),ot,ft,dt=(o+et)/2;if(o===et)ot=0,ft=0;else{var mt=o-et;switch(ft=dt>.5?mt/(2-o-et):mt/(o+et),o){case i:ot=(s-a)/mt+(s<a?6:0);break;case s:ot=(a-i)/mt+2;break;case a:ot=(i-s)/mt+4;break}ot/=6}return[ot,ft,dt,e[3]]}function hue2rgb(e,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(i-e)*6*s:s<1/2?i:s<2/3?e+(i-e)*(2/3-s)*6:e}function hslToRgb(e){var i=e[0],s=e[1],a=e[2],o,et,ot;if(s===0)o=a,ot=a,et=a;else{var ft=a<.5?a*(1+s):a+s-a*s,dt=2*a-ft;o=hue2rgb(dt,ft,i+1/3),et=hue2rgb(dt,ft,i),ot=hue2rgb(dt,ft,i-1/3)}return[o,et,ot,e[3]]}function linear(e,i,s,a,o){if((a===void 0||o===void 0)&&(a=i,o=s,i=0,s=1),s<i){var et=s;s=i,i=et}if(e<=i)return a;if(e>=s)return o;var ot=s===i?0:(e-i)/(s-i);if(!a.length)return a+(o-a)*ot;var ft,dt=a.length,mt=createTypedArray("float32",dt);for(ft=0;ft<dt;ft+=1)mt[ft]=a[ft]+(o[ft]-a[ft])*ot;return mt}function random(e,i){if(i===void 0&&(e===void 0?(e=0,i=1):(i=e,e=void 0)),i.length){var s,a=i.length;e||(e=createTypedArray("float32",a));var o=createTypedArray("float32",a),et=BMMath.random();for(s=0;s<a;s+=1)o[s]=e[s]+et*(i[s]-e[s]);return o}e===void 0&&(e=0);var ot=BMMath.random();return e+ot*(i-e)}function createPath(e,i,s,a){var o,et=e.length,ot=shapePool.newElement();ot.setPathData(!!a,et);var ft=[0,0],dt,mt;for(o=0;o<et;o+=1)dt=i&&i[o]?i[o]:ft,mt=s&&s[o]?s[o]:ft,ot.setTripleAt(e[o][0],e[o][1],mt[0]+e[o][0],mt[1]+e[o][1],dt[0]+e[o][0],dt[1]+e[o][1],o,!0);return ot}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function e(i,s){var a,o,et=this.pv.length?this.pv.length:1,ot=createTypedArray("float32",et);i=5;var ft=Math.floor(time*i);for(a=0,o=0;a<ft;){for(o=0;o<et;o+=1)ot[o]+=-s+s*2*BMMath.random();a+=1}var dt=time*i,mt=dt-Math.floor(dt),gt=createTypedArray("float32",et);if(et>1){for(o=0;o<et;o+=1)gt[o]=this.pv[o]+ot[o]+(-s+s*2*BMMath.random())*mt;return gt}return this.pv+ot[0]+(-s+s*2*BMMath.random())*mt}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(e,i){return loopIn(e,i,!0)}function loopOutDuration(e,i){return loopOut(e,i,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(e,i){var s=[i[0]-e[0],i[1]-e[1],i[2]-e[2]],a=Math.atan2(s[0],Math.sqrt(s[1]*s[1]+s[2]*s[2]))/degToRads,o=-Math.atan2(s[1],s[2])/degToRads;return[o,a,0]}function easeOut(e,i,s,a,o){return applyEase(easeOutBez,e,i,s,a,o)}function easeIn(e,i,s,a,o){return applyEase(easeInBez,e,i,s,a,o)}function ease(e,i,s,a,o){return applyEase(easeInOutBez,e,i,s,a,o)}function applyEase(e,i,s,a,o,et){o===void 0?(o=s,et=a):i=(i-s)/(a-s),i>1?i=1:i<0&&(i=0);var ot=e(i);if($bm_isInstanceOfArray(o)){var ft,dt=o.length,mt=createTypedArray("float32",dt);for(ft=0;ft<dt;ft+=1)mt[ft]=(et[ft]-o[ft])*ot+o[ft];return mt}return(et-o)*ot+o}function nearestKey(e){var i,s=data.k.length,a,o;if(!data.k.length||typeof data.k[0]=="number")a=0,o=0;else if(a=-1,e*=elem.comp.globalData.frameRate,e<data.k[0].t)a=1,o=data.k[0].t;else{for(i=0;i<s-1;i+=1)if(e===data.k[i].t){a=i+1,o=data.k[i].t;break}else if(e>data.k[i].t&&e<data.k[i+1].t){e-data.k[i].t>data.k[i+1].t-e?(a=i+2,o=data.k[i+1].t):(a=i+1,o=data.k[i].t);break}a===-1&&(a=i+1,o=data.k[i].t)}var et={};return et.index=a,et.time=o/elem.comp.globalData.frameRate,et}function key(e){var i,s,a;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+e);e-=1,i={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(a=o.length,s=0;s<a;s+=1)i[s]=o[s],i.value[s]=o[s];return i}function framesToTime(e,i){return i||(i=elem.comp.globalData.frameRate),e/i}function timeToFrames(e,i){return!e&&e!==0&&(e=time),i||(i=elem.comp.globalData.frameRate),e*i}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,i){return typeof value=="string"?i===void 0?value.substring(e):value.substring(e,i):""}function substr(e,i){return typeof value=="string"?i===void 0?value.substr(e):value.substr(e,i):""}function posterizeTime(e){time=e===0?0:Math.floor(time*e)/e,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={};e.initExpressions=i,e.resetFrame=ExpressionManager.resetFrame;function i(s){var a=0,o=[];function et(){a+=1}function ot(){a-=1,a===0&&dt()}function ft(mt){o.indexOf(mt)===-1&&o.push(mt)}function dt(){var mt,gt=o.length;for(mt=0;mt<gt;mt+=1)o[mt].release();o.length=0}s.renderer.compInterface=CompExpressionInterface(s.renderer),s.renderer.globalData.projectInterface.registerComposition(s.renderer),s.renderer.globalData.pushExpression=et,s.renderer.globalData.popExpression=ot,s.renderer.globalData.registerExpressionProperty=ft}return e}(),MaskManagerInterface=function(){function e(s,a){this._mask=s,this._data=a}Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var i=function(a){var o=createSizedArray(a.viewData.length),et,ot=a.viewData.length;for(et=0;et<ot;et+=1)o[et]=new e(a.viewData[et],a.masksProperties[et]);var ft=function(mt){for(et=0;et<ot;){if(a.masksProperties[et].nm===mt)return o[et];et+=1}return null};return ft};return i}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},i={pv:[0,0,0],v:[0,0,0],mult:1};function s(ot,ft,dt){Object.defineProperty(ot,"velocity",{get:function(){return ft.getVelocityAtTime(ft.comp.currentFrame)}}),ot.numKeys=ft.keyframes?ft.keyframes.length:0,ot.key=function(mt){if(!ot.numKeys)return 0;var gt="";"s"in ft.keyframes[mt-1]?gt=ft.keyframes[mt-1].s:"e"in ft.keyframes[mt-2]?gt=ft.keyframes[mt-2].e:gt=ft.keyframes[mt-2].s;var bt=dt==="unidimensional"?new Number(gt):Object.assign({},gt);return bt.time=ft.keyframes[mt-1].t/ft.elem.comp.globalData.frameRate,bt.value=dt==="unidimensional"?gt[0]:gt,bt},ot.valueAtTime=ft.getValueAtTime,ot.speedAtTime=ft.getSpeedAtTime,ot.velocityAtTime=ft.getVelocityAtTime,ot.propertyGroup=ft.propertyGroup}function a(ot){(!ot||!("pv"in ot))&&(ot=e);var ft=1/ot.mult,dt=ot.pv*ft,mt=new Number(dt);return mt.value=dt,s(mt,ot,"unidimensional"),function(){return ot.k&&ot.getValue(),dt=ot.v*ft,mt.value!==dt&&(mt=new Number(dt),mt.value=dt,s(mt,ot,"unidimensional")),mt}}function o(ot){(!ot||!("pv"in ot))&&(ot=i);var ft=1/ot.mult,dt=ot.data&&ot.data.l||ot.pv.length,mt=createTypedArray("float32",dt),gt=createTypedArray("float32",dt);return mt.value=gt,s(mt,ot,"multidimensional"),function(){ot.k&&ot.getValue();for(var bt=0;bt<dt;bt+=1)gt[bt]=ot.v[bt]*ft,mt[bt]=gt[bt];return mt}}function et(){return e}return function(ot){return ot?ot.propType==="unidimensional"?a(ot):o(ot):et}}(),TransformExpressionInterface=function(){return function(e){function i(ot){switch(ot){case"scale":case"Scale":case"ADBE Scale":case 6:return i.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return i.rotation;case"ADBE Rotate X":return i.xRotation;case"ADBE Rotate Y":return i.yRotation;case"position":case"Position":case"ADBE Position":case 2:return i.position;case"ADBE Position_0":return i.xPosition;case"ADBE Position_1":return i.yPosition;case"ADBE Position_2":return i.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return i.anchorPoint;case"opacity":case"Opacity":case 11:return i.opacity;default:return null}}Object.defineProperty(i,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(i,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(i,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(i,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(i,"scale",{get:ExpressionPropertyInterface(e.s)});var s,a,o,et;return e.p?et=ExpressionPropertyInterface(e.p):(s=ExpressionPropertyInterface(e.px),a=ExpressionPropertyInterface(e.py),e.pz&&(o=ExpressionPropertyInterface(e.pz))),Object.defineProperty(i,"position",{get:function(){return e.p?et():[s(),a(),o?o():0]}}),Object.defineProperty(i,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(i,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(i,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(i,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(i,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(i,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(i,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(i,"orientation",{get:ExpressionPropertyInterface(e.or)}),i}}(),LayerExpressionInterface=function(){function e(mt){var gt=new Matrix;if(mt!==void 0){var bt=this._elem.finalTransform.mProp.getValueAtTime(mt);bt.clone(gt)}else{var vt=this._elem.finalTransform.mProp;vt.applyToMatrix(gt)}return gt}function i(mt,gt){var bt=this.getMatrix(gt);return bt.props[12]=0,bt.props[13]=0,bt.props[14]=0,this.applyPoint(bt,mt)}function s(mt,gt){var bt=this.getMatrix(gt);return this.applyPoint(bt,mt)}function a(mt,gt){var bt=this.getMatrix(gt);return bt.props[12]=0,bt.props[13]=0,bt.props[14]=0,this.invertPoint(bt,mt)}function o(mt,gt){var bt=this.getMatrix(gt);return this.invertPoint(bt,mt)}function et(mt,gt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var bt,vt=this._elem.hierarchy.length;for(bt=0;bt<vt;bt+=1)this._elem.hierarchy[bt].finalTransform.mProp.applyToMatrix(mt)}return mt.applyToPointArray(gt[0],gt[1],gt[2]||0)}function ot(mt,gt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var bt,vt=this._elem.hierarchy.length;for(bt=0;bt<vt;bt+=1)this._elem.hierarchy[bt].finalTransform.mProp.applyToMatrix(mt)}return mt.inversePoint(gt)}function ft(mt){var gt=new Matrix;if(gt.reset(),this._elem.finalTransform.mProp.applyToMatrix(gt),this._elem.hierarchy&&this._elem.hierarchy.length){var bt,vt=this._elem.hierarchy.length;for(bt=0;bt<vt;bt+=1)this._elem.hierarchy[bt].finalTransform.mProp.applyToMatrix(gt);return gt.inversePoint(mt)}return gt.inversePoint(mt)}function dt(){return[1,1,1,1]}return function(mt){var gt;function bt(At){Pt.mask=new MaskManagerInterface(At,mt)}function vt(At){Pt.effect=At}function Pt(At){switch(At){case"ADBE Root Vectors Group":case"Contents":case 2:return Pt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return gt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return Pt.effect;case"ADBE Text Properties":return Pt.textInterface;default:return null}}Pt.getMatrix=e,Pt.invertPoint=ot,Pt.applyPoint=et,Pt.toWorld=s,Pt.toWorldVec=i,Pt.fromWorld=o,Pt.fromWorldVec=a,Pt.toComp=s,Pt.fromComp=ft,Pt.sampleImage=dt,Pt.sourceRectAtTime=mt.sourceRectAtTime.bind(mt),Pt._elem=mt,gt=TransformExpressionInterface(mt.finalTransform.mProp);var Tt=getDescriptor(gt,"anchorPoint");return Object.defineProperties(Pt,{hasParent:{get:function(){return mt.hierarchy.length}},parent:{get:function(){return mt.hierarchy[0].layerInterface}},rotation:getDescriptor(gt,"rotation"),scale:getDescriptor(gt,"scale"),position:getDescriptor(gt,"position"),opacity:getDescriptor(gt,"opacity"),anchorPoint:Tt,anchor_point:Tt,transform:{get:function(){return gt}},active:{get:function(){return mt.isInRange}}}),Pt.startTime=mt.data.st,Pt.index=mt.data.ind,Pt.source=mt.data.refId,Pt.height=mt.data.ty===0?mt.data.h:100,Pt.width=mt.data.ty===0?mt.data.w:100,Pt.inPoint=mt.data.ip/mt.comp.globalData.frameRate,Pt.outPoint=mt.data.op/mt.comp.globalData.frameRate,Pt._name=mt.data.nm,Pt.registerMaskInterface=bt,Pt.registerEffectsInterface=vt,Pt}}(),propertyGroupFactory=function(){return function(e,i){return function(s){return s=s===void 0?1:s,s<=0?e:i(s-1)}}}(),PropertyInterface=function(){return function(e,i){var s={_name:e};function a(o){return o=o===void 0?1:o,o<=0?s:i(o-1)}return a}}(),EffectsExpressionInterface=function(){var e={createEffectsInterface:i};function i(o,et){if(o.effectsManager){var ot=[],ft=o.data.ef,dt,mt=o.effectsManager.effectElements.length;for(dt=0;dt<mt;dt+=1)ot.push(s(ft[dt],o.effectsManager.effectElements[dt],et,o));var gt=o.data.ef||[],bt=function(Pt){for(dt=0,mt=gt.length;dt<mt;){if(Pt===gt[dt].nm||Pt===gt[dt].mn||Pt===gt[dt].ix)return ot[dt];dt+=1}return null};return Object.defineProperty(bt,"numProperties",{get:function(){return gt.length}}),bt}return null}function s(o,et,ot,ft){function dt(Pt){for(var Tt=o.ef,At=0,wt=Tt.length;At<wt;){if(Pt===Tt[At].nm||Pt===Tt[At].mn||Pt===Tt[At].ix)return Tt[At].ty===5?gt[At]:gt[At]();At+=1}throw new Error}var mt=propertyGroupFactory(dt,ot),gt=[],bt,vt=o.ef.length;for(bt=0;bt<vt;bt+=1)o.ef[bt].ty===5?gt.push(s(o.ef[bt],et.effectElements[bt],et.effectElements[bt].propertyGroup,ft)):gt.push(a(et.effectElements[bt],o.ef[bt].ty,ft,mt));return o.mn==="ADBE Color Control"&&Object.defineProperty(dt,"color",{get:function(){return gt[0]()}}),Object.defineProperties(dt,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:mt}}),dt.enabled=o.en!==0,dt.active=dt.enabled,dt}function a(o,et,ot,ft){var dt=ExpressionPropertyInterface(o.p);function mt(){return et===10?ot.comp.compInterface(o.p.v):dt()}return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",ft)),mt}return e}(),ShapePathInterface=function(){return function(i,s,a){var o=s.sh;function et(ft){return ft==="Shape"||ft==="shape"||ft==="Path"||ft==="path"||ft==="ADBE Vector Shape"||ft===2?et.path:null}var ot=propertyGroupFactory(et,a);return o.setGroupProperty(PropertyInterface("Path",ot)),Object.defineProperties(et,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:i.nm},ix:{value:i.ix},propertyIndex:{value:i.ix},mn:{value:i.mn},propertyGroup:{value:a}}),et}}(),ShapeExpressionInterface=function(){function e(Tt,At,wt){var _t=[],Et,yt=Tt?Tt.length:0;for(Et=0;Et<yt;Et+=1)Tt[Et].ty==="gr"?_t.push(s(Tt[Et],At[Et],wt)):Tt[Et].ty==="fl"?_t.push(a(Tt[Et],At[Et],wt)):Tt[Et].ty==="st"?_t.push(ot(Tt[Et],At[Et],wt)):Tt[Et].ty==="tm"?_t.push(ft(Tt[Et],At[Et],wt)):Tt[Et].ty==="tr"||(Tt[Et].ty==="el"?_t.push(mt(Tt[Et],At[Et],wt)):Tt[Et].ty==="sr"?_t.push(gt(Tt[Et],At[Et],wt)):Tt[Et].ty==="sh"?_t.push(ShapePathInterface(Tt[Et],At[Et],wt)):Tt[Et].ty==="rc"?_t.push(bt(Tt[Et],At[Et],wt)):Tt[Et].ty==="rd"?_t.push(vt(Tt[Et],At[Et],wt)):Tt[Et].ty==="rp"?_t.push(Pt(Tt[Et],At[Et],wt)):Tt[Et].ty==="gf"?_t.push(o(Tt[Et],At[Et],wt)):_t.push(et(Tt[Et],At[Et])));return _t}function i(Tt,At,wt){var _t,Et=function(xt){for(var Ct=0,$t=_t.length;Ct<$t;){if(_t[Ct]._name===xt||_t[Ct].mn===xt||_t[Ct].propertyIndex===xt||_t[Ct].ix===xt||_t[Ct].ind===xt)return _t[Ct];Ct+=1}return typeof xt=="number"?_t[xt-1]:null};Et.propertyGroup=propertyGroupFactory(Et,wt),_t=e(Tt.it,At.it,Et.propertyGroup),Et.numProperties=_t.length;var yt=dt(Tt.it[Tt.it.length-1],At.it[At.it.length-1],Et.propertyGroup);return Et.transform=yt,Et.propertyIndex=Tt.cix,Et._name=Tt.nm,Et}function s(Tt,At,wt){var _t=function(xt){switch(xt){case"ADBE Vectors Group":case"Contents":case 2:return _t.content;default:return _t.transform}};_t.propertyGroup=propertyGroupFactory(_t,wt);var Et=i(Tt,At,_t.propertyGroup),yt=dt(Tt.it[Tt.it.length-1],At.it[At.it.length-1],_t.propertyGroup);return _t.content=Et,_t.transform=yt,Object.defineProperty(_t,"_name",{get:function(){return Tt.nm}}),_t.numProperties=Tt.np,_t.propertyIndex=Tt.ix,_t.nm=Tt.nm,_t.mn=Tt.mn,_t}function a(Tt,At,wt){function _t(Et){return Et==="Color"||Et==="color"?_t.color:Et==="Opacity"||Et==="opacity"?_t.opacity:null}return Object.defineProperties(_t,{color:{get:ExpressionPropertyInterface(At.c)},opacity:{get:ExpressionPropertyInterface(At.o)},_name:{value:Tt.nm},mn:{value:Tt.mn}}),At.c.setGroupProperty(PropertyInterface("Color",wt)),At.o.setGroupProperty(PropertyInterface("Opacity",wt)),_t}function o(Tt,At,wt){function _t(Et){return Et==="Start Point"||Et==="start point"?_t.startPoint:Et==="End Point"||Et==="end point"?_t.endPoint:Et==="Opacity"||Et==="opacity"?_t.opacity:null}return Object.defineProperties(_t,{startPoint:{get:ExpressionPropertyInterface(At.s)},endPoint:{get:ExpressionPropertyInterface(At.e)},opacity:{get:ExpressionPropertyInterface(At.o)},type:{get:function(){return"a"}},_name:{value:Tt.nm},mn:{value:Tt.mn}}),At.s.setGroupProperty(PropertyInterface("Start Point",wt)),At.e.setGroupProperty(PropertyInterface("End Point",wt)),At.o.setGroupProperty(PropertyInterface("Opacity",wt)),_t}function et(){function Tt(){return null}return Tt}function ot(Tt,At,wt){var _t=propertyGroupFactory($t,wt),Et=propertyGroupFactory(Ct,_t);function yt(Rt){Object.defineProperty(Ct,Tt.d[Rt].nm,{get:ExpressionPropertyInterface(At.d.dataProps[Rt].p)})}var St,xt=Tt.d?Tt.d.length:0,Ct={};for(St=0;St<xt;St+=1)yt(St),At.d.dataProps[St].p.setGroupProperty(Et);function $t(Rt){return Rt==="Color"||Rt==="color"?$t.color:Rt==="Opacity"||Rt==="opacity"?$t.opacity:Rt==="Stroke Width"||Rt==="stroke width"?$t.strokeWidth:null}return Object.defineProperties($t,{color:{get:ExpressionPropertyInterface(At.c)},opacity:{get:ExpressionPropertyInterface(At.o)},strokeWidth:{get:ExpressionPropertyInterface(At.w)},dash:{get:function(){return Ct}},_name:{value:Tt.nm},mn:{value:Tt.mn}}),At.c.setGroupProperty(PropertyInterface("Color",_t)),At.o.setGroupProperty(PropertyInterface("Opacity",_t)),At.w.setGroupProperty(PropertyInterface("Stroke Width",_t)),$t}function ft(Tt,At,wt){function _t(yt){return yt===Tt.e.ix||yt==="End"||yt==="end"?_t.end:yt===Tt.s.ix?_t.start:yt===Tt.o.ix?_t.offset:null}var Et=propertyGroupFactory(_t,wt);return _t.propertyIndex=Tt.ix,At.s.setGroupProperty(PropertyInterface("Start",Et)),At.e.setGroupProperty(PropertyInterface("End",Et)),At.o.setGroupProperty(PropertyInterface("Offset",Et)),_t.propertyIndex=Tt.ix,_t.propertyGroup=wt,Object.defineProperties(_t,{start:{get:ExpressionPropertyInterface(At.s)},end:{get:ExpressionPropertyInterface(At.e)},offset:{get:ExpressionPropertyInterface(At.o)},_name:{value:Tt.nm}}),_t.mn=Tt.mn,_t}function dt(Tt,At,wt){function _t(yt){return Tt.a.ix===yt||yt==="Anchor Point"?_t.anchorPoint:Tt.o.ix===yt||yt==="Opacity"?_t.opacity:Tt.p.ix===yt||yt==="Position"?_t.position:Tt.r.ix===yt||yt==="Rotation"||yt==="ADBE Vector Rotation"?_t.rotation:Tt.s.ix===yt||yt==="Scale"?_t.scale:Tt.sk&&Tt.sk.ix===yt||yt==="Skew"?_t.skew:Tt.sa&&Tt.sa.ix===yt||yt==="Skew Axis"?_t.skewAxis:null}var Et=propertyGroupFactory(_t,wt);return At.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Et)),At.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Et)),At.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Et)),At.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Et)),At.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Et)),At.transform.mProps.sk&&(At.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Et)),At.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Et))),At.transform.op.setGroupProperty(PropertyInterface("Opacity",Et)),Object.defineProperties(_t,{opacity:{get:ExpressionPropertyInterface(At.transform.mProps.o)},position:{get:ExpressionPropertyInterface(At.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(At.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(At.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(At.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(At.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(At.transform.mProps.sa)},_name:{value:Tt.nm}}),_t.ty="tr",_t.mn=Tt.mn,_t.propertyGroup=wt,_t}function mt(Tt,At,wt){function _t(St){return Tt.p.ix===St?_t.position:Tt.s.ix===St?_t.size:null}var Et=propertyGroupFactory(_t,wt);_t.propertyIndex=Tt.ix;var yt=At.sh.ty==="tm"?At.sh.prop:At.sh;return yt.s.setGroupProperty(PropertyInterface("Size",Et)),yt.p.setGroupProperty(PropertyInterface("Position",Et)),Object.defineProperties(_t,{size:{get:ExpressionPropertyInterface(yt.s)},position:{get:ExpressionPropertyInterface(yt.p)},_name:{value:Tt.nm}}),_t.mn=Tt.mn,_t}function gt(Tt,At,wt){function _t(St){return Tt.p.ix===St?_t.position:Tt.r.ix===St?_t.rotation:Tt.pt.ix===St?_t.points:Tt.or.ix===St||St==="ADBE Vector Star Outer Radius"?_t.outerRadius:Tt.os.ix===St?_t.outerRoundness:Tt.ir&&(Tt.ir.ix===St||St==="ADBE Vector Star Inner Radius")?_t.innerRadius:Tt.is&&Tt.is.ix===St?_t.innerRoundness:null}var Et=propertyGroupFactory(_t,wt),yt=At.sh.ty==="tm"?At.sh.prop:At.sh;return _t.propertyIndex=Tt.ix,yt.or.setGroupProperty(PropertyInterface("Outer Radius",Et)),yt.os.setGroupProperty(PropertyInterface("Outer Roundness",Et)),yt.pt.setGroupProperty(PropertyInterface("Points",Et)),yt.p.setGroupProperty(PropertyInterface("Position",Et)),yt.r.setGroupProperty(PropertyInterface("Rotation",Et)),Tt.ir&&(yt.ir.setGroupProperty(PropertyInterface("Inner Radius",Et)),yt.is.setGroupProperty(PropertyInterface("Inner Roundness",Et))),Object.defineProperties(_t,{position:{get:ExpressionPropertyInterface(yt.p)},rotation:{get:ExpressionPropertyInterface(yt.r)},points:{get:ExpressionPropertyInterface(yt.pt)},outerRadius:{get:ExpressionPropertyInterface(yt.or)},outerRoundness:{get:ExpressionPropertyInterface(yt.os)},innerRadius:{get:ExpressionPropertyInterface(yt.ir)},innerRoundness:{get:ExpressionPropertyInterface(yt.is)},_name:{value:Tt.nm}}),_t.mn=Tt.mn,_t}function bt(Tt,At,wt){function _t(St){return Tt.p.ix===St?_t.position:Tt.r.ix===St?_t.roundness:Tt.s.ix===St||St==="Size"||St==="ADBE Vector Rect Size"?_t.size:null}var Et=propertyGroupFactory(_t,wt),yt=At.sh.ty==="tm"?At.sh.prop:At.sh;return _t.propertyIndex=Tt.ix,yt.p.setGroupProperty(PropertyInterface("Position",Et)),yt.s.setGroupProperty(PropertyInterface("Size",Et)),yt.r.setGroupProperty(PropertyInterface("Rotation",Et)),Object.defineProperties(_t,{position:{get:ExpressionPropertyInterface(yt.p)},roundness:{get:ExpressionPropertyInterface(yt.r)},size:{get:ExpressionPropertyInterface(yt.s)},_name:{value:Tt.nm}}),_t.mn=Tt.mn,_t}function vt(Tt,At,wt){function _t(St){return Tt.r.ix===St||St==="Round Corners 1"?_t.radius:null}var Et=propertyGroupFactory(_t,wt),yt=At;return _t.propertyIndex=Tt.ix,yt.rd.setGroupProperty(PropertyInterface("Radius",Et)),Object.defineProperties(_t,{radius:{get:ExpressionPropertyInterface(yt.rd)},_name:{value:Tt.nm}}),_t.mn=Tt.mn,_t}function Pt(Tt,At,wt){function _t(St){return Tt.c.ix===St||St==="Copies"?_t.copies:Tt.o.ix===St||St==="Offset"?_t.offset:null}var Et=propertyGroupFactory(_t,wt),yt=At;return _t.propertyIndex=Tt.ix,yt.c.setGroupProperty(PropertyInterface("Copies",Et)),yt.o.setGroupProperty(PropertyInterface("Offset",Et)),Object.defineProperties(_t,{copies:{get:ExpressionPropertyInterface(yt.c)},offset:{get:ExpressionPropertyInterface(yt.o)},_name:{value:Tt.nm}}),_t.mn=Tt.mn,_t}return function(Tt,At,wt){var _t;function Et(St){if(typeof St=="number")return St=St===void 0?1:St,St===0?wt:_t[St-1];for(var xt=0,Ct=_t.length;xt<Ct;){if(_t[xt]._name===St)return _t[xt];xt+=1}return null}function yt(){return wt}return Et.propertyGroup=propertyGroupFactory(Et,yt),_t=e(Tt,At,Et.propertyGroup),Et.numProperties=_t.length,Et._name="Contents",Et}}(),TextExpressionInterface=function(){return function(e){var i;function s(a){switch(a){case"ADBE Text Document":return s.sourceText;default:return null}}return Object.defineProperty(s,"sourceText",{get:function(){e.textProperty.getValue();var o=e.textProperty.currentData.t;return(!i||o!==i.value)&&(i=new String(o),i.value=o||new String(o),Object.defineProperty(i,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),i}}),s}}();function _typeof(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(s){return typeof s}:_typeof=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(e)}var FootageInterface=function(){var e=function(a){var o="",et=a.getFootageData();function ot(){return o="",et=a.getFootageData(),ft}function ft(dt){if(et[dt])return o=dt,et=et[dt],_typeof(et)==="object"?ft:et;var mt=dt.indexOf(o);if(mt!==-1){var gt=parseInt(dt.substr(mt+o.length),10);return et=et[gt],_typeof(et)==="object"?ft:et}return""}return ot},i=function(a){function o(et){return et==="Outline"?o.outlineInterface():null}return o._name="Outline",o.outlineInterface=e(a),o};return function(s){function a(o){return o==="Data"?a.dataInterface:null}return a._name="Data",a.dataInterface=i(s),a}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers=function(){function e(ot,ft,dt){ft.x&&(dt.k=!0,dt.x=!0,dt.initiateExpression=ExpressionManager.initiateExpression,dt.effectsSequence.push(dt.initiateExpression(ot,ft,dt).bind(dt)))}function i(ot){return ot*=this.elem.globalData.frameRate,ot-=this.offsetTime,ot!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<ot?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(ot,this._cachingAtTime),this._cachingAtTime.lastFrame=ot),this._cachingAtTime.value}function s(ot){var ft=-.01,dt=this.getValueAtTime(ot),mt=this.getValueAtTime(ot+ft),gt=0;if(dt.length){var bt;for(bt=0;bt<dt.length;bt+=1)gt+=Math.pow(mt[bt]-dt[bt],2);gt=Math.sqrt(gt)*100}else gt=0;return gt}function a(ot){if(this.vel!==void 0)return this.vel;var ft=-.001,dt=this.getValueAtTime(ot),mt=this.getValueAtTime(ot+ft),gt;if(dt.length){gt=createTypedArray("float32",dt.length);var bt;for(bt=0;bt<dt.length;bt+=1)gt[bt]=(mt[bt]-dt[bt])/ft}else gt=(mt-dt)/ft;return gt}function o(){return this.pv}function et(ot){this.propertyGroup=ot}return{searchExpressions:e,getSpeedAtTime:s,getVelocityAtTime:a,getValueAtTime:i,getStaticValueAtTime:o,setGroupProperty:et}}();function addPropertyDecorator(){function e(vt,Pt,Tt){if(!this.k||!this.keyframes)return this.pv;vt=vt?vt.toLowerCase():"";var At=this.comp.renderedFrame,wt=this.keyframes,_t=wt[wt.length-1].t;if(At<=_t)return this.pv;var Et,yt;Tt?(Pt?Et=Math.abs(_t-this.elem.comp.globalData.frameRate*Pt):Et=Math.max(0,_t-this.elem.data.ip),yt=_t-Et):((!Pt||Pt>wt.length-1)&&(Pt=wt.length-1),yt=wt[wt.length-1-Pt].t,Et=_t-yt);var St,xt,Ct;if(vt==="pingpong"){var $t=Math.floor((At-yt)/Et);if($t%2!==0)return this.getValueAtTime((Et-(At-yt)%Et+yt)/this.comp.globalData.frameRate,0)}else if(vt==="offset"){var Rt=this.getValueAtTime(yt/this.comp.globalData.frameRate,0),It=this.getValueAtTime(_t/this.comp.globalData.frameRate,0),Nt=this.getValueAtTime(((At-yt)%Et+yt)/this.comp.globalData.frameRate,0),Ot=Math.floor((At-yt)/Et);if(this.pv.length){for(Ct=new Array(Rt.length),xt=Ct.length,St=0;St<xt;St+=1)Ct[St]=(It[St]-Rt[St])*Ot+Nt[St];return Ct}return(It-Rt)*Ot+Nt}else if(vt==="continue"){var Gt=this.getValueAtTime(_t/this.comp.globalData.frameRate,0),Xt=this.getValueAtTime((_t-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ct=new Array(Gt.length),xt=Ct.length,St=0;St<xt;St+=1)Ct[St]=Gt[St]+(Gt[St]-Xt[St])*((At-_t)/this.comp.globalData.frameRate)/5e-4;return Ct}return Gt+(Gt-Xt)*((At-_t)/.001)}return this.getValueAtTime(((At-yt)%Et+yt)/this.comp.globalData.frameRate,0)}function i(vt,Pt,Tt){if(!this.k)return this.pv;vt=vt?vt.toLowerCase():"";var At=this.comp.renderedFrame,wt=this.keyframes,_t=wt[0].t;if(At>=_t)return this.pv;var Et,yt;Tt?(Pt?Et=Math.abs(this.elem.comp.globalData.frameRate*Pt):Et=Math.max(0,this.elem.data.op-_t),yt=_t+Et):((!Pt||Pt>wt.length-1)&&(Pt=wt.length-1),yt=wt[Pt].t,Et=yt-_t);var St,xt,Ct;if(vt==="pingpong"){var $t=Math.floor((_t-At)/Et);if($t%2===0)return this.getValueAtTime(((_t-At)%Et+_t)/this.comp.globalData.frameRate,0)}else if(vt==="offset"){var Rt=this.getValueAtTime(_t/this.comp.globalData.frameRate,0),It=this.getValueAtTime(yt/this.comp.globalData.frameRate,0),Nt=this.getValueAtTime((Et-(_t-At)%Et+_t)/this.comp.globalData.frameRate,0),Ot=Math.floor((_t-At)/Et)+1;if(this.pv.length){for(Ct=new Array(Rt.length),xt=Ct.length,St=0;St<xt;St+=1)Ct[St]=Nt[St]-(It[St]-Rt[St])*Ot;return Ct}return Nt-(It-Rt)*Ot}else if(vt==="continue"){var Gt=this.getValueAtTime(_t/this.comp.globalData.frameRate,0),Xt=this.getValueAtTime((_t+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Ct=new Array(Gt.length),xt=Ct.length,St=0;St<xt;St+=1)Ct[St]=Gt[St]+(Gt[St]-Xt[St])*(_t-At)/.001;return Ct}return Gt+(Gt-Xt)*(_t-At)/.001}return this.getValueAtTime((Et-((_t-At)%Et+_t))/this.comp.globalData.frameRate,0)}function s(vt,Pt){if(!this.k)return this.pv;if(vt=(vt||.4)*.5,Pt=Math.floor(Pt||5),Pt<=1)return this.pv;var Tt=this.comp.renderedFrame/this.comp.globalData.frameRate,At=Tt-vt,wt=Tt+vt,_t=Pt>1?(wt-At)/(Pt-1):1,Et=0,yt=0,St;this.pv.length?St=createTypedArray("float32",this.pv.length):St=0;for(var xt;Et<Pt;){if(xt=this.getValueAtTime(At+Et*_t),this.pv.length)for(yt=0;yt<this.pv.length;yt+=1)St[yt]+=xt[yt];else St+=xt;Et+=1}if(this.pv.length)for(yt=0;yt<this.pv.length;yt+=1)St[yt]/=Pt;else St/=Pt;return St}function a(vt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var Pt=this._transformCachingAtTime.v;if(Pt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Tt=this.a.getValueAtTime(vt);Pt.translate(-Tt[0]*this.a.mult,-Tt[1]*this.a.mult,Tt[2]*this.a.mult)}if(this.appliedTransformations<2){var At=this.s.getValueAtTime(vt);Pt.scale(At[0]*this.s.mult,At[1]*this.s.mult,At[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var wt=this.sk.getValueAtTime(vt),_t=this.sa.getValueAtTime(vt);Pt.skewFromAxis(-wt*this.sk.mult,_t*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Et=this.r.getValueAtTime(vt);Pt.rotate(-Et*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var yt=this.rz.getValueAtTime(vt),St=this.ry.getValueAtTime(vt),xt=this.rx.getValueAtTime(vt),Ct=this.or.getValueAtTime(vt);Pt.rotateZ(-yt*this.rz.mult).rotateY(St*this.ry.mult).rotateX(xt*this.rx.mult).rotateZ(-Ct[2]*this.or.mult).rotateY(Ct[1]*this.or.mult).rotateX(Ct[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var $t=this.px.getValueAtTime(vt),Rt=this.py.getValueAtTime(vt);if(this.data.p.z){var It=this.pz.getValueAtTime(vt);Pt.translate($t*this.px.mult,Rt*this.py.mult,-It*this.pz.mult)}else Pt.translate($t*this.px.mult,Rt*this.py.mult,0)}else{var Nt=this.p.getValueAtTime(vt);Pt.translate(Nt[0]*this.p.mult,Nt[1]*this.p.mult,-Nt[2]*this.p.mult)}return Pt}function o(){return this.v.clone(new Matrix)}var et=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(vt,Pt,Tt){var At=et(vt,Pt,Tt);return At.dynamicProperties.length?At.getValueAtTime=a.bind(At):At.getValueAtTime=o.bind(At),At.setGroupProperty=expressionHelpers.setGroupProperty,At};var ot=PropertyFactory.getProp;PropertyFactory.getProp=function(vt,Pt,Tt,At,wt){var _t=ot(vt,Pt,Tt,At,wt);_t.kf?_t.getValueAtTime=expressionHelpers.getValueAtTime.bind(_t):_t.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(_t),_t.setGroupProperty=expressionHelpers.setGroupProperty,_t.loopOut=e,_t.loopIn=i,_t.smooth=s,_t.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(_t),_t.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(_t),_t.numKeys=Pt.a===1?Pt.k.length:0,_t.propertyIndex=Pt.ix;var Et=0;return Tt!==0&&(Et=createTypedArray("float32",Pt.a===1?Pt.k[0].s.length:Pt.k.length)),_t._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Et},expressionHelpers.searchExpressions(vt,Pt,_t),_t.k&&wt.addDynamicProperty(_t),_t};function ft(vt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),vt*=this.elem.globalData.frameRate,vt-=this.offsetTime,vt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<vt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=vt,this.interpolateShape(vt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var dt=ShapePropertyFactory.getConstructorFunction(),mt=ShapePropertyFactory.getKeyframedConstructorFunction();function gt(){}gt.prototype={vertices:function(Pt,Tt){this.k&&this.getValue();var At=this.v;Tt!==void 0&&(At=this.getValueAtTime(Tt,0));var wt,_t=At._length,Et=At[Pt],yt=At.v,St=createSizedArray(_t);for(wt=0;wt<_t;wt+=1)Pt==="i"||Pt==="o"?St[wt]=[Et[wt][0]-yt[wt][0],Et[wt][1]-yt[wt][1]]:St[wt]=[Et[wt][0],Et[wt][1]];return St},points:function(Pt){return this.vertices("v",Pt)},inTangents:function(Pt){return this.vertices("i",Pt)},outTangents:function(Pt){return this.vertices("o",Pt)},isClosed:function(){return this.v.c},pointOnPath:function(Pt,Tt){var At=this.v;Tt!==void 0&&(At=this.getValueAtTime(Tt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(At));for(var wt=this._segmentsLength,_t=wt.lengths,Et=wt.totalLength*Pt,yt=0,St=_t.length,xt=0,Ct;yt<St;){if(xt+_t[yt].addedLength>Et){var $t=yt,Rt=At.c&&yt===St-1?0:yt+1,It=(Et-xt)/_t[yt].addedLength;Ct=bez.getPointInSegment(At.v[$t],At.v[Rt],At.o[$t],At.i[Rt],It,_t[yt]);break}else xt+=_t[yt].addedLength;yt+=1}return Ct||(Ct=At.c?[At.v[0][0],At.v[0][1]]:[At.v[At._length-1][0],At.v[At._length-1][1]]),Ct},vectorOnPath:function(Pt,Tt,At){Pt==1?Pt=this.v.c:Pt==0&&(Pt=.999);var wt=this.pointOnPath(Pt,Tt),_t=this.pointOnPath(Pt+.001,Tt),Et=_t[0]-wt[0],yt=_t[1]-wt[1],St=Math.sqrt(Math.pow(Et,2)+Math.pow(yt,2));if(St===0)return[0,0];var xt=At==="tangent"?[Et/St,yt/St]:[-yt/St,Et/St];return xt},tangentOnPath:function(Pt,Tt){return this.vectorOnPath(Pt,Tt,"tangent")},normalOnPath:function(Pt,Tt){return this.vectorOnPath(Pt,Tt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([gt],dt),extendPrototype([gt],mt),mt.prototype.getValueAtTime=ft,mt.prototype.initiateExpression=ExpressionManager.initiateExpression;var bt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(vt,Pt,Tt,At,wt){var _t=bt(vt,Pt,Tt,At,wt);return _t.propertyIndex=Pt.ix,_t.lock=!1,Tt===3?expressionHelpers.searchExpressions(vt,Pt.pt,_t):Tt===4&&expressionHelpers.searchExpressions(vt,Pt.ks,_t),_t.k&&vt.addDynamicProperty(_t),_t}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function e(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(i,s){var a=this.calculateExpression(s);if(i.t!==a){var o={};return this.copyData(o,i),o.t=a.toString(),o.__complete=!1,o}return i},TextProperty.prototype.searchProperty=function(){var i=this.searchKeyframes(),s=this.searchExpressions();return this.kf=i||s,this.kf},TextProperty.prototype.searchExpressions=e}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function e(i,s){var a=createNS("feMerge");a.setAttribute("result",i);var o,et;for(et=0;et<s.length;et+=1)o=createNS("feMergeNode"),o.setAttribute("in",s[et]),a.appendChild(o),a.appendChild(o);return a}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,i,s,a,o){this.filterManager=i;var et=createNS("feColorMatrix");et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","linearRGB"),et.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=et,et.setAttribute("result",a+"_tint_1"),e.appendChild(et),et=createNS("feColorMatrix"),et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),et.setAttribute("result",a+"_tint_2"),e.appendChild(et),this.matrixFilter=et;var ot=this.createMergeNode(a,[o,a+"_tint_1",a+"_tint_2"]);e.appendChild(ot)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var i=this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+a+" 0"),this.matrixFilter.setAttribute("values",s[0]-i[0]+" 0 0 0 "+i[0]+" "+(s[1]-i[1])+" 0 0 0 "+i[1]+" "+(s[2]-i[2])+" 0 0 0 "+i[2]+" 0 0 0 1 0")}};function SVGFillFilter(e,i,s,a){this.filterManager=i;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",a),e.appendChild(o),this.matrixFilter=o}SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var i=this.filterManager.effectElements[2].p.v,s=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+i[0]+" 0 0 0 0 "+i[1]+" 0 0 0 0 "+i[2]+" 0 0 0 "+s+" 0")}};function SVGStrokeEffect(e,i,s){this.initialized=!1,this.filterManager=i,this.elem=s,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var e=this.elem.layerElement.children||this.elem.layerElement.childNodes,i,s,a,o;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,a=0):(a=this.filterManager.effectElements[0].p.v-1,o=a+1),s=createNS("g"),s.setAttribute("fill","none"),s.setAttribute("stroke-linecap","round"),s.setAttribute("stroke-dashoffset",1),a;a<o;a+=1)i=createNS("path"),s.appendChild(i),this.paths.push({p:i,m:a});if(this.filterManager.effectElements[10].p.v===3){var et=createNS("mask"),ot=createElementID();et.setAttribute("id",ot),et.setAttribute("mask-type","alpha"),et.appendChild(s),this.elem.globalData.defs.appendChild(et);var ft=createNS("g");for(ft.setAttribute("mask","url("+getLocationHref()+"#"+ot+")");e[0];)ft.appendChild(e[0]);this.elem.layerElement.appendChild(ft),this.masker=et,s.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(e=this.elem.layerElement.children||this.elem.layerElement.childNodes;e.length;)this.elem.layerElement.removeChild(e[0]);this.elem.layerElement.appendChild(s),this.elem.layerElement.removeAttribute("mask"),s.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=s},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var i,s=this.paths.length,a,o;for(i=0;i<s;i+=1)if(this.paths[i].m!==-1&&(a=this.elem.maskManager.viewData[this.paths[i].m],o=this.paths[i].p,(e||this.filterManager._mdf||a.prop._mdf)&&o.setAttribute("d",a.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||a.prop._mdf)){var et;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var ot=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ft=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,dt=o.getTotalLength();et="0 0 0 "+dt*ot+" ";var mt=dt*(ft-ot),gt=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,bt=Math.floor(mt/gt),vt;for(vt=0;vt<bt;vt+=1)et+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";et+="0 "+dt*10+" 0 0"}else et="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",et)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(e||this.filterManager.effectElements[3].p._mdf)){var Pt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(Pt[0]*255)+","+bmFloor(Pt[1]*255)+","+bmFloor(Pt[2]*255)+")")}};function SVGTritoneFilter(e,i,s,a){this.filterManager=i;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(o);var et=createNS("feComponentTransfer");et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("result",a),this.matrixFilter=et;var ot=createNS("feFuncR");ot.setAttribute("type","table"),et.appendChild(ot),this.feFuncR=ot;var ft=createNS("feFuncG");ft.setAttribute("type","table"),et.appendChild(ft),this.feFuncG=ft;var dt=createNS("feFuncB");dt.setAttribute("type","table"),et.appendChild(dt),this.feFuncB=dt,e.appendChild(et)}SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var i=this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v,o=a[0]+" "+s[0]+" "+i[0],et=a[1]+" "+s[1]+" "+i[1],ot=a[2]+" "+s[2]+" "+i[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",et),this.feFuncB.setAttribute("tableValues",ot)}};function SVGProLevelsFilter(e,i,s,a){this.filterManager=i;var o=this.filterManager.effectElements,et=createNS("feComponentTransfer");(o[10].p.k||o[10].p.v!==0||o[11].p.k||o[11].p.v!==1||o[12].p.k||o[12].p.v!==1||o[13].p.k||o[13].p.v!==0||o[14].p.k||o[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",et)),(o[17].p.k||o[17].p.v!==0||o[18].p.k||o[18].p.v!==1||o[19].p.k||o[19].p.v!==1||o[20].p.k||o[20].p.v!==0||o[21].p.k||o[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",et)),(o[24].p.k||o[24].p.v!==0||o[25].p.k||o[25].p.v!==1||o[26].p.k||o[26].p.v!==1||o[27].p.k||o[27].p.v!==0||o[28].p.k||o[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",et)),(o[31].p.k||o[31].p.v!==0||o[32].p.k||o[32].p.v!==1||o[33].p.k||o[33].p.v!==1||o[34].p.k||o[34].p.v!==0||o[35].p.k||o[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",et)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(et.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(et)),(o[3].p.k||o[3].p.v!==0||o[4].p.k||o[4].p.v!==1||o[5].p.k||o[5].p.v!==1||o[6].p.k||o[6].p.v!==0||o[7].p.k||o[7].p.v!==1)&&(et=createNS("feComponentTransfer"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("result",a),e.appendChild(et),this.feFuncRComposed=this.createFeFunc("feFuncR",et),this.feFuncGComposed=this.createFeFunc("feFuncG",et),this.feFuncBComposed=this.createFeFunc("feFuncB",et))}SVGProLevelsFilter.prototype.createFeFunc=function(e,i){var s=createNS(e);return s.setAttribute("type","table"),i.appendChild(s),s},SVGProLevelsFilter.prototype.getTableValue=function(e,i,s,a,o){for(var et=0,ot=256,ft,dt=Math.min(e,i),mt=Math.max(e,i),gt=Array.call(null,{length:ot}),bt,vt=0,Pt=o-a,Tt=i-e;et<=256;)ft=et/256,ft<=dt?bt=Tt<0?o:a:ft>=mt?bt=Tt<0?a:o:bt=a+Pt*Math.pow((ft-e)/Tt,1/s),gt[vt]=bt,vt+=1,et+=256/(ot-1);return gt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var i,s=this.filterManager.effectElements;this.feFuncRComposed&&(e||s[3].p._mdf||s[4].p._mdf||s[5].p._mdf||s[6].p._mdf||s[7].p._mdf)&&(i=this.getTableValue(s[3].p.v,s[4].p.v,s[5].p.v,s[6].p.v,s[7].p.v),this.feFuncRComposed.setAttribute("tableValues",i),this.feFuncGComposed.setAttribute("tableValues",i),this.feFuncBComposed.setAttribute("tableValues",i)),this.feFuncR&&(e||s[10].p._mdf||s[11].p._mdf||s[12].p._mdf||s[13].p._mdf||s[14].p._mdf)&&(i=this.getTableValue(s[10].p.v,s[11].p.v,s[12].p.v,s[13].p.v,s[14].p.v),this.feFuncR.setAttribute("tableValues",i)),this.feFuncG&&(e||s[17].p._mdf||s[18].p._mdf||s[19].p._mdf||s[20].p._mdf||s[21].p._mdf)&&(i=this.getTableValue(s[17].p.v,s[18].p.v,s[19].p.v,s[20].p.v,s[21].p.v),this.feFuncG.setAttribute("tableValues",i)),this.feFuncB&&(e||s[24].p._mdf||s[25].p._mdf||s[26].p._mdf||s[27].p._mdf||s[28].p._mdf)&&(i=this.getTableValue(s[24].p.v,s[25].p.v,s[26].p.v,s[27].p.v,s[28].p.v),this.feFuncB.setAttribute("tableValues",i)),this.feFuncA&&(e||s[31].p._mdf||s[32].p._mdf||s[33].p._mdf||s[34].p._mdf||s[35].p._mdf)&&(i=this.getTableValue(s[31].p.v,s[32].p.v,s[33].p.v,s[34].p.v,s[35].p.v),this.feFuncA.setAttribute("tableValues",i))}};function SVGDropShadowEffect(e,i,s,a,o){var et=i.container.globalData.renderConfig.filterSize,ot=i.data.fs||et;e.setAttribute("x",ot.x||et.x),e.setAttribute("y",ot.y||et.y),e.setAttribute("width",ot.width||et.width),e.setAttribute("height",ot.height||et.height),this.filterManager=i;var ft=createNS("feGaussianBlur");ft.setAttribute("in","SourceAlpha"),ft.setAttribute("result",a+"_drop_shadow_1"),ft.setAttribute("stdDeviation","0"),this.feGaussianBlur=ft,e.appendChild(ft);var dt=createNS("feOffset");dt.setAttribute("dx","25"),dt.setAttribute("dy","0"),dt.setAttribute("in",a+"_drop_shadow_1"),dt.setAttribute("result",a+"_drop_shadow_2"),this.feOffset=dt,e.appendChild(dt);var mt=createNS("feFlood");mt.setAttribute("flood-color","#00ff00"),mt.setAttribute("flood-opacity","1"),mt.setAttribute("result",a+"_drop_shadow_3"),this.feFlood=mt,e.appendChild(mt);var gt=createNS("feComposite");gt.setAttribute("in",a+"_drop_shadow_3"),gt.setAttribute("in2",a+"_drop_shadow_2"),gt.setAttribute("operator","in"),gt.setAttribute("result",a+"_drop_shadow_4"),e.appendChild(gt);var bt=this.createMergeNode(a,[a+"_drop_shadow_4",o]);e.appendChild(bt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var i=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var s=this.filterManager.effectElements[3].p.v,a=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=s*Math.cos(a),et=s*Math.sin(a);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",et)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,i,s){this.initialized=!1,this.filterManager=i,this.filterElem=e,this.elem=s,s.matteElement=createNS("g"),s.matteElement.appendChild(s.layerElement),s.matteElement.appendChild(s.transformedElement),s.baseElement=s.matteElement}SVGMatte3Effect.prototype.findSymbol=function(e){for(var i=0,s=_svgMatteSymbols.length;i<s;){if(_svgMatteSymbols[i]===e)return _svgMatteSymbols[i];i+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,i){var s=e.layerElement.parentNode;if(s){for(var a=s.children,o=0,et=a.length;o<et&&a[o]!==e.layerElement;)o+=1;var ot;o<=et-2&&(ot=a[o+1]);var ft=createNS("use");ft.setAttribute("href","#"+i),ot?s.insertBefore(ft,ot):s.appendChild(ft)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,i){if(!this.findSymbol(i)){var s=createElementID(),a=createNS("mask");a.setAttribute("id",i.layerId),a.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(i);var o=e.globalData.defs;o.appendChild(a);var et=createNS("symbol");et.setAttribute("id",s),this.replaceInParent(i,s),et.appendChild(i.layerElement),o.appendChild(et);var ot=createNS("use");ot.setAttribute("href","#"+s),a.appendChild(ot),i.data.hd=!1,i.show()}e.setMatte(i.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,i=this.elem.comp.elements,s=0,a=i.length;s<a;)i[s]&&i[s].data.ind===e&&this.setElementAsMask(this.elem,i[s]),s+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(e,i,s,a){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=i;var o=createNS("feGaussianBlur");o.setAttribute("result",a),e.appendChild(o),this.feGaussianBlur=o}SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var i=.3,s=this.filterManager.effectElements[0].p.v*i,a=this.filterManager.effectElements[1].p.v,o=a==3?0:s,et=a==2?0:s;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+et);var ot=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",ot)}};function TransformEffect(){}TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var i=this.effectsManager.effectElements,s=i[0].p.v,a=i[1].p.v,o=i[2].p.v===1,et=i[3].p.v,ot=o?et:i[4].p.v,ft=i[5].p.v,dt=i[6].p.v,mt=i[7].p.v;this.matrix.reset(),this.matrix.translate(-s[0],-s[1],s[2]),this.matrix.scale(ot*.01,et*.01,1),this.matrix.rotate(-mt*degToRads),this.matrix.skewFromAxis(-ft*degToRads,(dt+90)*degToRads),this.matrix.translate(a[0],a[1],0),this._mdf=!0,this.opacity!==i[8].p.v&&(this.opacity=i[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(e,i){this.init(i)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(e){this.init(e)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie,lottie.exports);var lottieExports=lottie.exports;const Lottie=getDefaultExportFromCjs(lottieExports),v$1="4.6.0",fr$1=29.9700012207031,ip=0,op=49.0000019958109,w$1=200,h=200,nm="loading_ring_medium",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"green ring 1",ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:0,s:[0],e:[360]},{t:49.0000019958109}]},p:{a:0,k:[100,100,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[200,200,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[54,54]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"st",c:{a:0,k:[.3215686274509804,.38823529411764707,.8156862745098039,1]},o:{a:0,k:100},w:{a:0,k:6},lc:2,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,mn:"ADBE Vector Group"},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.644],y:[0]},n:["0p667_1_0p644_0"],t:10,s:[0],e:[100]},{t:50.0000020365418}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},n:["0p667_1_0p333_0"],t:-1,s:[0],e:[100]},{t:37.0000015070409}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"}],ip:0,op:50.0000020365418,st:-1.00000004073083,bm:0,sr:1},{ddd:0,ind:2,ty:4,nm:"flamingo ring 3",parent:1,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.785],y:[1]},o:{x:[1],y:[0]},n:["0p785_1_1_0"],t:17,s:[14.2],e:[360]},{t:50.0000020365418}]},p:{a:0,k:[0,0,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[54,54]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"st",c:{a:0,k:[.3176470588235294,.796078431372549,1,1]},o:{a:0,k:100},w:{a:0,k:6},lc:2,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,mn:"ADBE Vector Group"},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:42,s:[0],e:[1]},{t:44.0000017921567}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},n:["0p833_1_0p333_0"],t:20,s:[0],e:[1]},{t:44.0000017921567}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"}],ip:17.0000006924242,op:44.0000017921567,st:-1.00000004073083,bm:0,sr:1},{ddd:0,ind:3,ty:4,nm:"flamingo ring 2",parent:1,ks:{o:{a:0,k:100},r:{a:1,k:[{i:{x:[.612],y:[1]},o:{x:[1],y:[0]},n:["0p612_1_1_0"],t:17,s:[14.2],e:[360]},{t:50.0000020365418}]},p:{a:0,k:[0,0,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[54,54]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"st",c:{a:0,k:[.3176470588235294,.796078431372549,1,1]},o:{a:0,k:100},w:{a:0,k:6},lc:2,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,mn:"ADBE Vector Group"},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:42,s:[0],e:[13.7]},{t:44.0000017921567}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},n:["0p833_1_0p333_0"],t:20,s:[0],e:[13.7]},{t:44.0000017921567}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"}],ip:17.0000006924242,op:44.0000017921567,st:-1.00000004073083,bm:0,sr:1},{ddd:0,ind:4,ty:4,nm:"flaming ring 1",parent:1,ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[0,0,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[54,54]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"st",c:{a:0,k:[.3176470588235294,.796078431372549,1,1]},o:{a:0,k:100},w:{a:0,k:6},lc:2,lj:1,ml:4,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,mn:"ADBE Vector Group"},{ty:"tm",s:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},n:["0p667_1_1_0"],t:8,s:[0],e:[100]},{t:48.0000019550801}],ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},n:["0p667_1_1_0"],t:-1,s:[0],e:[100]},{t:37.0000015070409}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"}],ip:15.0000006109625,op:44.0000017921567,st:-1.00000004073083,bm:0,sr:1}],loader={v:v$1,fr:fr$1,ip,op,w:w$1,h,nm,ddd,assets,layers};function Loader({timer:e=30}){const[i,s]=reactExports.useState(!0);return reactExports.useEffect(()=>{const a=Lottie.loadAnimation({container:document.querySelector("#lottie-loader"),animationData:loader,renderer:"svg",loop:!0,autoplay:!0});return setTimeout(()=>{s(!1)},e*1e3),()=>a.destroy()},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i&&jsxRuntimeExports.jsx("div",{className:"loader",children:jsxRuntimeExports.jsx("div",{id:"lottie-loader"})})})}function Uploader(){const[e,i]=reactExports.useState([]),[s,a]=reactExports.useState(!1),o=dt=>{i(dt)},et=dt=>{i(e.filter(mt=>mt.id!==dt))},ot=async()=>{try{if(!e||!e.length){B$2.error("No Files Selected!");return}a(!0);const dt=e.map(bt=>bt.file),gt=(await firebase.uploadMultipleFiles(dt)||[]).filter(bt=>bt==null?void 0:bt.url).map(bt=>({id:crypto.randomUUID(),name:bt==null?void 0:bt.name,url:bt==null?void 0:bt.url,uploadedOn:new Date().toISOString()}));await firebase.saveMultipleInDB(gt),i(()=>[]),B$2.success("File(s) Saved!")}catch(dt){console.trace(dt),B$2.error("Something went wrong")}finally{a(!1)}},ft=dt=>{let mt="File Uploaded!";dt.length>1&&(mt="Files Uploaded!"),B$2.success(mt)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Dropzone,{onChange:o,value:e,onUploadFinish:ft,children:e.map(dt=>jsxRuntimeExports.jsx(FileMosaic,{...dt,onDelete:et,info:!0},dt.id))}),jsxRuntimeExports.jsx("button",{onClick:ot,children:"Upload"}),s&&jsxRuntimeExports.jsx(Loader,{})]})}function UploadDocument(){return jsxRuntimeExports.jsxs("div",{className:"upload-documents",children:[jsxRuntimeExports.jsxs("div",{className:"title flex space-between",children:[jsxRuntimeExports.jsx("h2",{children:"Upload Documents"}),jsxRuntimeExports.jsx(Link,{to:"/documents",children:jsxRuntimeExports.jsx("button",{children:"View Uploaded Files"})})]}),jsxRuntimeExports.jsx(Uploader,{})]})}function DocumentList(){const[e,i]=reactExports.useState([]),[s,a]=reactExports.useState(!1);return reactExports.useEffect(()=>{const o=async()=>{const et=await firebase.getMultipleFilesFromDB(),ot=[];et==null||et.forEach(ft=>{const dt=ft.data();ot.push(dt)}),a(!1),i(()=>ot)};a(!0),o()},[]),jsxRuntimeExports.jsxs("div",{className:"file-list",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-between",children:[jsxRuntimeExports.jsx("h2",{className:"title",children:"File List"}),jsxRuntimeExports.jsx(Link,{to:"/",children:jsxRuntimeExports.jsx("button",{children:"Upload new File"})})]}),jsxRuntimeExports.jsxs("div",{className:"file-data",children:[e.length===0&&jsxRuntimeExports.jsx("div",{className:"margin-top",children:jsxRuntimeExports.jsx("h1",{className:"title",children:"No Files Found"})}),e.length>0&&jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Name"}),jsxRuntimeExports.jsx("th",{children:"Uploaded On"}),jsxRuntimeExports.jsx("th",{children:"Action"})]}),e.map(o=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:o.name}),jsxRuntimeExports.jsx("td",{children:o.uploadedOn}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(Link,{to:`/view/${o.id}`,children:jsxRuntimeExports.jsx("button",{children:"View"})})})]}))]})]}),s&&jsxRuntimeExports.jsx(Loader,{})]})}var __assign$f=function(){return __assign$f=Object.assign||function(i){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var et in s)Object.prototype.hasOwnProperty.call(s,et)&&(i[et]=s[et])}return i},__assign$f.apply(this,arguments)};function __spreadArray$2(e,i,s){if(s||arguments.length===2)for(var a=0,o=i.length,et;a<o;a++)(et||!(a in i))&&(et||(et=Array.prototype.slice.call(i,0,a)),et[a]=i[a]);return e.concat(et||Array.prototype.slice.call(i))}var MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(e,i){return charat(e,0)^45?(((i<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim(e){return e.trim()}function match(e,i){return(e=i.exec(e))?e[0]:e}function replace(e,i,s){return e.replace(i,s)}function indexof(e,i,s){return e.indexOf(i,s)}function charat(e,i){return e.charCodeAt(i)|0}function substr(e,i,s){return e.slice(i,s)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,i){return i.push(e),e}function combine(e,i){return e.map(i).join("")}function filter(e,i){return e.filter(function(s){return!match(s,i)})}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,i,s,a,o,et,ot,ft){return{value:e,root:i,parent:s,type:a,props:o,children:et,line,column,length:ot,return:"",siblings:ft}}function copy(e,i){return assign(node("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},i)}function lift(e){for(;e.root;)e=copy(e.root,{children:[e]});append(e,e.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(e,i){return substr(characters,e,i)}function token(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(e===91?e+2:e===40?e+1:e)))}function whitespace(e){for(;(character=peek())&&character<33;)next();return token(e)>2||token(character)>3?"":" "}function escaping(e,i){for(;--i&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(e,caret()+(i<6&&peek()==32&&next()==32))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:e!==34&&e!==39&&delimiter(character);break;case 40:e===41&&delimiter(e);break;case 92:next();break}return position}function commenter(e,i){for(;next()&&e+character!==57;)if(e+character===84&&peek()===47)break;return"/*"+slice(i,position-1)+"*"+from(e===47?e:next())}function identifier(e){for(;!token(peek());)next();return slice(e,position)}function compile(e){return dealloc(parse("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse(e,i,s,a,o,et,ot,ft,dt){for(var mt=0,gt=0,bt=ot,vt=0,Pt=0,Tt=0,At=1,wt=1,_t=1,Et=0,yt="",St=o,xt=et,Ct=a,$t=yt;wt;)switch(Tt=Et,Et=next()){case 40:if(Tt!=108&&charat($t,bt-1)==58){indexof($t+=replace(delimit(Et),"&","&\f"),"&\f",abs(mt?ft[mt-1]:0))!=-1&&(_t=-1);break}case 34:case 39:case 91:$t+=delimit(Et);break;case 9:case 10:case 13:case 32:$t+=whitespace(Tt);break;case 92:$t+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),i,s,dt),dt);break;default:$t+="/"}break;case 123*At:ft[mt++]=strlen($t)*_t;case 125*At:case 59:case 0:switch(Et){case 0:case 125:wt=0;case 59+gt:_t==-1&&($t=replace($t,/\f/g,"")),Pt>0&&strlen($t)-bt&&append(Pt>32?declaration($t+";",a,s,bt-1,dt):declaration(replace($t," ","")+";",a,s,bt-2,dt),dt);break;case 59:$t+=";";default:if(append(Ct=ruleset($t,i,s,mt,gt,o,ft,yt,St=[],xt=[],bt,et),et),Et===123)if(gt===0)parse($t,i,Ct,Ct,St,et,bt,ft,xt);else switch(vt===99&&charat($t,3)===110?100:vt){case 100:case 108:case 109:case 115:parse(e,Ct,Ct,a&&append(ruleset(e,Ct,Ct,0,0,o,ft,yt,o,St=[],bt,xt),xt),o,xt,bt,ft,a?St:xt);break;default:parse($t,Ct,Ct,Ct,[""],xt,0,ft,xt)}}mt=gt=Pt=0,At=_t=1,yt=$t="",bt=ot;break;case 58:bt=1+strlen($t),Pt=Tt;default:if(At<1){if(Et==123)--At;else if(Et==125&&At++==0&&prev()==125)continue}switch($t+=from(Et),Et*At){case 38:_t=gt>0?1:($t+="\f",-1);break;case 44:ft[mt++]=(strlen($t)-1)*_t,_t=1;break;case 64:peek()===45&&($t+=delimit(next())),vt=peek(),gt=bt=strlen(yt=$t+=identifier(caret())),Et++;break;case 45:Tt===45&&strlen($t)==2&&(At=0)}}return et}function ruleset(e,i,s,a,o,et,ot,ft,dt,mt,gt,bt){for(var vt=o-1,Pt=o===0?et:[""],Tt=sizeof(Pt),At=0,wt=0,_t=0;At<a;++At)for(var Et=0,yt=substr(e,vt+1,vt=abs(wt=ot[At])),St=e;Et<Tt;++Et)(St=trim(wt>0?Pt[Et]+" "+yt:replace(yt,/&\f/g,Pt[Et])))&&(dt[_t++]=St);return node(e,i,s,o===0?RULESET:ft,dt,mt,gt,bt)}function comment(e,i,s,a){return node(e,i,s,COMMENT,from(char()),substr(e,2,-2),0,a)}function declaration(e,i,s,a,o){return node(e,i,s,DECLARATION,substr(e,0,a),substr(e,a+1,-1),a,o)}function prefix$1(e,i,s){switch(hash(e,i)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 4789:return MOZ+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 5936:switch(charat(e,i+11)){case 114:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace(e,/flex-|-self/g,"")+(match(e,/flex-|baseline/)?"":MS+"grid-row-"+replace(e,/flex-|-self/g,""))+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace(e,/align-content|flex-|-self/g,"")+e;case 5548:return WEBKIT+e+MS+replace(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace(e,"-grow","")+WEBKIT+e+MS+replace(e,"grow","positive")+e;case 4554:return WEBKIT+replace(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace(replace(replace(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4200:if(!match(e,/flex-|baseline/))return MS+"grid-column-align"+substr(e,i)+e;break;case 2592:case 3360:return MS+replace(e,"template-","")+e;case 4384:case 3616:return s&&s.some(function(a,o){return i=o,match(a.props,/grid-\w+-end/)})?~indexof(e+(s=s[i].value),"span",0)?e:MS+replace(e,"-start","")+e+MS+"grid-row-span:"+(~indexof(s,"span",0)?match(s,/\d+/):+match(s,/\d+/)-+match(e,/\d+/))+";":MS+replace(e,"-start","")+e;case 4896:case 4128:return s&&s.some(function(a){return match(a.props,/grid-\w+-start/)})?e:MS+replace(replace(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return replace(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(e)-1-i>6)switch(charat(e,i+1)){case 109:if(charat(e,i+4)!==45)break;case 102:return replace(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(e,i+3)==108?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch",0)?prefix$1(replace(e,"stretch","fill-available"),i,s)+e:e}break;case 5152:case 5920:return replace(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,o,et,ot,ft,dt,mt){return MS+o+":"+et+mt+(ot?MS+o+"-span:"+(ft?dt:+dt-+et)+mt:"")+e});case 4949:if(charat(e,i+6)===121)return replace(e,":",":"+WEBKIT)+e;break;case 6444:switch(charat(e,charat(e,14)===45?18:11)){case 120:return replace(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e;case 100:return replace(e,":",":"+MS)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(e,"scroll-","scroll-snap-")+e}return e}function serialize(e,i){for(var s="",a=0;a<e.length;a++)s+=i(e[a],a,e,i)||"";return s}function stringify(e,i,s,a){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize(e.children,a)+"}";case RULESET:if(!strlen(e.value=e.props.join(",")))return""}return strlen(s=serialize(e.children,a))?e.return=e.value+"{"+s+"}":""}function middleware(e){var i=sizeof(e);return function(s,a,o,et){for(var ot="",ft=0;ft<i;ft++)ot+=e[ft](s,a,o,et)||"";return ot}}function rulesheet(e){return function(i){i.root||(i=i.return)&&e(i)}}function prefixer(e,i,s,a){if(e.length>-1&&!e.return)switch(e.type){case DECLARATION:e.return=prefix$1(e.value,e.length,s);return;case KEYFRAMES:return serialize([copy(e,{value:replace(e.value,"@","@"+WEBKIT)})],a);case RULESET:if(e.length)return combine(s=e.props,function(o){switch(match(o,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy(e,{props:[replace(o,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy(e,{props:[o]})),assign(e,{props:filter(s,a)});break;case"::placeholder":lift(copy(e,{props:[replace(o,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy(e,{props:[replace(o,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy(e,{props:[replace(o,/:(plac\w+)/,MS+"input-$1")]})),lift(copy(e,{props:[o]})),assign(e,{props:filter(s,a)});break}return""})}}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},define_process_env_default={},f=typeof process<"u"&&define_process_env_default!==void 0&&(define_process_env_default.REACT_APP_SC_ATTR||define_process_env_default.SC_ATTR)||"data-styled",m="active",y="data-styled-version",v="6.1.8",g=`/*!sc*/
`,S=typeof window<"u"&&"HTMLElement"in window,w=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default!==void 0&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!==""?define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&define_process_env_default.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default!==void 0&&define_process_env_default.SC_DISABLE_SPEEDY!==void 0&&define_process_env_default.SC_DISABLE_SPEEDY!==""&&define_process_env_default.SC_DISABLE_SPEEDY!=="false"&&define_process_env_default.SC_DISABLE_SPEEDY),_=Object.freeze([]),C=Object.freeze({});function I(e,i,s){return s===void 0&&(s=C),e.theme!==s.theme&&e.theme||i||s.theme}var A=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),O=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D=/(^-|-$)/g;function R(e){return e.replace(O,"-").replace(D,"")}var T=/(a)(d)/gi,k=52,j=function(e){return String.fromCharCode(e+(e>25?39:97))};function x(e){var i,s="";for(i=Math.abs(e);i>k;i=i/k|0)s=j(i%k)+s;return(j(i%k)+s).replace(T,"$1-$2")}var V,F=5381,M=function(e,i){for(var s=i.length;s;)e=33*e^i.charCodeAt(--s);return e},$=function(e){return M(F,e)};function z(e){return x($(e)>>>0)}function B(e){return e.displayName||e.name||"Component"}function L(e){return typeof e=="string"&&!0}var G=typeof Symbol=="function"&&Symbol.for,Y=G?Symbol.for("react.memo"):60115,W=G?Symbol.for("react.forward_ref"):60112,q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J=((V={})[W]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V[Y]=U,V);function X(e){return("type"in(i=e)&&i.type.$$typeof)===Y?U:"$$typeof"in e?J[e.$$typeof]:q;var i}var Z=Object.defineProperty,K=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,ee=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ne=Object.prototype;function oe(e,i,s){if(typeof i!="string"){if(ne){var a=te(i);a&&a!==ne&&oe(e,a,s)}var o=K(i);Q&&(o=o.concat(Q(i)));for(var et=X(e),ot=X(i),ft=0;ft<o.length;++ft){var dt=o[ft];if(!(dt in H||s&&s[dt]||ot&&dt in ot||et&&dt in et)){var mt=ee(i,dt);try{Z(e,dt,mt)}catch{}}}}return e}function re(e){return typeof e=="function"}function se(e){return typeof e=="object"&&"styledComponentId"in e}function ie(e,i){return e&&i?"".concat(e," ").concat(i):e||i||""}function ae(e,i){if(e.length===0)return"";for(var s=e[0],a=1;a<e.length;a++)s+=i?i+e[a]:e[a];return s}function ce(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function le(e,i,s){if(s===void 0&&(s=!1),!s&&!ce(e)&&!Array.isArray(e))return i;if(Array.isArray(i))for(var a=0;a<i.length;a++)e[a]=le(e[a],i[a]);else if(ce(i))for(var a in i)e[a]=le(e[a],i[a]);return e}function ue(e,i){Object.defineProperty(e,"toString",{value:i})}function he(e){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(i.length>0?" Args: ".concat(i.join(", ")):""))}var fe=function(){function e(i){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=i}return e.prototype.indexOfGroup=function(i){for(var s=0,a=0;a<i;a++)s+=this.groupSizes[a];return s},e.prototype.insertRules=function(i,s){if(i>=this.groupSizes.length){for(var a=this.groupSizes,o=a.length,et=o;i>=et;)if((et<<=1)<0)throw he(16,"".concat(i));this.groupSizes=new Uint32Array(et),this.groupSizes.set(a),this.length=et;for(var ot=o;ot<et;ot++)this.groupSizes[ot]=0}for(var ft=this.indexOfGroup(i+1),dt=(ot=0,s.length);ot<dt;ot++)this.tag.insertRule(ft,s[ot])&&(this.groupSizes[i]++,ft++)},e.prototype.clearGroup=function(i){if(i<this.length){var s=this.groupSizes[i],a=this.indexOfGroup(i),o=a+s;this.groupSizes[i]=0;for(var et=a;et<o;et++)this.tag.deleteRule(a)}},e.prototype.getGroup=function(i){var s="";if(i>=this.length||this.groupSizes[i]===0)return s;for(var a=this.groupSizes[i],o=this.indexOfGroup(i),et=o+a,ot=o;ot<et;ot++)s+="".concat(this.tag.getRule(ot)).concat(g);return s},e}(),me=new Map,ye=new Map,ve=1,ge=function(e){if(me.has(e))return me.get(e);for(;ye.has(ve);)ve++;var i=ve++;return me.set(e,i),ye.set(i,e),i},Se=function(e,i){ve=i+1,me.set(e,i),ye.set(i,e)},we="style[".concat(f,"][").concat(y,'="').concat(v,'"]'),be=new RegExp("^".concat(f,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ee=function(e,i,s){for(var a,o=s.split(","),et=0,ot=o.length;et<ot;et++)(a=o[et])&&e.registerName(i,a)},Ne=function(e,i){for(var s,a=((s=i.textContent)!==null&&s!==void 0?s:"").split(g),o=[],et=0,ot=a.length;et<ot;et++){var ft=a[et].trim();if(ft){var dt=ft.match(be);if(dt){var mt=0|parseInt(dt[1],10),gt=dt[2];mt!==0&&(Se(gt,mt),Ee(e,gt,dt[3]),e.getTag().insertRules(mt,o)),o.length=0}else o.push(ft)}}};function Pe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var _e=function(e){var i=document.head,s=e||i,a=document.createElement("style"),o=function(ft){var dt=Array.from(ft.querySelectorAll("style[".concat(f,"]")));return dt[dt.length-1]}(s),et=o!==void 0?o.nextSibling:null;a.setAttribute(f,m),a.setAttribute(y,v);var ot=Pe();return ot&&a.setAttribute("nonce",ot),s.insertBefore(a,et),a},Ce=function(){function e(i){this.element=_e(i),this.element.appendChild(document.createTextNode("")),this.sheet=function(s){if(s.sheet)return s.sheet;for(var a=document.styleSheets,o=0,et=a.length;o<et;o++){var ot=a[o];if(ot.ownerNode===s)return ot}throw he(17)}(this.element),this.length=0}return e.prototype.insertRule=function(i,s){try{return this.sheet.insertRule(s,i),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(i){this.sheet.deleteRule(i),this.length--},e.prototype.getRule=function(i){var s=this.sheet.cssRules[i];return s&&s.cssText?s.cssText:""},e}(),Ie=function(){function e(i){this.element=_e(i),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(i,s){if(i<=this.length&&i>=0){var a=document.createTextNode(s);return this.element.insertBefore(a,this.nodes[i]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(i){this.element.removeChild(this.nodes[i]),this.length--},e.prototype.getRule=function(i){return i<this.length?this.nodes[i].textContent:""},e}(),Ae=function(){function e(i){this.rules=[],this.length=0}return e.prototype.insertRule=function(i,s){return i<=this.length&&(this.rules.splice(i,0,s),this.length++,!0)},e.prototype.deleteRule=function(i){this.rules.splice(i,1),this.length--},e.prototype.getRule=function(i){return i<this.length?this.rules[i]:""},e}(),Oe=S,De={isServer:!S,useCSSOMInjection:!w},Re=function(){function e(i,s,a){i===void 0&&(i=C),s===void 0&&(s={});var o=this;this.options=__assign$f(__assign$f({},De),i),this.gs=s,this.names=new Map(a),this.server=!!i.isServer,!this.server&&S&&Oe&&(Oe=!1,function(et){for(var ot=document.querySelectorAll(we),ft=0,dt=ot.length;ft<dt;ft++){var mt=ot[ft];mt&&mt.getAttribute(f)!==m&&(Ne(et,mt),mt.parentNode&&mt.parentNode.removeChild(mt))}}(this)),ue(this,function(){return function(et){for(var ot=et.getTag(),ft=ot.length,dt="",mt=function(bt){var vt=function(_t){return ye.get(_t)}(bt);if(vt===void 0)return"continue";var Pt=et.names.get(vt),Tt=ot.getGroup(bt);if(Pt===void 0||Tt.length===0)return"continue";var At="".concat(f,".g").concat(bt,'[id="').concat(vt,'"]'),wt="";Pt!==void 0&&Pt.forEach(function(_t){_t.length>0&&(wt+="".concat(_t,","))}),dt+="".concat(Tt).concat(At,'{content:"').concat(wt,'"}').concat(g)},gt=0;gt<ft;gt++)mt(gt);return dt}(o)})}return e.registerId=function(i){return ge(i)},e.prototype.reconstructWithOptions=function(i,s){return s===void 0&&(s=!0),new e(__assign$f(__assign$f({},this.options),i),this.gs,s&&this.names||void 0)},e.prototype.allocateGSInstance=function(i){return this.gs[i]=(this.gs[i]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(i=function(s){var a=s.useCSSOMInjection,o=s.target;return s.isServer?new Ae(o):a?new Ce(o):new Ie(o)}(this.options),new fe(i)));var i},e.prototype.hasNameForId=function(i,s){return this.names.has(i)&&this.names.get(i).has(s)},e.prototype.registerName=function(i,s){if(ge(i),this.names.has(i))this.names.get(i).add(s);else{var a=new Set;a.add(s),this.names.set(i,a)}},e.prototype.insertRules=function(i,s,a){this.registerName(i,s),this.getTag().insertRules(ge(i),a)},e.prototype.clearNames=function(i){this.names.has(i)&&this.names.get(i).clear()},e.prototype.clearRules=function(i){this.getTag().clearGroup(ge(i)),this.clearNames(i)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Te=/&/g,ke=/^\s*\/\/.*$/gm;function je(e,i){return e.map(function(s){return s.type==="rule"&&(s.value="".concat(i," ").concat(s.value),s.value=s.value.replaceAll(",",",".concat(i," ")),s.props=s.props.map(function(a){return"".concat(i," ").concat(a)})),Array.isArray(s.children)&&s.type!=="@keyframes"&&(s.children=je(s.children,i)),s})}function xe(e){var i,s,a,o=e===void 0?C:e,et=o.options,ot=et===void 0?C:et,ft=o.plugins,dt=ft===void 0?_:ft,mt=function(vt,Pt,Tt){return Tt.startsWith(s)&&Tt.endsWith(s)&&Tt.replaceAll(s,"").length>0?".".concat(i):vt},gt=dt.slice();gt.push(function(vt){vt.type===RULESET&&vt.value.includes("&")&&(vt.props[0]=vt.props[0].replace(Te,s).replace(a,mt))}),ot.prefix&&gt.push(prefixer),gt.push(stringify);var bt=function(vt,Pt,Tt,At){Pt===void 0&&(Pt=""),Tt===void 0&&(Tt=""),At===void 0&&(At="&"),i=At,s=Pt,a=new RegExp("\\".concat(s,"\\b"),"g");var wt=vt.replace(ke,""),_t=compile(Tt||Pt?"".concat(Tt," ").concat(Pt," { ").concat(wt," }"):wt);ot.namespace&&(_t=je(_t,ot.namespace));var Et=[];return serialize(_t,middleware(gt.concat(rulesheet(function(yt){return Et.push(yt)})))),Et};return bt.hash=dt.length?dt.reduce(function(vt,Pt){return Pt.name||he(15),M(vt,Pt.name)},F).toString():"",bt}var Ve=new Re,Fe=xe(),Me=React.createContext({shouldForwardProp:void 0,styleSheet:Ve,stylis:Fe});Me.Consumer;React.createContext(void 0);function Be(){return reactExports.useContext(Me)}var Ge=function(){function e(i,s){var a=this;this.inject=function(o,et){et===void 0&&(et=Fe);var ot=a.name+et.hash;o.hasNameForId(a.id,ot)||o.insertRules(a.id,ot,et(a.rules,ot,"@keyframes"))},this.name=i,this.id="sc-keyframes-".concat(i),this.rules=s,ue(this,function(){throw he(12,String(a.name))})}return e.prototype.getName=function(i){return i===void 0&&(i=Fe),this.name+i.hash},e}(),Ye=function(e){return e>="A"&&e<="Z"};function We(e){for(var i="",s=0;s<e.length;s++){var a=e[s];if(s===1&&a==="-"&&e[0]==="-")return e;Ye(a)?i+="-"+a.toLowerCase():i+=a}return i.startsWith("ms-")?"-"+i:i}var qe=function(e){return e==null||e===!1||e===""},He=function(e){var i,s,a=[];for(var o in e){var et=e[o];e.hasOwnProperty(o)&&!qe(et)&&(Array.isArray(et)&&et.isCss||re(et)?a.push("".concat(We(o),":"),et,";"):ce(et)?a.push.apply(a,__spreadArray$2(__spreadArray$2(["".concat(o," {")],He(et),!1),["}"],!1)):a.push("".concat(We(o),": ").concat((i=o,(s=et)==null||typeof s=="boolean"||s===""?"":typeof s!="number"||s===0||i in unitlessKeys||i.startsWith("--")?String(s).trim():"".concat(s,"px")),";")))}return a};function Ue(e,i,s,a){if(qe(e))return[];if(se(e))return[".".concat(e.styledComponentId)];if(re(e)){if(!re(et=e)||et.prototype&&et.prototype.isReactComponent||!i)return[e];var o=e(i);return Ue(o,i,s,a)}var et;return e instanceof Ge?s?(e.inject(s,a),[e.getName(a)]):[e]:ce(e)?He(e):Array.isArray(e)?Array.prototype.concat.apply(_,e.map(function(ot){return Ue(ot,i,s,a)})):[e.toString()]}function Je(e){for(var i=0;i<e.length;i+=1){var s=e[i];if(re(s)&&!se(s))return!1}return!0}var Xe=$(v),Ze=function(){function e(i,s,a){this.rules=i,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&Je(i),this.componentId=s,this.baseHash=M(Xe,s),this.baseStyle=a,Re.registerId(s)}return e.prototype.generateAndInjectStyles=function(i,s,a){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(i,s,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&s.hasNameForId(this.componentId,this.staticRulesId))o=ie(o,this.staticRulesId);else{var et=ae(Ue(this.rules,i,s,a)),ot=x(M(this.baseHash,et)>>>0);if(!s.hasNameForId(this.componentId,ot)){var ft=a(et,".".concat(ot),void 0,this.componentId);s.insertRules(this.componentId,ot,ft)}o=ie(o,ot),this.staticRulesId=ot}else{for(var dt=M(this.baseHash,a.hash),mt="",gt=0;gt<this.rules.length;gt++){var bt=this.rules[gt];if(typeof bt=="string")mt+=bt;else if(bt){var vt=ae(Ue(bt,i,s,a));dt=M(dt,vt+gt),mt+=vt}}if(mt){var Pt=x(dt>>>0);s.hasNameForId(this.componentId,Pt)||s.insertRules(this.componentId,Pt,a(mt,".".concat(Pt),void 0,this.componentId)),o=ie(o,Pt)}}return o},e}(),Ke=React.createContext(void 0);Ke.Consumer;function tt(e){var i=React.useContext(Ke),s=reactExports.useMemo(function(){return function(a,o){if(!a)throw he(14);if(re(a)){var et=a(o);return et}if(Array.isArray(a)||typeof a!="object")throw he(8);return o?__assign$f(__assign$f({},o),a):a}(e.theme,i)},[e.theme,i]);return e.children?React.createElement(Ke.Provider,{value:s},e.children):null}var nt={};function rt(e,i,s){var a=se(e),o=e,et=!L(e),ot=i.attrs,ft=ot===void 0?_:ot,dt=i.componentId,mt=dt===void 0?function(St,xt){var Ct=typeof St!="string"?"sc":R(St);nt[Ct]=(nt[Ct]||0)+1;var $t="".concat(Ct,"-").concat(z(v+Ct+nt[Ct]));return xt?"".concat(xt,"-").concat($t):$t}(i.displayName,i.parentComponentId):dt,gt=i.displayName,bt=gt===void 0?function(St){return L(St)?"styled.".concat(St):"Styled(".concat(B(St),")")}(e):gt,vt=i.displayName&&i.componentId?"".concat(R(i.displayName),"-").concat(i.componentId):i.componentId||mt,Pt=a&&o.attrs?o.attrs.concat(ft).filter(Boolean):ft,Tt=i.shouldForwardProp;if(a&&o.shouldForwardProp){var At=o.shouldForwardProp;if(i.shouldForwardProp){var wt=i.shouldForwardProp;Tt=function(St,xt){return At(St,xt)&&wt(St,xt)}}else Tt=At}var _t=new Ze(s,vt,a?o.componentStyle:void 0);function Et(St,xt){return function(Ct,$t,Rt){var It=Ct.attrs,Nt=Ct.componentStyle,Ot=Ct.defaultProps,Gt=Ct.foldedComponentIds,Xt=Ct.styledComponentId,Ht=Ct.target,Yt=React.useContext(Ke),zt=Be(),Ut=Ct.shouldForwardProp||zt.shouldForwardProp,kt=I($t,Yt,Ot)||C,Ft=function(Vt,Lt,jt){for(var Wt,Kt=__assign$f(__assign$f({},Lt),{className:void 0,theme:jt}),er=0;er<Vt.length;er+=1){var tr=re(Wt=Vt[er])?Wt(Kt):Wt;for(var ur in tr)Kt[ur]=ur==="className"?ie(Kt[ur],tr[ur]):ur==="style"?__assign$f(__assign$f({},Kt[ur]),tr[ur]):tr[ur]}return Lt.className&&(Kt.className=ie(Kt.className,Lt.className)),Kt}(It,$t,kt),Qt=Ft.as||Ht,Zt={};for(var rr in Ft)Ft[rr]===void 0||rr[0]==="$"||rr==="as"||rr==="theme"&&Ft.theme===kt||(rr==="forwardedAs"?Zt.as=Ft.forwardedAs:Ut&&!Ut(rr,Qt)||(Zt[rr]=Ft[rr]));var qt=function(Vt,Lt){var jt=Be(),Wt=Vt.generateAndInjectStyles(Lt,jt.styleSheet,jt.stylis);return Wt}(Nt,Ft),Dt=ie(Gt,Xt);return qt&&(Dt+=" "+qt),Ft.className&&(Dt+=" "+Ft.className),Zt[L(Qt)&&!A.has(Qt)?"class":"className"]=Dt,Zt.ref=Rt,reactExports.createElement(Qt,Zt)}(yt,St,xt)}Et.displayName=bt;var yt=React.forwardRef(Et);return yt.attrs=Pt,yt.componentStyle=_t,yt.displayName=bt,yt.shouldForwardProp=Tt,yt.foldedComponentIds=a?ie(o.foldedComponentIds,o.styledComponentId):"",yt.styledComponentId=vt,yt.target=a?o.target:e,Object.defineProperty(yt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(St){this._foldedDefaultProps=a?function(xt){for(var Ct=[],$t=1;$t<arguments.length;$t++)Ct[$t-1]=arguments[$t];for(var Rt=0,It=Ct;Rt<It.length;Rt++)le(xt,It[Rt],!0);return xt}({},o.defaultProps,St):St}}),ue(yt,function(){return".".concat(yt.styledComponentId)}),et&&oe(yt,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),yt}function st(e,i){for(var s=[e[0]],a=0,o=i.length;a<o;a+=1)s.push(i[a],e[a+1]);return s}var it$1=function(e){return Object.assign(e,{isCss:!0})};function at(e){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(re(e)||ce(e))return it$1(Ue(st(_,__spreadArray$2([e],i,!0))));var a=e;return i.length===0&&a.length===1&&typeof a[0]=="string"?Ue(a):it$1(Ue(st(a,i)))}function ct(e,i,s){if(s===void 0&&(s=C),!i)throw he(1,i);var a=function(o){for(var et=[],ot=1;ot<arguments.length;ot++)et[ot-1]=arguments[ot];return e(i,s,at.apply(void 0,__spreadArray$2([o],et,!1)))};return a.attrs=function(o){return ct(e,i,__assign$f(__assign$f({},s),{attrs:Array.prototype.concat(s.attrs,o).filter(Boolean)}))},a.withConfig=function(o){return ct(e,i,__assign$f(__assign$f({},s),o))},a}var lt=function(e){return ct(rt,e)},ut=lt;A.forEach(function(e){ut[e]=lt(e)});function ht(e){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];var a=ae(at.apply(void 0,__spreadArray$2([e],i,!1))),o=z(a);return new Ge(o,a)}const documentNavInfo$a="Document {{ currentFileNo }} of {{ allFilesCount }}",noRendererMessage$a="No renderer for file type: {{{ fileType }}}",downloadButtonLabel$a="Download file",brokenFile$a="Your file is broken. Please check it on your machine.",msgPluginRecipients$a="Recipients",msgPluginSender$a="Sender",pdfPluginLoading$a="Loading...",pdfPluginPageNumber$a="Page {{ currentPage }}/{{ allPagesCount }}",en={documentNavInfo:documentNavInfo$a,noRendererMessage:noRendererMessage$a,downloadButtonLabel:downloadButtonLabel$a,brokenFile:brokenFile$a,msgPluginRecipients:msgPluginRecipients$a,msgPluginSender:msgPluginSender$a,pdfPluginLoading:pdfPluginLoading$a,pdfPluginPageNumber:pdfPluginPageNumber$a},documentNavInfo$9="Dokument {{ currentFileNo }} z {{ allFilesCount }}",noRendererMessage$9="Brak funckji renderujcej dla: {{{ fileType }}}",downloadButtonLabel$9="Pobierz plik",brokenFile$9="Twj plik jest uszkodzony. Sprawd go na swoim komputerze.",msgPluginRecipients$9="Odbiorcy",msgPluginSender$9="Nadawca",pdfPluginLoading$9="Wczytywanie...",pdfPluginPageNumber$9="Strona {{ currentPage }}/{{ allPagesCount }}",pl={documentNavInfo:documentNavInfo$9,noRendererMessage:noRendererMessage$9,downloadButtonLabel:downloadButtonLabel$9,brokenFile:brokenFile$9,msgPluginRecipients:msgPluginRecipients$9,msgPluginSender:msgPluginSender$9,pdfPluginLoading:pdfPluginLoading$9,pdfPluginPageNumber:pdfPluginPageNumber$9},documentNavInfo$8="Documento {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$8="No hay procesador para el tipo de archivo: {{{ fileType }}}",downloadButtonLabel$8="Descargar archivo",brokenFile$8="Tu archivo est roto. Comprubalo en tu mquina.",msgPluginRecipients$8="Destinatarios",msgPluginSender$8="Remitente",pdfPluginLoading$8="Cargando...",pdfPluginPageNumber$8="Pgina {{ currentPage }}/{{ allPagesCount }}",es={documentNavInfo:documentNavInfo$8,noRendererMessage:noRendererMessage$8,downloadButtonLabel:downloadButtonLabel$8,brokenFile:brokenFile$8,msgPluginRecipients:msgPluginRecipients$8,msgPluginSender:msgPluginSender$8,pdfPluginLoading:pdfPluginLoading$8,pdfPluginPageNumber:pdfPluginPageNumber$8},documentNavInfo$7="Dokument {{ currentFileNo }} von {{ allFilesCount }}",noRendererMessage$7="Kein Renderer fr Dateityp: {{{ fileType }}}",downloadButtonLabel$7="Datei herunterladen",brokenFile$7="Ihre Datei ist defekt. Bitte berprfen Sie sie auf Ihrem Rechner.",msgPluginRecipients$7="Empfnger",msgPluginSender$7="Absender",pdfPluginLoading$7="Wird geladen...",pdfPluginPageNumber$7="Seite {{ currentPage }}/{{ allPagesCount }}",de={documentNavInfo:documentNavInfo$7,noRendererMessage:noRendererMessage$7,downloadButtonLabel:downloadButtonLabel$7,brokenFile:brokenFile$7,msgPluginRecipients:msgPluginRecipients$7,msgPluginSender:msgPluginSender$7,pdfPluginLoading:pdfPluginLoading$7,pdfPluginPageNumber:pdfPluginPageNumber$7},documentNavInfo$6="Documento {{ currentFileNo }} di {{ allFilesCount }}",noRendererMessage$6="Nessun renderer per il tipo di file: {{{ fileType }}}",downloadButtonLabel$6="Scarica file",brokenFile$6="Il tuo file  danneggiato. Controllalo sul tuo computer.",msgPluginRecipients$6="Destinatari",msgPluginSender$6="Mittente",pdfPluginLoading$6="Caricamento in corso...",pdfPluginPageNumber$6="Pagina {{ currentPage }}/{{ allPagesCount }}",it={documentNavInfo:documentNavInfo$6,noRendererMessage:noRendererMessage$6,downloadButtonLabel:downloadButtonLabel$6,brokenFile:brokenFile$6,msgPluginRecipients:msgPluginRecipients$6,msgPluginSender:msgPluginSender$6,pdfPluginLoading:pdfPluginLoading$6,pdfPluginPageNumber:pdfPluginPageNumber$6},documentNavInfo$5="Documento {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$5="Nenhum renderizador para o tipo de arquivo: {{{ fileType }}}",downloadButtonLabel$5="Baixar arquivo",brokenFile$5="Seu arquivo est quebrado. Por favor, verifique-o em sua mquina.",msgPluginRecipients$5="Destinatrios",msgPluginSender$5="Remetente",pdfPluginLoading$5="Carregando...",pdfPluginPageNumber$5="Pgina {{ currentPage }}/{{ allPagesCount }}",pt={documentNavInfo:documentNavInfo$5,noRendererMessage:noRendererMessage$5,downloadButtonLabel:downloadButtonLabel$5,brokenFile:brokenFile$5,msgPluginRecipients:msgPluginRecipients$5,msgPluginSender:msgPluginSender$5,pdfPluginLoading:pdfPluginLoading$5,pdfPluginPageNumber:pdfPluginPageNumber$5},documentNavInfo$4="Document {{ currentFileNo }} de {{ allFilesCount }}",noRendererMessage$4="Aucun moteur de rendu pour le type de fichier : {{{ fileType }}}",downloadButtonLabel$4="Tlcharger le fichier",brokenFile$4="Votre fichier est cass. Veuillez le vrifier sur votre machine.",msgPluginRecipients$4="Destinataires",msgPluginSender$4="Expditeur",pdfPluginLoading$4="Chargement...",pdfPluginPageNumber$4="Page {{ currentPage }}/{{ allPagesCount }}",fr={documentNavInfo:documentNavInfo$4,noRendererMessage:noRendererMessage$4,downloadButtonLabel:downloadButtonLabel$4,brokenFile:brokenFile$4,msgPluginRecipients:msgPluginRecipients$4,msgPluginSender:msgPluginSender$4,pdfPluginLoading:pdfPluginLoading$4,pdfPluginPageNumber:pdfPluginPageNumber$4},documentNavInfo$3=" {{ currentFileNo }}  {{ allFilesCount }}",noRendererMessage$3="{{{ fileType }}} :       ",downloadButtonLabel$3=" ",brokenFile$3="       .",msgPluginRecipients$3="",msgPluginSender$3="",pdfPluginLoading$3=" ...",pdfPluginPageNumber$3=" {{ allPagesCount }} \\ {{ currentPage }}  ",ar={documentNavInfo:documentNavInfo$3,noRendererMessage:noRendererMessage$3,downloadButtonLabel:downloadButtonLabel$3,brokenFile:brokenFile$3,msgPluginRecipients:msgPluginRecipients$3,msgPluginSender:msgPluginSender$3,pdfPluginLoading:pdfPluginLoading$3,pdfPluginPageNumber:pdfPluginPageNumber$3},documentNavInfo$2="Dokument {{ currentFileNo }} od {{ allFilesCount }}",noRendererMessage$2="Ne postoji pregleda za tip fajla: {{ fileType }}",downloadButtonLabel$2="Preuzimanje fajla",brokenFile$2="Va fajl nije dobar. Molimo Vas da probate da ga otvorite na vaem raunaru.",msgPluginRecipients$2="Primaoci",msgPluginSender$2="Poiljalac",pdfPluginLoading$2="Uitavanje...",pdfPluginPageNumber$2="Strana {{ currentPage }}/{{ allPagesCount }}",sr={documentNavInfo:documentNavInfo$2,noRendererMessage:noRendererMessage$2,downloadButtonLabel:downloadButtonLabel$2,brokenFile:brokenFile$2,msgPluginRecipients:msgPluginRecipients$2,msgPluginSender:msgPluginSender$2,pdfPluginLoading:pdfPluginLoading$2,pdfPluginPageNumber:pdfPluginPageNumber$2},documentNavInfo$1=" {{ currentFileNo }} od {{ allFilesCount }}",noRendererMessage$1="     : {{ fileType }}",downloadButtonLabel$1=" ",brokenFile$1="   .          .",msgPluginRecipients$1="",msgPluginSender$1="",pdfPluginLoading$1="...",pdfPluginPageNumber$1=" {{ currentPage }}/{{ allPagesCount }}",sr_cyr={documentNavInfo:documentNavInfo$1,noRendererMessage:noRendererMessage$1,downloadButtonLabel:downloadButtonLabel$1,brokenFile:brokenFile$1,msgPluginRecipients:msgPluginRecipients$1,msgPluginSender:msgPluginSender$1,pdfPluginLoading:pdfPluginLoading$1,pdfPluginPageNumber:pdfPluginPageNumber$1},documentNavInfo=" {{ currentFileNo }} / {{ allFilesCount }}",noRendererMessage=": {{ fileType }}",downloadButtonLabel="",brokenFile="",msgPluginRecipients="",msgPluginSender="",pdfPluginLoading="...",pdfPluginPageNumber=" {{ currentPage }}/{{ allPagesCount }}",ja={documentNavInfo,noRendererMessage,downloadButtonLabel,brokenFile,msgPluginRecipients,msgPluginSender,pdfPluginLoading,pdfPluginPageNumber};var locales={en,pl,es,de,it,pt,fr,ar,sr,sr_cyr,ja},defaultLanguage="en",SET_ALL_DOCUMENTS="SET_ALL_DOCUMENTS",SET_DOCUMENT_LOADING="SET_DOCUMENT_LOADING",NEXT_DOCUMENT="NEXT_DOCUMENT",PREVIOUS_DOCUMENT="PREVIOUS_DOCUMENT",UPDATE_CURRENT_DOCUMENT="UPDATE_CURRENT_DOCUMENT",SET_RENDERER_RECT="SET_RENDERER_RECT",SET_MAIN_CONFIG="SET_MAIN_CONFIG",setAllDocuments=function(e,i){return{type:SET_ALL_DOCUMENTS,documents:e,initialActiveDocument:i}},setDocumentLoading=function(e){return{type:SET_DOCUMENT_LOADING,value:e}},nextDocument=function(){return{type:NEXT_DOCUMENT}},previousDocument=function(){return{type:PREVIOUS_DOCUMENT}},updateCurrentDocument=function(e){return{type:UPDATE_CURRENT_DOCUMENT,document:e}},setRendererRect=function(e){return{type:SET_RENDERER_RECT,rect:e}},setMainConfig=function(e){return{type:SET_MAIN_CONFIG,config:e}},__assign$e=function(){return __assign$e=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$e.apply(this,arguments)},initialState={currentFileNo:0,documents:[],documentLoading:!0,currentDocument:void 0,rendererRect:void 0,config:{},pluginRenderers:[],language:defaultLanguage},mainStateReducer=function(e,i){switch(e===void 0&&(e=initialState),i.type){case SET_ALL_DOCUMENTS:{var s=i,a=s.documents,o=s.initialActiveDocument;return __assign$e(__assign$e({},e),{documents:a,currentDocument:o||a[0]||null,currentFileNo:o&&a.includes(o)?a.indexOf(o):initialState.currentFileNo})}case SET_DOCUMENT_LOADING:{var et=i.value;return __assign$e(__assign$e({},e),{documentLoading:et})}case NEXT_DOCUMENT:{if(e.currentFileNo>=e.documents.length-1)return e;var ot=e.currentFileNo+1;return e.onDocumentChange&&e.onDocumentChange(e.documents[ot]),__assign$e(__assign$e({},e),{currentFileNo:ot,currentDocument:e.documents[ot],documentLoading:!0})}case PREVIOUS_DOCUMENT:{if(e.currentFileNo<=0)return e;var ft=e.currentFileNo-1;return e.onDocumentChange&&e.onDocumentChange(e.documents[ft]),__assign$e(__assign$e({},e),{currentFileNo:e.currentFileNo-1,currentDocument:e.documents[ft],documentLoading:!0})}case UPDATE_CURRENT_DOCUMENT:{var dt=i.document;return __assign$e(__assign$e({},e),{currentDocument:dt,currentFileNo:e.documents.findIndex(function(bt){return bt.uri===dt.uri})})}case SET_RENDERER_RECT:{var mt=i.rect;return __assign$e(__assign$e({},e),{rendererRect:mt})}case SET_MAIN_CONFIG:{var gt=i.config;return __assign$e(__assign$e({},e),{config:gt})}default:return e}},__assign$d=function(){return __assign$d=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$d.apply(this,arguments)},DocViewerContext=reactExports.createContext({state:initialState,dispatch:function(){return null}}),DocViewerProvider=reactExports.forwardRef(function(e,i){var s,a=e.children,o=e.documents,et=e.config,ot=e.pluginRenderers,ft=e.prefetchMethod,dt=e.requestHeaders,mt=e.initialActiveDocument,gt=e.language,bt=e.activeDocument,vt=e.onDocumentChange,Pt=reactExports.useReducer(mainStateReducer,__assign$d(__assign$d({},initialState),{documents:o||[],currentDocument:o&&o.length?mt||o[0]:void 0,config:et,pluginRenderers:ot,prefetchMethod:ft,requestHeaders:dt,currentFileNo:mt&&(s=o.findIndex(function(wt){return wt===mt}))!==null&&s!==void 0?s:0,language:gt&&locales[gt]?gt:defaultLanguage,activeDocument:bt,onDocumentChange:vt})),Tt=Pt[0],At=Pt[1];return reactExports.useEffect(function(){At(setAllDocuments(o,mt)),et&&At(setMainConfig(et))},[o,et,mt]),reactExports.useEffect(function(){bt&&At(updateCurrentDocument(bt))},[bt]),reactExports.useImperativeHandle(i,function(){return{prev:function(){At(previousDocument())},next:function(){At(nextDocument())}}},[At]),React.createElement(DocViewerContext.Provider,{value:{state:Tt,dispatch:At}},a)}),__makeTemplateObject$i=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},ButtonPrimaryStyle=at(templateObject_1$i||(templateObject_1$i=__makeTemplateObject$i([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(e){return e.theme.primary},function(e){return e.theme.textPrimary}),ButtonSecondaryStyle=at(templateObject_2$a||(templateObject_2$a=__makeTemplateObject$i([`
  background-color: `,`;
  color: `,`;
`],[`
  background-color: `,`;
  color: `,`;
`])),function(e){return e.theme.secondary},function(e){return e.theme.textSecondary}),Button=ut.button(templateObject_3$4||(templateObject_3$4=__makeTemplateObject$i([`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  `,`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: `,`;
  pointer-events: `,`;
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),ButtonPrimaryStyle,function(e){return e.disabled?.4:1},function(e){return e.disabled?"none":"all"}),LinkButton=ut.a(templateObject_4$2||(templateObject_4$2=__makeTemplateObject$i([`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`],[`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: `,`;
  color: `,`;
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`])),function(e){return e.theme.primary},function(e){return e.theme.textPrimary});ut(Button)(templateObject_5$1||(templateObject_5$1=__makeTemplateObject$i([""],[""])));var ButtonSecondary=ut(Button)(templateObject_6||(templateObject_6=__makeTemplateObject$i([`
  `,`
`],[`
  `,`
`])),ButtonSecondaryStyle),templateObject_1$i,templateObject_2$a,templateObject_3$4,templateObject_4$2,templateObject_5$1,templateObject_6,__assign$c=function(){return __assign$c=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$c.apply(this,arguments)},PrevDocIcon=function(e){return React.createElement(DocNavIcon,__assign$c({},e))},NextDocIcon=function(e){return React.createElement(DocNavIcon,__assign$c({},e,{reverse:!0}))},DocNavIcon=function(e){var i=e.color,s=e.size,a=e.reverse;return React.createElement("svg",{width:s||"100%",height:s||"100%",style:{transform:"".concat(a?"rotate(180deg)":"")},id:"arrow_left",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve"},React.createElement("path",{clipRule:"evenodd",d:"M31.106,15H3.278l8.325-8.293  c0.391-0.391,0.391-1.024,0-1.414c-0.391-0.391-1.024-0.391-1.414,0l-9.9,9.899c-0.385,0.385-0.385,1.029,0,1.414l9.9,9.9  c0.391,0.391,1.024,0.391,1.414,0c0.391-0.391,0.391-1.024,0-1.414L3.278,17h27.828c0.552,0,1-0.448,1-1  C32.106,15.448,31.658,15,31.106,15z",fill:i||"#aaa",fillRule:"evenodd",id:"Arrow_Back"}))},LoadingIcon=function(e){var i=e.color,s=e.size;return React.createElement("svg",{width:s||"100%",height:s||"100%",version:"1.1",id:"Icons",viewBox:"0 0 32 32",xmlSpace:"preserve",style:{alignSelf:"center",justifySelf:"center"}},React.createElement("g",null,React.createElement("path",{fill:i||"#aaa",d:"M16,2c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1V3C17,2.4,16.6,2,16,2z"}),React.createElement("path",{fill:i||"#aaa",d:`M7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1
		z`}),React.createElement("path",{fill:i||"#aaa",d:"M9,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h5C8.6,17,9,16.6,9,16z"}),React.createElement("path",{fill:i||"#aaa",d:`M9.6,20.9l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4
		S10,20.6,9.6,20.9z`}),React.createElement("path",{fill:i||"#aaa",d:"M16,23c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-5C17,23.4,16.6,23,16,23z"}),React.createElement("path",{fill:i||"#aaa",d:`M22.4,20.9c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4
		L22.4,20.9z`}),React.createElement("path",{fill:i||"#aaa",d:"M29,15h-5c-0.6,0-1,0.4-1,1s0.4,1,1,1h5c0.6,0,1-0.4,1-1S29.6,15,29,15z"}),React.createElement("path",{fill:i||"#aaa",d:`M21.7,11.3c0.3,0,0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4
		C21.1,11.2,21.4,11.3,21.7,11.3z`})))};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var objectToString=Object.prototype.toString,isArray=Array.isArray||function e(i){return objectToString.call(i)==="[object Array]"};function isFunction(e){return typeof e=="function"}function typeStr(e){return isArray(e)?"array":typeof e}function escapeRegExp(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(e,i){return e!=null&&typeof e=="object"&&i in e}function primitiveHasOwnProperty(e,i){return e!=null&&typeof e!="object"&&e.hasOwnProperty&&e.hasOwnProperty(i)}var regExpTest=RegExp.prototype.test;function testRegExp(e,i){return regExpTest.call(e,i)}var nonSpaceRe=/\S/;function isWhitespace(e){return!testRegExp(nonSpaceRe,e)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(e){return String(e).replace(/[&<>"'`=\/]/g,function(s){return entityMap[s]})}var whiteRe=/\s*/,spaceRe=/\s+/,equalsRe=/\s*=/,curlyRe=/\s*\}/,tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(e,i){if(!e)return[];var s=!1,a=[],o=[],et=[],ot=!1,ft=!1,dt="",mt=0;function gt(){if(ot&&!ft)for(;et.length;)delete o[et.pop()];else et=[];ot=!1,ft=!1}var bt,vt,Pt;function Tt(Rt){if(typeof Rt=="string"&&(Rt=Rt.split(spaceRe,2)),!isArray(Rt)||Rt.length!==2)throw new Error("Invalid tags: "+Rt);bt=new RegExp(escapeRegExp(Rt[0])+"\\s*"),vt=new RegExp("\\s*"+escapeRegExp(Rt[1])),Pt=new RegExp("\\s*"+escapeRegExp("}"+Rt[1]))}Tt(i||mustache.tags);for(var At=new Scanner(e),wt,_t,Et,yt,St,xt;!At.eos();){if(wt=At.pos,Et=At.scanUntil(bt),Et)for(var Ct=0,$t=Et.length;Ct<$t;++Ct)yt=Et.charAt(Ct),isWhitespace(yt)?(et.push(o.length),dt+=yt):(ft=!0,s=!0,dt+=" "),o.push(["text",yt,wt,wt+1]),wt+=1,yt===`
`&&(gt(),dt="",mt=0,s=!1);if(!At.scan(bt))break;if(ot=!0,_t=At.scan(tagRe)||"name",At.scan(whiteRe),_t==="="?(Et=At.scanUntil(equalsRe),At.scan(equalsRe),At.scanUntil(vt)):_t==="{"?(Et=At.scanUntil(Pt),At.scan(curlyRe),At.scanUntil(vt),_t="&"):Et=At.scanUntil(vt),!At.scan(vt))throw new Error("Unclosed tag at "+At.pos);if(_t==">"?St=[_t,Et,wt,At.pos,dt,mt,s]:St=[_t,Et,wt,At.pos],mt++,o.push(St),_t==="#"||_t==="^")a.push(St);else if(_t==="/"){if(xt=a.pop(),!xt)throw new Error('Unopened section "'+Et+'" at '+wt);if(xt[1]!==Et)throw new Error('Unclosed section "'+xt[1]+'" at '+wt)}else _t==="name"||_t==="{"||_t==="&"?ft=!0:_t==="="&&Tt(Et)}if(gt(),xt=a.pop(),xt)throw new Error('Unclosed section "'+xt[1]+'" at '+At.pos);return nestTokens(squashTokens(o))}function squashTokens(e){for(var i=[],s,a,o=0,et=e.length;o<et;++o)s=e[o],s&&(s[0]==="text"&&a&&a[0]==="text"?(a[1]+=s[1],a[3]=s[3]):(i.push(s),a=s));return i}function nestTokens(e){for(var i=[],s=i,a=[],o,et,ot=0,ft=e.length;ot<ft;++ot)switch(o=e[ot],o[0]){case"#":case"^":s.push(o),a.push(o),s=o[4]=[];break;case"/":et=a.pop(),et[5]=o[2],s=a.length>0?a[a.length-1][4]:i;break;default:s.push(o)}return i}function Scanner(e){this.string=e,this.tail=e,this.pos=0}Scanner.prototype.eos=function e(){return this.tail===""};Scanner.prototype.scan=function e(i){var s=this.tail.match(i);if(!s||s.index!==0)return"";var a=s[0];return this.tail=this.tail.substring(a.length),this.pos+=a.length,a};Scanner.prototype.scanUntil=function e(i){var s=this.tail.search(i),a;switch(s){case-1:a=this.tail,this.tail="";break;case 0:a="";break;default:a=this.tail.substring(0,s),this.tail=this.tail.substring(s)}return this.pos+=a.length,a};function Context(e,i){this.view=e,this.cache={".":this.view},this.parent=i}Context.prototype.push=function e(i){return new Context(i,this)};Context.prototype.lookup=function e(i){var s=this.cache,a;if(s.hasOwnProperty(i))a=s[i];else{for(var o=this,et,ot,ft,dt=!1;o;){if(i.indexOf(".")>0)for(et=o.view,ot=i.split("."),ft=0;et!=null&&ft<ot.length;)ft===ot.length-1&&(dt=hasProperty(et,ot[ft])||primitiveHasOwnProperty(et,ot[ft])),et=et[ot[ft++]];else et=o.view[i],dt=hasProperty(o.view,i);if(dt){a=et;break}o=o.parent}s[i]=a}return isFunction(a)&&(a=a.call(this.view)),a};function Writer(){this.templateCache={_cache:{},set:function(i,s){this._cache[i]=s},get:function(i){return this._cache[i]},clear:function(){this._cache={}}}}Writer.prototype.clearCache=function e(){typeof this.templateCache<"u"&&this.templateCache.clear()};Writer.prototype.parse=function e(i,s){var a=this.templateCache,o=i+":"+(s||mustache.tags).join(":"),et=typeof a<"u",ot=et?a.get(o):void 0;return ot==null&&(ot=parseTemplate(i,s),et&&a.set(o,ot)),ot};Writer.prototype.render=function e(i,s,a,o){var et=this.getConfigTags(o),ot=this.parse(i,et),ft=s instanceof Context?s:new Context(s,void 0);return this.renderTokens(ot,ft,a,i,o)};Writer.prototype.renderTokens=function e(i,s,a,o,et){for(var ot="",ft,dt,mt,gt=0,bt=i.length;gt<bt;++gt)mt=void 0,ft=i[gt],dt=ft[0],dt==="#"?mt=this.renderSection(ft,s,a,o,et):dt==="^"?mt=this.renderInverted(ft,s,a,o,et):dt===">"?mt=this.renderPartial(ft,s,a,et):dt==="&"?mt=this.unescapedValue(ft,s):dt==="name"?mt=this.escapedValue(ft,s,et):dt==="text"&&(mt=this.rawValue(ft)),mt!==void 0&&(ot+=mt);return ot};Writer.prototype.renderSection=function e(i,s,a,o,et){var ot=this,ft="",dt=s.lookup(i[1]);function mt(vt){return ot.render(vt,s,a,et)}if(dt){if(isArray(dt))for(var gt=0,bt=dt.length;gt<bt;++gt)ft+=this.renderTokens(i[4],s.push(dt[gt]),a,o,et);else if(typeof dt=="object"||typeof dt=="string"||typeof dt=="number")ft+=this.renderTokens(i[4],s.push(dt),a,o,et);else if(isFunction(dt)){if(typeof o!="string")throw new Error("Cannot use higher-order sections without the original template");dt=dt.call(s.view,o.slice(i[3],i[5]),mt),dt!=null&&(ft+=dt)}else ft+=this.renderTokens(i[4],s,a,o,et);return ft}};Writer.prototype.renderInverted=function e(i,s,a,o,et){var ot=s.lookup(i[1]);if(!ot||isArray(ot)&&ot.length===0)return this.renderTokens(i[4],s,a,o,et)};Writer.prototype.indentPartial=function e(i,s,a){for(var o=s.replace(/[^ \t]/g,""),et=i.split(`
`),ot=0;ot<et.length;ot++)et[ot].length&&(ot>0||!a)&&(et[ot]=o+et[ot]);return et.join(`
`)};Writer.prototype.renderPartial=function e(i,s,a,o){if(a){var et=this.getConfigTags(o),ot=isFunction(a)?a(i[1]):a[i[1]];if(ot!=null){var ft=i[6],dt=i[5],mt=i[4],gt=ot;dt==0&&mt&&(gt=this.indentPartial(ot,mt,ft));var bt=this.parse(gt,et);return this.renderTokens(bt,s,a,gt,o)}}};Writer.prototype.unescapedValue=function e(i,s){var a=s.lookup(i[1]);if(a!=null)return a};Writer.prototype.escapedValue=function e(i,s,a){var o=this.getConfigEscape(a)||mustache.escape,et=s.lookup(i[1]);if(et!=null)return typeof et=="number"&&o===mustache.escape?String(et):o(et)};Writer.prototype.rawValue=function e(i){return i[1]};Writer.prototype.getConfigTags=function e(i){return isArray(i)?i:i&&typeof i=="object"?i.tags:void 0};Writer.prototype.getConfigEscape=function e(i){if(i&&typeof i=="object"&&!isArray(i))return i.escape};var mustache={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){defaultWriter.templateCache=e},get templateCache(){return defaultWriter.templateCache}},defaultWriter=new Writer;mustache.clearCache=function e(){return defaultWriter.clearCache()};mustache.parse=function e(i,s){return defaultWriter.parse(i,s)};mustache.render=function e(i,s,a,o){if(typeof i!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+typeStr(i)+'" was given as the first argument for mustache#render(template, view, partials)');return defaultWriter.render(i,s,a,o)};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;var useTranslation=function(){var e=reactExports.useContext(DocViewerContext).state.language,i=locales[defaultLanguage],s=reactExports.useCallback(function(a,o){var et=locales[e];return et[a]?mustache.render(et[a],o):i[a]?mustache.render(i[a],o):a},[e,i]);return{t:s}},__makeTemplateObject$h=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},DocumentNav=function(){var e=reactExports.useContext(DocViewerContext),i=e.state,s=i.currentDocument,a=i.currentFileNo,o=i.documents,et=e.dispatch,ot=useTranslation().t;if(o.length<=1||!s)return null;var ft=s.uri||"",dt=ft.split("/");return dt.length&&(ft=dt[dt.length-1]),React.createElement(Container$d,{id:"doc-nav"},React.createElement("p",{id:"doc-nav-info"},ot("documentNavInfo",{currentFileNo:a+1,allFilesCount:o.length})),React.createElement(ButtonPrev,{id:"doc-nav-prev",onClick:function(){return et(previousDocument())},disabled:a===0},React.createElement(PrevDocIcon,{color:"#fff",size:"60%"})),React.createElement(ButtonNext,{id:"doc-nav-next",onClick:function(){return et(nextDocument())},disabled:a>=o.length-1},React.createElement(NextDocIcon,{color:"#fff",size:"60%"})))},Container$d=ut.div(templateObject_1$h||(templateObject_1$h=__makeTemplateObject$h([`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`],[`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: `,`;
`])),function(e){return e.theme.textPrimary}),ButtonPrev=ut(ButtonSecondary)(templateObject_2$9||(templateObject_2$9=__makeTemplateObject$h([`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),ButtonNext=ut(ButtonPrev)(templateObject_3$3||(templateObject_3$3=__makeTemplateObject$h([`
  margin: 0 5px;
`],[`
  margin: 0 5px;
`]))),templateObject_1$h,templateObject_2$9,templateObject_3$3,getFileName=function(e,i){if(!e)return"";var s="";if(e.fileName)s=e.fileName;else{s=e.uri||"",s=decodeURI(s),i||(s=s.split("?")[0]);var a=s.split("/");a.length&&(s=a[a.length-1])}return s},__makeTemplateObject$g=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},FileName=function(){var e,i,s=reactExports.useContext(DocViewerContext).state,a=s.config,o=s.currentDocument;if(!o||!((e=a==null?void 0:a.header)===null||e===void 0)&&e.disableFileName)return null;var et=getFileName(o,((i=a==null?void 0:a.header)===null||i===void 0?void 0:i.retainURLParams)||!1);return React.createElement(Container$c,{id:"file-name","data-testid":"file-name"},et)},Container$c=ut.div(templateObject_1$g||(templateObject_1$g=__makeTemplateObject$g([`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`],[`
  flex: 1;
  text-align: left;
  color: `,`;
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`])),function(e){return e.theme.textPrimary}),templateObject_1$g,__makeTemplateObject$f=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},HeaderBar=function(){var e,i,s,a=reactExports.useContext(DocViewerContext),o=a.state,et=a.dispatch,ot=o.config;if(!((e=ot==null?void 0:ot.header)===null||e===void 0)&&e.disableHeader)return null;var ft=(s=(i=ot==null?void 0:ot.header)===null||i===void 0?void 0:i.overrideComponent)===null||s===void 0?void 0:s.call(i,o,function(){return et(previousDocument())},function(){return et(nextDocument())});return ft||React.createElement(Container$b,{id:"header-bar","data-testid":"header-bar"},React.createElement(FileName,null),React.createElement(DocumentNav,null))},Container$b=ut.div(templateObject_1$f||(templateObject_1$f=__makeTemplateObject$f([`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`],[`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: `,`;
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`])),function(e){return e.theme.primary}),templateObject_1$f,__assign$b=function(){return __assign$b=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$b.apply(this,arguments)},__awaiter$1=function(e,i,s,a){function o(et){return et instanceof s?et:new s(function(ot){ot(et)})}return new(s||(s=Promise))(function(et,ot){function ft(gt){try{mt(a.next(gt))}catch(bt){ot(bt)}}function dt(gt){try{mt(a.throw(gt))}catch(bt){ot(bt)}}function mt(gt){gt.done?et(gt.value):o(gt.value).then(ft,dt)}mt((a=a.apply(e,i||[])).next())})},__generator=function(e,i){var s={label:0,sent:function(){if(et[0]&1)throw et[1];return et[1]},trys:[],ops:[]},a,o,et,ot;return ot={next:ft(0),throw:ft(1),return:ft(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function ft(mt){return function(gt){return dt([mt,gt])}}function dt(mt){if(a)throw new TypeError("Generator is already executing.");for(;ot&&(ot=0,mt[0]&&(s=0)),s;)try{if(a=1,o&&(et=mt[0]&2?o.return:mt[0]?o.throw||((et=o.return)&&et.call(o),0):o.next)&&!(et=et.call(o,mt[1])).done)return et;switch(o=0,et&&(mt=[mt[0]&2,et.value]),mt[0]){case 0:case 1:et=mt;break;case 4:return s.label++,{value:mt[1],done:!1};case 5:s.label++,o=mt[1],mt=[0];continue;case 7:mt=s.ops.pop(),s.trys.pop();continue;default:if(et=s.trys,!(et=et.length>0&&et[et.length-1])&&(mt[0]===6||mt[0]===2)){s=0;continue}if(mt[0]===3&&(!et||mt[1]>et[0]&&mt[1]<et[3])){s.label=mt[1];break}if(mt[0]===6&&s.label<et[1]){s.label=et[1],et=mt;break}if(et&&s.label<et[2]){s.label=et[2],s.ops.push(mt);break}et[2]&&s.ops.pop(),s.trys.pop();continue}mt=i.call(e,s)}catch(gt){mt=[6,gt],o=0}finally{a=et=0}if(mt[0]&5)throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}},_fileLoader=function(e){var i=e.documentURI,s=e.signal,a=e.fileLoaderComplete,o=e.readerTypeFunction,et=e.headers;return fetch(i,{signal:s,headers:et}).then(function(ot){return __awaiter$1(void 0,void 0,void 0,function(){var ft,dt;return __generator(this,function(mt){switch(mt.label){case 0:return[4,ot.blob()];case 1:switch(ft=mt.sent(),dt=new FileReader,dt.addEventListener("loadend",function(){return a(dt)}),o){case"arrayBuffer":dt.readAsArrayBuffer(ft);break;case"binaryString":dt.readAsBinaryString(ft);break;case"dataURL":dt.readAsDataURL(ft);break;case"text":dt.readAsText(ft);break}return[2]}})})}).catch(function(ot){return ot})},arrayBufferFileLoader=function(e){return _fileLoader(__assign$b(__assign$b({},e),{readerTypeFunction:"arrayBuffer"}))},dataURLFileLoader=function(e){return _fileLoader(__assign$b(__assign$b({},e),{readerTypeFunction:"dataURL"}))},textFileLoader=function(e){return _fileLoader(__assign$b(__assign$b({},e),{readerTypeFunction:"text"}))},defaultFileLoader=dataURLFileLoader,useRendererSelector=function(){var e=reactExports.useContext(DocViewerContext).state,i=e.currentDocument,s=e.pluginRenderers,a=reactExports.useState(),o=a[0],et=a[1];return reactExports.useEffect(function(){if(i){if(!i.fileType){et(void 0);return}var ot=[];s==null||s.forEach(function(dt){i.fileType!==void 0&&dt.fileTypes.indexOf(i.fileType)>=0&&ot.push(dt)});var ft=ot.sort(function(dt,mt){return mt.weight-dt.weight})[0];et(ft&&ft!==void 0?function(){return ft}:null)}},[i,s]),{CurrentRenderer:o}},__assign$a=function(){return __assign$a=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$a.apply(this,arguments)},useDocumentLoader=function(){var e=reactExports.useContext(DocViewerContext),i=e.state,s=e.dispatch,a=i.currentFileNo,o=i.currentDocument,et=i.prefetchMethod,ot=useRendererSelector().CurrentRenderer,ft=(o==null?void 0:o.uri)||"";return reactExports.useEffect(function(){if(o&&o.fileType===void 0){var dt=new AbortController,mt=dt.signal;return fetch(ft,{method:et||ft.startsWith("blob:")?"GET":"HEAD",signal:mt,headers:i==null?void 0:i.requestHeaders}).then(function(gt){var bt=gt.headers.get("content-type"),vt=(bt==null?void 0:bt.split(";"))||[],Pt=vt.length?vt[0]:void 0;s(updateCurrentDocument(__assign$a(__assign$a({},o),{fileType:Pt||void 0})))}).catch(function(gt){if((gt==null?void 0:gt.name)!=="AbortError")throw gt}),function(){dt.abort()}}},[a,ft,o]),reactExports.useEffect(function(){var dt;if(!(!o||ot===void 0)){var mt=new AbortController,gt=mt.signal,bt=function(Pt){if(!o||!Pt){s(setDocumentLoading(!1));return}var Tt=__assign$a({},o);Pt.result!==null&&(Tt.fileData=Pt.result),s(updateCurrentDocument(Tt)),s(setDocumentLoading(!1))},vt={documentURI:ft,signal:gt,fileLoaderComplete:bt,headers:i==null?void 0:i.requestHeaders};return ot===null?s(setDocumentLoading(!1)):ot.fileLoader!==void 0?(dt=ot.fileLoader)===null||dt===void 0||dt.call(ot,vt):defaultFileLoader(vt),function(){mt.abort()}}},[ot,a]),{state:i,dispatch:s,CurrentRenderer:ot}},useWindowSize=function(){var e=reactExports.useState({width:void 0,height:void 0}),i=e[0],s=e[1];return reactExports.useEffect(function(){function a(){s({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}},[]),i},LoadingTimeout=function(e){var i,s,a=e.children,o=reactExports.useContext(DocViewerContext).state,et=o.config,ot=reactExports.useState(((i=et==null?void 0:et.loadingRenderer)===null||i===void 0?void 0:i.showLoadingTimeout)===!1),ft=ot[0],dt=ot[1];return reactExports.useEffect(function(){var mt;setTimeout(function(){dt(!0)},typeof((mt=et==null?void 0:et.loadingRenderer)===null||mt===void 0?void 0:mt.showLoadingTimeout)=="number"?et.loadingRenderer.showLoadingTimeout:500)},[(s=et==null?void 0:et.loadingRenderer)===null||s===void 0?void 0:s.showLoadingTimeout]),ft?React.createElement(React.Fragment,null,a):null},__makeTemplateObject$e=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},ProxyRenderer=function(){var e,i=useDocumentLoader(),s=i.state,a=i.dispatch,o=i.CurrentRenderer,et=s.documents,ot=s.documentLoading,ft=s.currentDocument,dt=s.config,mt=useWindowSize(),gt=useTranslation().t,bt=reactExports.useCallback(function(Tt){Tt&&a(setRendererRect(Tt==null?void 0:Tt.getBoundingClientRect()))},[mt]),vt=getFileName(ft,((e=dt==null?void 0:dt.header)===null||e===void 0?void 0:e.retainURLParams)||!1),Pt=function(){var Tt,At,wt;if(et.length)if(ot){if(dt&&(!((Tt=dt==null?void 0:dt.loadingRenderer)===null||Tt===void 0)&&Tt.overrideComponent)){var _t=dt.loadingRenderer.overrideComponent;return React.createElement(LoadingTimeout,null,React.createElement(_t,{document:ft,fileName:vt}))}return React.createElement(LoadingTimeout,null,React.createElement(LoadingContainer,{id:"loading-renderer","data-testid":"loading-renderer"},React.createElement(LoadingIconContainer,null,React.createElement(LoadingIcon,{color:"#444",size:40}))))}else{if(o)return React.createElement(o,{mainState:s});if(o===void 0)return null;if(dt&&(!((At=dt==null?void 0:dt.noRenderer)===null||At===void 0)&&At.overrideComponent)){var _t=dt.noRenderer.overrideComponent;return React.createElement(_t,{document:ft,fileName:vt})}return React.createElement("div",{id:"no-renderer","data-testid":"no-renderer"},gt("noRendererMessage",{fileType:(wt=ft==null?void 0:ft.fileType)!==null&&wt!==void 0?wt:""}),React.createElement(DownloadButton$1,{id:"no-renderer-download",href:ft==null?void 0:ft.uri,download:ft==null?void 0:ft.uri},gt("downloadButtonLabel")))}else return React.createElement("div",{id:"no-documents"})};return React.createElement(Container$a,{id:"proxy-renderer","data-testid":"proxy-renderer",ref:bt},React.createElement(Pt,null))},Container$a=ut.div(templateObject_1$e||(templateObject_1$e=__makeTemplateObject$e([`
  display: flex;
  flex: 1;
  overflow-y: auto;
`],[`
  display: flex;
  flex: 1;
  overflow-y: auto;
`]))),LoadingContainer=ut.div(templateObject_2$8||(templateObject_2$8=__makeTemplateObject$e([`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`],[`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`]))),spinAnim=ht(templateObject_3$2||(templateObject_3$2=__makeTemplateObject$e([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`],[`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),LoadingIconContainer=ut.div(templateObject_4$1||(templateObject_4$1=__makeTemplateObject$e([`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`],[`
  animation-name: `,`;
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`])),spinAnim),DownloadButton$1=ut(LinkButton)(templateObject_5||(templateObject_5=__makeTemplateObject$e([`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`],[`
  width: 130px;
  height: 30px;
  background-color: `,`;
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`])),function(e){return e.theme.primary}),templateObject_1$e,templateObject_2$8,templateObject_3$2,templateObject_4$1,templateObject_5,defaultTheme={primary:"#fff",secondary:"#000",tertiary:"#ffffff99",textPrimary:"#000",textSecondary:"#fff",textTertiary:"#00000044",disableThemeScrollbar:!1},__makeTemplateObject$d=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$9=function(){return __assign$9=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$9.apply(this,arguments)},ImageProxyRenderer=function(e){var i=e.mainState.currentDocument,s=e.children;return i?React.createElement(Container$9,__assign$9({id:"image-renderer"},e),s||React.createElement(Img,{id:"image-img",src:i.fileData})):null};ImageProxyRenderer.fileTypes=[];ImageProxyRenderer.weight=0;var Container$9=ut.div(templateObject_1$d||(templateObject_1$d=__makeTemplateObject$d([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`]))),Img=ut.img(templateObject_2$7||(templateObject_2$7=__makeTemplateObject$d([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),templateObject_1$d,templateObject_2$7,__assign$8=function(){return __assign$8=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$8.apply(this,arguments)},BMPRenderer=function(e){return React.createElement(ImageProxyRenderer,__assign$8({},e))};BMPRenderer.fileTypes=["bmp","image/bmp"];BMPRenderer.weight=0;var __makeTemplateObject$c=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},HTMLRenderer=function(e){var i=e.mainState.currentDocument;return reactExports.useEffect(function(){var s=i==null?void 0:i.fileData,a=(s==null?void 0:s.replace("data:text/html;base64,",""))||"",o=window.atob(a),et=document.getElementById("html-body"),ot=(et==null?void 0:et.contentWindow)&&et.contentWindow;if(ot){var ft=ot.document;ft.open(),ft.write("".concat(o)),ft.close()}},[i]),React.createElement(Container$8,{id:"html-renderer"},React.createElement(BodyIFrame,{id:"html-body",sandbox:"allow-same-origin"}))};HTMLRenderer.fileTypes=["htm","html","text/htm","text/html"];HTMLRenderer.weight=0;HTMLRenderer.fileLoader=dataURLFileLoader;var Container$8=ut.div(templateObject_1$c||(templateObject_1$c=__makeTemplateObject$c([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`]))),BodyIFrame=ut.iframe(templateObject_2$6||(templateObject_2$6=__makeTemplateObject$c([`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`],[`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid `,`;
`])),function(e){return e.theme.secondary}),templateObject_1$c,templateObject_2$6,__assign$7=function(){return __assign$7=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$7.apply(this,arguments)},JPGRenderer$1=function(e){return React.createElement(ImageProxyRenderer,__assign$7({},e))};JPGRenderer$1.fileTypes=["jpg","jpeg","image/jpg","image/jpeg"];JPGRenderer$1.weight=0;var __makeTemplateObject$b=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__spreadArray$1=function(e,i,s){if(s||arguments.length===2)for(var a=0,o=i.length,et;a<o;a++)(et||!(a in i))&&(et||(et=Array.prototype.slice.call(i,0,a)),et[a]=i[a]);return e.concat(et||Array.prototype.slice.call(i))},MSDocRenderer=function(e){var i=e.mainState.currentDocument;return i?React.createElement(Container$7,{id:"msdoc-renderer"},React.createElement(IFrame,{id:"msdoc-iframe",title:"msdoc-iframe",src:"https://view.officeapps.live.com/op/embed.aspx?src=".concat(encodeURIComponent(i.uri)),frameBorder:"0"})):null},MSDocFTMaps={odt:["odt","application/vnd.oasis.opendocument.text"],doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/octet-stream"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};MSDocRenderer.fileTypes=__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1(__spreadArray$1([],MSDocFTMaps.odt,!0),MSDocFTMaps.doc,!0),MSDocFTMaps.docx,!0),MSDocFTMaps.xls,!0),MSDocFTMaps.xlsx,!0),MSDocFTMaps.ppt,!0),MSDocFTMaps.pptx,!0);MSDocRenderer.weight=0;MSDocRenderer.fileLoader=function(e){var i=e.fileLoaderComplete;return i()};var Container$7=ut.div(templateObject_1$b||(templateObject_1$b=__makeTemplateObject$b([`
  width: 100%;
`],[`
  width: 100%;
`]))),IFrame=ut.iframe(templateObject_2$5||(templateObject_2$5=__makeTemplateObject$b([`
  width: 100%;
  height: 100%;
  border: 0;
`],[`
  width: 100%;
  height: 100%;
  border: 0;
`]))),templateObject_1$b,templateObject_2$5;function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(i,s){module.exports=i.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,i)=>{var Qr;Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=Ft,i.bytesToString=tr,i.createValidAbsoluteUrl=Zt,i.getModificationDate=$r,i.getUuid=Kr,i.getVerbosityLevel=Yt,i.info=zt,i.isArrayBuffer=br,i.isArrayEqual=kr,i.isNodeJS=void 0,i.normalizeUnicode=tn,i.objectFromMap=vr,i.objectSize=nr,i.setVerbosityLevel=Ht,i.shadow=rr,i.string32=cr,i.stringToBytes=ur,i.stringToPDFString=xr,i.stringToUTF8String=hr,i.unreachable=kt,i.utf8StringToString=pr,i.warn=Ut;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s;const a=[1,0,0,1,0,0];i.IDENTITY_MATRIX=a;const o=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=o;const et=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=et;const ot=1.35;i.LINE_FACTOR=ot;const ft=.35;i.LINE_DESCENT_FACTOR=ft;const dt=ft/ot;i.BASELINE_FACTOR=dt;const mt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=mt;const gt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=gt;const bt="pdfjs_internal_editor_";i.AnnotationEditorPrefix=bt;const vt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=vt;const Pt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=Pt;const Tt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=Tt;const At={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=At;const wt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=wt;const _t={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=_t;const Et={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=Et;const yt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=yt;const St={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=St;const xt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=xt;const Ct={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=Ct;const $t={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=$t;const Rt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=Rt;const It={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=It;const Nt={NONE:0,BINARY:1};i.CMapCompressionType=Nt;const Ot={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=Ot;const Gt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=Gt;let Xt=It.WARNINGS;function Ht(wr){Number.isInteger(wr)&&(Xt=wr)}function Yt(){return Xt}function zt(wr){Xt>=It.INFOS&&console.log(`Info: ${wr}`)}function Ut(wr){Xt>=It.WARNINGS&&console.log(`Warning: ${wr}`)}function kt(wr){throw new Error(wr)}function Ft(wr,Er){wr||kt(Er)}function Qt(wr){switch(wr==null?void 0:wr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Zt(wr,Er=null,mr=null){if(!wr)return null;try{if(mr&&typeof wr=="string"){if(mr.addDefaultProtocol&&wr.startsWith("www.")){const Mr=wr.match(/\./g);(Mr==null?void 0:Mr.length)>=2&&(wr=`http://${wr}`)}if(mr.tryConvertEncoding)try{wr=hr(wr)}catch{}}const Fr=Er?new URL(wr,Er):new URL(wr);if(Qt(Fr))return Fr}catch{}return null}function rr(wr,Er,mr,Fr=!1){return Object.defineProperty(wr,Er,{value:mr,enumerable:!Fr,configurable:!0,writable:!1}),mr}const qt=function(){function Er(mr,Fr){this.constructor===Er&&kt("Cannot initialize BaseException."),this.message=mr,this.name=Fr}return Er.prototype=new Error,Er.constructor=Er,Er}();i.BaseException=qt;class Dt extends qt{constructor(Er,mr){super(Er,"PasswordException"),this.code=mr}}i.PasswordException=Dt;class Vt extends qt{constructor(Er,mr){super(Er,"UnknownErrorException"),this.details=mr}}i.UnknownErrorException=Vt;class Lt extends qt{constructor(Er){super(Er,"InvalidPDFException")}}i.InvalidPDFException=Lt;class jt extends qt{constructor(Er){super(Er,"MissingPDFException")}}i.MissingPDFException=jt;class Wt extends qt{constructor(Er,mr){super(Er,"UnexpectedResponseException"),this.status=mr}}i.UnexpectedResponseException=Wt;class Kt extends qt{constructor(Er){super(Er,"FormatError")}}i.FormatError=Kt;class er extends qt{constructor(Er){super(Er,"AbortException")}}i.AbortException=er;function tr(wr){(typeof wr!="object"||(wr==null?void 0:wr.length)===void 0)&&kt("Invalid argument for bytesToString");const Er=wr.length,mr=8192;if(Er<mr)return String.fromCharCode.apply(null,wr);const Fr=[];for(let Mr=0;Mr<Er;Mr+=mr){const dn=Math.min(Mr+mr,Er),hn=wr.subarray(Mr,dn);Fr.push(String.fromCharCode.apply(null,hn))}return Fr.join("")}function ur(wr){typeof wr!="string"&&kt("Invalid argument for stringToBytes");const Er=wr.length,mr=new Uint8Array(Er);for(let Fr=0;Fr<Er;++Fr)mr[Fr]=wr.charCodeAt(Fr)&255;return mr}function cr(wr){return String.fromCharCode(wr>>24&255,wr>>16&255,wr>>8&255,wr&255)}function nr(wr){return Object.keys(wr).length}function vr(wr){const Er=Object.create(null);for(const[mr,Fr]of wr)Er[mr]=Fr;return Er}function Pr(){const wr=new Uint8Array(4);return wr[0]=1,new Uint32Array(wr.buffer,0,1)[0]===1}function Ar(){try{return new Function(""),!0}catch{return!1}}class Ir{static get isLittleEndian(){return rr(this,"isLittleEndian",Pr())}static get isEvalSupported(){return rr(this,"isEvalSupported",Ar())}static get isOffscreenCanvasSupported(){return rr(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rr(this,"platform",{isWin:!1,isMac:!1}):rr(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Er,mr;return rr(this,"isCSSRoundSupported",(mr=(Er=globalThis.CSS)==null?void 0:Er.supports)==null?void 0:mr.call(Er,"width: round(1.5px, 1px)"))}}i.FeatureTest=Ir;const zr=[...Array(256).keys()].map(wr=>wr.toString(16).padStart(2,"0"));class Cr{static makeHexColor(Er,mr,Fr){return`#${zr[Er]}${zr[mr]}${zr[Fr]}`}static scaleMinMax(Er,mr){let Fr;Er[0]?(Er[0]<0&&(Fr=mr[0],mr[0]=mr[1],mr[1]=Fr),mr[0]*=Er[0],mr[1]*=Er[0],Er[3]<0&&(Fr=mr[2],mr[2]=mr[3],mr[3]=Fr),mr[2]*=Er[3],mr[3]*=Er[3]):(Fr=mr[0],mr[0]=mr[2],mr[2]=Fr,Fr=mr[1],mr[1]=mr[3],mr[3]=Fr,Er[1]<0&&(Fr=mr[2],mr[2]=mr[3],mr[3]=Fr),mr[2]*=Er[1],mr[3]*=Er[1],Er[2]<0&&(Fr=mr[0],mr[0]=mr[1],mr[1]=Fr),mr[0]*=Er[2],mr[1]*=Er[2]),mr[0]+=Er[4],mr[1]+=Er[4],mr[2]+=Er[5],mr[3]+=Er[5]}static transform(Er,mr){return[Er[0]*mr[0]+Er[2]*mr[1],Er[1]*mr[0]+Er[3]*mr[1],Er[0]*mr[2]+Er[2]*mr[3],Er[1]*mr[2]+Er[3]*mr[3],Er[0]*mr[4]+Er[2]*mr[5]+Er[4],Er[1]*mr[4]+Er[3]*mr[5]+Er[5]]}static applyTransform(Er,mr){const Fr=Er[0]*mr[0]+Er[1]*mr[2]+mr[4],Mr=Er[0]*mr[1]+Er[1]*mr[3]+mr[5];return[Fr,Mr]}static applyInverseTransform(Er,mr){const Fr=mr[0]*mr[3]-mr[1]*mr[2],Mr=(Er[0]*mr[3]-Er[1]*mr[2]+mr[2]*mr[5]-mr[4]*mr[3])/Fr,dn=(-Er[0]*mr[1]+Er[1]*mr[0]+mr[4]*mr[1]-mr[5]*mr[0])/Fr;return[Mr,dn]}static getAxialAlignedBoundingBox(Er,mr){const Fr=this.applyTransform(Er,mr),Mr=this.applyTransform(Er.slice(2,4),mr),dn=this.applyTransform([Er[0],Er[3]],mr),hn=this.applyTransform([Er[2],Er[1]],mr);return[Math.min(Fr[0],Mr[0],dn[0],hn[0]),Math.min(Fr[1],Mr[1],dn[1],hn[1]),Math.max(Fr[0],Mr[0],dn[0],hn[0]),Math.max(Fr[1],Mr[1],dn[1],hn[1])]}static inverseTransform(Er){const mr=Er[0]*Er[3]-Er[1]*Er[2];return[Er[3]/mr,-Er[1]/mr,-Er[2]/mr,Er[0]/mr,(Er[2]*Er[5]-Er[4]*Er[3])/mr,(Er[4]*Er[1]-Er[5]*Er[0])/mr]}static singularValueDecompose2dScale(Er){const mr=[Er[0],Er[2],Er[1],Er[3]],Fr=Er[0]*mr[0]+Er[1]*mr[2],Mr=Er[0]*mr[1]+Er[1]*mr[3],dn=Er[2]*mr[0]+Er[3]*mr[2],hn=Er[2]*mr[1]+Er[3]*mr[3],_r=(Fr+hn)/2,Vr=Math.sqrt((Fr+hn)**2-4*(Fr*hn-dn*Mr))/2,Xr=_r+Vr||1,Nr=_r-Vr||1;return[Math.sqrt(Xr),Math.sqrt(Nr)]}static normalizeRect(Er){const mr=Er.slice(0);return Er[0]>Er[2]&&(mr[0]=Er[2],mr[2]=Er[0]),Er[1]>Er[3]&&(mr[1]=Er[3],mr[3]=Er[1]),mr}static intersect(Er,mr){const Fr=Math.max(Math.min(Er[0],Er[2]),Math.min(mr[0],mr[2])),Mr=Math.min(Math.max(Er[0],Er[2]),Math.max(mr[0],mr[2]));if(Fr>Mr)return null;const dn=Math.max(Math.min(Er[1],Er[3]),Math.min(mr[1],mr[3])),hn=Math.min(Math.max(Er[1],Er[3]),Math.max(mr[1],mr[3]));return dn>hn?null:[Fr,dn,Mr,hn]}static bezierBoundingBox(Er,mr,Fr,Mr,dn,hn,_r,Vr){const Xr=[],Nr=[[],[]];let Yr,Zr,ln,Lr,on,Hr,ir,Bt;for(let yr=0;yr<2;++yr){if(yr===0?(Zr=6*Er-12*Fr+6*dn,Yr=-3*Er+9*Fr-9*dn+3*_r,ln=3*Fr-3*Er):(Zr=6*mr-12*Mr+6*hn,Yr=-3*mr+9*Mr-9*hn+3*Vr,ln=3*Mr-3*mr),Math.abs(Yr)<1e-12){if(Math.abs(Zr)<1e-12)continue;Lr=-ln/Zr,0<Lr&&Lr<1&&Xr.push(Lr);continue}ir=Zr*Zr-4*ln*Yr,Bt=Math.sqrt(ir),!(ir<0)&&(on=(-Zr+Bt)/(2*Yr),0<on&&on<1&&Xr.push(on),Hr=(-Zr-Bt)/(2*Yr),0<Hr&&Hr<1&&Xr.push(Hr))}let Jt=Xr.length,or;const dr=Jt;for(;Jt--;)Lr=Xr[Jt],or=1-Lr,Nr[0][Jt]=or*or*or*Er+3*or*or*Lr*Fr+3*or*Lr*Lr*dn+Lr*Lr*Lr*_r,Nr[1][Jt]=or*or*or*mr+3*or*or*Lr*Mr+3*or*Lr*Lr*hn+Lr*Lr*Lr*Vr;return Nr[0][dr]=Er,Nr[1][dr]=mr,Nr[0][dr+1]=_r,Nr[1][dr+1]=Vr,Nr[0].length=Nr[1].length=dr+2,[Math.min(...Nr[0]),Math.min(...Nr[1]),Math.max(...Nr[0]),Math.max(...Nr[1])]}}i.Util=Cr;const Dr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function xr(wr){if(wr[0]>=""){let mr;if(wr[0]===""&&wr[1]===""?mr="utf-16be":wr[0]===""&&wr[1]===""?mr="utf-16le":wr[0]===""&&wr[1]===""&&wr[2]===""&&(mr="utf-8"),mr)try{const Fr=new TextDecoder(mr,{fatal:!0}),Mr=ur(wr);return Fr.decode(Mr)}catch(Fr){Ut(`stringToPDFString: "${Fr}".`)}}const Er=[];for(let mr=0,Fr=wr.length;mr<Fr;mr++){const Mr=Dr[wr.charCodeAt(mr)];Er.push(Mr?String.fromCharCode(Mr):wr.charAt(mr))}return Er.join("")}function hr(wr){return decodeURIComponent(escape(wr))}function pr(wr){return unescape(encodeURIComponent(wr))}function br(wr){return typeof wr=="object"&&(wr==null?void 0:wr.byteLength)!==void 0}function kr(wr,Er){if(wr.length!==Er.length)return!1;for(let mr=0,Fr=wr.length;mr<Fr;mr++)if(wr[mr]!==Er[mr])return!1;return!0}function $r(wr=new Date){return[wr.getUTCFullYear().toString(),(wr.getUTCMonth()+1).toString().padStart(2,"0"),wr.getUTCDate().toString().padStart(2,"0"),wr.getUTCHours().toString().padStart(2,"0"),wr.getUTCMinutes().toString().padStart(2,"0"),wr.getUTCSeconds().toString().padStart(2,"0")].join("")}class Gr{constructor(){lr(this,Qr,!1);this.promise=new Promise((Er,mr)=>{this.resolve=Fr=>{Tr(this,Qr,!0),Er(Fr)},this.reject=Fr=>{Tr(this,Qr,!0),mr(Fr)}})}get settled(){return Mt(this,Qr)}}Qr=new WeakMap,i.PromiseCapability=Gr;let qr=null,Wr=null;function tn(wr){return qr||(qr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Wr=new Map([["","t"]])),wr.replaceAll(qr,(Er,mr,Fr)=>mr?mr.normalize("NFKC"):Wr.get(Fr))}function Kr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const wr=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(wr);else for(let Er=0;Er<32;Er++)wr[Er]=Math.floor(Math.random()*255);return tr(wr)}const Jr="pdfjs_internal_id_";i.AnnotationPrefix=Jr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var e,s,a,o,Dn,ot,Jn,dt,mt,gt,bt,vt,Pt,Tt,At,wt,_i,Et,yt,Ts,xt,Ct;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Rt){if(typeof Rt=="string"||Rt instanceof URL?Rt={url:Rt}:(0,_util.isArrayBuffer)(Rt)&&(Rt={data:Rt}),typeof Rt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Rt.url&&!Rt.data&&!Rt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const It=new PDFDocumentLoadingTask,{docId:Nt}=It,Ot=Rt.url?getUrlProp(Rt.url):null,Gt=Rt.data?getDataProp(Rt.data):null,Xt=Rt.httpHeaders||null,Ht=Rt.withCredentials===!0,Yt=Rt.password??null,zt=Rt.range instanceof PDFDataRangeTransport?Rt.range:null,Ut=Number.isInteger(Rt.rangeChunkSize)&&Rt.rangeChunkSize>0?Rt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let kt=Rt.worker instanceof PDFWorker?Rt.worker:null;const Ft=Rt.verbosity,Qt=typeof Rt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Rt.docBaseUrl)?Rt.docBaseUrl:null,Zt=typeof Rt.cMapUrl=="string"?Rt.cMapUrl:null,rr=Rt.cMapPacked!==!1,qt=Rt.CMapReaderFactory||DefaultCMapReaderFactory,Dt=typeof Rt.standardFontDataUrl=="string"?Rt.standardFontDataUrl:null,Vt=Rt.StandardFontDataFactory||DefaultStandardFontDataFactory,Lt=Rt.stopAtErrors!==!0,jt=Number.isInteger(Rt.maxImageSize)&&Rt.maxImageSize>-1?Rt.maxImageSize:-1,Wt=Rt.isEvalSupported!==!1,Kt=typeof Rt.isOffscreenCanvasSupported=="boolean"?Rt.isOffscreenCanvasSupported:!_util.isNodeJS,er=Number.isInteger(Rt.canvasMaxAreaInBytes)?Rt.canvasMaxAreaInBytes:-1,tr=typeof Rt.disableFontFace=="boolean"?Rt.disableFontFace:_util.isNodeJS,ur=Rt.fontExtraProperties===!0,cr=Rt.enableXfa===!0,nr=Rt.ownerDocument||globalThis.document,vr=Rt.disableRange===!0,Pr=Rt.disableStream===!0,Ar=Rt.disableAutoFetch===!0,Ir=Rt.pdfBug===!0,zr=zt?zt.length:Rt.length??NaN,Cr=typeof Rt.useSystemFonts=="boolean"?Rt.useSystemFonts:!_util.isNodeJS&&!tr,Dr=typeof Rt.useWorkerFetch=="boolean"?Rt.useWorkerFetch:qt===_display_utils.DOMCMapReaderFactory&&Vt===_display_utils.DOMStandardFontDataFactory&&Zt&&Dt&&(0,_display_utils.isValidFetchUrl)(Zt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Dt,document.baseURI),xr=Rt.canvasFactory||new DefaultCanvasFactory({ownerDocument:nr}),hr=Rt.filterFactory||new DefaultFilterFactory({docId:Nt,ownerDocument:nr}),pr=null;(0,_util.setVerbosityLevel)(Ft);const br={canvasFactory:xr,filterFactory:hr};if(Dr||(br.cMapReaderFactory=new qt({baseUrl:Zt,isCompressed:rr}),br.standardFontDataFactory=new Vt({baseUrl:Dt})),!kt){const Gr={verbosity:Ft,port:_worker_options.GlobalWorkerOptions.workerPort};kt=Gr.port?PDFWorker.fromPort(Gr):new PDFWorker(Gr),It._worker=kt}const kr={docId:Nt,apiVersion:"3.11.174",data:Gt,password:Yt,disableAutoFetch:Ar,rangeChunkSize:Ut,length:zr,docBaseUrl:Qt,enableXfa:cr,evaluatorOptions:{maxImageSize:jt,disableFontFace:tr,ignoreErrors:Lt,isEvalSupported:Wt,isOffscreenCanvasSupported:Kt,canvasMaxAreaInBytes:er,fontExtraProperties:ur,useSystemFonts:Cr,cMapUrl:Dr?Zt:null,standardFontDataUrl:Dr?Dt:null}},$r={ignoreErrors:Lt,isEvalSupported:Wt,disableFontFace:tr,fontExtraProperties:ur,enableXfa:cr,ownerDocument:nr,disableAutoFetch:Ar,pdfBug:Ir,styleElement:pr};return kt.promise.then(function(){if(It.destroyed)throw new Error("Loading aborted");const Gr=_fetchDocument(kt,kr),qr=new Promise(function(Wr){let tn;zt?tn=new _transport_stream.PDFDataTransportStream({length:zr,initialData:zt.initialData,progressiveDone:zt.progressiveDone,contentDispositionFilename:zt.contentDispositionFilename,disableRange:vr,disableStream:Pr},zt):Gt||(tn=(Jr=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Jr):(0,_display_utils.isValidFetchUrl)(Jr.url)?new _displayFetch_stream.PDFFetchStream(Jr):new _displayNetwork.PDFNetworkStream(Jr))({url:Ot,length:zr,httpHeaders:Xt,withCredentials:Ht,rangeChunkSize:Ut,disableRange:vr,disableStream:Pr})),Wr(tn)});return Promise.all([Gr,qr]).then(function([Wr,tn]){if(It.destroyed)throw new Error("Loading aborted");const Kr=new _message_handler.MessageHandler(Nt,Wr,kt.port),Jr=new WorkerTransport(Kr,It,tn,$r,br);It._transport=Jr,Kr.send("Ready",null)})}).catch(It._capability.reject),It}async function _fetchDocument(Rt,It){if(Rt.destroyed)throw new Error("Worker was destroyed");const Nt=await Rt.messageHandler.sendWithPromise("GetDocRequest",It,It.data?[It.data.buffer]:null);if(Rt.destroyed)throw new Error("Worker was destroyed");return Nt}function getUrlProp(Rt){if(Rt instanceof URL)return Rt.href;try{return new URL(Rt,window.location).href}catch{if(_util.isNodeJS&&typeof Rt=="string")return Rt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Rt){if(_util.isNodeJS&&typeof Buffer<"u"&&Rt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Rt instanceof Uint8Array&&Rt.byteLength===Rt.buffer.byteLength)return Rt;if(typeof Rt=="string")return(0,_util.stringToBytes)(Rt);if(typeof Rt=="object"&&!isNaN(Rt==null?void 0:Rt.length)||(0,_util.isArrayBuffer)(Rt))return new Uint8Array(Rt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const i=class i{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${zn(i,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var It,Nt,Ot;this.destroyed=!0;try{(It=this._worker)!=null&&It.port&&(this._worker._pendingDestroy=!0),await((Nt=this._transport)==null?void 0:Nt.destroy())}catch(Gt){throw(Ot=this._worker)!=null&&Ot.port&&delete this._worker._pendingDestroy,Gt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,lr(i,e,0);let PDFDocumentLoadingTask=i;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(It,Nt,Ot=!1,Gt=null){this.length=It,this.initialData=Nt,this.progressiveDone=Ot,this.contentDispositionFilename=Gt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(It){this._rangeListeners.push(It)}addProgressListener(It){this._progressListeners.push(It)}addProgressiveReadListener(It){this._progressiveReadListeners.push(It)}addProgressiveDoneListener(It){this._progressiveDoneListeners.push(It)}onDataRange(It,Nt){for(const Ot of this._rangeListeners)Ot(It,Nt)}onDataProgress(It,Nt){this._readyCapability.promise.then(()=>{for(const Ot of this._progressListeners)Ot(It,Nt)})}onDataProgressiveRead(It){this._readyCapability.promise.then(()=>{for(const Nt of this._progressiveReadListeners)Nt(It)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const It of this._progressiveDoneListeners)It()})}transportReady(){this._readyCapability.resolve()}requestDataRange(It,Nt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(It,Nt){this._pdfInfo=It,this._transport=Nt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Ot=>{if(!Ot)return Ot;const Gt=[];for(const Xt in Ot)Gt.push(...Ot[Xt]);return Gt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(It){return this._transport.getPage(It)}getPageIndex(It){return this._transport.getPageIndex(It)}getDestinations(){return this._transport.getDestinations()}getDestination(It){return this._transport.getDestination(It)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(It=!1){return this._transport.startCleanup(It||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(It,Nt,Ot,Gt=!1){lr(this,o);lr(this,ot);lr(this,s,null);lr(this,a,!1);this._pageIndex=It,this._pageInfo=Nt,this._transport=Ot,this._stats=Gt?new _display_utils.StatTimer:null,this._pdfBug=Gt,this.commonObjs=Ot.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:It,rotation:Nt=this.rotate,offsetX:Ot=0,offsetY:Gt=0,dontFlip:Xt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:It,rotation:Nt,offsetX:Ot,offsetY:Gt,dontFlip:Xt})}getAnnotations({intent:It="display"}={}){const Nt=this._transport.getRenderingIntent(It);return this._transport.getAnnotations(this._pageIndex,Nt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var It;return((It=this._transport._htmlForXfa)==null?void 0:It.children[this._pageIndex])||null}render({canvasContext:It,viewport:Nt,intent:Ot="display",annotationMode:Gt=_util.AnnotationMode.ENABLE,transform:Xt=null,background:Ht=null,optionalContentConfigPromise:Yt=null,annotationCanvasMap:zt=null,pageColors:Ut=null,printAnnotationStorage:kt=null}){var Vt,Lt;(Vt=this._stats)==null||Vt.time("Overall");const Ft=this._transport.getRenderingIntent(Ot,Gt,kt);Tr(this,a,!1),gr(this,ot,Jn).call(this),Yt||(Yt=this._transport.getOptionalContentConfig());let Qt=this._intentStates.get(Ft.cacheKey);Qt||(Qt=Object.create(null),this._intentStates.set(Ft.cacheKey,Qt)),Qt.streamReaderCancelTimeout&&(clearTimeout(Qt.streamReaderCancelTimeout),Qt.streamReaderCancelTimeout=null);const Zt=!!(Ft.renderingIntent&_util.RenderingIntentFlag.PRINT);Qt.displayReadyCapability||(Qt.displayReadyCapability=new _util.PromiseCapability,Qt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Lt=this._stats)==null||Lt.time("Page Request"),this._pumpOperatorList(Ft));const rr=jt=>{var Wt,Kt;Qt.renderTasks.delete(qt),(this._maybeCleanupAfterRender||Zt)&&Tr(this,a,!0),gr(this,o,Dn).call(this,!Zt),jt?(qt.capability.reject(jt),this._abortOperatorList({intentState:Qt,reason:jt instanceof Error?jt:new Error(jt)})):qt.capability.resolve(),(Wt=this._stats)==null||Wt.timeEnd("Rendering"),(Kt=this._stats)==null||Kt.timeEnd("Overall")},qt=new InternalRenderTask({callback:rr,params:{canvasContext:It,viewport:Nt,transform:Xt,background:Ht},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:zt,operatorList:Qt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Zt,pdfBug:this._pdfBug,pageColors:Ut});(Qt.renderTasks||(Qt.renderTasks=new Set)).add(qt);const Dt=qt.task;return Promise.all([Qt.displayReadyCapability.promise,Yt]).then(([jt,Wt])=>{var Kt;if(this.destroyed){rr();return}(Kt=this._stats)==null||Kt.time("Rendering"),qt.initializeGraphics({transparency:jt,optionalContentConfig:Wt}),qt.operatorListChanged()}).catch(rr),Dt}getOperatorList({intent:It="display",annotationMode:Nt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Ot=null}={}){var zt;function Gt(){Ht.operatorList.lastChunk&&(Ht.opListReadCapability.resolve(Ht.operatorList),Ht.renderTasks.delete(Yt))}const Xt=this._transport.getRenderingIntent(It,Nt,Ot,!0);let Ht=this._intentStates.get(Xt.cacheKey);Ht||(Ht=Object.create(null),this._intentStates.set(Xt.cacheKey,Ht));let Yt;return Ht.opListReadCapability||(Yt=Object.create(null),Yt.operatorListChanged=Gt,Ht.opListReadCapability=new _util.PromiseCapability,(Ht.renderTasks||(Ht.renderTasks=new Set)).add(Yt),Ht.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(zt=this._stats)==null||zt.time("Page Request"),this._pumpOperatorList(Xt)),Ht.opListReadCapability.promise}streamTextContent({includeMarkedContent:It=!1,disableNormalization:Nt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:It===!0,disableNormalization:Nt===!0},{highWaterMark:100,size(Gt){return Gt.items.length}})}getTextContent(It={}){if(this._transport._htmlForXfa)return this.getXfa().then(Ot=>_xfa_text.XfaText.textContent(Ot));const Nt=this.streamTextContent(It);return new Promise(function(Ot,Gt){function Xt(){Ht.read().then(function({value:zt,done:Ut}){if(Ut){Ot(Yt);return}Object.assign(Yt.styles,zt.styles),Yt.items.push(...zt.items),Xt()},Gt)}const Ht=Nt.getReader(),Yt={items:[],styles:Object.create(null)};Xt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const It=[];for(const Nt of this._intentStates.values())if(this._abortOperatorList({intentState:Nt,reason:new Error("Page was destroyed."),force:!0}),!Nt.opListReadCapability)for(const Ot of Nt.renderTasks)It.push(Ot.completed),Ot.cancel();return this.objs.clear(),Tr(this,a,!1),gr(this,ot,Jn).call(this),Promise.all(It)}cleanup(It=!1){Tr(this,a,!0);const Nt=gr(this,o,Dn).call(this,!1);return It&&Nt&&this._stats&&(this._stats=new _display_utils.StatTimer),Nt}_startRenderPage(It,Nt){var Gt,Xt;const Ot=this._intentStates.get(Nt);Ot&&((Gt=this._stats)==null||Gt.timeEnd("Page Request"),(Xt=Ot.displayReadyCapability)==null||Xt.resolve(It))}_renderPageChunk(It,Nt){for(let Ot=0,Gt=It.length;Ot<Gt;Ot++)Nt.operatorList.fnArray.push(It.fnArray[Ot]),Nt.operatorList.argsArray.push(It.argsArray[Ot]);Nt.operatorList.lastChunk=It.lastChunk,Nt.operatorList.separateAnnots=It.separateAnnots;for(const Ot of Nt.renderTasks)Ot.operatorListChanged();It.lastChunk&&gr(this,o,Dn).call(this,!0)}_pumpOperatorList({renderingIntent:It,cacheKey:Nt,annotationStorageSerializable:Ot}){const{map:Gt,transfers:Xt}=Ot,Yt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:It,cacheKey:Nt,annotationStorage:Gt},Xt).getReader(),zt=this._intentStates.get(Nt);zt.streamReader=Yt;const Ut=()=>{Yt.read().then(({value:kt,done:Ft})=>{if(Ft){zt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(kt,zt),Ut())},kt=>{if(zt.streamReader=null,!this._transport.destroyed){if(zt.operatorList){zt.operatorList.lastChunk=!0;for(const Ft of zt.renderTasks)Ft.operatorListChanged();gr(this,o,Dn).call(this,!0)}if(zt.displayReadyCapability)zt.displayReadyCapability.reject(kt);else if(zt.opListReadCapability)zt.opListReadCapability.reject(kt);else throw kt}})};Ut()}_abortOperatorList({intentState:It,reason:Nt,force:Ot=!1}){if(It.streamReader){if(It.streamReaderCancelTimeout&&(clearTimeout(It.streamReaderCancelTimeout),It.streamReaderCancelTimeout=null),!Ot){if(It.renderTasks.size>0)return;if(Nt instanceof _display_utils.RenderingCancelledException){let Gt=RENDERING_CANCELLED_TIMEOUT;Nt.extraDelay>0&&Nt.extraDelay<1e3&&(Gt+=Nt.extraDelay),It.streamReaderCancelTimeout=setTimeout(()=>{It.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:It,reason:Nt,force:!0})},Gt);return}}if(It.streamReader.cancel(new _util.AbortException(Nt.message)).catch(()=>{}),It.streamReader=null,!this._transport.destroyed){for(const[Gt,Xt]of this._intentStates)if(Xt===It){this._intentStates.delete(Gt);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,a=new WeakMap,o=new WeakSet,Dn=function(It=!1){if(gr(this,ot,Jn).call(this),!Mt(this,a)||this.destroyed)return!1;if(It)return Tr(this,s,setTimeout(()=>{Tr(this,s,null),gr(this,o,Dn).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Nt,operatorList:Ot}of this._intentStates.values())if(Nt.size>0||!Ot.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Tr(this,a,!1),!0},ot=new WeakSet,Jn=function(){Mt(this,s)&&(clearTimeout(Mt(this,s)),Tr(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){lr(this,dt,new Set);lr(this,mt,Promise.resolve())}postMessage(It,Nt){const Ot={data:structuredClone(It,Nt?{transfer:Nt}:null)};Mt(this,mt).then(()=>{for(const Gt of Mt(this,dt))Gt.call(this,Ot)})}addEventListener(It,Nt){Mt(this,dt).add(Nt)}removeEventListener(It,Nt){Mt(this,dt).delete(Nt)}terminate(){Mt(this,dt).clear()}}dt=new WeakMap,mt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Rt=(gt=document==null?void 0:document.currentScript)==null?void 0:gt.src;Rt&&(PDFWorkerUtil.fallbackWorkerSrc=Rt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Rt,It){let Nt;try{if(Nt=new URL(Rt),!Nt.origin||Nt.origin==="null")return!1}catch{return!1}const Ot=new URL(It,Nt);return Nt.origin===Ot.origin},PDFWorkerUtil.createCDNWrapper=function(Rt){const It=`importScripts("${Rt}");`;return URL.createObjectURL(new Blob([It]))}}const _PDFWorker=class _PDFWorker{constructor({name:Rt=null,port:It=null,verbosity:Nt=(0,_util.getVerbosityLevel)()}={}){var Ot;if(this.name=Rt,this.destroyed=!1,this.verbosity=Nt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,It){if((Ot=Mt(_PDFWorker,bt))!=null&&Ot.has(It))throw new Error("Cannot use more than one PDFWorker per port.");(Mt(_PDFWorker,bt)||Tr(_PDFWorker,bt,new WeakMap)).set(It,this),this._initializeFromPort(It);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Rt){this._port=Rt,this._messageHandler=new _message_handler.MessageHandler("main","worker",Rt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Rt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Rt)||(Rt=PDFWorkerUtil.createCDNWrapper(new URL(Rt,window.location).href));const It=new Worker(Rt),Nt=new _message_handler.MessageHandler("main","worker",It),Ot=()=>{It.removeEventListener("error",Gt),Nt.destroy(),It.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Gt=()=>{this._webWorker||Ot()};It.addEventListener("error",Gt),Nt.on("test",Ht=>{if(It.removeEventListener("error",Gt),this.destroyed){Ot();return}Ht?(this._messageHandler=Nt,this._port=It,this._webWorker=It,this._readyCapability.resolve(),Nt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Nt.destroy(),It.terminate())}),Nt.on("ready",Ht=>{if(It.removeEventListener("error",Gt),this.destroyed){Ot();return}try{Xt()}catch{this._setupFakeWorker()}});const Xt=()=>{const Ht=new Uint8Array;Nt.send("test",Ht,[Ht.buffer])};Xt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Rt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const It=new LoopbackPort;this._port=It;const Nt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Ot=new _message_handler.MessageHandler(Nt+"_worker",Nt,It);Rt.setup(Ot,It);const Gt=new _message_handler.MessageHandler(Nt,Nt+"_worker",It);this._messageHandler=Gt,this._readyCapability.resolve(),Gt.send("configure",{verbosity:this.verbosity})}).catch(Rt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Rt.message}".`))})}destroy(){var Rt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Rt=Mt(_PDFWorker,bt))==null||Rt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Rt){var Nt;if(!(Rt!=null&&Rt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const It=(Nt=Mt(this,bt))==null?void 0:Nt.get(Rt.port);if(It){if(It._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return It}return new _PDFWorker(Rt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Rt;try{return((Rt=globalThis.pdfjsWorker)==null?void 0:Rt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};bt=new WeakMap,lr(_PDFWorker,bt,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(It,Nt,Ot,Gt,Xt){lr(this,wt);lr(this,vt,new Map);lr(this,Pt,new Map);lr(this,Tt,new Map);lr(this,At,null);this.messageHandler=It,this.loadingTask=Nt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Gt.ownerDocument,styleElement:Gt.styleElement}),this._params=Gt,this.canvasFactory=Xt.canvasFactory,this.filterFactory=Xt.filterFactory,this.cMapReaderFactory=Xt.cMapReaderFactory,this.standardFontDataFactory=Xt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Ot,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(It,Nt=_util.AnnotationMode.ENABLE,Ot=null,Gt=!1){let Xt=_util.RenderingIntentFlag.DISPLAY,Ht=_annotation_storage.SerializableEmpty;switch(It){case"any":Xt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":Xt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${It}`)}switch(Nt){case _util.AnnotationMode.DISABLE:Xt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:Xt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:Xt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Ht=(Xt&_util.RenderingIntentFlag.PRINT&&Ot instanceof _annotation_storage.PrintAnnotationStorage?Ot:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Nt}`)}return Gt&&(Xt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:Xt,cacheKey:`${Xt}_${Ht.hash}`,annotationStorageSerializable:Ht}}destroy(){var Ot;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Ot=Mt(this,At))==null||Ot.reject(new Error("Worker was destroyed during onPassword callback"));const It=[];for(const Gt of Mt(this,Pt).values())It.push(Gt._destroy());Mt(this,Pt).clear(),Mt(this,Tt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Nt=this.messageHandler.sendWithPromise("Terminate",null);return It.push(Nt),Promise.all(It).then(()=>{var Gt;this.commonObjs.clear(),this.fontLoader.clear(),Mt(this,vt).clear(),this.filterFactory.destroy(),(Gt=this._networkStream)==null||Gt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:It,loadingTask:Nt}=this;It.on("GetReader",(Ot,Gt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Xt=>{this._lastProgress={loaded:Xt.loaded,total:Xt.total}},Gt.onPull=()=>{this._fullReader.read().then(function({value:Xt,done:Ht}){if(Ht){Gt.close();return}(0,_util.assert)(Xt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Gt.enqueue(new Uint8Array(Xt),1,[Xt])}).catch(Xt=>{Gt.error(Xt)})},Gt.onCancel=Xt=>{this._fullReader.cancel(Xt),Gt.ready.catch(Ht=>{if(!this.destroyed)throw Ht})}}),It.on("ReaderHeadersReady",Ot=>{const Gt=new _util.PromiseCapability,Xt=this._fullReader;return Xt.headersReady.then(()=>{var Ht;(!Xt.isStreamingSupported||!Xt.isRangeSupported)&&(this._lastProgress&&((Ht=Nt.onProgress)==null||Ht.call(Nt,this._lastProgress)),Xt.onProgress=Yt=>{var zt;(zt=Nt.onProgress)==null||zt.call(Nt,{loaded:Yt.loaded,total:Yt.total})}),Gt.resolve({isStreamingSupported:Xt.isStreamingSupported,isRangeSupported:Xt.isRangeSupported,contentLength:Xt.contentLength})},Gt.reject),Gt.promise}),It.on("GetRangeReader",(Ot,Gt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Xt=this._networkStream.getRangeReader(Ot.begin,Ot.end);if(!Xt){Gt.close();return}Gt.onPull=()=>{Xt.read().then(function({value:Ht,done:Yt}){if(Yt){Gt.close();return}(0,_util.assert)(Ht instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Gt.enqueue(new Uint8Array(Ht),1,[Ht])}).catch(Ht=>{Gt.error(Ht)})},Gt.onCancel=Ht=>{Xt.cancel(Ht),Gt.ready.catch(Yt=>{if(!this.destroyed)throw Yt})}}),It.on("GetDoc",({pdfInfo:Ot})=>{this._numPages=Ot.numPages,this._htmlForXfa=Ot.htmlForXfa,delete Ot.htmlForXfa,Nt._capability.resolve(new PDFDocumentProxy(Ot,this))}),It.on("DocException",function(Ot){let Gt;switch(Ot.name){case"PasswordException":Gt=new _util.PasswordException(Ot.message,Ot.code);break;case"InvalidPDFException":Gt=new _util.InvalidPDFException(Ot.message);break;case"MissingPDFException":Gt=new _util.MissingPDFException(Ot.message);break;case"UnexpectedResponseException":Gt=new _util.UnexpectedResponseException(Ot.message,Ot.status);break;case"UnknownErrorException":Gt=new _util.UnknownErrorException(Ot.message,Ot.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Nt._capability.reject(Gt)}),It.on("PasswordRequest",Ot=>{if(Tr(this,At,new _util.PromiseCapability),Nt.onPassword){const Gt=Xt=>{Xt instanceof Error?Mt(this,At).reject(Xt):Mt(this,At).resolve({password:Xt})};try{Nt.onPassword(Gt,Ot.code)}catch(Xt){Mt(this,At).reject(Xt)}}else Mt(this,At).reject(new _util.PasswordException(Ot.message,Ot.code));return Mt(this,At).promise}),It.on("DataLoaded",Ot=>{var Gt;(Gt=Nt.onProgress)==null||Gt.call(Nt,{loaded:Ot.length,total:Ot.length}),this.downloadInfoCapability.resolve(Ot)}),It.on("StartRenderPage",Ot=>{if(this.destroyed)return;Mt(this,Pt).get(Ot.pageIndex)._startRenderPage(Ot.transparency,Ot.cacheKey)}),It.on("commonobj",([Ot,Gt,Xt])=>{var Ht;if(!this.destroyed&&!this.commonObjs.has(Ot))switch(Gt){case"Font":const Yt=this._params;if("error"in Xt){const kt=Xt.error;(0,_util.warn)(`Error during font loading: ${kt}`),this.commonObjs.resolve(Ot,kt);break}const zt=Yt.pdfBug&&((Ht=globalThis.FontInspector)!=null&&Ht.enabled)?(kt,Ft)=>globalThis.FontInspector.fontAdded(kt,Ft):null,Ut=new _font_loader.FontFaceObject(Xt,{isEvalSupported:Yt.isEvalSupported,disableFontFace:Yt.disableFontFace,ignoreErrors:Yt.ignoreErrors,inspectFont:zt});this.fontLoader.bind(Ut).catch(kt=>It.sendWithPromise("FontFallback",{id:Ot})).finally(()=>{!Yt.fontExtraProperties&&Ut.data&&(Ut.data=null),this.commonObjs.resolve(Ot,Ut)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ot,Xt);break;default:throw new Error(`Got unknown common object type ${Gt}`)}}),It.on("obj",([Ot,Gt,Xt,Ht])=>{var zt;if(this.destroyed)return;const Yt=Mt(this,Pt).get(Gt);if(!Yt.objs.has(Ot))switch(Xt){case"Image":if(Yt.objs.resolve(Ot,Ht),Ht){let Ut;if(Ht.bitmap){const{width:kt,height:Ft}=Ht;Ut=kt*Ft*4}else Ut=((zt=Ht.data)==null?void 0:zt.length)||0;Ut>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Yt._maybeCleanupAfterRender=!0)}break;case"Pattern":Yt.objs.resolve(Ot,Ht);break;default:throw new Error(`Got unknown object type ${Xt}`)}}),It.on("DocProgress",Ot=>{var Gt;this.destroyed||(Gt=Nt.onProgress)==null||Gt.call(Nt,{loaded:Ot.loaded,total:Ot.total})}),It.on("FetchBuiltInCMap",Ot=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Ot):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),It.on("FetchStandardFontData",Ot=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Ot):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ot;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:It,transfers:Nt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:It,filename:((Ot=this._fullReader)==null?void 0:Ot.filename)??null},Nt).finally(()=>{this.annotationStorage.resetModified()})}getPage(It){if(!Number.isInteger(It)||It<=0||It>this._numPages)return Promise.reject(new Error("Invalid page request."));const Nt=It-1,Ot=Mt(this,Tt).get(Nt);if(Ot)return Ot;const Gt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Nt}).then(Xt=>{if(this.destroyed)throw new Error("Transport destroyed");const Ht=new PDFPageProxy(Nt,Xt,this,this._params.pdfBug);return Mt(this,Pt).set(Nt,Ht),Ht});return Mt(this,Tt).set(Nt,Gt),Gt}getPageIndex(It){return typeof It!="object"||It===null||!Number.isInteger(It.num)||It.num<0||!Number.isInteger(It.gen)||It.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:It.num,gen:It.gen})}getAnnotations(It,Nt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:It,intent:Nt})}getFieldObjects(){return gr(this,wt,_i).call(this,"GetFieldObjects")}hasJSActions(){return gr(this,wt,_i).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(It){return typeof It!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:It})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return gr(this,wt,_i).call(this,"GetDocJSActions")}getPageJSActions(It){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:It})}getStructTree(It){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:It})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(It=>new _optional_content_config.OptionalContentConfig(It))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const It="GetMetadata",Nt=Mt(this,vt).get(It);if(Nt)return Nt;const Ot=this.messageHandler.sendWithPromise(It,null).then(Gt=>{var Xt,Ht;return{info:Gt[0],metadata:Gt[1]?new _metadata.Metadata(Gt[1]):null,contentDispositionFilename:((Xt=this._fullReader)==null?void 0:Xt.filename)??null,contentLength:((Ht=this._fullReader)==null?void 0:Ht.contentLength)??null}});return Mt(this,vt).set(It,Ot),Ot}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(It=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Nt of Mt(this,Pt).values())if(!Nt.cleanup())throw new Error(`startCleanup: Page ${Nt.pageNumber} is currently rendering.`);this.commonObjs.clear(),It||this.fontLoader.clear(),Mt(this,vt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:It,enableXfa:Nt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:It,enableXfa:Nt})}}vt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,At=new WeakMap,wt=new WeakSet,_i=function(It,Nt=null){const Ot=Mt(this,vt).get(It);if(Ot)return Ot;const Gt=this.messageHandler.sendWithPromise(It,Nt);return Mt(this,vt).set(It,Gt),Gt};class PDFObjects{constructor(){lr(this,yt);lr(this,Et,Object.create(null))}get(It,Nt=null){if(Nt){const Gt=gr(this,yt,Ts).call(this,It);return Gt.capability.promise.then(()=>Nt(Gt.data)),null}const Ot=Mt(this,Et)[It];if(!(Ot!=null&&Ot.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${It}.`);return Ot.data}has(It){const Nt=Mt(this,Et)[It];return(Nt==null?void 0:Nt.capability.settled)||!1}resolve(It,Nt=null){const Ot=gr(this,yt,Ts).call(this,It);Ot.data=Nt,Ot.capability.resolve()}clear(){var It;for(const Nt in Mt(this,Et)){const{data:Ot}=Mt(this,Et)[Nt];(It=Ot==null?void 0:Ot.bitmap)==null||It.close()}Tr(this,Et,Object.create(null))}}Et=new WeakMap,yt=new WeakSet,Ts=function(It){var Nt;return(Nt=Mt(this,Et))[It]||(Nt[It]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(It){lr(this,xt,null);Tr(this,xt,It),this.onContinue=null}get promise(){return Mt(this,xt).capability.promise}cancel(It=0){Mt(this,xt).cancel(null,It)}get separateAnnots(){const{separateAnnots:It}=Mt(this,xt).operatorList;if(!It)return!1;const{annotationCanvasMap:Nt}=Mt(this,xt);return It.form||It.canvas&&(Nt==null?void 0:Nt.size)>0}}xt=new WeakMap,exports.RenderTask=RenderTask;const $t=class $t{constructor({callback:It,params:Nt,objs:Ot,commonObjs:Gt,annotationCanvasMap:Xt,operatorList:Ht,pageIndex:Yt,canvasFactory:zt,filterFactory:Ut,useRequestAnimationFrame:kt=!1,pdfBug:Ft=!1,pageColors:Qt=null}){this.callback=It,this.params=Nt,this.objs=Ot,this.commonObjs=Gt,this.annotationCanvasMap=Xt,this.operatorListIdx=null,this.operatorList=Ht,this._pageIndex=Yt,this.canvasFactory=zt,this.filterFactory=Ut,this._pdfBug=Ft,this.pageColors=Qt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=kt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Nt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:It=!1,optionalContentConfig:Nt}){var Yt,zt;if(this.cancelled)return;if(this._canvas){if(Mt($t,Ct).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Mt($t,Ct).add(this._canvas)}this._pdfBug&&((Yt=globalThis.StepperManager)!=null&&Yt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ot,viewport:Gt,transform:Xt,background:Ht}=this.params;this.gfx=new _canvas.CanvasGraphics(Ot,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Nt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Xt,viewport:Gt,transparency:It,background:Ht}),this.operatorListIdx=0,this.graphicsReady=!0,(zt=this.graphicsReadyCallback)==null||zt.call(this)}cancel(It=null,Nt=0){var Ot;this.running=!1,this.cancelled=!0,(Ot=this.gfx)==null||Ot.endDrawing(),Mt($t,Ct).delete(this._canvas),this.callback(It||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Nt))}operatorListChanged(){var It;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(It=this.stepper)==null||It.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Mt($t,Ct).delete(this._canvas),this.callback())))}};Ct=new WeakMap,lr($t,Ct,new WeakSet);let InternalRenderTask=$t;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,i,s)=>{var mt,gt,bt,vo,Pt;Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var a=s(1),o=s(4),et=s(8);const ot=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=ot;class ft{constructor(){lr(this,bt);lr(this,mt,!1);lr(this,gt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(At,wt){const _t=Mt(this,gt).get(At);return _t===void 0?wt:Object.assign(wt,_t)}getRawValue(At){return Mt(this,gt).get(At)}remove(At){if(Mt(this,gt).delete(At),Mt(this,gt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const wt of Mt(this,gt).values())if(wt instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(At,wt){const _t=Mt(this,gt).get(At);let Et=!1;if(_t!==void 0)for(const[yt,St]of Object.entries(wt))_t[yt]!==St&&(Et=!0,_t[yt]=St);else Et=!0,Mt(this,gt).set(At,wt);Et&&gr(this,bt,vo).call(this),wt instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(wt.constructor._type)}has(At){return Mt(this,gt).has(At)}getAll(){return Mt(this,gt).size>0?(0,a.objectFromMap)(Mt(this,gt)):null}setAll(At){for(const[wt,_t]of Object.entries(At))this.setValue(wt,_t)}get size(){return Mt(this,gt).size}resetModified(){Mt(this,mt)&&(Tr(this,mt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new dt(this)}get serializable(){if(Mt(this,gt).size===0)return ot;const At=new Map,wt=new et.MurmurHash3_64,_t=[],Et=Object.create(null);let yt=!1;for(const[St,xt]of Mt(this,gt)){const Ct=xt instanceof o.AnnotationEditor?xt.serialize(!1,Et):xt;Ct&&(At.set(St,Ct),wt.update(`${St}:${JSON.stringify(Ct)}`),yt||(yt=!!Ct.bitmap))}if(yt)for(const St of At.values())St.bitmap&&_t.push(St.bitmap);return At.size>0?{map:At,hash:wt.hexdigest(),transfers:_t}:ot}}mt=new WeakMap,gt=new WeakMap,bt=new WeakSet,vo=function(){Mt(this,mt)||(Tr(this,mt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},i.AnnotationStorage=ft;class dt extends ft{constructor(wt){super();lr(this,Pt,void 0);const{map:_t,hash:Et,transfers:yt}=wt.serializable,St=structuredClone(_t,yt?{transfer:yt}:null);Tr(this,Pt,{map:St,hash:Et,transfers:yt})}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Mt(this,Pt)}}Pt=new WeakMap,i.PrintAnnotationStorage=dt},(e,i,s)=>{var dt,mt,gt,bt,vt,Pt,Tt,At,wt,_t,Et,yt,St,xt,Ct,Ss,Rt,xs,Nt,ws,Gt,Rs,Ht,_o,zt,yo,kt,Eo,Qt,Cs,rr,bo;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var a=s(5),o=s(1),et=s(6);const Dt=class Dt{constructor(Lt){lr(this,Ct);lr(this,Rt);lr(this,Gt);lr(this,Ht);lr(this,zt);lr(this,kt);lr(this,Qt);lr(this,rr);lr(this,dt,"");lr(this,mt,!1);lr(this,gt,null);lr(this,bt,null);lr(this,vt,null);lr(this,Pt,!1);lr(this,Tt,null);lr(this,At,this.focusin.bind(this));lr(this,wt,this.focusout.bind(this));lr(this,_t,!1);lr(this,Et,!1);lr(this,yt,!1);mn(this,"_initialOptions",Object.create(null));mn(this,"_uiManager",null);mn(this,"_focusEventsAllowed",!0);mn(this,"_l10nPromise",null);lr(this,St,!1);lr(this,xt,Dt._zIndex++);this.constructor===Dt&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Lt.parent,this.id=Lt.id,this.width=this.height=null,this.pageIndex=Lt.parent.pageIndex,this.name=Lt.name,this.div=null,this._uiManager=Lt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Lt.isCentered,this._structTreeParentId=null;const{rotation:jt,rawDims:{pageWidth:Wt,pageHeight:Kt,pageX:er,pageY:tr}}=this.parent.viewport;this.rotation=jt,this.pageRotation=(360+jt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Wt,Kt],this.pageTranslation=[er,tr];const[ur,cr]=this.parentDimensions;this.x=Lt.x/ur,this.y=Lt.y/cr,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Lt){const jt=new ft({id:Lt.parent.getNextId(),parent:Lt.parent,uiManager:Lt._uiManager});jt.annotationElementId=Lt.annotationElementId,jt.deleted=!0,jt._uiManager.addToAnnotationStorage(jt)}static initialize(Lt,jt=null){if(Dt._l10nPromise||(Dt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Kt=>[Kt,Lt.get(Kt)]))),jt!=null&&jt.strings)for(const Kt of jt.strings)Dt._l10nPromise.set(Kt,Lt.get(Kt));if(Dt._borderLineWidth!==-1)return;const Wt=getComputedStyle(document.documentElement);Dt._borderLineWidth=parseFloat(Wt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Lt,jt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Lt){return!1}static paste(Lt,jt){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Mt(this,St)}set _isDraggable(Lt){var jt;Tr(this,St,Lt),(jt=this.div)==null||jt.classList.toggle("draggable",Lt)}center(){const[Lt,jt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*jt/(Lt*2),this.y+=this.width*Lt/(jt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*jt/(Lt*2),this.y-=this.width*Lt/(jt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Lt){this._uiManager.addCommands(Lt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Mt(this,xt)}setParent(Lt){Lt!==null&&(this.pageIndex=Lt.pageIndex,this.pageDimensions=Lt.pageDimensions),this.parent=Lt}focusin(Lt){this._focusEventsAllowed&&(Mt(this,_t)?Tr(this,_t,!1):this.parent.setSelected(this))}focusout(Lt){var Wt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const jt=Lt.relatedTarget;jt!=null&&jt.closest(`#${this.id}`)||(Lt.preventDefault(),(Wt=this.parent)!=null&&Wt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Lt,jt,Wt,Kt){const[er,tr]=this.parentDimensions;[Wt,Kt]=this.screenToPageTranslation(Wt,Kt),this.x=(Lt+Wt)/er,this.y=(jt+Kt)/tr,this.fixAndSetPosition()}translate(Lt,jt){gr(this,Ct,Ss).call(this,this.parentDimensions,Lt,jt)}translateInPage(Lt,jt){gr(this,Ct,Ss).call(this,this.pageDimensions,Lt,jt),this.div.scrollIntoView({block:"nearest"})}drag(Lt,jt){const[Wt,Kt]=this.parentDimensions;if(this.x+=Lt/Wt,this.y+=jt/Kt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:nr,y:vr}=this.div.getBoundingClientRect();this.parent.findNewParent(this,nr,vr)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:er,y:tr}=this;const[ur,cr]=gr(this,Rt,xs).call(this);er+=ur,tr+=cr,this.div.style.left=`${(100*er).toFixed(2)}%`,this.div.style.top=`${(100*tr).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Lt,jt]=this.pageDimensions;let{x:Wt,y:Kt,width:er,height:tr}=this;switch(er*=Lt,tr*=jt,Wt*=Lt,Kt*=jt,this.rotation){case 0:Wt=Math.max(0,Math.min(Lt-er,Wt)),Kt=Math.max(0,Math.min(jt-tr,Kt));break;case 90:Wt=Math.max(0,Math.min(Lt-tr,Wt)),Kt=Math.min(jt,Math.max(er,Kt));break;case 180:Wt=Math.min(Lt,Math.max(er,Wt)),Kt=Math.min(jt,Math.max(tr,Kt));break;case 270:Wt=Math.min(Lt,Math.max(tr,Wt)),Kt=Math.max(0,Math.min(jt-er,Kt));break}this.x=Wt/=Lt,this.y=Kt/=jt;const[ur,cr]=gr(this,Rt,xs).call(this);Wt+=ur,Kt+=cr;const{style:nr}=this.div;nr.left=`${(100*Wt).toFixed(2)}%`,nr.top=`${(100*Kt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Lt,jt){var Wt;return gr(Wt=Dt,Nt,ws).call(Wt,Lt,jt,this.parentRotation)}pageTranslationToScreen(Lt,jt){var Wt;return gr(Wt=Dt,Nt,ws).call(Wt,Lt,jt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Lt,pageDimensions:[jt,Wt]}=this,Kt=jt*Lt,er=Wt*Lt;return o.FeatureTest.isCSSRoundSupported?[Math.round(Kt),Math.round(er)]:[Kt,er]}setDims(Lt,jt){var er;const[Wt,Kt]=this.parentDimensions;this.div.style.width=`${(100*Lt/Wt).toFixed(2)}%`,Mt(this,Pt)||(this.div.style.height=`${(100*jt/Kt).toFixed(2)}%`),(er=Mt(this,gt))==null||er.classList.toggle("small",Lt<Dt.SMALL_EDITOR_SIZE||jt<Dt.SMALL_EDITOR_SIZE)}fixDims(){const{style:Lt}=this.div,{height:jt,width:Wt}=Lt,Kt=Wt.endsWith("%"),er=!Mt(this,Pt)&&jt.endsWith("%");if(Kt&&er)return;const[tr,ur]=this.parentDimensions;Kt||(Lt.width=`${(100*parseFloat(Wt)/tr).toFixed(2)}%`),!Mt(this,Pt)&&!er&&(Lt.height=`${(100*parseFloat(jt)/ur).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Mt(this,gt))return;const Lt=Tr(this,gt,document.createElement("button"));Lt.className="altText";const jt=await Dt._l10nPromise.get("editor_alt_text_button_label");Lt.textContent=jt,Lt.setAttribute("aria-label",jt),Lt.tabIndex="0",Lt.addEventListener("contextmenu",et.noContextMenu),Lt.addEventListener("pointerdown",Wt=>Wt.stopPropagation()),Lt.addEventListener("click",Wt=>{Wt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Lt.addEventListener("keydown",Wt=>{Wt.target===Lt&&Wt.key==="Enter"&&(Wt.preventDefault(),this._uiManager.editAltText(this))}),gr(this,Qt,Cs).call(this),this.div.append(Lt),Dt.SMALL_EDITOR_SIZE||(Dt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Lt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Mt(this,dt),decorative:Mt(this,mt)}}set altTextData({altText:Lt,decorative:jt}){Mt(this,dt)===Lt&&Mt(this,mt)===jt||(Tr(this,dt,Lt),Tr(this,mt,jt),gr(this,Qt,Cs).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Mt(this,At)),this.div.addEventListener("focusout",Mt(this,wt));const[Lt,jt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*jt/Lt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Lt/jt).toFixed(2)}%`);const[Wt,Kt]=this.getInitialTranslation();return this.translate(Wt,Kt),(0,a.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Lt){const{isMac:jt}=o.FeatureTest.platform;if(Lt.button!==0||Lt.ctrlKey&&jt){Lt.preventDefault();return}Tr(this,_t,!0),gr(this,rr,bo).call(this,Lt)}moveInDOM(){var Lt;(Lt=this.parent)==null||Lt.moveEditorInDOM(this)}_setParentAndPosition(Lt,jt,Wt){Lt.changeParent(this),this.x=jt,this.y=Wt,this.fixAndSetPosition()}getRect(Lt,jt){const Wt=this.parentScale,[Kt,er]=this.pageDimensions,[tr,ur]=this.pageTranslation,cr=Lt/Wt,nr=jt/Wt,vr=this.x*Kt,Pr=this.y*er,Ar=this.width*Kt,Ir=this.height*er;switch(this.rotation){case 0:return[vr+cr+tr,er-Pr-nr-Ir+ur,vr+cr+Ar+tr,er-Pr-nr+ur];case 90:return[vr+nr+tr,er-Pr+cr+ur,vr+nr+Ir+tr,er-Pr+cr+Ar+ur];case 180:return[vr-cr-Ar+tr,er-Pr+nr+ur,vr-cr+tr,er-Pr+nr+Ir+ur];case 270:return[vr-nr-Ir+tr,er-Pr-cr-Ar+ur,vr-nr+tr,er-Pr-cr+ur];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Lt,jt){const[Wt,Kt,er,tr]=Lt,ur=er-Wt,cr=tr-Kt;switch(this.rotation){case 0:return[Wt,jt-tr,ur,cr];case 90:return[Wt,jt-Kt,cr,ur];case 180:return[er,jt-Kt,ur,cr];case 270:return[er,jt-tr,cr,ur];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Tr(this,yt,!0)}disableEditMode(){Tr(this,yt,!1)}isInEditMode(){return Mt(this,yt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Lt,jt;(Lt=this.div)==null||Lt.addEventListener("focusin",Mt(this,At)),(jt=this.div)==null||jt.addEventListener("focusout",Mt(this,wt))}serialize(Lt=!1,jt=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(Lt,jt,Wt){const Kt=new this.prototype.constructor({parent:jt,id:jt.getNextId(),uiManager:Wt});Kt.rotation=Lt.rotation;const[er,tr]=Kt.pageDimensions,[ur,cr,nr,vr]=Kt.getRectInCurrentCoords(Lt.rect,tr);return Kt.x=ur/er,Kt.y=cr/tr,Kt.width=nr/er,Kt.height=vr/tr,Kt}remove(){var Lt;this.div.removeEventListener("focusin",Mt(this,At)),this.div.removeEventListener("focusout",Mt(this,wt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Lt=Mt(this,gt))==null||Lt.remove(),Tr(this,gt,null),Tr(this,bt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(gr(this,Ht,_o).call(this),Mt(this,Tt).classList.remove("hidden"))}select(){var Lt;this.makeResizable(),(Lt=this.div)==null||Lt.classList.add("selectedEditor")}unselect(){var Lt,jt,Wt;(Lt=Mt(this,Tt))==null||Lt.classList.add("hidden"),(jt=this.div)==null||jt.classList.remove("selectedEditor"),(Wt=this.div)!=null&&Wt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Lt,jt){}disableEditing(){Mt(this,gt)&&(Mt(this,gt).hidden=!0)}enableEditing(){Mt(this,gt)&&(Mt(this,gt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Mt(this,Et)}set isEditing(Lt){Tr(this,Et,Lt),this.parent&&(Lt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Lt,jt){Tr(this,Pt,!0);const Wt=Lt/jt,{style:Kt}=this.div;Kt.aspectRatio=Wt,Kt.height="auto"}static get MIN_SIZE(){return 16}};dt=new WeakMap,mt=new WeakMap,gt=new WeakMap,bt=new WeakMap,vt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,At=new WeakMap,wt=new WeakMap,_t=new WeakMap,Et=new WeakMap,yt=new WeakMap,St=new WeakMap,xt=new WeakMap,Ct=new WeakSet,Ss=function([Lt,jt],Wt,Kt){[Wt,Kt]=this.screenToPageTranslation(Wt,Kt),this.x+=Wt/Lt,this.y+=Kt/jt,this.fixAndSetPosition()},Rt=new WeakSet,xs=function(){const[Lt,jt]=this.parentDimensions,{_borderLineWidth:Wt}=Dt,Kt=Wt/Lt,er=Wt/jt;switch(this.rotation){case 90:return[-Kt,er];case 180:return[Kt,er];case 270:return[Kt,-er];default:return[-Kt,-er]}},Nt=new WeakSet,ws=function(Lt,jt,Wt){switch(Wt){case 90:return[jt,-Lt];case 180:return[-Lt,-jt];case 270:return[-jt,Lt];default:return[Lt,jt]}},Gt=new WeakSet,Rs=function(Lt){switch(Lt){case 90:{const[jt,Wt]=this.pageDimensions;return[0,-jt/Wt,Wt/jt,0]}case 180:return[-1,0,0,-1];case 270:{const[jt,Wt]=this.pageDimensions;return[0,jt/Wt,-Wt/jt,0]}default:return[1,0,0,1]}},Ht=new WeakSet,_o=function(){if(Mt(this,Tt))return;Tr(this,Tt,document.createElement("div")),Mt(this,Tt).classList.add("resizers");const Lt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Lt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const jt of Lt){const Wt=document.createElement("div");Mt(this,Tt).append(Wt),Wt.classList.add("resizer",jt),Wt.addEventListener("pointerdown",gr(this,zt,yo).bind(this,jt)),Wt.addEventListener("contextmenu",et.noContextMenu)}this.div.prepend(Mt(this,Tt))},zt=new WeakSet,yo=function(Lt,jt){jt.preventDefault();const{isMac:Wt}=o.FeatureTest.platform;if(jt.button!==0||jt.ctrlKey&&Wt)return;const Kt=gr(this,kt,Eo).bind(this,Lt),er=this._isDraggable;this._isDraggable=!1;const tr={passive:!0,capture:!0};window.addEventListener("pointermove",Kt,tr);const ur=this.x,cr=this.y,nr=this.width,vr=this.height,Pr=this.parent.div.style.cursor,Ar=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(jt.target).cursor;const Ir=()=>{this._isDraggable=er,window.removeEventListener("pointerup",Ir),window.removeEventListener("blur",Ir),window.removeEventListener("pointermove",Kt,tr),this.parent.div.style.cursor=Pr,this.div.style.cursor=Ar;const zr=this.x,Cr=this.y,Dr=this.width,xr=this.height;zr===ur&&Cr===cr&&Dr===nr&&xr===vr||this.addCommands({cmd:()=>{this.width=Dr,this.height=xr,this.x=zr,this.y=Cr;const[hr,pr]=this.parentDimensions;this.setDims(hr*Dr,pr*xr),this.fixAndSetPosition()},undo:()=>{this.width=nr,this.height=vr,this.x=ur,this.y=cr;const[hr,pr]=this.parentDimensions;this.setDims(hr*nr,pr*vr),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ir),window.addEventListener("blur",Ir)},kt=new WeakSet,Eo=function(Lt,jt){const[Wt,Kt]=this.parentDimensions,er=this.x,tr=this.y,ur=this.width,cr=this.height,nr=Dt.MIN_SIZE/Wt,vr=Dt.MIN_SIZE/Kt,Pr=Fr=>Math.round(Fr*1e4)/1e4,Ar=gr(this,Gt,Rs).call(this,this.rotation),Ir=(Fr,Mr)=>[Ar[0]*Fr+Ar[2]*Mr,Ar[1]*Fr+Ar[3]*Mr],zr=gr(this,Gt,Rs).call(this,360-this.rotation),Cr=(Fr,Mr)=>[zr[0]*Fr+zr[2]*Mr,zr[1]*Fr+zr[3]*Mr];let Dr,xr,hr=!1,pr=!1;switch(Lt){case"topLeft":hr=!0,Dr=(Fr,Mr)=>[0,0],xr=(Fr,Mr)=>[Fr,Mr];break;case"topMiddle":Dr=(Fr,Mr)=>[Fr/2,0],xr=(Fr,Mr)=>[Fr/2,Mr];break;case"topRight":hr=!0,Dr=(Fr,Mr)=>[Fr,0],xr=(Fr,Mr)=>[0,Mr];break;case"middleRight":pr=!0,Dr=(Fr,Mr)=>[Fr,Mr/2],xr=(Fr,Mr)=>[0,Mr/2];break;case"bottomRight":hr=!0,Dr=(Fr,Mr)=>[Fr,Mr],xr=(Fr,Mr)=>[0,0];break;case"bottomMiddle":Dr=(Fr,Mr)=>[Fr/2,Mr],xr=(Fr,Mr)=>[Fr/2,0];break;case"bottomLeft":hr=!0,Dr=(Fr,Mr)=>[0,Mr],xr=(Fr,Mr)=>[Fr,0];break;case"middleLeft":pr=!0,Dr=(Fr,Mr)=>[0,Mr/2],xr=(Fr,Mr)=>[Fr,Mr/2];break}const br=Dr(ur,cr),kr=xr(ur,cr);let $r=Ir(...kr);const Gr=Pr(er+$r[0]),qr=Pr(tr+$r[1]);let Wr=1,tn=1,[Kr,Jr]=this.screenToPageTranslation(jt.movementX,jt.movementY);if([Kr,Jr]=Cr(Kr/Wt,Jr/Kt),hr){const Fr=Math.hypot(ur,cr);Wr=tn=Math.max(Math.min(Math.hypot(kr[0]-br[0]-Kr,kr[1]-br[1]-Jr)/Fr,1/ur,1/cr),nr/ur,vr/cr)}else pr?Wr=Math.max(nr,Math.min(1,Math.abs(kr[0]-br[0]-Kr)))/ur:tn=Math.max(vr,Math.min(1,Math.abs(kr[1]-br[1]-Jr)))/cr;const Qr=Pr(ur*Wr),wr=Pr(cr*tn);$r=Ir(...xr(Qr,wr));const Er=Gr-$r[0],mr=qr-$r[1];this.width=Qr,this.height=wr,this.x=Er,this.y=mr,this.setDims(Wt*Qr,Kt*wr),this.fixAndSetPosition()},Qt=new WeakSet,Cs=async function(){var Wt;const Lt=Mt(this,gt);if(!Lt)return;if(!Mt(this,dt)&&!Mt(this,mt)){Lt.classList.remove("done"),(Wt=Mt(this,bt))==null||Wt.remove();return}Dt._l10nPromise.get("editor_alt_text_edit_button_label").then(Kt=>{Lt.setAttribute("aria-label",Kt)});let jt=Mt(this,bt);if(!jt){Tr(this,bt,jt=document.createElement("span")),jt.className="tooltip",jt.setAttribute("role","tooltip");const Kt=jt.id=`alt-text-tooltip-${this.id}`;Lt.setAttribute("aria-describedby",Kt);const er=100;Lt.addEventListener("mouseenter",()=>{Tr(this,vt,setTimeout(()=>{Tr(this,vt,null),Mt(this,bt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},er))}),Lt.addEventListener("mouseleave",()=>{var tr;clearTimeout(Mt(this,vt)),Tr(this,vt,null),(tr=Mt(this,bt))==null||tr.classList.remove("show")})}Lt.classList.add("done"),jt.innerText=Mt(this,mt)?await Dt._l10nPromise.get("editor_alt_text_decorative_tooltip"):Mt(this,dt),jt.parentNode||Lt.append(jt)},rr=new WeakSet,bo=function(Lt){if(!this._isDraggable)return;const jt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Wt,Kt;jt&&(Wt={passive:!0,capture:!0},Kt=tr=>{const[ur,cr]=this.screenToPageTranslation(tr.movementX,tr.movementY);this._uiManager.dragSelectedEditors(ur,cr)},window.addEventListener("pointermove",Kt,Wt));const er=()=>{if(window.removeEventListener("pointerup",er),window.removeEventListener("blur",er),jt&&window.removeEventListener("pointermove",Kt,Wt),Tr(this,_t,!1),!this._uiManager.endDragSession()){const{isMac:tr}=o.FeatureTest.platform;Lt.ctrlKey&&!tr||Lt.shiftKey||Lt.metaKey&&tr?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",er),window.addEventListener("blur",er)},lr(Dt,Nt),mn(Dt,"_borderLineWidth",-1),mn(Dt,"_colorManager",new a.ColorManager),mn(Dt,"_zIndex",1),mn(Dt,"SMALL_EDITOR_SIZE",0);let ot=Dt;i.AnnotationEditor=ot;class ft extends ot{constructor(Lt){super(Lt),this.annotationElementId=Lt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,i,s)=>{var Pt,Tt,At,wt,_t,Is,St,xt,Ct,$t,Rt,Ao,Ot,Gt,Xt,Ht,Yt,zt,Ut,kt,Ft,Qt,Zt,rr,qt,Dt,Vt,Lt,jt,Wt,Kt,er,tr,ur,cr,nr,vr,Pr,Ar,Ir,zr,Cr,Dr,xr,hr,pr,br,Po,$r,ks,qr,$s,tn,ts,Jr,Fs,wr,Ds,mr,Pn,Mr,jn,hn,To,Vr,So,Nr,Ms,Zr,Un,Lr,Ls;Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=et,i.opacityToHex=ot;var a=s(1),o=s(6);function et(ir,Bt,Jt){for(const or of Jt)Bt.addEventListener(or,ir[or].bind(ir))}function ot(ir){return Math.round(Math.min(255,Math.max(1,255*ir))).toString(16).padStart(2,"0")}class ft{constructor(){lr(this,Pt,0)}getId(){return`${a.AnnotationEditorPrefix}${zn(this,Pt)._++}`}}Pt=new WeakMap;const yt=class yt{constructor(){lr(this,_t);lr(this,Tt,(0,a.getUuid)());lr(this,At,0);lr(this,wt,null)}static get _isSVGFittingCanvas(){const Bt='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',or=new OffscreenCanvas(1,3).getContext("2d"),dr=new Image;dr.src=Bt;const yr=dr.decode().then(()=>(or.drawImage(dr,0,0,1,1,0,0,1,3),new Uint32Array(or.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,a.shadow)(this,"_isSVGFittingCanvas",yr)}async getFromFile(Bt){const{lastModified:Jt,name:or,size:dr,type:yr}=Bt;return gr(this,_t,Is).call(this,`${Jt}_${or}_${dr}_${yr}`,Bt)}async getFromUrl(Bt){return gr(this,_t,Is).call(this,Bt,Bt)}async getFromId(Bt){Mt(this,wt)||Tr(this,wt,new Map);const Jt=Mt(this,wt).get(Bt);return Jt?Jt.bitmap?(Jt.refCounter+=1,Jt):Jt.file?this.getFromFile(Jt.file):this.getFromUrl(Jt.url):null}getSvgUrl(Bt){const Jt=Mt(this,wt).get(Bt);return Jt!=null&&Jt.isSvg?Jt.svgUrl:null}deleteId(Bt){Mt(this,wt)||Tr(this,wt,new Map);const Jt=Mt(this,wt).get(Bt);Jt&&(Jt.refCounter-=1,Jt.refCounter===0&&(Jt.bitmap=null))}isValidId(Bt){return Bt.startsWith(`image_${Mt(this,Tt)}_`)}};Tt=new WeakMap,At=new WeakMap,wt=new WeakMap,_t=new WeakSet,Is=async function(Bt,Jt){Mt(this,wt)||Tr(this,wt,new Map);let or=Mt(this,wt).get(Bt);if(or===null)return null;if(or!=null&&or.bitmap)return or.refCounter+=1,or;try{or||(or={bitmap:null,id:`image_${Mt(this,Tt)}_${zn(this,At)._++}`,refCounter:0,isSvg:!1});let dr;if(typeof Jt=="string"){or.url=Jt;const yr=await fetch(Jt);if(!yr.ok)throw new Error(yr.statusText);dr=await yr.blob()}else dr=or.file=Jt;if(dr.type==="image/svg+xml"){const yr=yt._isSVGFittingCanvas,Sr=new FileReader,Rr=new Image,Or=new Promise((Br,nn)=>{Rr.onload=()=>{or.bitmap=Rr,or.isSvg=!0,Br()},Sr.onload=async()=>{const jr=or.svgUrl=Sr.result;Rr.src=await yr?`${jr}#svgView(preserveAspectRatio(none))`:jr},Rr.onerror=Sr.onerror=nn});Sr.readAsDataURL(dr),await Or}else or.bitmap=await createImageBitmap(dr);or.refCounter=1}catch(dr){console.error(dr),or=null}return Mt(this,wt).set(Bt,or),or&&Mt(this,wt).set(or.id,or),or};let dt=yt;class mt{constructor(Bt=128){lr(this,St,[]);lr(this,xt,!1);lr(this,Ct,void 0);lr(this,$t,-1);Tr(this,Ct,Bt)}add({cmd:Bt,undo:Jt,mustExec:or,type:dr=NaN,overwriteIfSameType:yr=!1,keepUndo:Sr=!1}){if(or&&Bt(),Mt(this,xt))return;const Rr={cmd:Bt,undo:Jt,type:dr};if(Mt(this,$t)===-1){Mt(this,St).length>0&&(Mt(this,St).length=0),Tr(this,$t,0),Mt(this,St).push(Rr);return}if(yr&&Mt(this,St)[Mt(this,$t)].type===dr){Sr&&(Rr.undo=Mt(this,St)[Mt(this,$t)].undo),Mt(this,St)[Mt(this,$t)]=Rr;return}const Or=Mt(this,$t)+1;Or===Mt(this,Ct)?Mt(this,St).splice(0,1):(Tr(this,$t,Or),Or<Mt(this,St).length&&Mt(this,St).splice(Or)),Mt(this,St).push(Rr)}undo(){Mt(this,$t)!==-1&&(Tr(this,xt,!0),Mt(this,St)[Mt(this,$t)].undo(),Tr(this,xt,!1),Tr(this,$t,Mt(this,$t)-1))}redo(){Mt(this,$t)<Mt(this,St).length-1&&(Tr(this,$t,Mt(this,$t)+1),Tr(this,xt,!0),Mt(this,St)[Mt(this,$t)].cmd(),Tr(this,xt,!1))}hasSomethingToUndo(){return Mt(this,$t)!==-1}hasSomethingToRedo(){return Mt(this,$t)<Mt(this,St).length-1}destroy(){Tr(this,St,null)}}St=new WeakMap,xt=new WeakMap,Ct=new WeakMap,$t=new WeakMap,i.CommandManager=mt;class gt{constructor(Bt){lr(this,Rt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Jt}=a.FeatureTest.platform;for(const[or,dr,yr={}]of Bt)for(const Sr of or){const Rr=Sr.startsWith("mac+");Jt&&Rr?(this.callbacks.set(Sr.slice(4),{callback:dr,options:yr}),this.allKeys.add(Sr.split("+").at(-1))):!Jt&&!Rr&&(this.callbacks.set(Sr,{callback:dr,options:yr}),this.allKeys.add(Sr.split("+").at(-1)))}}exec(Bt,Jt){if(!this.allKeys.has(Jt.key))return;const or=this.callbacks.get(gr(this,Rt,Ao).call(this,Jt));if(!or)return;const{callback:dr,options:{bubbles:yr=!1,args:Sr=[],checker:Rr=null}}=or;Rr&&!Rr(Bt,Jt)||(dr.bind(Bt,...Sr)(),yr||(Jt.stopPropagation(),Jt.preventDefault()))}}Rt=new WeakSet,Ao=function(Bt){Bt.altKey&&this.buffer.push("alt"),Bt.ctrlKey&&this.buffer.push("ctrl"),Bt.metaKey&&this.buffer.push("meta"),Bt.shiftKey&&this.buffer.push("shift"),this.buffer.push(Bt.key);const Jt=this.buffer.join("+");return this.buffer.length=0,Jt},i.KeyboardManager=gt;const Nt=class Nt{get _colors(){const Bt=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(Bt),(0,a.shadow)(this,"_colors",Bt)}convert(Bt){const Jt=(0,o.getRGB)(Bt);if(!window.matchMedia("(forced-colors: active)").matches)return Jt;for(const[or,dr]of this._colors)if(dr.every((yr,Sr)=>yr===Jt[Sr]))return Nt._colorsMapping.get(or);return Jt}getHexCode(Bt){const Jt=this._colors.get(Bt);return Jt?a.Util.makeHexColor(...Jt):Bt}};mn(Nt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let bt=Nt;i.ColorManager=bt;const Hr=class Hr{constructor(Bt,Jt,or,dr,yr,Sr){lr(this,br);lr(this,$r);lr(this,qr);lr(this,tn);lr(this,Jr);lr(this,wr);lr(this,mr);lr(this,Mr);lr(this,hn);lr(this,Vr);lr(this,Nr);lr(this,Zr);lr(this,Lr);lr(this,Ot,null);lr(this,Gt,new Map);lr(this,Xt,new Map);lr(this,Ht,null);lr(this,Yt,null);lr(this,zt,new mt);lr(this,Ut,0);lr(this,kt,new Set);lr(this,Ft,null);lr(this,Qt,null);lr(this,Zt,new Set);lr(this,rr,null);lr(this,qt,new ft);lr(this,Dt,!1);lr(this,Vt,!1);lr(this,Lt,null);lr(this,jt,a.AnnotationEditorType.NONE);lr(this,Wt,new Set);lr(this,Kt,null);lr(this,er,this.blur.bind(this));lr(this,tr,this.focus.bind(this));lr(this,ur,this.copy.bind(this));lr(this,cr,this.cut.bind(this));lr(this,nr,this.paste.bind(this));lr(this,vr,this.keydown.bind(this));lr(this,Pr,this.onEditingAction.bind(this));lr(this,Ar,this.onPageChanging.bind(this));lr(this,Ir,this.onScaleChanging.bind(this));lr(this,zr,this.onRotationChanging.bind(this));lr(this,Cr,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});lr(this,Dr,[0,0]);lr(this,xr,null);lr(this,hr,null);lr(this,pr,null);Tr(this,hr,Bt),Tr(this,pr,Jt),Tr(this,Ht,or),this._eventBus=dr,this._eventBus._on("editingaction",Mt(this,Pr)),this._eventBus._on("pagechanging",Mt(this,Ar)),this._eventBus._on("scalechanging",Mt(this,Ir)),this._eventBus._on("rotationchanging",Mt(this,zr)),Tr(this,Yt,yr.annotationStorage),Tr(this,rr,yr.filterFactory),Tr(this,Kt,Sr),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const Bt=Hr.prototype,Jt=yr=>{const{activeElement:Sr}=document;return Sr&&Mt(yr,hr).contains(Sr)&&yr.hasSomethingToControl()},or=this.TRANSLATE_SMALL,dr=this.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new gt([[["ctrl+a","mac+meta+a"],Bt.selectAll],[["ctrl+z","mac+meta+z"],Bt.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],Bt.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],Bt.delete],[["Escape","mac+Escape"],Bt.unselectAll],[["ArrowLeft","mac+ArrowLeft"],Bt.translateSelectedEditors,{args:[-or,0],checker:Jt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Bt.translateSelectedEditors,{args:[-dr,0],checker:Jt}],[["ArrowRight","mac+ArrowRight"],Bt.translateSelectedEditors,{args:[or,0],checker:Jt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Bt.translateSelectedEditors,{args:[dr,0],checker:Jt}],[["ArrowUp","mac+ArrowUp"],Bt.translateSelectedEditors,{args:[0,-or],checker:Jt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Bt.translateSelectedEditors,{args:[0,-dr],checker:Jt}],[["ArrowDown","mac+ArrowDown"],Bt.translateSelectedEditors,{args:[0,or],checker:Jt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Bt.translateSelectedEditors,{args:[0,dr],checker:Jt}]]))}destroy(){gr(this,tn,ts).call(this),gr(this,$r,ks).call(this),this._eventBus._off("editingaction",Mt(this,Pr)),this._eventBus._off("pagechanging",Mt(this,Ar)),this._eventBus._off("scalechanging",Mt(this,Ir)),this._eventBus._off("rotationchanging",Mt(this,zr));for(const Bt of Mt(this,Xt).values())Bt.destroy();Mt(this,Xt).clear(),Mt(this,Gt).clear(),Mt(this,Zt).clear(),Tr(this,Ot,null),Mt(this,Wt).clear(),Mt(this,zt).destroy(),Mt(this,Ht).destroy()}get hcmFilter(){return(0,a.shadow)(this,"hcmFilter",Mt(this,Kt)?Mt(this,rr).addHCMFilter(Mt(this,Kt).foreground,Mt(this,Kt).background):"none")}get direction(){return(0,a.shadow)(this,"direction",getComputedStyle(Mt(this,hr)).direction)}editAltText(Bt){var Jt;(Jt=Mt(this,Ht))==null||Jt.editAltText(this,Bt)}onPageChanging({pageNumber:Bt}){Tr(this,Ut,Bt-1)}focusMainContainer(){Mt(this,hr).focus()}findParent(Bt,Jt){for(const or of Mt(this,Xt).values()){const{x:dr,y:yr,width:Sr,height:Rr}=or.div.getBoundingClientRect();if(Bt>=dr&&Bt<=dr+Sr&&Jt>=yr&&Jt<=yr+Rr)return or}return null}disableUserSelect(Bt=!1){Mt(this,pr).classList.toggle("noUserSelect",Bt)}addShouldRescale(Bt){Mt(this,Zt).add(Bt)}removeShouldRescale(Bt){Mt(this,Zt).delete(Bt)}onScaleChanging({scale:Bt}){this.commitOrRemove(),this.viewParameters.realScale=Bt*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Jt of Mt(this,Zt))Jt.onScaleChanging()}onRotationChanging({pagesRotation:Bt}){this.commitOrRemove(),this.viewParameters.rotation=Bt}addToAnnotationStorage(Bt){!Bt.isEmpty()&&Mt(this,Yt)&&!Mt(this,Yt).has(Bt.id)&&Mt(this,Yt).setValue(Bt.id,Bt)}blur(){if(!this.hasSelection)return;const{activeElement:Bt}=document;for(const Jt of Mt(this,Wt))if(Jt.div.contains(Bt)){Tr(this,Lt,[Jt,Bt]),Jt._focusEventsAllowed=!1;break}}focus(){if(!Mt(this,Lt))return;const[Bt,Jt]=Mt(this,Lt);Tr(this,Lt,null),Jt.addEventListener("focusin",()=>{Bt._focusEventsAllowed=!0},{once:!0}),Jt.focus()}addEditListeners(){gr(this,qr,$s).call(this),gr(this,Jr,Fs).call(this)}removeEditListeners(){gr(this,tn,ts).call(this),gr(this,wr,Ds).call(this)}copy(Bt){var or;if(Bt.preventDefault(),(or=Mt(this,Ot))==null||or.commitOrRemove(),!this.hasSelection)return;const Jt=[];for(const dr of Mt(this,Wt)){const yr=dr.serialize(!0);yr&&Jt.push(yr)}Jt.length!==0&&Bt.clipboardData.setData("application/pdfjs",JSON.stringify(Jt))}cut(Bt){this.copy(Bt),this.delete()}paste(Bt){Bt.preventDefault();const{clipboardData:Jt}=Bt;for(const yr of Jt.items)for(const Sr of Mt(this,Qt))if(Sr.isHandlingMimeForPasting(yr.type)){Sr.paste(yr,this.currentLayer);return}let or=Jt.getData("application/pdfjs");if(!or)return;try{or=JSON.parse(or)}catch(yr){(0,a.warn)(`paste: "${yr.message}".`);return}if(!Array.isArray(or))return;this.unselectAll();const dr=this.currentLayer;try{const yr=[];for(const Or of or){const Br=dr.deserialize(Or);if(!Br)return;yr.push(Br)}const Sr=()=>{for(const Or of yr)gr(this,Nr,Ms).call(this,Or);gr(this,Lr,Ls).call(this,yr)},Rr=()=>{for(const Or of yr)Or.remove()};this.addCommands({cmd:Sr,undo:Rr,mustExec:!0})}catch(yr){(0,a.warn)(`paste: "${yr.message}".`)}}keydown(Bt){var Jt;(Jt=this.getActive())!=null&&Jt.shouldGetKeyboardEvents()||Hr._keyboardManager.exec(this,Bt)}onEditingAction(Bt){["undo","redo","delete","selectAll"].includes(Bt.name)&&this[Bt.name]()}setEditingState(Bt){Bt?(gr(this,br,Po).call(this),gr(this,qr,$s).call(this),gr(this,Jr,Fs).call(this),gr(this,mr,Pn).call(this,{isEditing:Mt(this,jt)!==a.AnnotationEditorType.NONE,isEmpty:gr(this,Zr,Un).call(this),hasSomethingToUndo:Mt(this,zt).hasSomethingToUndo(),hasSomethingToRedo:Mt(this,zt).hasSomethingToRedo(),hasSelectedEditor:!1})):(gr(this,$r,ks).call(this),gr(this,tn,ts).call(this),gr(this,wr,Ds).call(this),gr(this,mr,Pn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(Bt){if(!Mt(this,Qt)){Tr(this,Qt,Bt);for(const Jt of Mt(this,Qt))gr(this,Mr,jn).call(this,Jt.defaultPropertiesToUpdate)}}getId(){return Mt(this,qt).getId()}get currentLayer(){return Mt(this,Xt).get(Mt(this,Ut))}getLayer(Bt){return Mt(this,Xt).get(Bt)}get currentPageIndex(){return Mt(this,Ut)}addLayer(Bt){Mt(this,Xt).set(Bt.pageIndex,Bt),Mt(this,Dt)?Bt.enable():Bt.disable()}removeLayer(Bt){Mt(this,Xt).delete(Bt.pageIndex)}updateMode(Bt,Jt=null){if(Mt(this,jt)!==Bt){if(Tr(this,jt,Bt),Bt===a.AnnotationEditorType.NONE){this.setEditingState(!1),gr(this,Vr,So).call(this);return}this.setEditingState(!0),gr(this,hn,To).call(this),this.unselectAll();for(const or of Mt(this,Xt).values())or.updateMode(Bt);if(Jt){for(const or of Mt(this,Gt).values())if(or.annotationElementId===Jt){this.setSelected(or),or.enterInEditMode();break}}}}updateToolbar(Bt){Bt!==Mt(this,jt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:Bt})}updateParams(Bt,Jt){if(Mt(this,Qt)){if(Bt===a.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(Bt);return}for(const or of Mt(this,Wt))or.updateParams(Bt,Jt);for(const or of Mt(this,Qt))or.updateDefaultParams(Bt,Jt)}}enableWaiting(Bt=!1){if(Mt(this,Vt)!==Bt){Tr(this,Vt,Bt);for(const Jt of Mt(this,Xt).values())Bt?Jt.disableClick():Jt.enableClick(),Jt.div.classList.toggle("waiting",Bt)}}getEditors(Bt){const Jt=[];for(const or of Mt(this,Gt).values())or.pageIndex===Bt&&Jt.push(or);return Jt}getEditor(Bt){return Mt(this,Gt).get(Bt)}addEditor(Bt){Mt(this,Gt).set(Bt.id,Bt)}removeEditor(Bt){var Jt;Mt(this,Gt).delete(Bt.id),this.unselect(Bt),(!Bt.annotationElementId||!Mt(this,kt).has(Bt.annotationElementId))&&((Jt=Mt(this,Yt))==null||Jt.remove(Bt.id))}addDeletedAnnotationElement(Bt){Mt(this,kt).add(Bt.annotationElementId),Bt.deleted=!0}isDeletedAnnotationElement(Bt){return Mt(this,kt).has(Bt)}removeDeletedAnnotationElement(Bt){Mt(this,kt).delete(Bt.annotationElementId),Bt.deleted=!1}setActiveEditor(Bt){Mt(this,Ot)!==Bt&&(Tr(this,Ot,Bt),Bt&&gr(this,Mr,jn).call(this,Bt.propertiesToUpdate))}toggleSelected(Bt){if(Mt(this,Wt).has(Bt)){Mt(this,Wt).delete(Bt),Bt.unselect(),gr(this,mr,Pn).call(this,{hasSelectedEditor:this.hasSelection});return}Mt(this,Wt).add(Bt),Bt.select(),gr(this,Mr,jn).call(this,Bt.propertiesToUpdate),gr(this,mr,Pn).call(this,{hasSelectedEditor:!0})}setSelected(Bt){for(const Jt of Mt(this,Wt))Jt!==Bt&&Jt.unselect();Mt(this,Wt).clear(),Mt(this,Wt).add(Bt),Bt.select(),gr(this,Mr,jn).call(this,Bt.propertiesToUpdate),gr(this,mr,Pn).call(this,{hasSelectedEditor:!0})}isSelected(Bt){return Mt(this,Wt).has(Bt)}unselect(Bt){Bt.unselect(),Mt(this,Wt).delete(Bt),gr(this,mr,Pn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Mt(this,Wt).size!==0}undo(){Mt(this,zt).undo(),gr(this,mr,Pn).call(this,{hasSomethingToUndo:Mt(this,zt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:gr(this,Zr,Un).call(this)})}redo(){Mt(this,zt).redo(),gr(this,mr,Pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Mt(this,zt).hasSomethingToRedo(),isEmpty:gr(this,Zr,Un).call(this)})}addCommands(Bt){Mt(this,zt).add(Bt),gr(this,mr,Pn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:gr(this,Zr,Un).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Bt=[...Mt(this,Wt)],Jt=()=>{for(const dr of Bt)dr.remove()},or=()=>{for(const dr of Bt)gr(this,Nr,Ms).call(this,dr)};this.addCommands({cmd:Jt,undo:or,mustExec:!0})}commitOrRemove(){var Bt;(Bt=Mt(this,Ot))==null||Bt.commitOrRemove()}hasSomethingToControl(){return Mt(this,Ot)||this.hasSelection}selectAll(){for(const Bt of Mt(this,Wt))Bt.commit();gr(this,Lr,Ls).call(this,Mt(this,Gt).values())}unselectAll(){if(Mt(this,Ot)){Mt(this,Ot).commitOrRemove();return}if(this.hasSelection){for(const Bt of Mt(this,Wt))Bt.unselect();Mt(this,Wt).clear(),gr(this,mr,Pn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(Bt,Jt,or=!1){if(or||this.commitOrRemove(),!this.hasSelection)return;Mt(this,Dr)[0]+=Bt,Mt(this,Dr)[1]+=Jt;const[dr,yr]=Mt(this,Dr),Sr=[...Mt(this,Wt)],Rr=1e3;Mt(this,xr)&&clearTimeout(Mt(this,xr)),Tr(this,xr,setTimeout(()=>{Tr(this,xr,null),Mt(this,Dr)[0]=Mt(this,Dr)[1]=0,this.addCommands({cmd:()=>{for(const Or of Sr)Mt(this,Gt).has(Or.id)&&Or.translateInPage(dr,yr)},undo:()=>{for(const Or of Sr)Mt(this,Gt).has(Or.id)&&Or.translateInPage(-dr,-yr)},mustExec:!1})},Rr));for(const Or of Sr)Or.translateInPage(Bt,Jt)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Tr(this,Ft,new Map);for(const Bt of Mt(this,Wt))Mt(this,Ft).set(Bt,{savedX:Bt.x,savedY:Bt.y,savedPageIndex:Bt.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Mt(this,Ft))return!1;this.disableUserSelect(!1);const Bt=Mt(this,Ft);Tr(this,Ft,null);let Jt=!1;for(const[{x:dr,y:yr,pageIndex:Sr},Rr]of Bt)Rr.newX=dr,Rr.newY=yr,Rr.newPageIndex=Sr,Jt||(Jt=dr!==Rr.savedX||yr!==Rr.savedY||Sr!==Rr.savedPageIndex);if(!Jt)return!1;const or=(dr,yr,Sr,Rr)=>{if(Mt(this,Gt).has(dr.id)){const Or=Mt(this,Xt).get(Rr);Or?dr._setParentAndPosition(Or,yr,Sr):(dr.pageIndex=Rr,dr.x=yr,dr.y=Sr)}};return this.addCommands({cmd:()=>{for(const[dr,{newX:yr,newY:Sr,newPageIndex:Rr}]of Bt)or(dr,yr,Sr,Rr)},undo:()=>{for(const[dr,{savedX:yr,savedY:Sr,savedPageIndex:Rr}]of Bt)or(dr,yr,Sr,Rr)},mustExec:!0}),!0}dragSelectedEditors(Bt,Jt){if(Mt(this,Ft))for(const or of Mt(this,Ft).keys())or.drag(Bt,Jt)}rebuild(Bt){if(Bt.parent===null){const Jt=this.getLayer(Bt.pageIndex);Jt?(Jt.changeParent(Bt),Jt.addOrRebuild(Bt)):(this.addEditor(Bt),this.addToAnnotationStorage(Bt),Bt.rebuild())}else Bt.parent.addOrRebuild(Bt)}isActive(Bt){return Mt(this,Ot)===Bt}getActive(){return Mt(this,Ot)}getMode(){return Mt(this,jt)}get imageManager(){return(0,a.shadow)(this,"imageManager",new dt)}};Ot=new WeakMap,Gt=new WeakMap,Xt=new WeakMap,Ht=new WeakMap,Yt=new WeakMap,zt=new WeakMap,Ut=new WeakMap,kt=new WeakMap,Ft=new WeakMap,Qt=new WeakMap,Zt=new WeakMap,rr=new WeakMap,qt=new WeakMap,Dt=new WeakMap,Vt=new WeakMap,Lt=new WeakMap,jt=new WeakMap,Wt=new WeakMap,Kt=new WeakMap,er=new WeakMap,tr=new WeakMap,ur=new WeakMap,cr=new WeakMap,nr=new WeakMap,vr=new WeakMap,Pr=new WeakMap,Ar=new WeakMap,Ir=new WeakMap,zr=new WeakMap,Cr=new WeakMap,Dr=new WeakMap,xr=new WeakMap,hr=new WeakMap,pr=new WeakMap,br=new WeakSet,Po=function(){window.addEventListener("focus",Mt(this,tr)),window.addEventListener("blur",Mt(this,er))},$r=new WeakSet,ks=function(){window.removeEventListener("focus",Mt(this,tr)),window.removeEventListener("blur",Mt(this,er))},qr=new WeakSet,$s=function(){window.addEventListener("keydown",Mt(this,vr),{capture:!0})},tn=new WeakSet,ts=function(){window.removeEventListener("keydown",Mt(this,vr),{capture:!0})},Jr=new WeakSet,Fs=function(){document.addEventListener("copy",Mt(this,ur)),document.addEventListener("cut",Mt(this,cr)),document.addEventListener("paste",Mt(this,nr))},wr=new WeakSet,Ds=function(){document.removeEventListener("copy",Mt(this,ur)),document.removeEventListener("cut",Mt(this,cr)),document.removeEventListener("paste",Mt(this,nr))},mr=new WeakSet,Pn=function(Bt){Object.entries(Bt).some(([or,dr])=>Mt(this,Cr)[or]!==dr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Mt(this,Cr),Bt)})},Mr=new WeakSet,jn=function(Bt){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:Bt})},hn=new WeakSet,To=function(){if(!Mt(this,Dt)){Tr(this,Dt,!0);for(const Bt of Mt(this,Xt).values())Bt.enable()}},Vr=new WeakSet,So=function(){if(this.unselectAll(),Mt(this,Dt)){Tr(this,Dt,!1);for(const Bt of Mt(this,Xt).values())Bt.disable()}},Nr=new WeakSet,Ms=function(Bt){const Jt=Mt(this,Xt).get(Bt.pageIndex);Jt?Jt.addOrRebuild(Bt):this.addEditor(Bt)},Zr=new WeakSet,Un=function(){if(Mt(this,Gt).size===0)return!0;if(Mt(this,Gt).size===1)for(const Bt of Mt(this,Gt).values())return Bt.isEmpty();return!1},Lr=new WeakSet,Ls=function(Bt){Mt(this,Wt).clear();for(const Jt of Bt)Jt.isEmpty()||(Mt(this,Wt).add(Jt),Jt.select());gr(this,mr,Pn).call(this,{hasSelectedEditor:!0})},mn(Hr,"TRANSLATE_SMALL",1),mn(Hr,"TRANSLATE_BIG",10);let vt=Hr;i.AnnotationEditorUIManager=vt},(e,i,s)=>{var Ut,kt,Ft,Qt,Zt,rr,qt,Dt,Vt,Lt,jt,Wt,Mn,er,Ln,ur,Vs,nr,rs,Pr,ns,Ir,Hn,Cr,Gn;Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=$t,i.getColorValues=Gt,i.getCurrentTransform=Xt,i.getCurrentTransformInverse=Ht,i.getFilenameFromUrl=_t,i.getPdfFilenameFromUrl=Et,i.getRGB=Ot,i.getXfaPageViewport=Nt,i.isDataScheme=At,i.isPdfFile=wt,i.isValidFetchUrl=St,i.loadScript=Ct,i.noContextMenu=xt,i.setLayerDimensions=Yt;var a=s(7),o=s(1);const et="http://www.w3.org/2000/svg",zt=class zt{};mn(zt,"CSS",96),mn(zt,"PDF",72),mn(zt,"PDF_TO_CSS_UNITS",zt.CSS/zt.PDF);let ot=zt;i.PixelsPerInch=ot;class ft extends a.BaseFilterFactory{constructor({docId:pr,ownerDocument:br=globalThis.document}={}){super();lr(this,Wt);lr(this,er);lr(this,ur);lr(this,nr);lr(this,Pr);lr(this,Ir);lr(this,Cr);lr(this,Ut,void 0);lr(this,kt,void 0);lr(this,Ft,void 0);lr(this,Qt,void 0);lr(this,Zt,void 0);lr(this,rr,void 0);lr(this,qt,void 0);lr(this,Dt,void 0);lr(this,Vt,void 0);lr(this,Lt,void 0);lr(this,jt,0);Tr(this,Ft,pr),Tr(this,Qt,br)}addFilter(pr){if(!pr)return"none";let br=Mt(this,Wt,Mn).get(pr);if(br)return br;let kr,$r,Gr,qr;if(pr.length===1){const Jr=pr[0],Qr=new Array(256);for(let wr=0;wr<256;wr++)Qr[wr]=Jr[wr]/255;qr=kr=$r=Gr=Qr.join(",")}else{const[Jr,Qr,wr]=pr,Er=new Array(256),mr=new Array(256),Fr=new Array(256);for(let Mr=0;Mr<256;Mr++)Er[Mr]=Jr[Mr]/255,mr[Mr]=Qr[Mr]/255,Fr[Mr]=wr[Mr]/255;kr=Er.join(","),$r=mr.join(","),Gr=Fr.join(","),qr=`${kr}${$r}${Gr}`}if(br=Mt(this,Wt,Mn).get(qr),br)return Mt(this,Wt,Mn).set(pr,br),br;const Wr=`g_${Mt(this,Ft)}_transfer_map_${zn(this,jt)._++}`,tn=`url(#${Wr})`;Mt(this,Wt,Mn).set(pr,tn),Mt(this,Wt,Mn).set(qr,tn);const Kr=gr(this,nr,rs).call(this,Wr);return gr(this,Ir,Hn).call(this,kr,$r,Gr,Kr),tn}addHCMFilter(pr,br){var Qr;const kr=`${pr}-${br}`;if(Mt(this,rr)===kr)return Mt(this,qt);if(Tr(this,rr,kr),Tr(this,qt,"none"),(Qr=Mt(this,Zt))==null||Qr.remove(),!pr||!br)return Mt(this,qt);const $r=gr(this,Cr,Gn).call(this,pr);pr=o.Util.makeHexColor(...$r);const Gr=gr(this,Cr,Gn).call(this,br);if(br=o.Util.makeHexColor(...Gr),Mt(this,er,Ln).style.color="",pr==="#000000"&&br==="#ffffff"||pr===br)return Mt(this,qt);const qr=new Array(256);for(let wr=0;wr<=255;wr++){const Er=wr/255;qr[wr]=Er<=.03928?Er/12.92:((Er+.055)/1.055)**2.4}const Wr=qr.join(","),tn=`g_${Mt(this,Ft)}_hcm_filter`,Kr=Tr(this,Dt,gr(this,nr,rs).call(this,tn));gr(this,Ir,Hn).call(this,Wr,Wr,Wr,Kr),gr(this,ur,Vs).call(this,Kr);const Jr=(wr,Er)=>{const mr=$r[wr]/255,Fr=Gr[wr]/255,Mr=new Array(Er+1);for(let dn=0;dn<=Er;dn++)Mr[dn]=mr+dn/Er*(Fr-mr);return Mr.join(",")};return gr(this,Ir,Hn).call(this,Jr(0,5),Jr(1,5),Jr(2,5),Kr),Tr(this,qt,`url(#${tn})`),Mt(this,qt)}addHighlightHCMFilter(pr,br,kr,$r){var Fr;const Gr=`${pr}-${br}-${kr}-${$r}`;if(Mt(this,Vt)===Gr)return Mt(this,Lt);if(Tr(this,Vt,Gr),Tr(this,Lt,"none"),(Fr=Mt(this,Dt))==null||Fr.remove(),!pr||!br)return Mt(this,Lt);const[qr,Wr]=[pr,br].map(gr(this,Cr,Gn).bind(this));let tn=Math.round(.2126*qr[0]+.7152*qr[1]+.0722*qr[2]),Kr=Math.round(.2126*Wr[0]+.7152*Wr[1]+.0722*Wr[2]),[Jr,Qr]=[kr,$r].map(gr(this,Cr,Gn).bind(this));Kr<tn&&([tn,Kr,Jr,Qr]=[Kr,tn,Qr,Jr]),Mt(this,er,Ln).style.color="";const wr=(Mr,dn,hn)=>{const _r=new Array(256),Vr=(Kr-tn)/hn,Xr=Mr/255,Nr=(dn-Mr)/(255*hn);let Yr=0;for(let Zr=0;Zr<=hn;Zr++){const ln=Math.round(tn+Zr*Vr),Lr=Xr+Zr*Nr;for(let on=Yr;on<=ln;on++)_r[on]=Lr;Yr=ln+1}for(let Zr=Yr;Zr<256;Zr++)_r[Zr]=_r[Yr-1];return _r.join(",")},Er=`g_${Mt(this,Ft)}_hcm_highlight_filter`,mr=Tr(this,Dt,gr(this,nr,rs).call(this,Er));return gr(this,ur,Vs).call(this,mr),gr(this,Ir,Hn).call(this,wr(Jr[0],Qr[0],5),wr(Jr[1],Qr[1],5),wr(Jr[2],Qr[2],5),mr),Tr(this,Lt,`url(#${Er})`),Mt(this,Lt)}destroy(pr=!1){pr&&(Mt(this,qt)||Mt(this,Lt))||(Mt(this,kt)&&(Mt(this,kt).parentNode.parentNode.remove(),Tr(this,kt,null)),Mt(this,Ut)&&(Mt(this,Ut).clear(),Tr(this,Ut,null)),Tr(this,jt,0))}}Ut=new WeakMap,kt=new WeakMap,Ft=new WeakMap,Qt=new WeakMap,Zt=new WeakMap,rr=new WeakMap,qt=new WeakMap,Dt=new WeakMap,Vt=new WeakMap,Lt=new WeakMap,jt=new WeakMap,Wt=new WeakSet,Mn=function(){return Mt(this,Ut)||Tr(this,Ut,new Map)},er=new WeakSet,Ln=function(){if(!Mt(this,kt)){const pr=Mt(this,Qt).createElement("div"),{style:br}=pr;br.visibility="hidden",br.contain="strict",br.width=br.height=0,br.position="absolute",br.top=br.left=0,br.zIndex=-1;const kr=Mt(this,Qt).createElementNS(et,"svg");kr.setAttribute("width",0),kr.setAttribute("height",0),Tr(this,kt,Mt(this,Qt).createElementNS(et,"defs")),pr.append(kr),kr.append(Mt(this,kt)),Mt(this,Qt).body.append(pr)}return Mt(this,kt)},ur=new WeakSet,Vs=function(pr){const br=Mt(this,Qt).createElementNS(et,"feColorMatrix");br.setAttribute("type","matrix"),br.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),pr.append(br)},nr=new WeakSet,rs=function(pr){const br=Mt(this,Qt).createElementNS(et,"filter");return br.setAttribute("color-interpolation-filters","sRGB"),br.setAttribute("id",pr),Mt(this,er,Ln).append(br),br},Pr=new WeakSet,ns=function(pr,br,kr){const $r=Mt(this,Qt).createElementNS(et,br);$r.setAttribute("type","discrete"),$r.setAttribute("tableValues",kr),pr.append($r)},Ir=new WeakSet,Hn=function(pr,br,kr,$r){const Gr=Mt(this,Qt).createElementNS(et,"feComponentTransfer");$r.append(Gr),gr(this,Pr,ns).call(this,Gr,"feFuncR",pr),gr(this,Pr,ns).call(this,Gr,"feFuncG",br),gr(this,Pr,ns).call(this,Gr,"feFuncB",kr)},Cr=new WeakSet,Gn=function(pr){return Mt(this,er,Ln).style.color=pr,Ot(getComputedStyle(Mt(this,er,Ln)).getPropertyValue("color"))},i.DOMFilterFactory=ft;class dt extends a.BaseCanvasFactory{constructor({ownerDocument:hr=globalThis.document}={}){super(),this._document=hr}_createCanvas(hr,pr){const br=this._document.createElement("canvas");return br.width=hr,br.height=pr,br}}i.DOMCanvasFactory=dt;async function mt(xr,hr=!1){if(St(xr,document.baseURI)){const pr=await fetch(xr);if(!pr.ok)throw new Error(pr.statusText);return hr?new Uint8Array(await pr.arrayBuffer()):(0,o.stringToBytes)(await pr.text())}return new Promise((pr,br)=>{const kr=new XMLHttpRequest;kr.open("GET",xr,!0),hr&&(kr.responseType="arraybuffer"),kr.onreadystatechange=()=>{if(kr.readyState===XMLHttpRequest.DONE){if(kr.status===200||kr.status===0){let $r;if(hr&&kr.response?$r=new Uint8Array(kr.response):!hr&&kr.responseText&&($r=(0,o.stringToBytes)(kr.responseText)),$r){pr($r);return}}br(new Error(kr.statusText))}},kr.send(null)})}class gt extends a.BaseCMapReaderFactory{_fetchData(hr,pr){return mt(hr,this.isCompressed).then(br=>({cMapData:br,compressionType:pr}))}}i.DOMCMapReaderFactory=gt;class bt extends a.BaseStandardFontDataFactory{_fetchData(hr){return mt(hr,!0)}}i.DOMStandardFontDataFactory=bt;class vt extends a.BaseSVGFactory{_createSVG(hr){return document.createElementNS(et,hr)}}i.DOMSVGFactory=vt;class Pt{constructor({viewBox:hr,scale:pr,rotation:br,offsetX:kr=0,offsetY:$r=0,dontFlip:Gr=!1}){this.viewBox=hr,this.scale=pr,this.rotation=br,this.offsetX=kr,this.offsetY=$r;const qr=(hr[2]+hr[0])/2,Wr=(hr[3]+hr[1])/2;let tn,Kr,Jr,Qr;switch(br%=360,br<0&&(br+=360),br){case 180:tn=-1,Kr=0,Jr=0,Qr=1;break;case 90:tn=0,Kr=1,Jr=1,Qr=0;break;case 270:tn=0,Kr=-1,Jr=-1,Qr=0;break;case 0:tn=1,Kr=0,Jr=0,Qr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Gr&&(Jr=-Jr,Qr=-Qr);let wr,Er,mr,Fr;tn===0?(wr=Math.abs(Wr-hr[1])*pr+kr,Er=Math.abs(qr-hr[0])*pr+$r,mr=(hr[3]-hr[1])*pr,Fr=(hr[2]-hr[0])*pr):(wr=Math.abs(qr-hr[0])*pr+kr,Er=Math.abs(Wr-hr[1])*pr+$r,mr=(hr[2]-hr[0])*pr,Fr=(hr[3]-hr[1])*pr),this.transform=[tn*pr,Kr*pr,Jr*pr,Qr*pr,wr-tn*pr*qr-Jr*pr*Wr,Er-Kr*pr*qr-Qr*pr*Wr],this.width=mr,this.height=Fr}get rawDims(){const{viewBox:hr}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:hr[2]-hr[0],pageHeight:hr[3]-hr[1],pageX:hr[0],pageY:hr[1]})}clone({scale:hr=this.scale,rotation:pr=this.rotation,offsetX:br=this.offsetX,offsetY:kr=this.offsetY,dontFlip:$r=!1}={}){return new Pt({viewBox:this.viewBox.slice(),scale:hr,rotation:pr,offsetX:br,offsetY:kr,dontFlip:$r})}convertToViewportPoint(hr,pr){return o.Util.applyTransform([hr,pr],this.transform)}convertToViewportRectangle(hr){const pr=o.Util.applyTransform([hr[0],hr[1]],this.transform),br=o.Util.applyTransform([hr[2],hr[3]],this.transform);return[pr[0],pr[1],br[0],br[1]]}convertToPdfPoint(hr,pr){return o.Util.applyInverseTransform([hr,pr],this.transform)}}i.PageViewport=Pt;class Tt extends o.BaseException{constructor(hr,pr=0){super(hr,"RenderingCancelledException"),this.extraDelay=pr}}i.RenderingCancelledException=Tt;function At(xr){const hr=xr.length;let pr=0;for(;pr<hr&&xr[pr].trim()==="";)pr++;return xr.substring(pr,pr+5).toLowerCase()==="data:"}function wt(xr){return typeof xr=="string"&&/\.pdf$/i.test(xr)}function _t(xr,hr=!1){return hr||([xr]=xr.split(/[#?]/,1)),xr.substring(xr.lastIndexOf("/")+1)}function Et(xr,hr="document.pdf"){if(typeof xr!="string")return hr;if(At(xr))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),hr;const pr=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,br=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,kr=pr.exec(xr);let $r=br.exec(kr[1])||br.exec(kr[2])||br.exec(kr[3]);if($r&&($r=$r[0],$r.includes("%")))try{$r=br.exec(decodeURIComponent($r))[0]}catch{}return $r||hr}class yt{constructor(){mn(this,"started",Object.create(null));mn(this,"times",[])}time(hr){hr in this.started&&(0,o.warn)(`Timer is already running for ${hr}`),this.started[hr]=Date.now()}timeEnd(hr){hr in this.started||(0,o.warn)(`Timer has not been started for ${hr}`),this.times.push({name:hr,start:this.started[hr],end:Date.now()}),delete this.started[hr]}toString(){const hr=[];let pr=0;for(const{name:br}of this.times)pr=Math.max(br.length,pr);for(const{name:br,start:kr,end:$r}of this.times)hr.push(`${br.padEnd(pr)} ${$r-kr}ms
`);return hr.join("")}}i.StatTimer=yt;function St(xr,hr){try{const{protocol:pr}=hr?new URL(xr,hr):new URL(xr);return pr==="http:"||pr==="https:"}catch{return!1}}function xt(xr){xr.preventDefault()}function Ct(xr,hr=!1){return new Promise((pr,br)=>{const kr=document.createElement("script");kr.src=xr,kr.onload=function($r){hr&&kr.remove(),pr($r)},kr.onerror=function(){br(new Error(`Cannot load script at: ${kr.src}`))},(document.head||document.documentElement).append(kr)})}function $t(xr){console.log("Deprecated API usage: "+xr)}let Rt;class It{static toDateObject(hr){if(!hr||typeof hr!="string")return null;Rt||(Rt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const pr=Rt.exec(hr);if(!pr)return null;const br=parseInt(pr[1],10);let kr=parseInt(pr[2],10);kr=kr>=1&&kr<=12?kr-1:0;let $r=parseInt(pr[3],10);$r=$r>=1&&$r<=31?$r:1;let Gr=parseInt(pr[4],10);Gr=Gr>=0&&Gr<=23?Gr:0;let qr=parseInt(pr[5],10);qr=qr>=0&&qr<=59?qr:0;let Wr=parseInt(pr[6],10);Wr=Wr>=0&&Wr<=59?Wr:0;const tn=pr[7]||"Z";let Kr=parseInt(pr[8],10);Kr=Kr>=0&&Kr<=23?Kr:0;let Jr=parseInt(pr[9],10)||0;return Jr=Jr>=0&&Jr<=59?Jr:0,tn==="-"?(Gr+=Kr,qr+=Jr):tn==="+"&&(Gr-=Kr,qr-=Jr),new Date(Date.UTC(br,kr,$r,Gr,qr,Wr))}}i.PDFDateString=It;function Nt(xr,{scale:hr=1,rotation:pr=0}){const{width:br,height:kr}=xr.attributes.style,$r=[0,0,parseInt(br),parseInt(kr)];return new Pt({viewBox:$r,scale:hr,rotation:pr})}function Ot(xr){if(xr.startsWith("#")){const hr=parseInt(xr.slice(1),16);return[(hr&16711680)>>16,(hr&65280)>>8,hr&255]}return xr.startsWith("rgb(")?xr.slice(4,-1).split(",").map(hr=>parseInt(hr)):xr.startsWith("rgba(")?xr.slice(5,-1).split(",").map(hr=>parseInt(hr)).slice(0,3):((0,o.warn)(`Not a valid color format: "${xr}"`),[0,0,0])}function Gt(xr){const hr=document.createElement("span");hr.style.visibility="hidden",document.body.append(hr);for(const pr of xr.keys()){hr.style.color=pr;const br=window.getComputedStyle(hr).color;xr.set(pr,Ot(br))}hr.remove()}function Xt(xr){const{a:hr,b:pr,c:br,d:kr,e:$r,f:Gr}=xr.getTransform();return[hr,pr,br,kr,$r,Gr]}function Ht(xr){const{a:hr,b:pr,c:br,d:kr,e:$r,f:Gr}=xr.getTransform().invertSelf();return[hr,pr,br,kr,$r,Gr]}function Yt(xr,hr,pr=!1,br=!0){if(hr instanceof Pt){const{pageWidth:kr,pageHeight:$r}=hr.rawDims,{style:Gr}=xr,qr=o.FeatureTest.isCSSRoundSupported,Wr=`var(--scale-factor) * ${kr}px`,tn=`var(--scale-factor) * ${$r}px`,Kr=qr?`round(${Wr}, 1px)`:`calc(${Wr})`,Jr=qr?`round(${tn}, 1px)`:`calc(${tn})`;!pr||hr.rotation%180===0?(Gr.width=Kr,Gr.height=Jr):(Gr.width=Jr,Gr.height=Kr)}br&&xr.setAttribute("data-main-rotation",hr.rotation)}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var a=s(1);class o{constructor(){this.constructor===o&&(0,a.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(gt){return"none"}addHCMFilter(gt,bt){return"none"}addHighlightHCMFilter(gt,bt,vt,Pt){return"none"}destroy(gt=!1){}}i.BaseFilterFactory=o;class et{constructor(){this.constructor===et&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(gt,bt){if(gt<=0||bt<=0)throw new Error("Invalid canvas size");const vt=this._createCanvas(gt,bt);return{canvas:vt,context:vt.getContext("2d")}}reset(gt,bt,vt){if(!gt.canvas)throw new Error("Canvas is not specified");if(bt<=0||vt<=0)throw new Error("Invalid canvas size");gt.canvas.width=bt,gt.canvas.height=vt}destroy(gt){if(!gt.canvas)throw new Error("Canvas is not specified");gt.canvas.width=0,gt.canvas.height=0,gt.canvas=null,gt.context=null}_createCanvas(gt,bt){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=et;class ot{constructor({baseUrl:gt=null,isCompressed:bt=!0}){this.constructor===ot&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=gt,this.isCompressed=bt}async fetch({name:gt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!gt)throw new Error("CMap name must be specified.");const bt=this.baseUrl+gt+(this.isCompressed?".bcmap":""),vt=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(bt,vt).catch(Pt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${bt}`)})}_fetchData(gt,bt){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=ot;class ft{constructor({baseUrl:gt=null}){this.constructor===ft&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=gt}async fetch({filename:gt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!gt)throw new Error("Font filename must be specified.");const bt=`${this.baseUrl}${gt}`;return this._fetchData(bt).catch(vt=>{throw new Error(`Unable to load font data at: ${bt}`)})}_fetchData(gt){(0,a.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=ft;class dt{constructor(){this.constructor===dt&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(gt,bt,vt=!1){if(gt<=0||bt<=0)throw new Error("Invalid SVG dimensions");const Pt=this._createSVG("svg:svg");return Pt.setAttribute("version","1.1"),vt||(Pt.setAttribute("width",`${gt}px`),Pt.setAttribute("height",`${bt}px`)),Pt.setAttribute("preserveAspectRatio","none"),Pt.setAttribute("viewBox",`0 0 ${gt} ${bt}`),Pt}createElement(gt){if(typeof gt!="string")throw new Error("Invalid SVG element type");return this._createSVG(gt)}_createSVG(gt){(0,a.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=dt},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var a=s(1);const o=3285377520,et=4294901760,ot=65535;class ft{constructor(mt){this.h1=mt?mt&4294967295:o,this.h2=mt?mt&4294967295:o}update(mt){let gt,bt;if(typeof mt=="string"){gt=new Uint8Array(mt.length*2),bt=0;for(let $t=0,Rt=mt.length;$t<Rt;$t++){const It=mt.charCodeAt($t);It<=255?gt[bt++]=It:(gt[bt++]=It>>>8,gt[bt++]=It&255)}}else if((0,a.isArrayBuffer)(mt))gt=mt.slice(),bt=gt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const vt=bt>>2,Pt=bt-vt*4,Tt=new Uint32Array(gt.buffer,0,vt);let At=0,wt=0,_t=this.h1,Et=this.h2;const yt=3432918353,St=461845907,xt=yt&ot,Ct=St&ot;for(let $t=0;$t<vt;$t++)$t&1?(At=Tt[$t],At=At*yt&et|At*xt&ot,At=At<<15|At>>>17,At=At*St&et|At*Ct&ot,_t^=At,_t=_t<<13|_t>>>19,_t=_t*5+3864292196):(wt=Tt[$t],wt=wt*yt&et|wt*xt&ot,wt=wt<<15|wt>>>17,wt=wt*St&et|wt*Ct&ot,Et^=wt,Et=Et<<13|Et>>>19,Et=Et*5+3864292196);switch(At=0,Pt){case 3:At^=gt[vt*4+2]<<16;case 2:At^=gt[vt*4+1]<<8;case 1:At^=gt[vt*4],At=At*yt&et|At*xt&ot,At=At<<15|At>>>17,At=At*St&et|At*Ct&ot,vt&1?_t^=At:Et^=At}this.h1=_t,this.h2=Et}hexdigest(){let mt=this.h1,gt=this.h2;return mt^=gt>>>1,mt=mt*3981806797&et|mt*36045&ot,gt=gt*4283543511&et|((gt<<16|mt>>>16)*2950163797&et)>>>16,mt^=gt>>>1,mt=mt*444984403&et|mt*60499&ot,gt=gt*3301882366&et|((gt<<16|mt>>>16)*3120437893&et)>>>16,mt^=gt>>>1,(mt>>>0).toString(16).padStart(8,"0")+(gt>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=ft},(e,i,s)=>{var ot;Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var a=s(1);class o{constructor({ownerDocument:dt=globalThis.document,styleElement:mt=null}){lr(this,ot,new Set);this._document=dt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(dt){this.nativeFontFaces.add(dt),this._document.fonts.add(dt)}removeNativeFontFace(dt){this.nativeFontFaces.delete(dt),this._document.fonts.delete(dt)}insertRule(dt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const mt=this.styleElement.sheet;mt.insertRule(dt,mt.cssRules.length)}clear(){for(const dt of this.nativeFontFaces)this._document.fonts.delete(dt);this.nativeFontFaces.clear(),Mt(this,ot).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(dt){if(!(!dt||Mt(this,ot).has(dt.loadedName))){if((0,a.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:mt,src:gt,style:bt}=dt,vt=new FontFace(mt,gt,bt);this.addNativeFontFace(vt);try{await vt.load(),Mt(this,ot).add(mt)}catch{(0,a.warn)(`Cannot load system font: ${dt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(vt)}return}(0,a.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(dt){if(dt.attached||dt.missingFile&&!dt.systemFontInfo)return;if(dt.attached=!0,dt.systemFontInfo){await this.loadSystemFont(dt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const gt=dt.createNativeFontFace();if(gt){this.addNativeFontFace(gt);try{await gt.loaded}catch(bt){throw(0,a.warn)(`Failed to load font '${gt.family}': '${bt}'.`),dt.disableFontFace=!0,bt}}return}const mt=dt.createFontFaceRule();if(mt){if(this.insertRule(mt),this.isSyncFontLoadingSupported)return;await new Promise(gt=>{const bt=this._queueLoadingCallback(gt);this._prepareFontLoadEvent(dt,bt)})}}get isFontLoadingAPISupported(){var mt;const dt=!!((mt=this._document)!=null&&mt.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",dt)}get isSyncFontLoadingSupported(){let dt=!1;return(a.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(dt=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",dt)}_queueLoadingCallback(dt){function mt(){for((0,a.assert)(!bt.done,"completeRequest() cannot be called twice."),bt.done=!0;gt.length>0&&gt[0].done;){const vt=gt.shift();setTimeout(vt.callback,0)}}const{loadingRequests:gt}=this,bt={done:!1,complete:mt,callback:dt};return gt.push(bt),bt}get _loadTestFont(){const dt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",dt)}_prepareFontLoadEvent(dt,mt){function gt(Ot,Gt){return Ot.charCodeAt(Gt)<<24|Ot.charCodeAt(Gt+1)<<16|Ot.charCodeAt(Gt+2)<<8|Ot.charCodeAt(Gt+3)&255}function bt(Ot,Gt,Xt,Ht){const Yt=Ot.substring(0,Gt),zt=Ot.substring(Gt+Xt);return Yt+Ht+zt}let vt,Pt;const Tt=this._document.createElement("canvas");Tt.width=1,Tt.height=1;const At=Tt.getContext("2d");let wt=0;function _t(Ot,Gt){if(++wt>30){(0,a.warn)("Load test font never loaded."),Gt();return}if(At.font="30px "+Ot,At.fillText(".",0,20),At.getImageData(0,0,1,1).data[3]>0){Gt();return}setTimeout(_t.bind(null,Ot,Gt))}const Et=`lt${Date.now()}${this.loadTestFontId++}`;let yt=this._loadTestFont;yt=bt(yt,976,Et.length,Et);const xt=16,Ct=1482184792;let $t=gt(yt,xt);for(vt=0,Pt=Et.length-3;vt<Pt;vt+=4)$t=$t-Ct+gt(Et,vt)|0;vt<Et.length&&($t=$t-Ct+gt(Et+"XXX",vt)|0),yt=bt(yt,xt,4,(0,a.string32)($t));const Rt=`url(data:font/opentype;base64,${btoa(yt)});`,It=`@font-face {font-family:"${Et}";src:${Rt}}`;this.insertRule(It);const Nt=this._document.createElement("div");Nt.style.visibility="hidden",Nt.style.width=Nt.style.height="10px",Nt.style.position="absolute",Nt.style.top=Nt.style.left="0px";for(const Ot of[dt.loadedName,Et]){const Gt=this._document.createElement("span");Gt.textContent="Hi",Gt.style.fontFamily=Ot,Nt.append(Gt)}this._document.body.append(Nt),_t(Et,()=>{Nt.remove(),mt.complete()})}}ot=new WeakMap,i.FontLoader=o;class et{constructor(dt,{isEvalSupported:mt=!0,disableFontFace:gt=!1,ignoreErrors:bt=!1,inspectFont:vt=null}){this.compiledGlyphs=Object.create(null);for(const Pt in dt)this[Pt]=dt[Pt];this.isEvalSupported=mt!==!1,this.disableFontFace=gt===!0,this.ignoreErrors=bt===!0,this._inspectFont=vt}createNativeFontFace(){var mt;if(!this.data||this.disableFontFace)return null;let dt;if(!this.cssFontInfo)dt=new FontFace(this.loadedName,this.data,{});else{const gt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(gt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),dt=new FontFace(this.cssFontInfo.fontFamily,this.data,gt)}return(mt=this._inspectFont)==null||mt.call(this,this),dt}createFontFaceRule(){var bt;if(!this.data||this.disableFontFace)return null;const dt=(0,a.bytesToString)(this.data),mt=`url(data:${this.mimetype};base64,${btoa(dt)});`;let gt;if(!this.cssFontInfo)gt=`@font-face {font-family:"${this.loadedName}";src:${mt}}`;else{let vt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(vt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),gt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${vt}src:${mt}}`}return(bt=this._inspectFont)==null||bt.call(this,this,mt),gt}getPathGenerator(dt,mt){if(this.compiledGlyphs[mt]!==void 0)return this.compiledGlyphs[mt];let gt;try{gt=dt.get(this.loadedName+"_path_"+mt)}catch(bt){if(!this.ignoreErrors)throw bt;return(0,a.warn)(`getPathGenerator - ignoring character: "${bt}".`),this.compiledGlyphs[mt]=function(vt,Pt){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const bt=[];for(const vt of gt){const Pt=vt.args!==void 0?vt.args.join(","):"";bt.push("c.",vt.cmd,"(",Pt,`);
`)}return this.compiledGlyphs[mt]=new Function("c","size",bt.join(""))}return this.compiledGlyphs[mt]=function(bt,vt){for(const Pt of gt)Pt.cmd==="scale"&&(Pt.args=[vt,-vt]),bt[Pt.cmd].apply(bt,Pt.args)}}}i.FontFaceObject=et},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var a=s(7);s(1);const o=function(mt){return new Promise((gt,bt)=>{require$$5.readFile(mt,(Pt,Tt)=>{if(Pt||!Tt){bt(new Error(Pt));return}gt(new Uint8Array(Tt))})})};class et extends a.BaseFilterFactory{}i.NodeFilterFactory=et;class ot extends a.BaseCanvasFactory{_createCanvas(gt,bt){return require$$5.createCanvas(gt,bt)}}i.NodeCanvasFactory=ot;class ft extends a.BaseCMapReaderFactory{_fetchData(gt,bt){return o(gt).then(vt=>({cMapData:vt,compressionType:bt}))}}i.NodeCMapReaderFactory=ft;class dt extends a.BaseStandardFontDataFactory{_fetchData(gt){return o(gt)}}i.NodeStandardFontDataFactory=dt},(e,i,s)=>{var kt,Os,Qt,Ns;Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var a=s(1),o=s(6),et=s(12),ot=s(13);const ft=16,dt=100,mt=4096,gt=15,bt=10,vt=1e3,Pt=16;function Tt(qt,Dt){if(qt._removeMirroring)throw new Error("Context is already forwarding operations.");qt.__originalSave=qt.save,qt.__originalRestore=qt.restore,qt.__originalRotate=qt.rotate,qt.__originalScale=qt.scale,qt.__originalTranslate=qt.translate,qt.__originalTransform=qt.transform,qt.__originalSetTransform=qt.setTransform,qt.__originalResetTransform=qt.resetTransform,qt.__originalClip=qt.clip,qt.__originalMoveTo=qt.moveTo,qt.__originalLineTo=qt.lineTo,qt.__originalBezierCurveTo=qt.bezierCurveTo,qt.__originalRect=qt.rect,qt.__originalClosePath=qt.closePath,qt.__originalBeginPath=qt.beginPath,qt._removeMirroring=()=>{qt.save=qt.__originalSave,qt.restore=qt.__originalRestore,qt.rotate=qt.__originalRotate,qt.scale=qt.__originalScale,qt.translate=qt.__originalTranslate,qt.transform=qt.__originalTransform,qt.setTransform=qt.__originalSetTransform,qt.resetTransform=qt.__originalResetTransform,qt.clip=qt.__originalClip,qt.moveTo=qt.__originalMoveTo,qt.lineTo=qt.__originalLineTo,qt.bezierCurveTo=qt.__originalBezierCurveTo,qt.rect=qt.__originalRect,qt.closePath=qt.__originalClosePath,qt.beginPath=qt.__originalBeginPath,delete qt._removeMirroring},qt.save=function(){Dt.save(),this.__originalSave()},qt.restore=function(){Dt.restore(),this.__originalRestore()},qt.translate=function(Lt,jt){Dt.translate(Lt,jt),this.__originalTranslate(Lt,jt)},qt.scale=function(Lt,jt){Dt.scale(Lt,jt),this.__originalScale(Lt,jt)},qt.transform=function(Lt,jt,Wt,Kt,er,tr){Dt.transform(Lt,jt,Wt,Kt,er,tr),this.__originalTransform(Lt,jt,Wt,Kt,er,tr)},qt.setTransform=function(Lt,jt,Wt,Kt,er,tr){Dt.setTransform(Lt,jt,Wt,Kt,er,tr),this.__originalSetTransform(Lt,jt,Wt,Kt,er,tr)},qt.resetTransform=function(){Dt.resetTransform(),this.__originalResetTransform()},qt.rotate=function(Lt){Dt.rotate(Lt),this.__originalRotate(Lt)},qt.clip=function(Lt){Dt.clip(Lt),this.__originalClip(Lt)},qt.moveTo=function(Vt,Lt){Dt.moveTo(Vt,Lt),this.__originalMoveTo(Vt,Lt)},qt.lineTo=function(Vt,Lt){Dt.lineTo(Vt,Lt),this.__originalLineTo(Vt,Lt)},qt.bezierCurveTo=function(Vt,Lt,jt,Wt,Kt,er){Dt.bezierCurveTo(Vt,Lt,jt,Wt,Kt,er),this.__originalBezierCurveTo(Vt,Lt,jt,Wt,Kt,er)},qt.rect=function(Vt,Lt,jt,Wt){Dt.rect(Vt,Lt,jt,Wt),this.__originalRect(Vt,Lt,jt,Wt)},qt.closePath=function(){Dt.closePath(),this.__originalClosePath()},qt.beginPath=function(){Dt.beginPath(),this.__originalBeginPath()}}class At{constructor(Dt){this.canvasFactory=Dt,this.cache=Object.create(null)}getCanvas(Dt,Vt,Lt){let jt;return this.cache[Dt]!==void 0?(jt=this.cache[Dt],this.canvasFactory.reset(jt,Vt,Lt)):(jt=this.canvasFactory.create(Vt,Lt),this.cache[Dt]=jt),jt}delete(Dt){delete this.cache[Dt]}clear(){for(const Dt in this.cache){const Vt=this.cache[Dt];this.canvasFactory.destroy(Vt),delete this.cache[Dt]}}}function wt(qt,Dt,Vt,Lt,jt,Wt,Kt,er,tr,ur){const[cr,nr,vr,Pr,Ar,Ir]=(0,o.getCurrentTransform)(qt);if(nr===0&&vr===0){const Dr=Kt*cr+Ar,xr=Math.round(Dr),hr=er*Pr+Ir,pr=Math.round(hr),br=(Kt+tr)*cr+Ar,kr=Math.abs(Math.round(br)-xr)||1,$r=(er+ur)*Pr+Ir,Gr=Math.abs(Math.round($r)-pr)||1;return qt.setTransform(Math.sign(cr),0,0,Math.sign(Pr),xr,pr),qt.drawImage(Dt,Vt,Lt,jt,Wt,0,0,kr,Gr),qt.setTransform(cr,nr,vr,Pr,Ar,Ir),[kr,Gr]}if(cr===0&&Pr===0){const Dr=er*vr+Ar,xr=Math.round(Dr),hr=Kt*nr+Ir,pr=Math.round(hr),br=(er+ur)*vr+Ar,kr=Math.abs(Math.round(br)-xr)||1,$r=(Kt+tr)*nr+Ir,Gr=Math.abs(Math.round($r)-pr)||1;return qt.setTransform(0,Math.sign(nr),Math.sign(vr),0,xr,pr),qt.drawImage(Dt,Vt,Lt,jt,Wt,0,0,Gr,kr),qt.setTransform(cr,nr,vr,Pr,Ar,Ir),[Gr,kr]}qt.drawImage(Dt,Vt,Lt,jt,Wt,Kt,er,tr,ur);const zr=Math.hypot(cr,nr),Cr=Math.hypot(vr,Pr);return[zr*tr,Cr*ur]}function _t(qt){const{width:Dt,height:Vt}=qt;if(Dt>vt||Vt>vt)return null;const Lt=1e3,jt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Wt=Dt+1;let Kt=new Uint8Array(Wt*(Vt+1)),er,tr,ur;const cr=Dt+7&-8;let nr=new Uint8Array(cr*Vt),vr=0;for(const Cr of qt.data){let Dr=128;for(;Dr>0;)nr[vr++]=Cr&Dr?0:255,Dr>>=1}let Pr=0;for(vr=0,nr[vr]!==0&&(Kt[0]=1,++Pr),tr=1;tr<Dt;tr++)nr[vr]!==nr[vr+1]&&(Kt[tr]=nr[vr]?2:1,++Pr),vr++;for(nr[vr]!==0&&(Kt[tr]=2,++Pr),er=1;er<Vt;er++){vr=er*cr,ur=er*Wt,nr[vr-cr]!==nr[vr]&&(Kt[ur]=nr[vr]?1:8,++Pr);let Cr=(nr[vr]?4:0)+(nr[vr-cr]?8:0);for(tr=1;tr<Dt;tr++)Cr=(Cr>>2)+(nr[vr+1]?4:0)+(nr[vr-cr+1]?8:0),jt[Cr]&&(Kt[ur+tr]=jt[Cr],++Pr),vr++;if(nr[vr-cr]!==nr[vr]&&(Kt[ur+tr]=nr[vr]?2:4,++Pr),Pr>Lt)return null}for(vr=cr*(Vt-1),ur=er*Wt,nr[vr]!==0&&(Kt[ur]=8,++Pr),tr=1;tr<Dt;tr++)nr[vr]!==nr[vr+1]&&(Kt[ur+tr]=nr[vr]?4:8,++Pr),vr++;if(nr[vr]!==0&&(Kt[ur+tr]=4,++Pr),Pr>Lt)return null;const Ar=new Int32Array([0,Wt,-1,0,-Wt,0,0,0,1]),Ir=new Path2D;for(er=0;Pr&&er<=Vt;er++){let Cr=er*Wt;const Dr=Cr+Dt;for(;Cr<Dr&&!Kt[Cr];)Cr++;if(Cr===Dr)continue;Ir.moveTo(Cr%Wt,er);const xr=Cr;let hr=Kt[Cr];do{const pr=Ar[hr];do Cr+=pr;while(!Kt[Cr]);const br=Kt[Cr];br!==5&&br!==10?(hr=br,Kt[Cr]=0):(hr=br&51*hr>>4,Kt[Cr]&=hr>>2|hr<<2),Ir.lineTo(Cr%Wt,Cr/Wt|0),Kt[Cr]||--Pr}while(xr!==Cr);--er}return nr=null,Kt=null,function(Cr){Cr.save(),Cr.scale(1/Dt,-1/Vt),Cr.translate(0,-Vt),Cr.fill(Ir),Cr.beginPath(),Cr.restore()}}class Et{constructor(Dt,Vt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Dt,Vt])}clone(){const Dt=Object.create(this);return Dt.clipBox=this.clipBox.slice(),Dt}setCurrentPoint(Dt,Vt){this.x=Dt,this.y=Vt}updatePathMinMax(Dt,Vt,Lt){[Vt,Lt]=a.Util.applyTransform([Vt,Lt],Dt),this.minX=Math.min(this.minX,Vt),this.minY=Math.min(this.minY,Lt),this.maxX=Math.max(this.maxX,Vt),this.maxY=Math.max(this.maxY,Lt)}updateRectMinMax(Dt,Vt){const Lt=a.Util.applyTransform(Vt,Dt),jt=a.Util.applyTransform(Vt.slice(2),Dt);this.minX=Math.min(this.minX,Lt[0],jt[0]),this.minY=Math.min(this.minY,Lt[1],jt[1]),this.maxX=Math.max(this.maxX,Lt[0],jt[0]),this.maxY=Math.max(this.maxY,Lt[1],jt[1])}updateScalingPathMinMax(Dt,Vt){a.Util.scaleMinMax(Dt,Vt),this.minX=Math.min(this.minX,Vt[0]),this.maxX=Math.max(this.maxX,Vt[1]),this.minY=Math.min(this.minY,Vt[2]),this.maxY=Math.max(this.maxY,Vt[3])}updateCurvePathMinMax(Dt,Vt,Lt,jt,Wt,Kt,er,tr,ur,cr){const nr=a.Util.bezierBoundingBox(Vt,Lt,jt,Wt,Kt,er,tr,ur);if(cr){cr[0]=Math.min(cr[0],nr[0],nr[2]),cr[1]=Math.max(cr[1],nr[0],nr[2]),cr[2]=Math.min(cr[2],nr[1],nr[3]),cr[3]=Math.max(cr[3],nr[1],nr[3]);return}this.updateRectMinMax(Dt,nr)}getPathBoundingBox(Dt=et.PathType.FILL,Vt=null){const Lt=[this.minX,this.minY,this.maxX,this.maxY];if(Dt===et.PathType.STROKE){Vt||(0,a.unreachable)("Stroke bounding box must include transform.");const jt=a.Util.singularValueDecompose2dScale(Vt),Wt=jt[0]*this.lineWidth/2,Kt=jt[1]*this.lineWidth/2;Lt[0]-=Wt,Lt[1]-=Kt,Lt[2]+=Wt,Lt[3]+=Kt}return Lt}updateClipFromPath(){const Dt=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Dt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Dt){this.clipBox=Dt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Dt=et.PathType.FILL,Vt=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(Dt,Vt))}}function yt(qt,Dt){if(typeof ImageData<"u"&&Dt instanceof ImageData){qt.putImageData(Dt,0,0);return}const Vt=Dt.height,Lt=Dt.width,jt=Vt%Pt,Wt=(Vt-jt)/Pt,Kt=jt===0?Wt:Wt+1,er=qt.createImageData(Lt,Pt);let tr=0,ur;const cr=Dt.data,nr=er.data;let vr,Pr,Ar,Ir;if(Dt.kind===a.ImageKind.GRAYSCALE_1BPP){const zr=cr.byteLength,Cr=new Uint32Array(nr.buffer,0,nr.byteLength>>2),Dr=Cr.length,xr=Lt+7>>3,hr=4294967295,pr=a.FeatureTest.isLittleEndian?4278190080:255;for(vr=0;vr<Kt;vr++){for(Ar=vr<Wt?Pt:jt,ur=0,Pr=0;Pr<Ar;Pr++){const br=zr-tr;let kr=0;const $r=br>xr?Lt:br*8-7,Gr=$r&-8;let qr=0,Wr=0;for(;kr<Gr;kr+=8)Wr=cr[tr++],Cr[ur++]=Wr&128?hr:pr,Cr[ur++]=Wr&64?hr:pr,Cr[ur++]=Wr&32?hr:pr,Cr[ur++]=Wr&16?hr:pr,Cr[ur++]=Wr&8?hr:pr,Cr[ur++]=Wr&4?hr:pr,Cr[ur++]=Wr&2?hr:pr,Cr[ur++]=Wr&1?hr:pr;for(;kr<$r;kr++)qr===0&&(Wr=cr[tr++],qr=128),Cr[ur++]=Wr&qr?hr:pr,qr>>=1}for(;ur<Dr;)Cr[ur++]=0;qt.putImageData(er,0,vr*Pt)}}else if(Dt.kind===a.ImageKind.RGBA_32BPP){for(Pr=0,Ir=Lt*Pt*4,vr=0;vr<Wt;vr++)nr.set(cr.subarray(tr,tr+Ir)),tr+=Ir,qt.putImageData(er,0,Pr),Pr+=Pt;vr<Kt&&(Ir=Lt*jt*4,nr.set(cr.subarray(tr,tr+Ir)),qt.putImageData(er,0,Pr))}else if(Dt.kind===a.ImageKind.RGB_24BPP)for(Ar=Pt,Ir=Lt*Ar,vr=0;vr<Kt;vr++){for(vr>=Wt&&(Ar=jt,Ir=Lt*Ar),ur=0,Pr=Ir;Pr--;)nr[ur++]=cr[tr++],nr[ur++]=cr[tr++],nr[ur++]=cr[tr++],nr[ur++]=255;qt.putImageData(er,0,vr*Pt)}else throw new Error(`bad image kind: ${Dt.kind}`)}function St(qt,Dt){if(Dt.bitmap){qt.drawImage(Dt.bitmap,0,0);return}const Vt=Dt.height,Lt=Dt.width,jt=Vt%Pt,Wt=(Vt-jt)/Pt,Kt=jt===0?Wt:Wt+1,er=qt.createImageData(Lt,Pt);let tr=0;const ur=Dt.data,cr=er.data;for(let nr=0;nr<Kt;nr++){const vr=nr<Wt?Pt:jt;({srcPos:tr}=(0,ot.convertBlackAndWhiteToRGBA)({src:ur,srcPos:tr,dest:cr,width:Lt,height:vr,nonBlackColor:0})),qt.putImageData(er,0,nr*Pt)}}function xt(qt,Dt){const Vt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Lt of Vt)qt[Lt]!==void 0&&(Dt[Lt]=qt[Lt]);qt.setLineDash!==void 0&&(Dt.setLineDash(qt.getLineDash()),Dt.lineDashOffset=qt.lineDashOffset)}function Ct(qt){if(qt.strokeStyle=qt.fillStyle="#000000",qt.fillRule="nonzero",qt.globalAlpha=1,qt.lineWidth=1,qt.lineCap="butt",qt.lineJoin="miter",qt.miterLimit=10,qt.globalCompositeOperation="source-over",qt.font="10px sans-serif",qt.setLineDash!==void 0&&(qt.setLineDash([]),qt.lineDashOffset=0),!a.isNodeJS){const{filter:Dt}=qt;Dt!=="none"&&Dt!==""&&(qt.filter="none")}}function $t(qt,Dt,Vt,Lt){const jt=qt.length;for(let Wt=3;Wt<jt;Wt+=4){const Kt=qt[Wt];if(Kt===0)qt[Wt-3]=Dt,qt[Wt-2]=Vt,qt[Wt-1]=Lt;else if(Kt<255){const er=255-Kt;qt[Wt-3]=qt[Wt-3]*Kt+Dt*er>>8,qt[Wt-2]=qt[Wt-2]*Kt+Vt*er>>8,qt[Wt-1]=qt[Wt-1]*Kt+Lt*er>>8}}}function Rt(qt,Dt,Vt){const Lt=qt.length,jt=1/255;for(let Wt=3;Wt<Lt;Wt+=4){const Kt=Vt?Vt[qt[Wt]]:qt[Wt];Dt[Wt]=Dt[Wt]*Kt*jt|0}}function It(qt,Dt,Vt){const Lt=qt.length;for(let jt=3;jt<Lt;jt+=4){const Wt=qt[jt-3]*77+qt[jt-2]*152+qt[jt-1]*28;Dt[jt]=Vt?Dt[jt]*Vt[Wt>>8]>>8:Dt[jt]*Wt>>16}}function Nt(qt,Dt,Vt,Lt,jt,Wt,Kt,er,tr,ur,cr){const nr=!!Wt,vr=nr?Wt[0]:0,Pr=nr?Wt[1]:0,Ar=nr?Wt[2]:0,Ir=jt==="Luminosity"?It:Rt,Cr=Math.min(Lt,Math.ceil(1048576/Vt));for(let Dr=0;Dr<Lt;Dr+=Cr){const xr=Math.min(Cr,Lt-Dr),hr=qt.getImageData(er-ur,Dr+(tr-cr),Vt,xr),pr=Dt.getImageData(er,Dr+tr,Vt,xr);nr&&$t(hr.data,vr,Pr,Ar),Ir(hr.data,pr.data,Kt),Dt.putImageData(pr,er,Dr+tr)}}function Ot(qt,Dt,Vt,Lt){const jt=Lt[0],Wt=Lt[1],Kt=Lt[2]-jt,er=Lt[3]-Wt;Kt===0||er===0||(Nt(Dt.context,Vt,Kt,er,Dt.subtype,Dt.backdrop,Dt.transferMap,jt,Wt,Dt.offsetX,Dt.offsetY),qt.save(),qt.globalAlpha=1,qt.globalCompositeOperation="source-over",qt.setTransform(1,0,0,1,0,0),qt.drawImage(Vt.canvas,0,0),qt.restore())}function Gt(qt,Dt){const Vt=a.Util.singularValueDecompose2dScale(qt);Vt[0]=Math.fround(Vt[0]),Vt[1]=Math.fround(Vt[1]);const Lt=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return Dt!==void 0?Dt:Vt[0]<=Lt||Vt[1]<=Lt}const Xt=["butt","round","square"],Ht=["miter","round","bevel"],Yt={},zt={},rr=class rr{constructor(Dt,Vt,Lt,jt,Wt,{optionalContentConfig:Kt,markedContentStack:er=null},tr,ur){lr(this,kt);lr(this,Qt);this.ctx=Dt,this.current=new Et(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Vt,this.objs=Lt,this.canvasFactory=jt,this.filterFactory=Wt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=er||[],this.optionalContentConfig=Kt,this.cachedCanvases=new At(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=tr,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ur,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Dt,Vt=null){return typeof Dt=="string"?Dt.startsWith("g_")?this.commonObjs.get(Dt):this.objs.get(Dt):Vt}beginDrawing({transform:Dt,viewport:Vt,transparency:Lt=!1,background:jt=null}){const Wt=this.ctx.canvas.width,Kt=this.ctx.canvas.height,er=this.ctx.fillStyle;if(this.ctx.fillStyle=jt||"#ffffff",this.ctx.fillRect(0,0,Wt,Kt),this.ctx.fillStyle=er,Lt){const tr=this.cachedCanvases.getCanvas("transparent",Wt,Kt);this.compositeCtx=this.ctx,this.transparentCanvas=tr.canvas,this.ctx=tr.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Ct(this.ctx),Dt&&(this.ctx.transform(...Dt),this.outputScaleX=Dt[0],this.outputScaleY=Dt[0]),this.ctx.transform(...Vt.transform),this.viewportScale=Vt.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(Dt,Vt,Lt,jt){const Wt=Dt.argsArray,Kt=Dt.fnArray;let er=Vt||0;const tr=Wt.length;if(tr===er)return er;const ur=tr-er>bt&&typeof Lt=="function",cr=ur?Date.now()+gt:0;let nr=0;const vr=this.commonObjs,Pr=this.objs;let Ar;for(;;){if(jt!==void 0&&er===jt.nextBreakPoint)return jt.breakIt(er,Lt),er;if(Ar=Kt[er],Ar!==a.OPS.dependency)this[Ar].apply(this,Wt[er]);else for(const Ir of Wt[er]){const zr=Ir.startsWith("g_")?vr:Pr;if(!zr.has(Ir))return zr.get(Ir,Lt),er}if(er++,er===tr)return er;if(ur&&++nr>bt){if(Date.now()>cr)return Lt(),er;nr=0}}}endDrawing(){gr(this,kt,Os).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Dt of this._cachedBitmapsMap.values()){for(const Vt of Dt.values())typeof HTMLCanvasElement<"u"&&Vt instanceof HTMLCanvasElement&&(Vt.width=Vt.height=0);Dt.clear()}this._cachedBitmapsMap.clear(),gr(this,Qt,Ns).call(this)}_scaleImage(Dt,Vt){const Lt=Dt.width,jt=Dt.height;let Wt=Math.max(Math.hypot(Vt[0],Vt[1]),1),Kt=Math.max(Math.hypot(Vt[2],Vt[3]),1),er=Lt,tr=jt,ur="prescale1",cr,nr;for(;Wt>2&&er>1||Kt>2&&tr>1;){let vr=er,Pr=tr;Wt>2&&er>1&&(vr=er>=16384?Math.floor(er/2)-1||1:Math.ceil(er/2),Wt/=er/vr),Kt>2&&tr>1&&(Pr=tr>=16384?Math.floor(tr/2)-1||1:Math.ceil(tr)/2,Kt/=tr/Pr),cr=this.cachedCanvases.getCanvas(ur,vr,Pr),nr=cr.context,nr.clearRect(0,0,vr,Pr),nr.drawImage(Dt,0,0,er,tr,0,0,vr,Pr),Dt=cr.canvas,er=vr,tr=Pr,ur=ur==="prescale1"?"prescale2":"prescale1"}return{img:Dt,paintWidth:er,paintHeight:tr}}_createMaskCanvas(Dt){const Vt=this.ctx,{width:Lt,height:jt}=Dt,Wt=this.current.fillColor,Kt=this.current.patternFill,er=(0,o.getCurrentTransform)(Vt);let tr,ur,cr,nr;if((Dt.bitmap||Dt.data)&&Dt.count>1){const kr=Dt.bitmap||Dt.data.buffer;ur=JSON.stringify(Kt?er:[er.slice(0,4),Wt]),tr=this._cachedBitmapsMap.get(kr),tr||(tr=new Map,this._cachedBitmapsMap.set(kr,tr));const $r=tr.get(ur);if($r&&!Kt){const Gr=Math.round(Math.min(er[0],er[2])+er[4]),qr=Math.round(Math.min(er[1],er[3])+er[5]);return{canvas:$r,offsetX:Gr,offsetY:qr}}cr=$r}cr||(nr=this.cachedCanvases.getCanvas("maskCanvas",Lt,jt),St(nr.context,Dt));let vr=a.Util.transform(er,[1/Lt,0,0,-1/jt,0,0]);vr=a.Util.transform(vr,[1,0,0,1,0,-jt]);const Pr=a.Util.applyTransform([0,0],vr),Ar=a.Util.applyTransform([Lt,jt],vr),Ir=a.Util.normalizeRect([Pr[0],Pr[1],Ar[0],Ar[1]]),zr=Math.round(Ir[2]-Ir[0])||1,Cr=Math.round(Ir[3]-Ir[1])||1,Dr=this.cachedCanvases.getCanvas("fillCanvas",zr,Cr),xr=Dr.context,hr=Math.min(Pr[0],Ar[0]),pr=Math.min(Pr[1],Ar[1]);xr.translate(-hr,-pr),xr.transform(...vr),cr||(cr=this._scaleImage(nr.canvas,(0,o.getCurrentTransformInverse)(xr)),cr=cr.img,tr&&Kt&&tr.set(ur,cr)),xr.imageSmoothingEnabled=Gt((0,o.getCurrentTransform)(xr),Dt.interpolate),wt(xr,cr,0,0,cr.width,cr.height,0,0,Lt,jt),xr.globalCompositeOperation="source-in";const br=a.Util.transform((0,o.getCurrentTransformInverse)(xr),[1,0,0,1,-hr,-pr]);return xr.fillStyle=Kt?Wt.getPattern(Vt,this,br,et.PathType.FILL):Wt,xr.fillRect(0,0,Lt,jt),tr&&!Kt&&(this.cachedCanvases.delete("fillCanvas"),tr.set(ur,Dr.canvas)),{canvas:Dr.canvas,offsetX:Math.round(hr),offsetY:Math.round(pr)}}setLineWidth(Dt){Dt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Dt,this.ctx.lineWidth=Dt}setLineCap(Dt){this.ctx.lineCap=Xt[Dt]}setLineJoin(Dt){this.ctx.lineJoin=Ht[Dt]}setMiterLimit(Dt){this.ctx.miterLimit=Dt}setDash(Dt,Vt){const Lt=this.ctx;Lt.setLineDash!==void 0&&(Lt.setLineDash(Dt),Lt.lineDashOffset=Vt)}setRenderingIntent(Dt){}setFlatness(Dt){}setGState(Dt){for(const[Vt,Lt]of Dt)switch(Vt){case"LW":this.setLineWidth(Lt);break;case"LC":this.setLineCap(Lt);break;case"LJ":this.setLineJoin(Lt);break;case"ML":this.setMiterLimit(Lt);break;case"D":this.setDash(Lt[0],Lt[1]);break;case"RI":this.setRenderingIntent(Lt);break;case"FL":this.setFlatness(Lt);break;case"Font":this.setFont(Lt[0],Lt[1]);break;case"CA":this.current.strokeAlpha=Lt;break;case"ca":this.current.fillAlpha=Lt,this.ctx.globalAlpha=Lt;break;case"BM":this.ctx.globalCompositeOperation=Lt;break;case"SMask":this.current.activeSMask=Lt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Lt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Dt=this.inSMaskMode;this.current.activeSMask&&!Dt?this.beginSMaskMode():!this.current.activeSMask&&Dt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Dt=this.ctx.canvas.width,Vt=this.ctx.canvas.height,Lt="smaskGroupAt"+this.groupLevel,jt=this.cachedCanvases.getCanvas(Lt,Dt,Vt);this.suspendedCtx=this.ctx,this.ctx=jt.context;const Wt=this.ctx;Wt.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),xt(this.suspendedCtx,Wt),Tt(Wt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),xt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Dt){if(!this.current.activeSMask)return;Dt?(Dt[0]=Math.floor(Dt[0]),Dt[1]=Math.floor(Dt[1]),Dt[2]=Math.ceil(Dt[2]),Dt[3]=Math.ceil(Dt[3])):Dt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Vt=this.current.activeSMask,Lt=this.suspendedCtx;Ot(Lt,Vt,this.ctx,Dt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(xt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Dt=this.current;this.stateStack.push(Dt),this.current=Dt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),xt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Dt,Vt,Lt,jt,Wt,Kt){this.ctx.transform(Dt,Vt,Lt,jt,Wt,Kt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Dt,Vt,Lt){const jt=this.ctx,Wt=this.current;let Kt=Wt.x,er=Wt.y,tr,ur;const cr=(0,o.getCurrentTransform)(jt),nr=cr[0]===0&&cr[3]===0||cr[1]===0&&cr[2]===0,vr=nr?Lt.slice(0):null;for(let Pr=0,Ar=0,Ir=Dt.length;Pr<Ir;Pr++)switch(Dt[Pr]|0){case a.OPS.rectangle:Kt=Vt[Ar++],er=Vt[Ar++];const zr=Vt[Ar++],Cr=Vt[Ar++],Dr=Kt+zr,xr=er+Cr;jt.moveTo(Kt,er),zr===0||Cr===0?jt.lineTo(Dr,xr):(jt.lineTo(Dr,er),jt.lineTo(Dr,xr),jt.lineTo(Kt,xr)),nr||Wt.updateRectMinMax(cr,[Kt,er,Dr,xr]),jt.closePath();break;case a.OPS.moveTo:Kt=Vt[Ar++],er=Vt[Ar++],jt.moveTo(Kt,er),nr||Wt.updatePathMinMax(cr,Kt,er);break;case a.OPS.lineTo:Kt=Vt[Ar++],er=Vt[Ar++],jt.lineTo(Kt,er),nr||Wt.updatePathMinMax(cr,Kt,er);break;case a.OPS.curveTo:tr=Kt,ur=er,Kt=Vt[Ar+4],er=Vt[Ar+5],jt.bezierCurveTo(Vt[Ar],Vt[Ar+1],Vt[Ar+2],Vt[Ar+3],Kt,er),Wt.updateCurvePathMinMax(cr,tr,ur,Vt[Ar],Vt[Ar+1],Vt[Ar+2],Vt[Ar+3],Kt,er,vr),Ar+=6;break;case a.OPS.curveTo2:tr=Kt,ur=er,jt.bezierCurveTo(Kt,er,Vt[Ar],Vt[Ar+1],Vt[Ar+2],Vt[Ar+3]),Wt.updateCurvePathMinMax(cr,tr,ur,Kt,er,Vt[Ar],Vt[Ar+1],Vt[Ar+2],Vt[Ar+3],vr),Kt=Vt[Ar+2],er=Vt[Ar+3],Ar+=4;break;case a.OPS.curveTo3:tr=Kt,ur=er,Kt=Vt[Ar+2],er=Vt[Ar+3],jt.bezierCurveTo(Vt[Ar],Vt[Ar+1],Kt,er,Kt,er),Wt.updateCurvePathMinMax(cr,tr,ur,Vt[Ar],Vt[Ar+1],Kt,er,Kt,er,vr),Ar+=4;break;case a.OPS.closePath:jt.closePath();break}nr&&Wt.updateScalingPathMinMax(cr,vr),Wt.setCurrentPoint(Kt,er)}closePath(){this.ctx.closePath()}stroke(Dt=!0){const Vt=this.ctx,Lt=this.current.strokeColor;Vt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Lt=="object"&&(Lt!=null&&Lt.getPattern)?(Vt.save(),Vt.strokeStyle=Lt.getPattern(Vt,this,(0,o.getCurrentTransformInverse)(Vt),et.PathType.STROKE),this.rescaleAndStroke(!1),Vt.restore()):this.rescaleAndStroke(!0)),Dt&&this.consumePath(this.current.getClippedPathBoundingBox()),Vt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Dt=!0){const Vt=this.ctx,Lt=this.current.fillColor,jt=this.current.patternFill;let Wt=!1;jt&&(Vt.save(),Vt.fillStyle=Lt.getPattern(Vt,this,(0,o.getCurrentTransformInverse)(Vt),et.PathType.FILL),Wt=!0);const Kt=this.current.getClippedPathBoundingBox();this.contentVisible&&Kt!==null&&(this.pendingEOFill?(Vt.fill("evenodd"),this.pendingEOFill=!1):Vt.fill()),Wt&&Vt.restore(),Dt&&this.consumePath(Kt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Yt}eoClip(){this.pendingClip=zt}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Dt=this.pendingTextPaths,Vt=this.ctx;if(Dt===void 0){Vt.beginPath();return}Vt.save(),Vt.beginPath();for(const Lt of Dt)Vt.setTransform(...Lt.transform),Vt.translate(Lt.x,Lt.y),Lt.addToPath(Vt,Lt.fontSize);Vt.restore(),Vt.clip(),Vt.beginPath(),delete this.pendingTextPaths}setCharSpacing(Dt){this.current.charSpacing=Dt}setWordSpacing(Dt){this.current.wordSpacing=Dt}setHScale(Dt){this.current.textHScale=Dt/100}setLeading(Dt){this.current.leading=-Dt}setFont(Dt,Vt){var cr;const Lt=this.commonObjs.get(Dt),jt=this.current;if(!Lt)throw new Error(`Can't find font for ${Dt}`);if(jt.fontMatrix=Lt.fontMatrix||a.FONT_IDENTITY_MATRIX,(jt.fontMatrix[0]===0||jt.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+Dt),Vt<0?(Vt=-Vt,jt.fontDirection=-1):jt.fontDirection=1,this.current.font=Lt,this.current.fontSize=Vt,Lt.isType3Font)return;const Wt=Lt.loadedName||"sans-serif",Kt=((cr=Lt.systemFontInfo)==null?void 0:cr.css)||`"${Wt}", ${Lt.fallbackName}`;let er="normal";Lt.black?er="900":Lt.bold&&(er="bold");const tr=Lt.italic?"italic":"normal";let ur=Vt;Vt<ft?ur=ft:Vt>dt&&(ur=dt),this.current.fontSizeScale=Vt/ur,this.ctx.font=`${tr} ${er} ${ur}px ${Kt}`}setTextRenderingMode(Dt){this.current.textRenderingMode=Dt}setTextRise(Dt){this.current.textRise=Dt}moveText(Dt,Vt){this.current.x=this.current.lineX+=Dt,this.current.y=this.current.lineY+=Vt}setLeadingMoveText(Dt,Vt){this.setLeading(-Vt),this.moveText(Dt,Vt)}setTextMatrix(Dt,Vt,Lt,jt,Wt,Kt){this.current.textMatrix=[Dt,Vt,Lt,jt,Wt,Kt],this.current.textMatrixScale=Math.hypot(Dt,Vt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Dt,Vt,Lt,jt){const Wt=this.ctx,Kt=this.current,er=Kt.font,tr=Kt.textRenderingMode,ur=Kt.fontSize/Kt.fontSizeScale,cr=tr&a.TextRenderingMode.FILL_STROKE_MASK,nr=!!(tr&a.TextRenderingMode.ADD_TO_PATH_FLAG),vr=Kt.patternFill&&!er.missingFile;let Pr;(er.disableFontFace||nr||vr)&&(Pr=er.getPathGenerator(this.commonObjs,Dt)),er.disableFontFace||vr?(Wt.save(),Wt.translate(Vt,Lt),Wt.beginPath(),Pr(Wt,ur),jt&&Wt.setTransform(...jt),(cr===a.TextRenderingMode.FILL||cr===a.TextRenderingMode.FILL_STROKE)&&Wt.fill(),(cr===a.TextRenderingMode.STROKE||cr===a.TextRenderingMode.FILL_STROKE)&&Wt.stroke(),Wt.restore()):((cr===a.TextRenderingMode.FILL||cr===a.TextRenderingMode.FILL_STROKE)&&Wt.fillText(Dt,Vt,Lt),(cr===a.TextRenderingMode.STROKE||cr===a.TextRenderingMode.FILL_STROKE)&&Wt.strokeText(Dt,Vt,Lt)),nr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(Wt),x:Vt,y:Lt,fontSize:ur,addToPath:Pr})}get isFontSubpixelAAEnabled(){const{context:Dt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Dt.scale(1.5,1),Dt.fillText("I",0,10);const Vt=Dt.getImageData(0,0,10,10).data;let Lt=!1;for(let jt=3;jt<Vt.length;jt+=4)if(Vt[jt]>0&&Vt[jt]<255){Lt=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",Lt)}showText(Dt){const Vt=this.current,Lt=Vt.font;if(Lt.isType3Font)return this.showType3Text(Dt);const jt=Vt.fontSize;if(jt===0)return;const Wt=this.ctx,Kt=Vt.fontSizeScale,er=Vt.charSpacing,tr=Vt.wordSpacing,ur=Vt.fontDirection,cr=Vt.textHScale*ur,nr=Dt.length,vr=Lt.vertical,Pr=vr?1:-1,Ar=Lt.defaultVMetrics,Ir=jt*Vt.fontMatrix[0],zr=Vt.textRenderingMode===a.TextRenderingMode.FILL&&!Lt.disableFontFace&&!Vt.patternFill;Wt.save(),Wt.transform(...Vt.textMatrix),Wt.translate(Vt.x,Vt.y+Vt.textRise),ur>0?Wt.scale(cr,-1):Wt.scale(cr,1);let Cr;if(Vt.patternFill){Wt.save();const br=Vt.fillColor.getPattern(Wt,this,(0,o.getCurrentTransformInverse)(Wt),et.PathType.FILL);Cr=(0,o.getCurrentTransform)(Wt),Wt.restore(),Wt.fillStyle=br}let Dr=Vt.lineWidth;const xr=Vt.textMatrixScale;if(xr===0||Dr===0){const br=Vt.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(br===a.TextRenderingMode.STROKE||br===a.TextRenderingMode.FILL_STROKE)&&(Dr=this.getSinglePixelWidth())}else Dr/=xr;if(Kt!==1&&(Wt.scale(Kt,Kt),Dr/=Kt),Wt.lineWidth=Dr,Lt.isInvalidPDFjsFont){const br=[];let kr=0;for(const $r of Dt)br.push($r.unicode),kr+=$r.width;Wt.fillText(br.join(""),0,0),Vt.x+=kr*Ir*cr,Wt.restore(),this.compose();return}let hr=0,pr;for(pr=0;pr<nr;++pr){const br=Dt[pr];if(typeof br=="number"){hr+=Pr*br*jt/1e3;continue}let kr=!1;const $r=(br.isSpace?tr:0)+er,Gr=br.fontChar,qr=br.accent;let Wr,tn,Kr=br.width;if(vr){const Qr=br.vmetric||Ar,wr=-(br.vmetric?Qr[1]:Kr*.5)*Ir,Er=Qr[2]*Ir;Kr=Qr?-Qr[0]:Kr,Wr=wr/Kt,tn=(hr+Er)/Kt}else Wr=hr/Kt,tn=0;if(Lt.remeasure&&Kr>0){const Qr=Wt.measureText(Gr).width*1e3/jt*Kt;if(Kr<Qr&&this.isFontSubpixelAAEnabled){const wr=Kr/Qr;kr=!0,Wt.save(),Wt.scale(wr,1),Wr/=wr}else Kr!==Qr&&(Wr+=(Kr-Qr)/2e3*jt/Kt)}if(this.contentVisible&&(br.isInFont||Lt.missingFile)){if(zr&&!qr)Wt.fillText(Gr,Wr,tn);else if(this.paintChar(Gr,Wr,tn,Cr),qr){const Qr=Wr+jt*qr.offset.x/Kt,wr=tn-jt*qr.offset.y/Kt;this.paintChar(qr.fontChar,Qr,wr,Cr)}}const Jr=vr?Kr*Ir-$r*ur:Kr*Ir+$r*ur;hr+=Jr,kr&&Wt.restore()}vr?Vt.y-=hr:Vt.x+=hr*cr,Wt.restore(),this.compose()}showType3Text(Dt){const Vt=this.ctx,Lt=this.current,jt=Lt.font,Wt=Lt.fontSize,Kt=Lt.fontDirection,er=jt.vertical?1:-1,tr=Lt.charSpacing,ur=Lt.wordSpacing,cr=Lt.textHScale*Kt,nr=Lt.fontMatrix||a.FONT_IDENTITY_MATRIX,vr=Dt.length,Pr=Lt.textRenderingMode===a.TextRenderingMode.INVISIBLE;let Ar,Ir,zr,Cr;if(!(Pr||Wt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Vt.save(),Vt.transform(...Lt.textMatrix),Vt.translate(Lt.x,Lt.y),Vt.scale(cr,Kt),Ar=0;Ar<vr;++Ar){if(Ir=Dt[Ar],typeof Ir=="number"){Cr=er*Ir*Wt/1e3,this.ctx.translate(Cr,0),Lt.x+=Cr*cr;continue}const Dr=(Ir.isSpace?ur:0)+tr,xr=jt.charProcOperatorList[Ir.operatorListId];if(!xr){(0,a.warn)(`Type3 character "${Ir.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ir,this.save(),Vt.scale(Wt,Wt),Vt.transform(...nr),this.executeOperatorList(xr),this.restore()),zr=a.Util.applyTransform([Ir.width,0],nr)[0]*Wt+Dr,Vt.translate(zr,0),Lt.x+=zr*cr}Vt.restore(),this.processingType3=null}}setCharWidth(Dt,Vt){}setCharWidthAndBounds(Dt,Vt,Lt,jt,Wt,Kt){this.ctx.rect(Lt,jt,Wt-Lt,Kt-jt),this.ctx.clip(),this.endPath()}getColorN_Pattern(Dt){let Vt;if(Dt[0]==="TilingPattern"){const Lt=Dt[1],jt=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),Wt={createCanvasGraphics:Kt=>new rr(Kt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Vt=new et.TilingPattern(Dt,Lt,this.ctx,Wt,jt)}else Vt=this._getPattern(Dt[1],Dt[2]);return Vt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Dt,Vt,Lt){const jt=a.Util.makeHexColor(Dt,Vt,Lt);this.ctx.strokeStyle=jt,this.current.strokeColor=jt}setFillRGBColor(Dt,Vt,Lt){const jt=a.Util.makeHexColor(Dt,Vt,Lt);this.ctx.fillStyle=jt,this.current.fillColor=jt,this.current.patternFill=!1}_getPattern(Dt,Vt=null){let Lt;return this.cachedPatterns.has(Dt)?Lt=this.cachedPatterns.get(Dt):(Lt=(0,et.getShadingPattern)(this.getObject(Dt)),this.cachedPatterns.set(Dt,Lt)),Vt&&(Lt.matrix=Vt),Lt}shadingFill(Dt){if(!this.contentVisible)return;const Vt=this.ctx;this.save();const Lt=this._getPattern(Dt);Vt.fillStyle=Lt.getPattern(Vt,this,(0,o.getCurrentTransformInverse)(Vt),et.PathType.SHADING);const jt=(0,o.getCurrentTransformInverse)(Vt);if(jt){const{width:Wt,height:Kt}=Vt.canvas,[er,tr,ur,cr]=a.Util.getAxialAlignedBoundingBox([0,0,Wt,Kt],jt);this.ctx.fillRect(er,tr,ur-er,cr-tr)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Dt,Vt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Dt)&&Dt.length===6&&this.transform(...Dt),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),Vt)){const Lt=Vt[2]-Vt[0],jt=Vt[3]-Vt[1];this.ctx.rect(Vt[0],Vt[1],Lt,jt),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),Vt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Dt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Vt=this.ctx;Dt.isolated||(0,a.info)("TODO: Support non-isolated groups."),Dt.knockout&&(0,a.warn)("Knockout groups not supported.");const Lt=(0,o.getCurrentTransform)(Vt);if(Dt.matrix&&Vt.transform(...Dt.matrix),!Dt.bbox)throw new Error("Bounding box is required.");let jt=a.Util.getAxialAlignedBoundingBox(Dt.bbox,(0,o.getCurrentTransform)(Vt));const Wt=[0,0,Vt.canvas.width,Vt.canvas.height];jt=a.Util.intersect(jt,Wt)||[0,0,0,0];const Kt=Math.floor(jt[0]),er=Math.floor(jt[1]);let tr=Math.max(Math.ceil(jt[2])-Kt,1),ur=Math.max(Math.ceil(jt[3])-er,1),cr=1,nr=1;tr>mt&&(cr=tr/mt,tr=mt),ur>mt&&(nr=ur/mt,ur=mt),this.current.startNewPathAndClipBox([0,0,tr,ur]);let vr="groupAt"+this.groupLevel;Dt.smask&&(vr+="_smask_"+this.smaskCounter++%2);const Pr=this.cachedCanvases.getCanvas(vr,tr,ur),Ar=Pr.context;Ar.scale(1/cr,1/nr),Ar.translate(-Kt,-er),Ar.transform(...Lt),Dt.smask?this.smaskStack.push({canvas:Pr.canvas,context:Ar,offsetX:Kt,offsetY:er,scaleX:cr,scaleY:nr,subtype:Dt.smask.subtype,backdrop:Dt.smask.backdrop,transferMap:Dt.smask.transferMap||null,startTransformInverse:null}):(Vt.setTransform(1,0,0,1,0,0),Vt.translate(Kt,er),Vt.scale(cr,nr),Vt.save()),xt(Vt,Ar),this.ctx=Ar,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Vt),this.groupLevel++}endGroup(Dt){if(!this.contentVisible)return;this.groupLevel--;const Vt=this.ctx,Lt=this.groupStack.pop();if(this.ctx=Lt,this.ctx.imageSmoothingEnabled=!1,Dt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const jt=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...jt);const Wt=a.Util.getAxialAlignedBoundingBox([0,0,Vt.canvas.width,Vt.canvas.height],jt);this.ctx.drawImage(Vt.canvas,0,0),this.ctx.restore(),this.compose(Wt)}}beginAnnotation(Dt,Vt,Lt,jt,Wt){if(gr(this,kt,Os).call(this),Ct(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Vt)&&Vt.length===4){const Kt=Vt[2]-Vt[0],er=Vt[3]-Vt[1];if(Wt&&this.annotationCanvasMap){Lt=Lt.slice(),Lt[4]-=Vt[0],Lt[5]-=Vt[1],Vt=Vt.slice(),Vt[0]=Vt[1]=0,Vt[2]=Kt,Vt[3]=er;const[tr,ur]=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:cr}=this,nr=Math.ceil(Kt*this.outputScaleX*cr),vr=Math.ceil(er*this.outputScaleY*cr);this.annotationCanvas=this.canvasFactory.create(nr,vr);const{canvas:Pr,context:Ar}=this.annotationCanvas;this.annotationCanvasMap.set(Dt,Pr),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ar,this.ctx.save(),this.ctx.setTransform(tr,0,0,-ur,0,er*ur),Ct(this.ctx)}else Ct(this.ctx),this.ctx.rect(Vt[0],Vt[1],Kt,er),this.ctx.clip(),this.endPath()}this.current=new Et(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Lt),this.transform(...jt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),gr(this,Qt,Ns).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Dt){if(!this.contentVisible)return;const Vt=Dt.count;Dt=this.getObject(Dt.data,Dt),Dt.count=Vt;const Lt=this.ctx,jt=this.processingType3;if(jt&&(jt.compiled===void 0&&(jt.compiled=_t(Dt)),jt.compiled)){jt.compiled(Lt);return}const Wt=this._createMaskCanvas(Dt),Kt=Wt.canvas;Lt.save(),Lt.setTransform(1,0,0,1,0,0),Lt.drawImage(Kt,Wt.offsetX,Wt.offsetY),Lt.restore(),this.compose()}paintImageMaskXObjectRepeat(Dt,Vt,Lt=0,jt=0,Wt,Kt){if(!this.contentVisible)return;Dt=this.getObject(Dt.data,Dt);const er=this.ctx;er.save();const tr=(0,o.getCurrentTransform)(er);er.transform(Vt,Lt,jt,Wt,0,0);const ur=this._createMaskCanvas(Dt);er.setTransform(1,0,0,1,ur.offsetX-tr[4],ur.offsetY-tr[5]);for(let cr=0,nr=Kt.length;cr<nr;cr+=2){const vr=a.Util.transform(tr,[Vt,Lt,jt,Wt,Kt[cr],Kt[cr+1]]),[Pr,Ar]=a.Util.applyTransform([0,0],vr);er.drawImage(ur.canvas,Pr,Ar)}er.restore(),this.compose()}paintImageMaskXObjectGroup(Dt){if(!this.contentVisible)return;const Vt=this.ctx,Lt=this.current.fillColor,jt=this.current.patternFill;for(const Wt of Dt){const{data:Kt,width:er,height:tr,transform:ur}=Wt,cr=this.cachedCanvases.getCanvas("maskCanvas",er,tr),nr=cr.context;nr.save();const vr=this.getObject(Kt,Wt);St(nr,vr),nr.globalCompositeOperation="source-in",nr.fillStyle=jt?Lt.getPattern(nr,this,(0,o.getCurrentTransformInverse)(Vt),et.PathType.FILL):Lt,nr.fillRect(0,0,er,tr),nr.restore(),Vt.save(),Vt.transform(...ur),Vt.scale(1,-1),wt(Vt,cr.canvas,0,0,er,tr,0,-1,1,1),Vt.restore()}this.compose()}paintImageXObject(Dt){if(!this.contentVisible)return;const Vt=this.getObject(Dt);if(!Vt){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Vt)}paintImageXObjectRepeat(Dt,Vt,Lt,jt){if(!this.contentVisible)return;const Wt=this.getObject(Dt);if(!Wt){(0,a.warn)("Dependent image isn't ready yet");return}const Kt=Wt.width,er=Wt.height,tr=[];for(let ur=0,cr=jt.length;ur<cr;ur+=2)tr.push({transform:[Vt,0,0,Lt,jt[ur],jt[ur+1]],x:0,y:0,w:Kt,h:er});this.paintInlineImageXObjectGroup(Wt,tr)}applyTransferMapsToCanvas(Dt){return this.current.transferMaps!=="none"&&(Dt.filter=this.current.transferMaps,Dt.drawImage(Dt.canvas,0,0),Dt.filter="none"),Dt.canvas}applyTransferMapsToBitmap(Dt){if(this.current.transferMaps==="none")return Dt.bitmap;const{bitmap:Vt,width:Lt,height:jt}=Dt,Wt=this.cachedCanvases.getCanvas("inlineImage",Lt,jt),Kt=Wt.context;return Kt.filter=this.current.transferMaps,Kt.drawImage(Vt,0,0),Kt.filter="none",Wt.canvas}paintInlineImageXObject(Dt){if(!this.contentVisible)return;const Vt=Dt.width,Lt=Dt.height,jt=this.ctx;if(this.save(),!a.isNodeJS){const{filter:er}=jt;er!=="none"&&er!==""&&(jt.filter="none")}jt.scale(1/Vt,-1/Lt);let Wt;if(Dt.bitmap)Wt=this.applyTransferMapsToBitmap(Dt);else if(typeof HTMLElement=="function"&&Dt instanceof HTMLElement||!Dt.data)Wt=Dt;else{const tr=this.cachedCanvases.getCanvas("inlineImage",Vt,Lt).context;yt(tr,Dt),Wt=this.applyTransferMapsToCanvas(tr)}const Kt=this._scaleImage(Wt,(0,o.getCurrentTransformInverse)(jt));jt.imageSmoothingEnabled=Gt((0,o.getCurrentTransform)(jt),Dt.interpolate),wt(jt,Kt.img,0,0,Kt.paintWidth,Kt.paintHeight,0,-Lt,Vt,Lt),this.compose(),this.restore()}paintInlineImageXObjectGroup(Dt,Vt){if(!this.contentVisible)return;const Lt=this.ctx;let jt;if(Dt.bitmap)jt=Dt.bitmap;else{const Wt=Dt.width,Kt=Dt.height,tr=this.cachedCanvases.getCanvas("inlineImage",Wt,Kt).context;yt(tr,Dt),jt=this.applyTransferMapsToCanvas(tr)}for(const Wt of Vt)Lt.save(),Lt.transform(...Wt.transform),Lt.scale(1,-1),wt(Lt,jt,Wt.x,Wt.y,Wt.w,Wt.h,0,-1,1,1),Lt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Dt){}markPointProps(Dt,Vt){}beginMarkedContent(Dt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Dt,Vt){Dt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Vt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Dt){const Vt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Dt);const Lt=this.ctx;this.pendingClip&&(Vt||(this.pendingClip===zt?Lt.clip("evenodd"):Lt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Lt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Dt=(0,o.getCurrentTransform)(this.ctx);if(Dt[1]===0&&Dt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Dt[0]),Math.abs(Dt[3]));else{const Vt=Math.abs(Dt[0]*Dt[3]-Dt[2]*Dt[1]),Lt=Math.hypot(Dt[0],Dt[2]),jt=Math.hypot(Dt[1],Dt[3]);this._cachedGetSinglePixelWidth=Math.max(Lt,jt)/Vt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Dt}=this.current,{a:Vt,b:Lt,c:jt,d:Wt}=this.ctx.getTransform();let Kt,er;if(Lt===0&&jt===0){const tr=Math.abs(Vt),ur=Math.abs(Wt);if(tr===ur)if(Dt===0)Kt=er=1/tr;else{const cr=tr*Dt;Kt=er=cr<1?1/cr:1}else if(Dt===0)Kt=1/tr,er=1/ur;else{const cr=tr*Dt,nr=ur*Dt;Kt=cr<1?1/cr:1,er=nr<1?1/nr:1}}else{const tr=Math.abs(Vt*Wt-Lt*jt),ur=Math.hypot(Vt,Lt),cr=Math.hypot(jt,Wt);if(Dt===0)Kt=cr/tr,er=ur/tr;else{const nr=Dt*tr;Kt=cr>nr?cr/nr:1,er=ur>nr?ur/nr:1}}this._cachedScaleForStroking[0]=Kt,this._cachedScaleForStroking[1]=er}return this._cachedScaleForStroking}rescaleAndStroke(Dt){const{ctx:Vt}=this,{lineWidth:Lt}=this.current,[jt,Wt]=this.getScaleForStroking();if(Vt.lineWidth=Lt||1,jt===1&&Wt===1){Vt.stroke();return}const Kt=Vt.getLineDash();if(Dt&&Vt.save(),Vt.scale(jt,Wt),Kt.length>0){const er=Math.max(jt,Wt);Vt.setLineDash(Kt.map(tr=>tr/er)),Vt.lineDashOffset/=er}Vt.stroke(),Dt&&Vt.restore()}isContentVisible(){for(let Dt=this.markedContentStack.length-1;Dt>=0;Dt--)if(!this.markedContentStack[Dt].visible)return!1;return!0}};kt=new WeakSet,Os=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Qt=new WeakSet,Ns=function(){if(this.pageColors){const Dt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Dt!=="none"){const Vt=this.ctx.filter;this.ctx.filter=Dt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Vt}}};let Ut=rr;i.CanvasGraphics=Ut;for(const qt in a.OPS)Ut.prototype[qt]!==void 0&&(Ut.prototype[a.OPS[qt]]=Ut.prototype[qt])},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=Pt;var a=s(1),o=s(6);const et={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=et;function ot(_t,Et){if(!Et)return;const yt=Et[2]-Et[0],St=Et[3]-Et[1],xt=new Path2D;xt.rect(Et[0],Et[1],yt,St),_t.clip(xt)}class ft{constructor(){this.constructor===ft&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class dt extends ft{constructor(Et){super(),this._type=Et[1],this._bbox=Et[2],this._colorStops=Et[3],this._p0=Et[4],this._p1=Et[5],this._r0=Et[6],this._r1=Et[7],this.matrix=null}_createGradient(Et){let yt;this._type==="axial"?yt=Et.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(yt=Et.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const St of this._colorStops)yt.addColorStop(St[0],St[1]);return yt}getPattern(Et,yt,St,xt){let Ct;if(xt===et.STROKE||xt===et.FILL){const $t=yt.current.getClippedPathBoundingBox(xt,(0,o.getCurrentTransform)(Et))||[0,0,0,0],Rt=Math.ceil($t[2]-$t[0])||1,It=Math.ceil($t[3]-$t[1])||1,Nt=yt.cachedCanvases.getCanvas("pattern",Rt,It,!0),Ot=Nt.context;Ot.clearRect(0,0,Ot.canvas.width,Ot.canvas.height),Ot.beginPath(),Ot.rect(0,0,Ot.canvas.width,Ot.canvas.height),Ot.translate(-$t[0],-$t[1]),St=a.Util.transform(St,[1,0,0,1,$t[0],$t[1]]),Ot.transform(...yt.baseTransform),this.matrix&&Ot.transform(...this.matrix),ot(Ot,this._bbox),Ot.fillStyle=this._createGradient(Ot),Ot.fill(),Ct=Et.createPattern(Nt.canvas,"no-repeat");const Gt=new DOMMatrix(St);Ct.setTransform(Gt)}else ot(Et,this._bbox),Ct=this._createGradient(Et);return Ct}}function mt(_t,Et,yt,St,xt,Ct,$t,Rt){const It=Et.coords,Nt=Et.colors,Ot=_t.data,Gt=_t.width*4;let Xt;It[yt+1]>It[St+1]&&(Xt=yt,yt=St,St=Xt,Xt=Ct,Ct=$t,$t=Xt),It[St+1]>It[xt+1]&&(Xt=St,St=xt,xt=Xt,Xt=$t,$t=Rt,Rt=Xt),It[yt+1]>It[St+1]&&(Xt=yt,yt=St,St=Xt,Xt=Ct,Ct=$t,$t=Xt);const Ht=(It[yt]+Et.offsetX)*Et.scaleX,Yt=(It[yt+1]+Et.offsetY)*Et.scaleY,zt=(It[St]+Et.offsetX)*Et.scaleX,Ut=(It[St+1]+Et.offsetY)*Et.scaleY,kt=(It[xt]+Et.offsetX)*Et.scaleX,Ft=(It[xt+1]+Et.offsetY)*Et.scaleY;if(Yt>=Ft)return;const Qt=Nt[Ct],Zt=Nt[Ct+1],rr=Nt[Ct+2],qt=Nt[$t],Dt=Nt[$t+1],Vt=Nt[$t+2],Lt=Nt[Rt],jt=Nt[Rt+1],Wt=Nt[Rt+2],Kt=Math.round(Yt),er=Math.round(Ft);let tr,ur,cr,nr,vr,Pr,Ar,Ir;for(let zr=Kt;zr<=er;zr++){if(zr<Ut){const pr=zr<Yt?0:(Yt-zr)/(Yt-Ut);tr=Ht-(Ht-zt)*pr,ur=Qt-(Qt-qt)*pr,cr=Zt-(Zt-Dt)*pr,nr=rr-(rr-Vt)*pr}else{let pr;zr>Ft?pr=1:Ut===Ft?pr=0:pr=(Ut-zr)/(Ut-Ft),tr=zt-(zt-kt)*pr,ur=qt-(qt-Lt)*pr,cr=Dt-(Dt-jt)*pr,nr=Vt-(Vt-Wt)*pr}let Cr;zr<Yt?Cr=0:zr>Ft?Cr=1:Cr=(Yt-zr)/(Yt-Ft),vr=Ht-(Ht-kt)*Cr,Pr=Qt-(Qt-Lt)*Cr,Ar=Zt-(Zt-jt)*Cr,Ir=rr-(rr-Wt)*Cr;const Dr=Math.round(Math.min(tr,vr)),xr=Math.round(Math.max(tr,vr));let hr=Gt*zr+Dr*4;for(let pr=Dr;pr<=xr;pr++)Cr=(tr-pr)/(tr-vr),Cr<0?Cr=0:Cr>1&&(Cr=1),Ot[hr++]=ur-(ur-Pr)*Cr|0,Ot[hr++]=cr-(cr-Ar)*Cr|0,Ot[hr++]=nr-(nr-Ir)*Cr|0,Ot[hr++]=255}}function gt(_t,Et,yt){const St=Et.coords,xt=Et.colors;let Ct,$t;switch(Et.type){case"lattice":const Rt=Et.verticesPerRow,It=Math.floor(St.length/Rt)-1,Nt=Rt-1;for(Ct=0;Ct<It;Ct++){let Ot=Ct*Rt;for(let Gt=0;Gt<Nt;Gt++,Ot++)mt(_t,yt,St[Ot],St[Ot+1],St[Ot+Rt],xt[Ot],xt[Ot+1],xt[Ot+Rt]),mt(_t,yt,St[Ot+Rt+1],St[Ot+1],St[Ot+Rt],xt[Ot+Rt+1],xt[Ot+1],xt[Ot+Rt])}break;case"triangles":for(Ct=0,$t=St.length;Ct<$t;Ct+=3)mt(_t,yt,St[Ct],St[Ct+1],St[Ct+2],xt[Ct],xt[Ct+1],xt[Ct+2]);break;default:throw new Error("illegal figure")}}class bt extends ft{constructor(Et){super(),this._coords=Et[2],this._colors=Et[3],this._figures=Et[4],this._bounds=Et[5],this._bbox=Et[7],this._background=Et[8],this.matrix=null}_createMeshCanvas(Et,yt,St){const Rt=Math.floor(this._bounds[0]),It=Math.floor(this._bounds[1]),Nt=Math.ceil(this._bounds[2])-Rt,Ot=Math.ceil(this._bounds[3])-It,Gt=Math.min(Math.ceil(Math.abs(Nt*Et[0]*1.1)),3e3),Xt=Math.min(Math.ceil(Math.abs(Ot*Et[1]*1.1)),3e3),Ht=Nt/Gt,Yt=Ot/Xt,zt={coords:this._coords,colors:this._colors,offsetX:-Rt,offsetY:-It,scaleX:1/Ht,scaleY:1/Yt},Ut=Gt+2*2,kt=Xt+2*2,Ft=St.getCanvas("mesh",Ut,kt,!1),Qt=Ft.context,Zt=Qt.createImageData(Gt,Xt);if(yt){const qt=Zt.data;for(let Dt=0,Vt=qt.length;Dt<Vt;Dt+=4)qt[Dt]=yt[0],qt[Dt+1]=yt[1],qt[Dt+2]=yt[2],qt[Dt+3]=255}for(const qt of this._figures)gt(Zt,qt,zt);return Qt.putImageData(Zt,2,2),{canvas:Ft.canvas,offsetX:Rt-2*Ht,offsetY:It-2*Yt,scaleX:Ht,scaleY:Yt}}getPattern(Et,yt,St,xt){ot(Et,this._bbox);let Ct;if(xt===et.SHADING)Ct=a.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(Et));else if(Ct=a.Util.singularValueDecompose2dScale(yt.baseTransform),this.matrix){const Rt=a.Util.singularValueDecompose2dScale(this.matrix);Ct=[Ct[0]*Rt[0],Ct[1]*Rt[1]]}const $t=this._createMeshCanvas(Ct,xt===et.SHADING?null:this._background,yt.cachedCanvases);return xt!==et.SHADING&&(Et.setTransform(...yt.baseTransform),this.matrix&&Et.transform(...this.matrix)),Et.translate($t.offsetX,$t.offsetY),Et.scale($t.scaleX,$t.scaleY),Et.createPattern($t.canvas,"no-repeat")}}class vt extends ft{getPattern(){return"hotpink"}}function Pt(_t){switch(_t[0]){case"RadialAxial":return new dt(_t);case"Mesh":return new bt(_t);case"Dummy":return new vt}throw new Error(`Unknown IR type: ${_t[0]}`)}const Tt={COLORED:1,UNCOLORED:2},wt=class wt{constructor(Et,yt,St,xt,Ct){this.operatorList=Et[2],this.matrix=Et[3]||[1,0,0,1,0,0],this.bbox=Et[4],this.xstep=Et[5],this.ystep=Et[6],this.paintType=Et[7],this.tilingType=Et[8],this.color=yt,this.ctx=St,this.canvasGraphicsFactory=xt,this.baseTransform=Ct}createPatternCanvas(Et){const yt=this.operatorList,St=this.bbox,xt=this.xstep,Ct=this.ystep,$t=this.paintType,Rt=this.tilingType,It=this.color,Nt=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+Rt);const Ot=St[0],Gt=St[1],Xt=St[2],Ht=St[3],Yt=a.Util.singularValueDecompose2dScale(this.matrix),zt=a.Util.singularValueDecompose2dScale(this.baseTransform),Ut=[Yt[0]*zt[0],Yt[1]*zt[1]],kt=this.getSizeAndScale(xt,this.ctx.canvas.width,Ut[0]),Ft=this.getSizeAndScale(Ct,this.ctx.canvas.height,Ut[1]),Qt=Et.cachedCanvases.getCanvas("pattern",kt.size,Ft.size,!0),Zt=Qt.context,rr=Nt.createCanvasGraphics(Zt);rr.groupLevel=Et.groupLevel,this.setFillAndStrokeStyleToContext(rr,$t,It);let qt=Ot,Dt=Gt,Vt=Xt,Lt=Ht;return Ot<0&&(qt=0,Vt+=Math.abs(Ot)),Gt<0&&(Dt=0,Lt+=Math.abs(Gt)),Zt.translate(-(kt.scale*qt),-(Ft.scale*Dt)),rr.transform(kt.scale,0,0,Ft.scale,0,0),Zt.save(),this.clipBbox(rr,qt,Dt,Vt,Lt),rr.baseTransform=(0,o.getCurrentTransform)(rr.ctx),rr.executeOperatorList(yt),rr.endDrawing(),{canvas:Qt.canvas,scaleX:kt.scale,scaleY:Ft.scale,offsetX:qt,offsetY:Dt}}getSizeAndScale(Et,yt,St){Et=Math.abs(Et);const xt=Math.max(wt.MAX_PATTERN_SIZE,yt);let Ct=Math.ceil(Et*St);return Ct>=xt?Ct=xt:St=Ct/Et,{scale:St,size:Ct}}clipBbox(Et,yt,St,xt,Ct){const $t=xt-yt,Rt=Ct-St;Et.ctx.rect(yt,St,$t,Rt),Et.current.updateRectMinMax((0,o.getCurrentTransform)(Et.ctx),[yt,St,xt,Ct]),Et.clip(),Et.endPath()}setFillAndStrokeStyleToContext(Et,yt,St){const xt=Et.ctx,Ct=Et.current;switch(yt){case Tt.COLORED:const $t=this.ctx;xt.fillStyle=$t.fillStyle,xt.strokeStyle=$t.strokeStyle,Ct.fillColor=$t.fillStyle,Ct.strokeColor=$t.strokeStyle;break;case Tt.UNCOLORED:const Rt=a.Util.makeHexColor(St[0],St[1],St[2]);xt.fillStyle=Rt,xt.strokeStyle=Rt,Ct.fillColor=Rt,Ct.strokeColor=Rt;break;default:throw new a.FormatError(`Unsupported paint type: ${yt}`)}}getPattern(Et,yt,St,xt){let Ct=St;xt!==et.SHADING&&(Ct=a.Util.transform(Ct,yt.baseTransform),this.matrix&&(Ct=a.Util.transform(Ct,this.matrix)));const $t=this.createPatternCanvas(yt);let Rt=new DOMMatrix(Ct);Rt=Rt.translate($t.offsetX,$t.offsetY),Rt=Rt.scale(1/$t.scaleX,1/$t.scaleY);const It=Et.createPattern($t.canvas,"repeat");return It.setTransform(Rt),It}};mn(wt,"MAX_PATTERN_SIZE",3e3);let At=wt;i.TilingPattern=At},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=et,i.convertToRGBA=o,i.grayToRGBA=ft;var a=s(1);function o(dt){switch(dt.kind){case a.ImageKind.GRAYSCALE_1BPP:return et(dt);case a.ImageKind.RGB_24BPP:return ot(dt)}return null}function et({src:dt,srcPos:mt=0,dest:gt,width:bt,height:vt,nonBlackColor:Pt=4294967295,inverseDecode:Tt=!1}){const At=a.FeatureTest.isLittleEndian?4278190080:255,[wt,_t]=Tt?[Pt,At]:[At,Pt],Et=bt>>3,yt=bt&7,St=dt.length;gt=new Uint32Array(gt.buffer);let xt=0;for(let Ct=0;Ct<vt;Ct++){for(const Rt=mt+Et;mt<Rt;mt++){const It=mt<St?dt[mt]:255;gt[xt++]=It&128?_t:wt,gt[xt++]=It&64?_t:wt,gt[xt++]=It&32?_t:wt,gt[xt++]=It&16?_t:wt,gt[xt++]=It&8?_t:wt,gt[xt++]=It&4?_t:wt,gt[xt++]=It&2?_t:wt,gt[xt++]=It&1?_t:wt}if(yt===0)continue;const $t=mt<St?dt[mt++]:255;for(let Rt=0;Rt<yt;Rt++)gt[xt++]=$t&1<<7-Rt?_t:wt}return{srcPos:mt,destPos:xt}}function ot({src:dt,srcPos:mt=0,dest:gt,destPos:bt=0,width:vt,height:Pt}){let Tt=0;const At=dt.length>>2,wt=new Uint32Array(dt.buffer,mt,At);if(a.FeatureTest.isLittleEndian){for(;Tt<At-2;Tt+=3,bt+=4){const _t=wt[Tt],Et=wt[Tt+1],yt=wt[Tt+2];gt[bt]=_t|4278190080,gt[bt+1]=_t>>>24|Et<<8|4278190080,gt[bt+2]=Et>>>16|yt<<16|4278190080,gt[bt+3]=yt>>>8|4278190080}for(let _t=Tt*4,Et=dt.length;_t<Et;_t+=3)gt[bt++]=dt[_t]|dt[_t+1]<<8|dt[_t+2]<<16|4278190080}else{for(;Tt<At-2;Tt+=3,bt+=4){const _t=wt[Tt],Et=wt[Tt+1],yt=wt[Tt+2];gt[bt]=_t|255,gt[bt+1]=_t<<24|Et>>>8|255,gt[bt+2]=Et<<16|yt>>>16|255,gt[bt+3]=yt<<8|255}for(let _t=Tt*4,Et=dt.length;_t<Et;_t+=3)gt[bt++]=dt[_t]<<24|dt[_t+1]<<16|dt[_t+2]<<8|255}return{srcPos:mt,destPos:bt}}function ft(dt,mt){if(a.FeatureTest.isLittleEndian)for(let gt=0,bt=dt.length;gt<bt;gt++)mt[gt]=dt[gt]*65793|4278190080;else for(let gt=0,bt=dt.length;gt<bt;gt++)mt[gt]=dt[gt]*16843008|255}},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(e,i,s)=>{var dt,xo,gt,wo,vt,is;Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var a=s(1);const o={UNKNOWN:0,DATA:1,ERROR:2},et={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ot(Tt){switch(Tt instanceof Error||typeof Tt=="object"&&Tt!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Tt.name){case"AbortException":return new a.AbortException(Tt.message);case"MissingPDFException":return new a.MissingPDFException(Tt.message);case"PasswordException":return new a.PasswordException(Tt.message,Tt.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(Tt.message,Tt.status);case"UnknownErrorException":return new a.UnknownErrorException(Tt.message,Tt.details);default:return new a.UnknownErrorException(Tt.message,Tt.toString())}}class ft{constructor(At,wt,_t){lr(this,dt);lr(this,gt);lr(this,vt);this.sourceName=At,this.targetName=wt,this.comObj=_t,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Et=>{const yt=Et.data;if(yt.targetName!==this.sourceName)return;if(yt.stream){gr(this,gt,wo).call(this,yt);return}if(yt.callback){const xt=yt.callbackId,Ct=this.callbackCapabilities[xt];if(!Ct)throw new Error(`Cannot resolve callback ${xt}`);if(delete this.callbackCapabilities[xt],yt.callback===o.DATA)Ct.resolve(yt.data);else if(yt.callback===o.ERROR)Ct.reject(ot(yt.reason));else throw new Error("Unexpected callback case");return}const St=this.actionHandler[yt.action];if(!St)throw new Error(`Unknown action from worker: ${yt.action}`);if(yt.callbackId){const xt=this.sourceName,Ct=yt.sourceName;new Promise(function($t){$t(St(yt.data))}).then(function($t){_t.postMessage({sourceName:xt,targetName:Ct,callback:o.DATA,callbackId:yt.callbackId,data:$t})},function($t){_t.postMessage({sourceName:xt,targetName:Ct,callback:o.ERROR,callbackId:yt.callbackId,reason:ot($t)})});return}if(yt.streamId){gr(this,dt,xo).call(this,yt);return}St(yt.data)},_t.addEventListener("message",this._onComObjOnMessage)}on(At,wt){const _t=this.actionHandler;if(_t[At])throw new Error(`There is already an actionName called "${At}"`);_t[At]=wt}send(At,wt,_t){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:At,data:wt},_t)}sendWithPromise(At,wt,_t){const Et=this.callbackId++,yt=new a.PromiseCapability;this.callbackCapabilities[Et]=yt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:At,callbackId:Et,data:wt},_t)}catch(St){yt.reject(St)}return yt.promise}sendWithStream(At,wt,_t,Et){const yt=this.streamId++,St=this.sourceName,xt=this.targetName,Ct=this.comObj;return new ReadableStream({start:$t=>{const Rt=new a.PromiseCapability;return this.streamControllers[yt]={controller:$t,startCall:Rt,pullCall:null,cancelCall:null,isClosed:!1},Ct.postMessage({sourceName:St,targetName:xt,action:At,streamId:yt,data:wt,desiredSize:$t.desiredSize},Et),Rt.promise},pull:$t=>{const Rt=new a.PromiseCapability;return this.streamControllers[yt].pullCall=Rt,Ct.postMessage({sourceName:St,targetName:xt,stream:et.PULL,streamId:yt,desiredSize:$t.desiredSize}),Rt.promise},cancel:$t=>{(0,a.assert)($t instanceof Error,"cancel must have a valid reason");const Rt=new a.PromiseCapability;return this.streamControllers[yt].cancelCall=Rt,this.streamControllers[yt].isClosed=!0,Ct.postMessage({sourceName:St,targetName:xt,stream:et.CANCEL,streamId:yt,reason:ot($t)}),Rt.promise}},_t)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}dt=new WeakSet,xo=function(At){const wt=At.streamId,_t=this.sourceName,Et=At.sourceName,yt=this.comObj,St=this,xt=this.actionHandler[At.action],Ct={enqueue($t,Rt=1,It){if(this.isCancelled)return;const Nt=this.desiredSize;this.desiredSize-=Rt,Nt>0&&this.desiredSize<=0&&(this.sinkCapability=new a.PromiseCapability,this.ready=this.sinkCapability.promise),yt.postMessage({sourceName:_t,targetName:Et,stream:et.ENQUEUE,streamId:wt,chunk:$t},It)},close(){this.isCancelled||(this.isCancelled=!0,yt.postMessage({sourceName:_t,targetName:Et,stream:et.CLOSE,streamId:wt}),delete St.streamSinks[wt])},error($t){(0,a.assert)($t instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,yt.postMessage({sourceName:_t,targetName:Et,stream:et.ERROR,streamId:wt,reason:ot($t)}))},sinkCapability:new a.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:At.desiredSize,ready:null};Ct.sinkCapability.resolve(),Ct.ready=Ct.sinkCapability.promise,this.streamSinks[wt]=Ct,new Promise(function($t){$t(xt(At.data,Ct))}).then(function(){yt.postMessage({sourceName:_t,targetName:Et,stream:et.START_COMPLETE,streamId:wt,success:!0})},function($t){yt.postMessage({sourceName:_t,targetName:Et,stream:et.START_COMPLETE,streamId:wt,reason:ot($t)})})},gt=new WeakSet,wo=function(At){const wt=At.streamId,_t=this.sourceName,Et=At.sourceName,yt=this.comObj,St=this.streamControllers[wt],xt=this.streamSinks[wt];switch(At.stream){case et.START_COMPLETE:At.success?St.startCall.resolve():St.startCall.reject(ot(At.reason));break;case et.PULL_COMPLETE:At.success?St.pullCall.resolve():St.pullCall.reject(ot(At.reason));break;case et.PULL:if(!xt){yt.postMessage({sourceName:_t,targetName:Et,stream:et.PULL_COMPLETE,streamId:wt,success:!0});break}xt.desiredSize<=0&&At.desiredSize>0&&xt.sinkCapability.resolve(),xt.desiredSize=At.desiredSize,new Promise(function(Ct){var $t;Ct(($t=xt.onPull)==null?void 0:$t.call(xt))}).then(function(){yt.postMessage({sourceName:_t,targetName:Et,stream:et.PULL_COMPLETE,streamId:wt,success:!0})},function(Ct){yt.postMessage({sourceName:_t,targetName:Et,stream:et.PULL_COMPLETE,streamId:wt,reason:ot(Ct)})});break;case et.ENQUEUE:if((0,a.assert)(St,"enqueue should have stream controller"),St.isClosed)break;St.controller.enqueue(At.chunk);break;case et.CLOSE:if((0,a.assert)(St,"close should have stream controller"),St.isClosed)break;St.isClosed=!0,St.controller.close(),gr(this,vt,is).call(this,St,wt);break;case et.ERROR:(0,a.assert)(St,"error should have stream controller"),St.controller.error(ot(At.reason)),gr(this,vt,is).call(this,St,wt);break;case et.CANCEL_COMPLETE:At.success?St.cancelCall.resolve():St.cancelCall.reject(ot(At.reason)),gr(this,vt,is).call(this,St,wt);break;case et.CANCEL:if(!xt)break;new Promise(function(Ct){var $t;Ct(($t=xt.onCancel)==null?void 0:$t.call(xt,ot(At.reason)))}).then(function(){yt.postMessage({sourceName:_t,targetName:Et,stream:et.CANCEL_COMPLETE,streamId:wt,success:!0})},function(Ct){yt.postMessage({sourceName:_t,targetName:Et,stream:et.CANCEL_COMPLETE,streamId:wt,reason:ot(Ct)})}),xt.sinkCapability.reject(ot(At.reason)),xt.isCancelled=!0,delete this.streamSinks[wt];break;default:throw new Error("Unexpected stream case")}},vt=new WeakSet,is=async function(At,wt){var _t,Et,yt;await Promise.allSettled([(_t=At.startCall)==null?void 0:_t.promise,(Et=At.pullCall)==null?void 0:Et.promise,(yt=At.cancelCall)==null?void 0:yt.promise]),delete this.streamControllers[wt]},i.MessageHandler=ft},(e,i,s)=>{var et,ot;Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var a=s(1);class o{constructor({parsedData:dt,rawData:mt}){lr(this,et,void 0);lr(this,ot,void 0);Tr(this,et,dt),Tr(this,ot,mt)}getRaw(){return Mt(this,ot)}get(dt){return Mt(this,et).get(dt)??null}getAll(){return(0,a.objectFromMap)(Mt(this,et))}has(dt){return Mt(this,et).has(dt)}}et=new WeakMap,ot=new WeakMap,i.Metadata=o},(e,i,s)=>{var dt,mt,gt,bt,vt,Pt,Bs;Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var a=s(1),o=s(8);const et=Symbol("INTERNAL");class ot{constructor(wt,_t){lr(this,dt,!0);this.name=wt,this.intent=_t}get visible(){return Mt(this,dt)}_setVisible(wt,_t){wt!==et&&(0,a.unreachable)("Internal method `_setVisible` called."),Tr(this,dt,_t)}}dt=new WeakMap;class ft{constructor(wt){lr(this,Pt);lr(this,mt,null);lr(this,gt,new Map);lr(this,bt,null);lr(this,vt,null);if(this.name=null,this.creator=null,wt!==null){this.name=wt.name,this.creator=wt.creator,Tr(this,vt,wt.order);for(const _t of wt.groups)Mt(this,gt).set(_t.id,new ot(_t.name,_t.intent));if(wt.baseState==="OFF")for(const _t of Mt(this,gt).values())_t._setVisible(et,!1);for(const _t of wt.on)Mt(this,gt).get(_t)._setVisible(et,!0);for(const _t of wt.off)Mt(this,gt).get(_t)._setVisible(et,!1);Tr(this,bt,this.getHash())}}isVisible(wt){if(Mt(this,gt).size===0)return!0;if(!wt)return(0,a.warn)("Optional content group not defined."),!0;if(wt.type==="OCG")return Mt(this,gt).has(wt.id)?Mt(this,gt).get(wt.id).visible:((0,a.warn)(`Optional content group not found: ${wt.id}`),!0);if(wt.type==="OCMD"){if(wt.expression)return gr(this,Pt,Bs).call(this,wt.expression);if(!wt.policy||wt.policy==="AnyOn"){for(const _t of wt.ids){if(!Mt(this,gt).has(_t))return(0,a.warn)(`Optional content group not found: ${_t}`),!0;if(Mt(this,gt).get(_t).visible)return!0}return!1}else if(wt.policy==="AllOn"){for(const _t of wt.ids){if(!Mt(this,gt).has(_t))return(0,a.warn)(`Optional content group not found: ${_t}`),!0;if(!Mt(this,gt).get(_t).visible)return!1}return!0}else if(wt.policy==="AnyOff"){for(const _t of wt.ids){if(!Mt(this,gt).has(_t))return(0,a.warn)(`Optional content group not found: ${_t}`),!0;if(!Mt(this,gt).get(_t).visible)return!0}return!1}else if(wt.policy==="AllOff"){for(const _t of wt.ids){if(!Mt(this,gt).has(_t))return(0,a.warn)(`Optional content group not found: ${_t}`),!0;if(Mt(this,gt).get(_t).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${wt.policy}.`),!0}return(0,a.warn)(`Unknown group type ${wt.type}.`),!0}setVisibility(wt,_t=!0){if(!Mt(this,gt).has(wt)){(0,a.warn)(`Optional content group not found: ${wt}`);return}Mt(this,gt).get(wt)._setVisible(et,!!_t),Tr(this,mt,null)}get hasInitialVisibility(){return Mt(this,bt)===null||this.getHash()===Mt(this,bt)}getOrder(){return Mt(this,gt).size?Mt(this,vt)?Mt(this,vt).slice():[...Mt(this,gt).keys()]:null}getGroups(){return Mt(this,gt).size>0?(0,a.objectFromMap)(Mt(this,gt)):null}getGroup(wt){return Mt(this,gt).get(wt)||null}getHash(){if(Mt(this,mt)!==null)return Mt(this,mt);const wt=new o.MurmurHash3_64;for(const[_t,Et]of Mt(this,gt))wt.update(`${_t}:${Et.visible}`);return Tr(this,mt,wt.hexdigest())}}mt=new WeakMap,gt=new WeakMap,bt=new WeakMap,vt=new WeakMap,Pt=new WeakSet,Bs=function(wt){const _t=wt.length;if(_t<2)return!0;const Et=wt[0];for(let yt=1;yt<_t;yt++){const St=wt[yt];let xt;if(Array.isArray(St))xt=gr(this,Pt,Bs).call(this,St);else if(Mt(this,gt).has(St))xt=Mt(this,gt).get(St).visible;else return(0,a.warn)(`Optional content group not found: ${St}`),!0;switch(Et){case"And":if(!xt)return!1;break;case"Or":if(xt)return!0;break;case"Not":return!xt;default:return!0}}return Et==="And"},i.OptionalContentConfig=ft},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var a=s(1),o=s(6);class et{constructor({length:mt,initialData:gt,progressiveDone:bt=!1,contentDispositionFilename:vt=null,disableRange:Pt=!1,disableStream:Tt=!1},At){if((0,a.assert)(At,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=bt,this._contentDispositionFilename=vt,(gt==null?void 0:gt.length)>0){const wt=gt instanceof Uint8Array&&gt.byteLength===gt.buffer.byteLength?gt.buffer:new Uint8Array(gt).buffer;this._queuedChunks.push(wt)}this._pdfDataRangeTransport=At,this._isStreamingSupported=!Tt,this._isRangeSupported=!Pt,this._contentLength=mt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((wt,_t)=>{this._onReceiveData({begin:wt,chunk:_t})}),this._pdfDataRangeTransport.addProgressListener((wt,_t)=>{this._onProgress({loaded:wt,total:_t})}),this._pdfDataRangeTransport.addProgressiveReadListener(wt=>{this._onReceiveData({chunk:wt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:mt,chunk:gt}){const bt=gt instanceof Uint8Array&&gt.byteLength===gt.buffer.byteLength?gt.buffer:new Uint8Array(gt).buffer;if(mt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(bt):this._queuedChunks.push(bt);else{const vt=this._rangeReaders.some(function(Pt){return Pt._begin!==mt?!1:(Pt._enqueue(bt),!0)});(0,a.assert)(vt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var mt;return((mt=this._fullRequestReader)==null?void 0:mt._loaded)??0}_onProgress(mt){var gt,bt,vt,Pt;mt.total===void 0?(bt=(gt=this._rangeReaders[0])==null?void 0:gt.onProgress)==null||bt.call(gt,{loaded:mt.loaded}):(Pt=(vt=this._fullRequestReader)==null?void 0:vt.onProgress)==null||Pt.call(vt,{loaded:mt.loaded,total:mt.total})}_onProgressiveDone(){var mt;(mt=this._fullRequestReader)==null||mt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(mt){const gt=this._rangeReaders.indexOf(mt);gt>=0&&this._rangeReaders.splice(gt,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const mt=this._queuedChunks;return this._queuedChunks=null,new ot(this,mt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(mt,gt){if(gt<=this._progressiveDataLength)return null;const bt=new ft(this,mt,gt);return this._pdfDataRangeTransport.requestDataRange(mt,gt),this._rangeReaders.push(bt),bt}cancelAllRequests(mt){var gt;(gt=this._fullRequestReader)==null||gt.cancel(mt);for(const bt of this._rangeReaders.slice(0))bt.cancel(mt);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=et;class ot{constructor(mt,gt,bt=!1,vt=null){this._stream=mt,this._done=bt||!1,this._filename=(0,o.isPdfFile)(vt)?vt:null,this._queuedChunks=gt||[],this._loaded=0;for(const Pt of this._queuedChunks)this._loaded+=Pt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),mt._fullRequestReader=this,this.onProgress=null}_enqueue(mt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:mt,done:!1}):this._queuedChunks.push(mt),this._loaded+=mt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const mt=new a.PromiseCapability;return this._requests.push(mt),mt.promise}cancel(mt){this._done=!0;for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ft{constructor(mt,gt,bt){this._stream=mt,this._begin=gt,this._end=bt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(mt){if(!this._done){if(this._requests.length===0)this._queuedChunk=mt;else{this._requests.shift().resolve({value:mt,done:!1});for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const gt=this._queuedChunk;return this._queuedChunk=null,{value:gt,done:!1}}if(this._done)return{value:void 0,done:!0};const mt=new a.PromiseCapability;return this._requests.push(mt),mt.promise}cancel(mt){this._done=!0;for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var a=s(1),o=s(20);function et(bt,vt,Pt){return{method:"GET",headers:bt,signal:Pt.signal,mode:"cors",credentials:vt?"include":"same-origin",redirect:"follow"}}function ot(bt){const vt=new Headers;for(const Pt in bt){const Tt=bt[Pt];Tt!==void 0&&vt.append(Pt,Tt)}return vt}function ft(bt){return bt instanceof Uint8Array?bt.buffer:bt instanceof ArrayBuffer?bt:((0,a.warn)(`getArrayBuffer - unexpected data format: ${bt}`),new Uint8Array(bt).buffer)}class dt{constructor(vt){this.source=vt,this.isHttp=/^https?:/i.test(vt.url),this.httpHeaders=this.isHttp&&vt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var vt;return((vt=this._fullRequestReader)==null?void 0:vt._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new mt(this),this._fullRequestReader}getRangeReader(vt,Pt){if(Pt<=this._progressiveDataLength)return null;const Tt=new gt(this,vt,Pt);return this._rangeRequestReaders.push(Tt),Tt}cancelAllRequests(vt){var Pt;(Pt=this._fullRequestReader)==null||Pt.cancel(vt);for(const Tt of this._rangeRequestReaders.slice(0))Tt.cancel(vt)}}i.PDFFetchStream=dt;class mt{constructor(vt){this._stream=vt,this._reader=null,this._loaded=0,this._filename=null;const Pt=vt.source;this._withCredentials=Pt.withCredentials||!1,this._contentLength=Pt.length,this._headersCapability=new a.PromiseCapability,this._disableRange=Pt.disableRange||!1,this._rangeChunkSize=Pt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Pt.disableStream,this._isRangeSupported=!Pt.disableRange,this._headers=ot(this._stream.httpHeaders);const Tt=Pt.url;fetch(Tt,et(this._headers,this._withCredentials,this._abortController)).then(At=>{if(!(0,o.validateResponseStatus)(At.status))throw(0,o.createResponseStatusError)(At.status,Tt);this._reader=At.body.getReader(),this._headersCapability.resolve();const wt=yt=>At.headers.get(yt),{allowRangeRequests:_t,suggestedLength:Et}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:wt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_t,this._contentLength=Et||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(wt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Tt;await this._headersCapability.promise;const{value:vt,done:Pt}=await this._reader.read();return Pt?{value:vt,done:Pt}:(this._loaded+=vt.byteLength,(Tt=this.onProgress)==null||Tt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ft(vt),done:!1})}cancel(vt){var Pt;(Pt=this._reader)==null||Pt.cancel(vt),this._abortController.abort()}}class gt{constructor(vt,Pt,Tt){this._stream=vt,this._reader=null,this._loaded=0;const At=vt.source;this._withCredentials=At.withCredentials||!1,this._readCapability=new a.PromiseCapability,this._isStreamingSupported=!At.disableStream,this._abortController=new AbortController,this._headers=ot(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Pt}-${Tt-1}`);const wt=At.url;fetch(wt,et(this._headers,this._withCredentials,this._abortController)).then(_t=>{if(!(0,o.validateResponseStatus)(_t.status))throw(0,o.createResponseStatusError)(_t.status,wt);this._readCapability.resolve(),this._reader=_t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Tt;await this._readCapability.promise;const{value:vt,done:Pt}=await this._reader.read();return Pt?{value:vt,done:Pt}:(this._loaded+=vt.byteLength,(Tt=this.onProgress)==null||Tt.call(this,{loaded:this._loaded}),{value:ft(vt),done:!1})}cancel(vt){var Pt;(Pt=this._reader)==null||Pt.cancel(vt),this._abortController.abort()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=dt,i.extractFilenameFromHeader=ft,i.validateRangeRequestCapabilities=ot,i.validateResponseStatus=mt;var a=s(1),o=s(21),et=s(6);function ot({getResponseHeader:gt,isHttp:bt,rangeChunkSize:vt,disableRange:Pt}){const Tt={allowRangeRequests:!1,suggestedLength:void 0},At=parseInt(gt("Content-Length"),10);return!Number.isInteger(At)||(Tt.suggestedLength=At,At<=2*vt)||Pt||!bt||gt("Accept-Ranges")!=="bytes"||(gt("Content-Encoding")||"identity")!=="identity"||(Tt.allowRangeRequests=!0),Tt}function ft(gt){const bt=gt("Content-Disposition");if(bt){let vt=(0,o.getFilenameFromContentDispositionHeader)(bt);if(vt.includes("%"))try{vt=decodeURIComponent(vt)}catch{}if((0,et.isPdfFile)(vt))return vt}return null}function dt(gt,bt){return gt===404||gt===0&&bt.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+bt+'".'):new a.UnexpectedResponseException(`Unexpected server response (${gt}) while retrieving PDF "${bt}".`,gt)}function mt(gt){return gt===200||gt===206}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=o;var a=s(1);function o(et){let ot=!0,ft=dt("filename\\*","i").exec(et);if(ft){ft=ft[1];let At=vt(ft);return At=unescape(At),At=Pt(At),At=Tt(At),gt(At)}if(ft=bt(et),ft){const At=Tt(ft);return gt(At)}if(ft=dt("filename","i").exec(et),ft){ft=ft[1];let At=vt(ft);return At=Tt(At),gt(At)}function dt(At,wt){return new RegExp("(?:^|;)\\s*"+At+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',wt)}function mt(At,wt){if(At){if(!/^[\x00-\xFF]+$/.test(wt))return wt;try{const _t=new TextDecoder(At,{fatal:!0}),Et=(0,a.stringToBytes)(wt);wt=_t.decode(Et),ot=!1}catch{}}return wt}function gt(At){return ot&&/[\x80-\xff]/.test(At)&&(At=mt("utf-8",At),ot&&(At=mt("iso-8859-1",At))),At}function bt(At){const wt=[];let _t;const Et=dt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(_t=Et.exec(At))!==null;){let[,St,xt,Ct]=_t;if(St=parseInt(St,10),St in wt){if(St===0)break;continue}wt[St]=[xt,Ct]}const yt=[];for(let St=0;St<wt.length&&St in wt;++St){let[xt,Ct]=wt[St];Ct=vt(Ct),xt&&(Ct=unescape(Ct),St===0&&(Ct=Pt(Ct))),yt.push(Ct)}return yt.join("")}function vt(At){if(At.startsWith('"')){const wt=At.slice(1).split('\\"');for(let _t=0;_t<wt.length;++_t){const Et=wt[_t].indexOf('"');Et!==-1&&(wt[_t]=wt[_t].slice(0,Et),wt.length=_t+1),wt[_t]=wt[_t].replaceAll(/\\(.)/g,"$1")}At=wt.join('"')}return At}function Pt(At){const wt=At.indexOf("'");if(wt===-1)return At;const _t=At.slice(0,wt),yt=At.slice(wt+1).replace(/^[^']*'/,"");return mt(_t,yt)}function Tt(At){return!At.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(At)?At:At.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(wt,_t,Et,yt){if(Et==="q"||Et==="Q")return yt=yt.replaceAll("_"," "),yt=yt.replaceAll(/=([0-9a-fA-F]{2})/g,function(St,xt){return String.fromCharCode(parseInt(xt,16))}),mt(_t,yt);try{yt=atob(yt)}catch{}return mt(_t,yt)})}return""}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var a=s(1),o=s(20);const et=200,ot=206;function ft(vt){const Pt=vt.response;return typeof Pt!="string"?Pt:(0,a.stringToBytes)(Pt).buffer}class dt{constructor(Pt,Tt={}){this.url=Pt,this.isHttp=/^https?:/i.test(Pt),this.httpHeaders=this.isHttp&&Tt.httpHeaders||Object.create(null),this.withCredentials=Tt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Pt,Tt,At){const wt={begin:Pt,end:Tt};for(const _t in At)wt[_t]=At[_t];return this.request(wt)}requestFull(Pt){return this.request(Pt)}request(Pt){const Tt=new XMLHttpRequest,At=this.currXhrId++,wt=this.pendingRequests[At]={xhr:Tt};Tt.open("GET",this.url),Tt.withCredentials=this.withCredentials;for(const _t in this.httpHeaders){const Et=this.httpHeaders[_t];Et!==void 0&&Tt.setRequestHeader(_t,Et)}return this.isHttp&&"begin"in Pt&&"end"in Pt?(Tt.setRequestHeader("Range",`bytes=${Pt.begin}-${Pt.end-1}`),wt.expectedStatus=ot):wt.expectedStatus=et,Tt.responseType="arraybuffer",Pt.onError&&(Tt.onerror=function(_t){Pt.onError(Tt.status)}),Tt.onreadystatechange=this.onStateChange.bind(this,At),Tt.onprogress=this.onProgress.bind(this,At),wt.onHeadersReceived=Pt.onHeadersReceived,wt.onDone=Pt.onDone,wt.onError=Pt.onError,wt.onProgress=Pt.onProgress,Tt.send(null),At}onProgress(Pt,Tt){var wt;const At=this.pendingRequests[Pt];At&&((wt=At.onProgress)==null||wt.call(At,Tt))}onStateChange(Pt,Tt){var St,xt,Ct;const At=this.pendingRequests[Pt];if(!At)return;const wt=At.xhr;if(wt.readyState>=2&&At.onHeadersReceived&&(At.onHeadersReceived(),delete At.onHeadersReceived),wt.readyState!==4||!(Pt in this.pendingRequests))return;if(delete this.pendingRequests[Pt],wt.status===0&&this.isHttp){(St=At.onError)==null||St.call(At,wt.status);return}const _t=wt.status||et;if(!(_t===et&&At.expectedStatus===ot)&&_t!==At.expectedStatus){(xt=At.onError)==null||xt.call(At,wt.status);return}const yt=ft(wt);if(_t===ot){const $t=wt.getResponseHeader("Content-Range"),Rt=/bytes (\d+)-(\d+)\/(\d+)/.exec($t);At.onDone({begin:parseInt(Rt[1],10),chunk:yt})}else yt?At.onDone({begin:0,chunk:yt}):(Ct=At.onError)==null||Ct.call(At,wt.status)}getRequestXhr(Pt){return this.pendingRequests[Pt].xhr}isPendingRequest(Pt){return Pt in this.pendingRequests}abortRequest(Pt){const Tt=this.pendingRequests[Pt].xhr;delete this.pendingRequests[Pt],Tt.abort()}}class mt{constructor(Pt){this._source=Pt,this._manager=new dt(Pt.url,{httpHeaders:Pt.httpHeaders,withCredentials:Pt.withCredentials}),this._rangeChunkSize=Pt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Pt){const Tt=this._rangeRequestReaders.indexOf(Pt);Tt>=0&&this._rangeRequestReaders.splice(Tt,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new gt(this._manager,this._source),this._fullRequestReader}getRangeReader(Pt,Tt){const At=new bt(this._manager,Pt,Tt);return At.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(At),At}cancelAllRequests(Pt){var Tt;(Tt=this._fullRequestReader)==null||Tt.cancel(Pt);for(const At of this._rangeRequestReaders.slice(0))At.cancel(Pt)}}i.PDFNetworkStream=mt;class gt{constructor(Pt,Tt){this._manager=Pt;const At={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Tt.url,this._fullRequestId=Pt.requestFull(At),this._headersReceivedCapability=new a.PromiseCapability,this._disableRange=Tt.disableRange||!1,this._contentLength=Tt.length,this._rangeChunkSize=Tt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Pt=this._fullRequestId,Tt=this._manager.getRequestXhr(Pt),At=Et=>Tt.getResponseHeader(Et),{allowRangeRequests:wt,suggestedLength:_t}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:At,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});wt&&(this._isRangeSupported=!0),this._contentLength=_t||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(At),this._isRangeSupported&&this._manager.abortRequest(Pt),this._headersReceivedCapability.resolve()}_onDone(Pt){if(Pt&&(this._requests.length>0?this._requests.shift().resolve({value:Pt.chunk,done:!1}):this._cachedChunks.push(Pt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Tt of this._requests)Tt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Pt){this._storedError=(0,o.createResponseStatusError)(Pt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Tt of this._requests)Tt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Pt){var Tt;(Tt=this.onProgress)==null||Tt.call(this,{loaded:Pt.loaded,total:Pt.lengthComputable?Pt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Pt=new a.PromiseCapability;return this._requests.push(Pt),Pt.promise}cancel(Pt){this._done=!0,this._headersReceivedCapability.reject(Pt);for(const Tt of this._requests)Tt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class bt{constructor(Pt,Tt,At){this._manager=Pt;const wt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Pt.url,this._requestId=Pt.requestRange(Tt,At,wt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var Pt;(Pt=this.onClosed)==null||Pt.call(this,this)}_onDone(Pt){const Tt=Pt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Tt,done:!1}):this._queuedChunk=Tt,this._done=!0;for(const At of this._requests)At.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Pt){this._storedError=(0,o.createResponseStatusError)(Pt,this._url);for(const Tt of this._requests)Tt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Pt){var Tt;this.isStreamingSupported||(Tt=this.onProgress)==null||Tt.call(this,{loaded:Pt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Tt=this._queuedChunk;return this._queuedChunk=null,{value:Tt,done:!1}}if(this._done)return{value:void 0,done:!0};const Pt=new a.PromiseCapability;return this._requests.push(Pt),Pt.promise}cancel(Pt){this._done=!0;for(const Tt of this._requests)Tt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var a=s(1),o=s(20);const et=/^file:\/\/\/[a-zA-Z]:\//;function ot(At){const wt=require$$5,_t=wt.parse(At);return _t.protocol==="file:"||_t.host?_t:/^[a-z]:[/\\]/i.test(At)?wt.parse(`file:///${At}`):(_t.host||(_t.protocol="file:"),_t)}class ft{constructor(wt){this.source=wt,this.url=ot(wt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&wt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var wt;return((wt=this._fullRequestReader)==null?void 0:wt._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Pt(this):new bt(this),this._fullRequestReader}getRangeReader(wt,_t){if(_t<=this._progressiveDataLength)return null;const Et=this.isFsUrl?new Tt(this,wt,_t):new vt(this,wt,_t);return this._rangeRequestReaders.push(Et),Et}cancelAllRequests(wt){var _t;(_t=this._fullRequestReader)==null||_t.cancel(wt);for(const Et of this._rangeRequestReaders.slice(0))Et.cancel(wt)}}i.PDFNodeStream=ft;class dt{constructor(wt){this._url=wt.url,this._done=!1,this._storedError=null,this.onProgress=null;const _t=wt.source;this._contentLength=_t.length,this._loaded=0,this._filename=null,this._disableRange=_t.disableRange||!1,this._rangeChunkSize=_t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!_t.disableStream,this._isRangeSupported=!_t.disableRange,this._readableStream=null,this._readCapability=new a.PromiseCapability,this._headersCapability=new a.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Et;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const wt=this._readableStream.read();return wt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=wt.length,(Et=this.onProgress)==null||Et.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(wt).buffer,done:!1})}cancel(wt){if(!this._readableStream){this._error(wt);return}this._readableStream.destroy(wt)}_error(wt){this._storedError=wt,this._readCapability.resolve()}_setReadableStream(wt){this._readableStream=wt,wt.on("readable",()=>{this._readCapability.resolve()}),wt.on("end",()=>{wt.destroy(),this._done=!0,this._readCapability.resolve()}),wt.on("error",_t=>{this._error(_t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class mt{constructor(wt){this._url=wt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new a.PromiseCapability;const _t=wt.source;this._isStreamingSupported=!_t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Et;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const wt=this._readableStream.read();return wt===null?(this._readCapability=new a.PromiseCapability,this.read()):(this._loaded+=wt.length,(Et=this.onProgress)==null||Et.call(this,{loaded:this._loaded}),{value:new Uint8Array(wt).buffer,done:!1})}cancel(wt){if(!this._readableStream){this._error(wt);return}this._readableStream.destroy(wt)}_error(wt){this._storedError=wt,this._readCapability.resolve()}_setReadableStream(wt){this._readableStream=wt,wt.on("readable",()=>{this._readCapability.resolve()}),wt.on("end",()=>{wt.destroy(),this._done=!0,this._readCapability.resolve()}),wt.on("error",_t=>{this._error(_t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function gt(At,wt){return{protocol:At.protocol,auth:At.auth,host:At.hostname,port:At.port,path:At.path,method:"GET",headers:wt}}class bt extends dt{constructor(wt){super(wt);const _t=Et=>{if(Et.statusCode===404){const Ct=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ct,this._headersCapability.reject(Ct);return}this._headersCapability.resolve(),this._setReadableStream(Et);const yt=Ct=>this._readableStream.headers[Ct.toLowerCase()],{allowRangeRequests:St,suggestedLength:xt}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:yt,isHttp:wt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=St,this._contentLength=xt||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(yt)};if(this._request=null,this._url.protocol==="http:"){const Et=require$$5;this._request=Et.request(gt(this._url,wt.httpHeaders),_t)}else{const Et=require$$5;this._request=Et.request(gt(this._url,wt.httpHeaders),_t)}this._request.on("error",Et=>{this._storedError=Et,this._headersCapability.reject(Et)}),this._request.end()}}class vt extends mt{constructor(wt,_t,Et){super(wt),this._httpHeaders={};for(const St in wt.httpHeaders){const xt=wt.httpHeaders[St];xt!==void 0&&(this._httpHeaders[St]=xt)}this._httpHeaders.Range=`bytes=${_t}-${Et-1}`;const yt=St=>{if(St.statusCode===404){const xt=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=xt;return}this._setReadableStream(St)};if(this._request=null,this._url.protocol==="http:"){const St=require$$5;this._request=St.request(gt(this._url,this._httpHeaders),yt)}else{const St=require$$5;this._request=St.request(gt(this._url,this._httpHeaders),yt)}this._request.on("error",St=>{this._storedError=St}),this._request.end()}}class Pt extends dt{constructor(wt){super(wt);let _t=decodeURIComponent(this._url.path);et.test(this._url.href)&&(_t=_t.replace(/^\//,""));const Et=require$$5;Et.lstat(_t,(yt,St)=>{if(yt){yt.code==="ENOENT"&&(yt=new a.MissingPDFException(`Missing PDF "${_t}".`)),this._storedError=yt,this._headersCapability.reject(yt);return}this._contentLength=St.size,this._setReadableStream(Et.createReadStream(_t)),this._headersCapability.resolve()})}}class Tt extends mt{constructor(wt,_t,Et){super(wt);let yt=decodeURIComponent(this._url.path);et.test(this._url.href)&&(yt=yt.replace(/^\//,""));const St=require$$5;this._setReadableStream(St.createReadStream(yt,{start:_t,end:Et-1}))}}},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var a=s(6),o=s(1);const et={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},ot="http://www.w3.org/XML/1998/namespace",ft="http://www.w3.org/1999/xlink",dt=["butt","round","square"],mt=["miter","round","bevel"],gt=function(St,xt="",Ct=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Ct)return URL.createObjectURL(new Blob([St],{type:xt}));const $t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Rt=`data:${xt};base64,`;for(let It=0,Nt=St.length;It<Nt;It+=3){const Ot=St[It]&255,Gt=St[It+1]&255,Xt=St[It+2]&255,Ht=Ot>>2,Yt=(Ot&3)<<4|Gt>>4,zt=It+1<Nt?(Gt&15)<<2|Xt>>6:64,Ut=It+2<Nt?Xt&63:64;Rt+=$t[Ht]+$t[Yt]+$t[zt]+$t[Ut]}return Rt},bt=function(){const St=new Uint8Array([137,80,78,71,13,10,26,10]),xt=12,Ct=new Int32Array(256);for(let Xt=0;Xt<256;Xt++){let Ht=Xt;for(let Yt=0;Yt<8;Yt++)Ht=Ht&1?3988292384^Ht>>1&2147483647:Ht>>1&2147483647;Ct[Xt]=Ht}function $t(Xt,Ht,Yt){let zt=-1;for(let Ut=Ht;Ut<Yt;Ut++){const kt=(zt^Xt[Ut])&255,Ft=Ct[kt];zt=zt>>>8^Ft}return zt^-1}function Rt(Xt,Ht,Yt,zt){let Ut=zt;const kt=Ht.length;Yt[Ut]=kt>>24&255,Yt[Ut+1]=kt>>16&255,Yt[Ut+2]=kt>>8&255,Yt[Ut+3]=kt&255,Ut+=4,Yt[Ut]=Xt.charCodeAt(0)&255,Yt[Ut+1]=Xt.charCodeAt(1)&255,Yt[Ut+2]=Xt.charCodeAt(2)&255,Yt[Ut+3]=Xt.charCodeAt(3)&255,Ut+=4,Yt.set(Ht,Ut),Ut+=Ht.length;const Ft=$t(Yt,zt+4,Ut);Yt[Ut]=Ft>>24&255,Yt[Ut+1]=Ft>>16&255,Yt[Ut+2]=Ft>>8&255,Yt[Ut+3]=Ft&255}function It(Xt,Ht,Yt){let zt=1,Ut=0;for(let kt=Ht;kt<Yt;++kt)zt=(zt+(Xt[kt]&255))%65521,Ut=(Ut+zt)%65521;return Ut<<16|zt}function Nt(Xt){if(!o.isNodeJS)return Ot(Xt);try{const Ht=parseInt(process.versions.node)>=8?Xt:Buffer.from(Xt),Yt=require$$5.deflateSync(Ht,{level:9});return Yt instanceof Uint8Array?Yt:new Uint8Array(Yt)}catch(Ht){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ht)}return Ot(Xt)}function Ot(Xt){let Ht=Xt.length;const Yt=65535,zt=Math.ceil(Ht/Yt),Ut=new Uint8Array(2+Ht+zt*5+4);let kt=0;Ut[kt++]=120,Ut[kt++]=156;let Ft=0;for(;Ht>Yt;)Ut[kt++]=0,Ut[kt++]=255,Ut[kt++]=255,Ut[kt++]=0,Ut[kt++]=0,Ut.set(Xt.subarray(Ft,Ft+Yt),kt),kt+=Yt,Ft+=Yt,Ht-=Yt;Ut[kt++]=1,Ut[kt++]=Ht&255,Ut[kt++]=Ht>>8&255,Ut[kt++]=~Ht&65535&255,Ut[kt++]=(~Ht&65535)>>8&255,Ut.set(Xt.subarray(Ft),kt),kt+=Xt.length-Ft;const Qt=It(Xt,0,Xt.length);return Ut[kt++]=Qt>>24&255,Ut[kt++]=Qt>>16&255,Ut[kt++]=Qt>>8&255,Ut[kt++]=Qt&255,Ut}function Gt(Xt,Ht,Yt,zt){const Ut=Xt.width,kt=Xt.height;let Ft,Qt,Zt;const rr=Xt.data;switch(Ht){case o.ImageKind.GRAYSCALE_1BPP:Qt=0,Ft=1,Zt=Ut+7>>3;break;case o.ImageKind.RGB_24BPP:Qt=2,Ft=8,Zt=Ut*3;break;case o.ImageKind.RGBA_32BPP:Qt=6,Ft=8,Zt=Ut*4;break;default:throw new Error("invalid format")}const qt=new Uint8Array((1+Zt)*kt);let Dt=0,Vt=0;for(let tr=0;tr<kt;++tr)qt[Dt++]=0,qt.set(rr.subarray(Vt,Vt+Zt),Dt),Vt+=Zt,Dt+=Zt;if(Ht===o.ImageKind.GRAYSCALE_1BPP&&zt){Dt=0;for(let tr=0;tr<kt;tr++){Dt++;for(let ur=0;ur<Zt;ur++)qt[Dt++]^=255}}const Lt=new Uint8Array([Ut>>24&255,Ut>>16&255,Ut>>8&255,Ut&255,kt>>24&255,kt>>16&255,kt>>8&255,kt&255,Ft,Qt,0,0,0]),jt=Nt(qt),Wt=St.length+xt*3+Lt.length+jt.length,Kt=new Uint8Array(Wt);let er=0;return Kt.set(St,er),er+=St.length,Rt("IHDR",Lt,Kt,er),er+=xt+Lt.length,Rt("IDATA",jt,Kt,er),er+=xt+jt.length,Rt("IEND",new Uint8Array(0),Kt,er),gt(Kt,"image/png",Yt)}return function(Ht,Yt,zt){const Ut=Ht.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:Ht.kind;return Gt(Ht,Ut,Yt,zt)}}();class vt{constructor(){this.fontSizeScale=1,this.fontWeight=et.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=et.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(xt,Ct){this.x=xt,this.y=Ct}}function Pt(St){let xt=[];const Ct=[];for(const $t of St){if($t.fn==="save"){xt.push({fnId:92,fn:"group",items:[]}),Ct.push(xt),xt=xt.at(-1).items;continue}$t.fn==="restore"?xt=Ct.pop():xt.push($t)}return xt}function Tt(St){if(Number.isInteger(St))return St.toString();const xt=St.toFixed(10);let Ct=xt.length-1;if(xt[Ct]!=="0")return xt;do Ct--;while(xt[Ct]==="0");return xt.substring(0,xt[Ct]==="."?Ct:Ct+1)}function At(St){if(St[4]===0&&St[5]===0){if(St[1]===0&&St[2]===0)return St[0]===1&&St[3]===1?"":`scale(${Tt(St[0])} ${Tt(St[3])})`;if(St[0]===St[3]&&St[1]===-St[2]){const xt=Math.acos(St[0])*180/Math.PI;return`rotate(${Tt(xt)})`}}else if(St[0]===1&&St[1]===0&&St[2]===0&&St[3]===1)return`translate(${Tt(St[4])} ${Tt(St[5])})`;return`matrix(${Tt(St[0])} ${Tt(St[1])} ${Tt(St[2])} ${Tt(St[3])} ${Tt(St[4])} ${Tt(St[5])})`}let wt=0,_t=0,Et=0;class yt{constructor(xt,Ct,$t=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new vt,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=xt,this.objs=Ct,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!$t,this._operatorIdMapping=[];for(const Rt in o.OPS)this._operatorIdMapping[o.OPS[Rt]]=Rt}getObject(xt,Ct=null){return typeof xt=="string"?xt.startsWith("g_")?this.commonObjs.get(xt):this.objs.get(xt):Ct}save(){this.transformStack.push(this.transformMatrix);const xt=this.current;this.extraStack.push(xt),this.current=xt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(xt){this.save(),this.executeOpTree(xt),this.restore()}loadDependencies(xt){const Ct=xt.fnArray,$t=xt.argsArray;for(let Rt=0,It=Ct.length;Rt<It;Rt++)if(Ct[Rt]===o.OPS.dependency)for(const Nt of $t[Rt]){const Ot=Nt.startsWith("g_")?this.commonObjs:this.objs,Gt=new Promise(Xt=>{Ot.get(Nt,Xt)});this.current.dependencies.push(Gt)}return Promise.all(this.current.dependencies)}transform(xt,Ct,$t,Rt,It,Nt){const Ot=[xt,Ct,$t,Rt,It,Nt];this.transformMatrix=o.Util.transform(this.transformMatrix,Ot),this.tgrp=null}getSVG(xt,Ct){this.viewport=Ct;const $t=this._initialize(Ct);return this.loadDependencies(xt).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(xt)),$t))}convertOpList(xt){const Ct=this._operatorIdMapping,$t=xt.argsArray,Rt=xt.fnArray,It=[];for(let Nt=0,Ot=Rt.length;Nt<Ot;Nt++){const Gt=Rt[Nt];It.push({fnId:Gt,fn:Ct[Gt],args:$t[Nt]})}return Pt(It)}executeOpTree(xt){for(const Ct of xt){const $t=Ct.fn,Rt=Ct.fnId,It=Ct.args;switch(Rt|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(It);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(It[0],It[1]);break;case o.OPS.setFont:this.setFont(It);break;case o.OPS.showText:this.showText(It[0]);break;case o.OPS.showSpacedText:this.showText(It[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(It[0],It[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(It[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(It[0]);break;case o.OPS.setHScale:this.setHScale(It[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(It[0],It[1],It[2],It[3],It[4],It[5]);break;case o.OPS.setTextRise:this.setTextRise(It[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(It[0]);break;case o.OPS.setLineWidth:this.setLineWidth(It[0]);break;case o.OPS.setLineJoin:this.setLineJoin(It[0]);break;case o.OPS.setLineCap:this.setLineCap(It[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(It[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(It[0],It[1],It[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(It[0],It[1],It[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(It);break;case o.OPS.setFillColorN:this.setFillColorN(It);break;case o.OPS.shadingFill:this.shadingFill(It[0]);break;case o.OPS.setDash:this.setDash(It[0],It[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(It[0]);break;case o.OPS.setFlatness:this.setFlatness(It[0]);break;case o.OPS.setGState:this.setGState(It[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(It[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(It[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(It[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(It[0],It[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(It[0],It[1],It[2],It[3],It[4],It[5]);break;case o.OPS.constructPath:this.constructPath(It[0],It[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(Ct.items);break;default:(0,o.warn)(`Unimplemented operator ${$t}`);break}}}setWordSpacing(xt){this.current.wordSpacing=xt}setCharSpacing(xt){this.current.charSpacing=xt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(xt,Ct,$t,Rt,It,Nt){const Ot=this.current;Ot.textMatrix=Ot.lineMatrix=[xt,Ct,$t,Rt,It,Nt],Ot.textMatrixScale=Math.hypot(xt,Ct),Ot.x=Ot.lineX=0,Ot.y=Ot.lineY=0,Ot.xcoords=[],Ot.ycoords=[],Ot.tspan=this.svgFactory.createElement("svg:tspan"),Ot.tspan.setAttributeNS(null,"font-family",Ot.fontFamily),Ot.tspan.setAttributeNS(null,"font-size",`${Tt(Ot.fontSize)}px`),Ot.tspan.setAttributeNS(null,"y",Tt(-Ot.y)),Ot.txtElement=this.svgFactory.createElement("svg:text"),Ot.txtElement.append(Ot.tspan)}beginText(){const xt=this.current;xt.x=xt.lineX=0,xt.y=xt.lineY=0,xt.textMatrix=o.IDENTITY_MATRIX,xt.lineMatrix=o.IDENTITY_MATRIX,xt.textMatrixScale=1,xt.tspan=this.svgFactory.createElement("svg:tspan"),xt.txtElement=this.svgFactory.createElement("svg:text"),xt.txtgrp=this.svgFactory.createElement("svg:g"),xt.xcoords=[],xt.ycoords=[]}moveText(xt,Ct){const $t=this.current;$t.x=$t.lineX+=xt,$t.y=$t.lineY+=Ct,$t.xcoords=[],$t.ycoords=[],$t.tspan=this.svgFactory.createElement("svg:tspan"),$t.tspan.setAttributeNS(null,"font-family",$t.fontFamily),$t.tspan.setAttributeNS(null,"font-size",`${Tt($t.fontSize)}px`),$t.tspan.setAttributeNS(null,"y",Tt(-$t.y))}showText(xt){const Ct=this.current,$t=Ct.font,Rt=Ct.fontSize;if(Rt===0)return;const It=Ct.fontSizeScale,Nt=Ct.charSpacing,Ot=Ct.wordSpacing,Gt=Ct.fontDirection,Xt=Ct.textHScale*Gt,Ht=$t.vertical,Yt=Ht?1:-1,zt=$t.defaultVMetrics,Ut=Rt*Ct.fontMatrix[0];let kt=0;for(const Zt of xt){if(Zt===null){kt+=Gt*Ot;continue}else if(typeof Zt=="number"){kt+=Yt*Zt*Rt/1e3;continue}const rr=(Zt.isSpace?Ot:0)+Nt,qt=Zt.fontChar;let Dt,Vt,Lt=Zt.width;if(Ht){let Wt;const Kt=Zt.vmetric||zt;Wt=Zt.vmetric?Kt[1]:Lt*.5,Wt=-Wt*Ut;const er=Kt[2]*Ut;Lt=Kt?-Kt[0]:Lt,Dt=Wt/It,Vt=(kt+er)/It}else Dt=kt/It,Vt=0;(Zt.isInFont||$t.missingFile)&&(Ct.xcoords.push(Ct.x+Dt),Ht&&Ct.ycoords.push(-Ct.y+Vt),Ct.tspan.textContent+=qt);const jt=Ht?Lt*Ut-rr*Gt:Lt*Ut+rr*Gt;kt+=jt}Ct.tspan.setAttributeNS(null,"x",Ct.xcoords.map(Tt).join(" ")),Ht?Ct.tspan.setAttributeNS(null,"y",Ct.ycoords.map(Tt).join(" ")):Ct.tspan.setAttributeNS(null,"y",Tt(-Ct.y)),Ht?Ct.y-=kt:Ct.x+=kt*Xt,Ct.tspan.setAttributeNS(null,"font-family",Ct.fontFamily),Ct.tspan.setAttributeNS(null,"font-size",`${Tt(Ct.fontSize)}px`),Ct.fontStyle!==et.fontStyle&&Ct.tspan.setAttributeNS(null,"font-style",Ct.fontStyle),Ct.fontWeight!==et.fontWeight&&Ct.tspan.setAttributeNS(null,"font-weight",Ct.fontWeight);const Ft=Ct.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(Ft===o.TextRenderingMode.FILL||Ft===o.TextRenderingMode.FILL_STROKE?(Ct.fillColor!==et.fillColor&&Ct.tspan.setAttributeNS(null,"fill",Ct.fillColor),Ct.fillAlpha<1&&Ct.tspan.setAttributeNS(null,"fill-opacity",Ct.fillAlpha)):Ct.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?Ct.tspan.setAttributeNS(null,"fill","transparent"):Ct.tspan.setAttributeNS(null,"fill","none"),Ft===o.TextRenderingMode.STROKE||Ft===o.TextRenderingMode.FILL_STROKE){const Zt=1/(Ct.textMatrixScale||1);this._setStrokeAttributes(Ct.tspan,Zt)}let Qt=Ct.textMatrix;Ct.textRise!==0&&(Qt=Qt.slice(),Qt[5]+=Ct.textRise),Ct.txtElement.setAttributeNS(null,"transform",`${At(Qt)} scale(${Tt(Xt)}, -1)`),Ct.txtElement.setAttributeNS(ot,"xml:space","preserve"),Ct.txtElement.append(Ct.tspan),Ct.txtgrp.append(Ct.txtElement),this._ensureTransformGroup().append(Ct.txtElement)}setLeadingMoveText(xt,Ct){this.setLeading(-Ct),this.moveText(xt,Ct)}addFontStyle(xt){if(!xt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Ct=gt(xt.data,xt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${xt.loadedName}"; src: url(${Ct}); }
`}setFont(xt){const Ct=this.current,$t=this.commonObjs.get(xt[0]);let Rt=xt[1];Ct.font=$t,this.embedFonts&&!$t.missingFile&&!this.embeddedFonts[$t.loadedName]&&(this.addFontStyle($t),this.embeddedFonts[$t.loadedName]=$t),Ct.fontMatrix=$t.fontMatrix||o.FONT_IDENTITY_MATRIX;let It="normal";$t.black?It="900":$t.bold&&(It="bold");const Nt=$t.italic?"italic":"normal";Rt<0?(Rt=-Rt,Ct.fontDirection=-1):Ct.fontDirection=1,Ct.fontSize=Rt,Ct.fontFamily=$t.loadedName,Ct.fontWeight=It,Ct.fontStyle=Nt,Ct.tspan=this.svgFactory.createElement("svg:tspan"),Ct.tspan.setAttributeNS(null,"y",Tt(-Ct.y)),Ct.xcoords=[],Ct.ycoords=[]}endText(){var Ct;const xt=this.current;xt.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((Ct=xt.txtElement)!=null&&Ct.hasChildNodes())&&(xt.element=xt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(xt){xt>0&&(this.current.lineWidth=xt)}setLineCap(xt){this.current.lineCap=dt[xt]}setLineJoin(xt){this.current.lineJoin=mt[xt]}setMiterLimit(xt){this.current.miterLimit=xt}setStrokeAlpha(xt){this.current.strokeAlpha=xt}setStrokeRGBColor(xt,Ct,$t){this.current.strokeColor=o.Util.makeHexColor(xt,Ct,$t)}setFillAlpha(xt){this.current.fillAlpha=xt}setFillRGBColor(xt,Ct,$t){this.current.fillColor=o.Util.makeHexColor(xt,Ct,$t),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(xt){this.current.strokeColor=this._makeColorN_Pattern(xt)}setFillColorN(xt){this.current.fillColor=this._makeColorN_Pattern(xt)}shadingFill(xt){const{width:Ct,height:$t}=this.viewport,Rt=o.Util.inverseTransform(this.transformMatrix),[It,Nt,Ot,Gt]=o.Util.getAxialAlignedBoundingBox([0,0,Ct,$t],Rt),Xt=this.svgFactory.createElement("svg:rect");Xt.setAttributeNS(null,"x",It),Xt.setAttributeNS(null,"y",Nt),Xt.setAttributeNS(null,"width",Ot-It),Xt.setAttributeNS(null,"height",Gt-Nt),Xt.setAttributeNS(null,"fill",this._makeShadingPattern(xt)),this.current.fillAlpha<1&&Xt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Xt)}_makeColorN_Pattern(xt){return xt[0]==="TilingPattern"?this._makeTilingPattern(xt):this._makeShadingPattern(xt)}_makeTilingPattern(xt){const Ct=xt[1],$t=xt[2],Rt=xt[3]||o.IDENTITY_MATRIX,[It,Nt,Ot,Gt]=xt[4],Xt=xt[5],Ht=xt[6],Yt=xt[7],zt=`shading${Et++}`,[Ut,kt,Ft,Qt]=o.Util.normalizeRect([...o.Util.applyTransform([It,Nt],Rt),...o.Util.applyTransform([Ot,Gt],Rt)]),[Zt,rr]=o.Util.singularValueDecompose2dScale(Rt),qt=Xt*Zt,Dt=Ht*rr,Vt=this.svgFactory.createElement("svg:pattern");Vt.setAttributeNS(null,"id",zt),Vt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Vt.setAttributeNS(null,"width",qt),Vt.setAttributeNS(null,"height",Dt),Vt.setAttributeNS(null,"x",`${Ut}`),Vt.setAttributeNS(null,"y",`${kt}`);const Lt=this.svg,jt=this.transformMatrix,Wt=this.current.fillColor,Kt=this.current.strokeColor,er=this.svgFactory.create(Ft-Ut,Qt-kt);if(this.svg=er,this.transformMatrix=Rt,Yt===2){const tr=o.Util.makeHexColor(...Ct);this.current.fillColor=tr,this.current.strokeColor=tr}return this.executeOpTree(this.convertOpList($t)),this.svg=Lt,this.transformMatrix=jt,this.current.fillColor=Wt,this.current.strokeColor=Kt,Vt.append(er.childNodes[0]),this.defs.append(Vt),`url(#${zt})`}_makeShadingPattern(xt){switch(typeof xt=="string"&&(xt=this.objs.get(xt)),xt[0]){case"RadialAxial":const Ct=`shading${Et++}`,$t=xt[3];let Rt;switch(xt[1]){case"axial":const It=xt[4],Nt=xt[5];Rt=this.svgFactory.createElement("svg:linearGradient"),Rt.setAttributeNS(null,"id",Ct),Rt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Rt.setAttributeNS(null,"x1",It[0]),Rt.setAttributeNS(null,"y1",It[1]),Rt.setAttributeNS(null,"x2",Nt[0]),Rt.setAttributeNS(null,"y2",Nt[1]);break;case"radial":const Ot=xt[4],Gt=xt[5],Xt=xt[6],Ht=xt[7];Rt=this.svgFactory.createElement("svg:radialGradient"),Rt.setAttributeNS(null,"id",Ct),Rt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Rt.setAttributeNS(null,"cx",Gt[0]),Rt.setAttributeNS(null,"cy",Gt[1]),Rt.setAttributeNS(null,"r",Ht),Rt.setAttributeNS(null,"fx",Ot[0]),Rt.setAttributeNS(null,"fy",Ot[1]),Rt.setAttributeNS(null,"fr",Xt);break;default:throw new Error(`Unknown RadialAxial type: ${xt[1]}`)}for(const It of $t){const Nt=this.svgFactory.createElement("svg:stop");Nt.setAttributeNS(null,"offset",It[0]),Nt.setAttributeNS(null,"stop-color",It[1]),Rt.append(Nt)}return this.defs.append(Rt),`url(#${Ct})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${xt[0]}`)}}setDash(xt,Ct){this.current.dashArray=xt,this.current.dashPhase=Ct}constructPath(xt,Ct){const $t=this.current;let Rt=$t.x,It=$t.y,Nt=[],Ot=0;for(const Gt of xt)switch(Gt|0){case o.OPS.rectangle:Rt=Ct[Ot++],It=Ct[Ot++];const Xt=Ct[Ot++],Ht=Ct[Ot++],Yt=Rt+Xt,zt=It+Ht;Nt.push("M",Tt(Rt),Tt(It),"L",Tt(Yt),Tt(It),"L",Tt(Yt),Tt(zt),"L",Tt(Rt),Tt(zt),"Z");break;case o.OPS.moveTo:Rt=Ct[Ot++],It=Ct[Ot++],Nt.push("M",Tt(Rt),Tt(It));break;case o.OPS.lineTo:Rt=Ct[Ot++],It=Ct[Ot++],Nt.push("L",Tt(Rt),Tt(It));break;case o.OPS.curveTo:Rt=Ct[Ot+4],It=Ct[Ot+5],Nt.push("C",Tt(Ct[Ot]),Tt(Ct[Ot+1]),Tt(Ct[Ot+2]),Tt(Ct[Ot+3]),Tt(Rt),Tt(It)),Ot+=6;break;case o.OPS.curveTo2:Nt.push("C",Tt(Rt),Tt(It),Tt(Ct[Ot]),Tt(Ct[Ot+1]),Tt(Ct[Ot+2]),Tt(Ct[Ot+3])),Rt=Ct[Ot+2],It=Ct[Ot+3],Ot+=4;break;case o.OPS.curveTo3:Rt=Ct[Ot+2],It=Ct[Ot+3],Nt.push("C",Tt(Ct[Ot]),Tt(Ct[Ot+1]),Tt(Rt),Tt(It),Tt(Rt),Tt(It)),Ot+=4;break;case o.OPS.closePath:Nt.push("Z");break}Nt=Nt.join(" "),$t.path&&xt.length>0&&xt[0]!==o.OPS.rectangle&&xt[0]!==o.OPS.moveTo?Nt=$t.path.getAttributeNS(null,"d")+Nt:($t.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append($t.path)),$t.path.setAttributeNS(null,"d",Nt),$t.path.setAttributeNS(null,"fill","none"),$t.element=$t.path,$t.setCurrentPoint(Rt,It)}endPath(){const xt=this.current;if(xt.path=null,!this.pendingClip)return;if(!xt.element){this.pendingClip=null;return}const Ct=`clippath${wt++}`,$t=this.svgFactory.createElement("svg:clipPath");$t.setAttributeNS(null,"id",Ct),$t.setAttributeNS(null,"transform",At(this.transformMatrix));const Rt=xt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Rt.setAttributeNS(null,"clip-rule","evenodd"):Rt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,$t.append(Rt),this.defs.append($t),xt.activeClipUrl){xt.clipGroup=null;for(const It of this.extraStack)It.clipGroup=null;$t.setAttributeNS(null,"clip-path",xt.activeClipUrl)}xt.activeClipUrl=`url(#${Ct})`,this.tgrp=null}clip(xt){this.pendingClip=xt}closePath(){const xt=this.current;if(xt.path){const Ct=`${xt.path.getAttributeNS(null,"d")}Z`;xt.path.setAttributeNS(null,"d",Ct)}}setLeading(xt){this.current.leading=-xt}setTextRise(xt){this.current.textRise=xt}setTextRenderingMode(xt){this.current.textRenderingMode=xt}setHScale(xt){this.current.textHScale=xt/100}setRenderingIntent(xt){}setFlatness(xt){}setGState(xt){for(const[Ct,$t]of xt)switch(Ct){case"LW":this.setLineWidth($t);break;case"LC":this.setLineCap($t);break;case"LJ":this.setLineJoin($t);break;case"ML":this.setMiterLimit($t);break;case"D":this.setDash($t[0],$t[1]);break;case"RI":this.setRenderingIntent($t);break;case"FL":this.setFlatness($t);break;case"Font":this.setFont($t);break;case"CA":this.setStrokeAlpha($t);break;case"ca":this.setFillAlpha($t);break;default:(0,o.warn)(`Unimplemented graphic state operator ${Ct}`);break}}fill(){const xt=this.current;xt.element&&(xt.element.setAttributeNS(null,"fill",xt.fillColor),xt.element.setAttributeNS(null,"fill-opacity",xt.fillAlpha),this.endPath())}stroke(){const xt=this.current;xt.element&&(this._setStrokeAttributes(xt.element),xt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(xt,Ct=1){const $t=this.current;let Rt=$t.dashArray;Ct!==1&&Rt.length>0&&(Rt=Rt.map(function(It){return Ct*It})),xt.setAttributeNS(null,"stroke",$t.strokeColor),xt.setAttributeNS(null,"stroke-opacity",$t.strokeAlpha),xt.setAttributeNS(null,"stroke-miterlimit",Tt($t.miterLimit)),xt.setAttributeNS(null,"stroke-linecap",$t.lineCap),xt.setAttributeNS(null,"stroke-linejoin",$t.lineJoin),xt.setAttributeNS(null,"stroke-width",Tt(Ct*$t.lineWidth)+"px"),xt.setAttributeNS(null,"stroke-dasharray",Rt.map(Tt).join(" ")),xt.setAttributeNS(null,"stroke-dashoffset",Tt(Ct*$t.dashPhase)+"px")}eoFill(){var xt;(xt=this.current.element)==null||xt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var xt;(xt=this.current.element)==null||xt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const xt=this.svgFactory.createElement("svg:rect");xt.setAttributeNS(null,"x","0"),xt.setAttributeNS(null,"y","0"),xt.setAttributeNS(null,"width","1px"),xt.setAttributeNS(null,"height","1px"),xt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(xt)}paintImageXObject(xt){const Ct=this.getObject(xt);if(!Ct){(0,o.warn)(`Dependent image with object ID ${xt} is not ready yet`);return}this.paintInlineImageXObject(Ct)}paintInlineImageXObject(xt,Ct){const $t=xt.width,Rt=xt.height,It=bt(xt,this.forceDataSchema,!!Ct),Nt=this.svgFactory.createElement("svg:rect");Nt.setAttributeNS(null,"x","0"),Nt.setAttributeNS(null,"y","0"),Nt.setAttributeNS(null,"width",Tt($t)),Nt.setAttributeNS(null,"height",Tt(Rt)),this.current.element=Nt,this.clip("nonzero");const Ot=this.svgFactory.createElement("svg:image");Ot.setAttributeNS(ft,"xlink:href",It),Ot.setAttributeNS(null,"x","0"),Ot.setAttributeNS(null,"y",Tt(-Rt)),Ot.setAttributeNS(null,"width",Tt($t)+"px"),Ot.setAttributeNS(null,"height",Tt(Rt)+"px"),Ot.setAttributeNS(null,"transform",`scale(${Tt(1/$t)} ${Tt(-1/Rt)})`),Ct?Ct.append(Ot):this._ensureTransformGroup().append(Ot)}paintImageMaskXObject(xt){const Ct=this.getObject(xt.data,xt);if(Ct.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const $t=this.current,Rt=Ct.width,It=Ct.height,Nt=$t.fillColor;$t.maskId=`mask${_t++}`;const Ot=this.svgFactory.createElement("svg:mask");Ot.setAttributeNS(null,"id",$t.maskId);const Gt=this.svgFactory.createElement("svg:rect");Gt.setAttributeNS(null,"x","0"),Gt.setAttributeNS(null,"y","0"),Gt.setAttributeNS(null,"width",Tt(Rt)),Gt.setAttributeNS(null,"height",Tt(It)),Gt.setAttributeNS(null,"fill",Nt),Gt.setAttributeNS(null,"mask",`url(#${$t.maskId})`),this.defs.append(Ot),this._ensureTransformGroup().append(Gt),this.paintInlineImageXObject(Ct,Ot)}paintFormXObjectBegin(xt,Ct){if(Array.isArray(xt)&&xt.length===6&&this.transform(xt[0],xt[1],xt[2],xt[3],xt[4],xt[5]),Ct){const $t=Ct[2]-Ct[0],Rt=Ct[3]-Ct[1],It=this.svgFactory.createElement("svg:rect");It.setAttributeNS(null,"x",Ct[0]),It.setAttributeNS(null,"y",Ct[1]),It.setAttributeNS(null,"width",Tt($t)),It.setAttributeNS(null,"height",Tt(Rt)),this.current.element=It,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(xt){const Ct=this.svgFactory.create(xt.width,xt.height),$t=this.svgFactory.createElement("svg:defs");Ct.append($t),this.defs=$t;const Rt=this.svgFactory.createElement("svg:g");return Rt.setAttributeNS(null,"transform",At(xt.transform)),Ct.append(Rt),this.svg=Rt,Ct}_ensureClipGroup(){if(!this.current.clipGroup){const xt=this.svgFactory.createElement("svg:g");xt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(xt),this.current.clipGroup=xt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",At(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=yt},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(o){const et=[],ot={items:et,styles:Object.create(null)};function ft(dt){var bt;if(!dt)return;let mt=null;const gt=dt.name;if(gt==="#text")mt=dt.value;else if(s.shouldBuildText(gt))(bt=dt==null?void 0:dt.attributes)!=null&&bt.textContent?mt=dt.attributes.textContent:dt.value&&(mt=dt.value);else return;if(mt!==null&&et.push({str:mt}),!!dt.children)for(const vt of dt.children)ft(vt)}return ft(o),ot}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}i.XfaText=s},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=At,i.updateTextLayer=wt;var a=s(1),o=s(6);const et=1e5,ot=30,ft=.8,dt=new Map;function mt(_t,Et){let yt;if(Et&&a.FeatureTest.isOffscreenCanvasSupported)yt=new OffscreenCanvas(_t,_t).getContext("2d",{alpha:!1});else{const St=document.createElement("canvas");St.width=St.height=_t,yt=St.getContext("2d",{alpha:!1})}return yt}function gt(_t,Et){const yt=dt.get(_t);if(yt)return yt;const St=mt(ot,Et);St.font=`${ot}px ${_t}`;const xt=St.measureText("");let Ct=xt.fontBoundingBoxAscent,$t=Math.abs(xt.fontBoundingBoxDescent);if(Ct){const It=Ct/(Ct+$t);return dt.set(_t,It),St.canvas.width=St.canvas.height=0,It}St.strokeStyle="red",St.clearRect(0,0,ot,ot),St.strokeText("g",0,0);let Rt=St.getImageData(0,0,ot,ot).data;$t=0;for(let It=Rt.length-1-3;It>=0;It-=4)if(Rt[It]>0){$t=Math.ceil(It/4/ot);break}St.clearRect(0,0,ot,ot),St.strokeText("A",0,ot),Rt=St.getImageData(0,0,ot,ot).data,Ct=0;for(let It=0,Nt=Rt.length;It<Nt;It+=4)if(Rt[It]>0){Ct=ot-Math.floor(It/4/ot);break}if(St.canvas.width=St.canvas.height=0,Ct){const It=Ct/(Ct+$t);return dt.set(_t,It),It}return dt.set(_t,ft),ft}function bt(_t,Et,yt){const St=document.createElement("span"),xt={angle:0,canvasWidth:0,hasText:Et.str!=="",hasEOL:Et.hasEOL,fontSize:0};_t._textDivs.push(St);const Ct=a.Util.transform(_t._transform,Et.transform);let $t=Math.atan2(Ct[1],Ct[0]);const Rt=yt[Et.fontName];Rt.vertical&&($t+=Math.PI/2);const It=Math.hypot(Ct[2],Ct[3]),Nt=It*gt(Rt.fontFamily,_t._isOffscreenCanvasSupported);let Ot,Gt;$t===0?(Ot=Ct[4],Gt=Ct[5]-Nt):(Ot=Ct[4]+Nt*Math.sin($t),Gt=Ct[5]-Nt*Math.cos($t));const Xt="calc(var(--scale-factor)*",Ht=St.style;_t._container===_t._rootContainer?(Ht.left=`${(100*Ot/_t._pageWidth).toFixed(2)}%`,Ht.top=`${(100*Gt/_t._pageHeight).toFixed(2)}%`):(Ht.left=`${Xt}${Ot.toFixed(2)}px)`,Ht.top=`${Xt}${Gt.toFixed(2)}px)`),Ht.fontSize=`${Xt}${It.toFixed(2)}px)`,Ht.fontFamily=Rt.fontFamily,xt.fontSize=It,St.setAttribute("role","presentation"),St.textContent=Et.str,St.dir=Et.dir,_t._fontInspectorEnabled&&(St.dataset.fontName=Et.fontName),$t!==0&&(xt.angle=$t*(180/Math.PI));let Yt=!1;if(Et.str.length>1)Yt=!0;else if(Et.str!==" "&&Et.transform[0]!==Et.transform[3]){const zt=Math.abs(Et.transform[0]),Ut=Math.abs(Et.transform[3]);zt!==Ut&&Math.max(zt,Ut)/Math.min(zt,Ut)>1.5&&(Yt=!0)}Yt&&(xt.canvasWidth=Rt.vertical?Et.height:Et.width),_t._textDivProperties.set(St,xt),_t._isReadableStream&&_t._layoutText(St)}function vt(_t){const{div:Et,scale:yt,properties:St,ctx:xt,prevFontSize:Ct,prevFontFamily:$t}=_t,{style:Rt}=Et;let It="";if(St.canvasWidth!==0&&St.hasText){const{fontFamily:Nt}=Rt,{canvasWidth:Ot,fontSize:Gt}=St;(Ct!==Gt||$t!==Nt)&&(xt.font=`${Gt*yt}px ${Nt}`,_t.prevFontSize=Gt,_t.prevFontFamily=Nt);const{width:Xt}=xt.measureText(Et.textContent);Xt>0&&(It=`scaleX(${Ot*yt/Xt})`)}St.angle!==0&&(It=`rotate(${St.angle}deg) ${It}`),It.length>0&&(Rt.transform=It)}function Pt(_t){if(_t._canceled)return;const Et=_t._textDivs,yt=_t._capability;if(Et.length>et){yt.resolve();return}if(!_t._isReadableStream)for(const xt of Et)_t._layoutText(xt);yt.resolve()}class Tt{constructor({textContentSource:Et,container:yt,viewport:St,textDivs:xt,textDivProperties:Ct,textContentItemsStr:$t,isOffscreenCanvasSupported:Rt}){var Xt;this._textContentSource=Et,this._isReadableStream=Et instanceof ReadableStream,this._container=this._rootContainer=yt,this._textDivs=xt||[],this._textContentItemsStr=$t||[],this._isOffscreenCanvasSupported=Rt,this._fontInspectorEnabled=!!((Xt=globalThis.FontInspector)!=null&&Xt.enabled),this._reader=null,this._textDivProperties=Ct||new WeakMap,this._canceled=!1,this._capability=new a.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:St.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:mt(0,Rt)};const{pageWidth:It,pageHeight:Nt,pageX:Ot,pageY:Gt}=St.rawDims;this._transform=[1,0,0,-1,-Ot,Gt+Nt],this._pageWidth=It,this._pageHeight=Nt,(0,o.setLayerDimensions)(yt,St),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(Et,yt){for(const St of Et){if(St.str===void 0){if(St.type==="beginMarkedContentProps"||St.type==="beginMarkedContent"){const xt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),St.id!==null&&this._container.setAttribute("id",`${St.id}`),xt.append(this._container)}else St.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(St.str),bt(this,St,yt)}}_layoutText(Et){const yt=this._layoutTextParams.properties=this._textDivProperties.get(Et);if(this._layoutTextParams.div=Et,vt(this._layoutTextParams),yt.hasText&&this._container.append(Et),yt.hasEOL){const St=document.createElement("br");St.setAttribute("role","presentation"),this._container.append(St)}}_render(){const Et=new a.PromiseCapability;let yt=Object.create(null);if(this._isReadableStream){const St=()=>{this._reader.read().then(({value:xt,done:Ct})=>{if(Ct){Et.resolve();return}Object.assign(yt,xt.styles),this._processItems(xt.items,yt),St()},Et.reject)};this._reader=this._textContentSource.getReader(),St()}else if(this._textContentSource){const{items:St,styles:xt}=this._textContentSource;this._processItems(St,xt),Et.resolve()}else throw new Error('No "textContentSource" parameter specified.');Et.promise.then(()=>{yt=null,Pt(this)},this._capability.reject)}}i.TextLayerRenderTask=Tt;function At(_t){!_t.textContentSource&&(_t.textContent||_t.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),_t.textContentSource=_t.textContent||_t.textContentStream);const{container:Et,viewport:yt}=_t,St=getComputedStyle(Et),xt=St.getPropertyValue("visibility"),Ct=parseFloat(St.getPropertyValue("--scale-factor"));xt==="visible"&&(!Ct||Math.abs(Ct-yt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const $t=new Tt(_t);return $t._render(),$t}function wt({container:_t,viewport:Et,textDivs:yt,textDivProperties:St,isOffscreenCanvasSupported:xt,mustRotate:Ct=!0,mustRescale:$t=!0}){if(Ct&&(0,o.setLayerDimensions)(_t,{rotation:Et.rotation}),$t){const Rt=mt(0,xt),Nt={prevFontSize:null,prevFontFamily:null,div:null,scale:Et.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Rt};for(const Ot of yt)Nt.properties=St.get(Ot),Nt.div=Ot,vt(Nt)}}},(e,i,s)=>{var gt,bt,vt,Pt,Tt,At,wt,_t,Et,yt,St,zs,Ct,ss,Rt,js,Nt,Us;Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var a=s(1),o=s(4),et=s(28),ot=s(33),ft=s(6),dt=s(34);const Gt=class Gt{constructor({uiManager:Ht,pageIndex:Yt,div:zt,accessibilityManager:Ut,annotationLayer:kt,viewport:Ft,l10n:Qt}){lr(this,St);lr(this,Ct);lr(this,Rt);lr(this,Nt);lr(this,gt,void 0);lr(this,bt,!1);lr(this,vt,null);lr(this,Pt,this.pointerup.bind(this));lr(this,Tt,this.pointerdown.bind(this));lr(this,At,new Map);lr(this,wt,!1);lr(this,_t,!1);lr(this,Et,!1);lr(this,yt,void 0);const Zt=[et.FreeTextEditor,ot.InkEditor,dt.StampEditor];if(!Gt._initialized){Gt._initialized=!0;for(const rr of Zt)rr.initialize(Qt)}Ht.registerEditorTypes(Zt),Tr(this,yt,Ht),this.pageIndex=Yt,this.div=zt,Tr(this,gt,Ut),Tr(this,vt,kt),this.viewport=Ft,Mt(this,yt).addLayer(this)}get isEmpty(){return Mt(this,At).size===0}updateToolbar(Ht){Mt(this,yt).updateToolbar(Ht)}updateMode(Ht=Mt(this,yt).getMode()){gr(this,Nt,Us).call(this),Ht===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Ht!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Ht===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Ht===a.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Ht===a.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Ht){if(!Ht&&Mt(this,yt).getMode()!==a.AnnotationEditorType.INK)return;if(!Ht){for(const zt of Mt(this,At).values())if(zt.isEmpty()){zt.setInBackground();return}}gr(this,Ct,ss).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Ht){Mt(this,yt).setEditingState(Ht)}addCommands(Ht){Mt(this,yt).addCommands(Ht)}enable(){this.div.style.pointerEvents="auto";const Ht=new Set;for(const zt of Mt(this,At).values())zt.enableEditing(),zt.annotationElementId&&Ht.add(zt.annotationElementId);if(!Mt(this,vt))return;const Yt=Mt(this,vt).getEditableAnnotations();for(const zt of Yt){if(zt.hide(),Mt(this,yt).isDeletedAnnotationElement(zt.data.id)||Ht.has(zt.data.id))continue;const Ut=this.deserialize(zt);Ut&&(this.addOrRebuild(Ut),Ut.enableEditing())}}disable(){var Yt;Tr(this,Et,!0),this.div.style.pointerEvents="none";const Ht=new Set;for(const zt of Mt(this,At).values()){if(zt.disableEditing(),!zt.annotationElementId||zt.serialize()!==null){Ht.add(zt.annotationElementId);continue}(Yt=this.getEditableAnnotation(zt.annotationElementId))==null||Yt.show(),zt.remove()}if(Mt(this,vt)){const zt=Mt(this,vt).getEditableAnnotations();for(const Ut of zt){const{id:kt}=Ut.data;Ht.has(kt)||Mt(this,yt).isDeletedAnnotationElement(kt)||Ut.show()}}gr(this,Nt,Us).call(this),this.isEmpty&&(this.div.hidden=!0),Tr(this,Et,!1)}getEditableAnnotation(Ht){var Yt;return((Yt=Mt(this,vt))==null?void 0:Yt.getEditableAnnotation(Ht))||null}setActiveEditor(Ht){Mt(this,yt).getActive()!==Ht&&Mt(this,yt).setActiveEditor(Ht)}enableClick(){this.div.addEventListener("pointerdown",Mt(this,Tt)),this.div.addEventListener("pointerup",Mt(this,Pt))}disableClick(){this.div.removeEventListener("pointerdown",Mt(this,Tt)),this.div.removeEventListener("pointerup",Mt(this,Pt))}attach(Ht){Mt(this,At).set(Ht.id,Ht);const{annotationElementId:Yt}=Ht;Yt&&Mt(this,yt).isDeletedAnnotationElement(Yt)&&Mt(this,yt).removeDeletedAnnotationElement(Ht)}detach(Ht){var Yt;Mt(this,At).delete(Ht.id),(Yt=Mt(this,gt))==null||Yt.removePointerInTextLayer(Ht.contentDiv),!Mt(this,Et)&&Ht.annotationElementId&&Mt(this,yt).addDeletedAnnotationElement(Ht)}remove(Ht){this.detach(Ht),Mt(this,yt).removeEditor(Ht),Ht.div.contains(document.activeElement)&&setTimeout(()=>{Mt(this,yt).focusMainContainer()},0),Ht.div.remove(),Ht.isAttachedToDOM=!1,Mt(this,_t)||this.addInkEditorIfNeeded(!1)}changeParent(Ht){var Yt;Ht.parent!==this&&(Ht.annotationElementId&&(Mt(this,yt).addDeletedAnnotationElement(Ht.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(Ht),Ht.annotationElementId=null),this.attach(Ht),(Yt=Ht.parent)==null||Yt.detach(Ht),Ht.setParent(this),Ht.div&&Ht.isAttachedToDOM&&(Ht.div.remove(),this.div.append(Ht.div)))}add(Ht){if(this.changeParent(Ht),Mt(this,yt).addEditor(Ht),this.attach(Ht),!Ht.isAttachedToDOM){const Yt=Ht.render();this.div.append(Yt),Ht.isAttachedToDOM=!0}Ht.fixAndSetPosition(),Ht.onceAdded(),Mt(this,yt).addToAnnotationStorage(Ht)}moveEditorInDOM(Ht){var zt;if(!Ht.isAttachedToDOM)return;const{activeElement:Yt}=document;Ht.div.contains(Yt)&&(Ht._focusEventsAllowed=!1,setTimeout(()=>{Ht.div.contains(document.activeElement)?Ht._focusEventsAllowed=!0:(Ht.div.addEventListener("focusin",()=>{Ht._focusEventsAllowed=!0},{once:!0}),Yt.focus())},0)),Ht._structTreeParentId=(zt=Mt(this,gt))==null?void 0:zt.moveElementInDOM(this.div,Ht.div,Ht.contentDiv,!0)}addOrRebuild(Ht){Ht.needsToBeRebuilt()?Ht.rebuild():this.add(Ht)}addUndoableEditor(Ht){const Yt=()=>Ht._uiManager.rebuild(Ht),zt=()=>{Ht.remove()};this.addCommands({cmd:Yt,undo:zt,mustExec:!1})}getNextId(){return Mt(this,yt).getId()}pasteEditor(Ht,Yt){Mt(this,yt).updateToolbar(Ht),Mt(this,yt).updateMode(Ht);const{offsetX:zt,offsetY:Ut}=gr(this,Rt,js).call(this),kt=this.getNextId(),Ft=gr(this,St,zs).call(this,{parent:this,id:kt,x:zt,y:Ut,uiManager:Mt(this,yt),isCentered:!0,...Yt});Ft&&this.add(Ft)}deserialize(Ht){switch(Ht.annotationType??Ht.annotationEditorType){case a.AnnotationEditorType.FREETEXT:return et.FreeTextEditor.deserialize(Ht,this,Mt(this,yt));case a.AnnotationEditorType.INK:return ot.InkEditor.deserialize(Ht,this,Mt(this,yt));case a.AnnotationEditorType.STAMP:return dt.StampEditor.deserialize(Ht,this,Mt(this,yt))}return null}addNewEditor(){gr(this,Ct,ss).call(this,gr(this,Rt,js).call(this),!0)}setSelected(Ht){Mt(this,yt).setSelected(Ht)}toggleSelected(Ht){Mt(this,yt).toggleSelected(Ht)}isSelected(Ht){return Mt(this,yt).isSelected(Ht)}unselect(Ht){Mt(this,yt).unselect(Ht)}pointerup(Ht){const{isMac:Yt}=a.FeatureTest.platform;if(!(Ht.button!==0||Ht.ctrlKey&&Yt)&&Ht.target===this.div&&Mt(this,wt)){if(Tr(this,wt,!1),!Mt(this,bt)){Tr(this,bt,!0);return}if(Mt(this,yt).getMode()===a.AnnotationEditorType.STAMP){Mt(this,yt).unselectAll();return}gr(this,Ct,ss).call(this,Ht,!1)}}pointerdown(Ht){if(Mt(this,wt)){Tr(this,wt,!1);return}const{isMac:Yt}=a.FeatureTest.platform;if(Ht.button!==0||Ht.ctrlKey&&Yt||Ht.target!==this.div)return;Tr(this,wt,!0);const zt=Mt(this,yt).getActive();Tr(this,bt,!zt||zt.isEmpty())}findNewParent(Ht,Yt,zt){const Ut=Mt(this,yt).findParent(Yt,zt);return Ut===null||Ut===this?!1:(Ut.changeParent(Ht),!0)}destroy(){var Ht,Yt;((Ht=Mt(this,yt).getActive())==null?void 0:Ht.parent)===this&&(Mt(this,yt).commitOrRemove(),Mt(this,yt).setActiveEditor(null));for(const zt of Mt(this,At).values())(Yt=Mt(this,gt))==null||Yt.removePointerInTextLayer(zt.contentDiv),zt.setParent(null),zt.isAttachedToDOM=!1,zt.div.remove();this.div=null,Mt(this,At).clear(),Mt(this,yt).removeLayer(this)}render({viewport:Ht}){this.viewport=Ht,(0,ft.setLayerDimensions)(this.div,Ht);for(const Yt of Mt(this,yt).getEditors(this.pageIndex))this.add(Yt);this.updateMode()}update({viewport:Ht}){Mt(this,yt).commitOrRemove(),this.viewport=Ht,(0,ft.setLayerDimensions)(this.div,{rotation:Ht.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Ht,pageHeight:Yt}=this.viewport.rawDims;return[Ht,Yt]}};gt=new WeakMap,bt=new WeakMap,vt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,At=new WeakMap,wt=new WeakMap,_t=new WeakMap,Et=new WeakMap,yt=new WeakMap,St=new WeakSet,zs=function(Ht){switch(Mt(this,yt).getMode()){case a.AnnotationEditorType.FREETEXT:return new et.FreeTextEditor(Ht);case a.AnnotationEditorType.INK:return new ot.InkEditor(Ht);case a.AnnotationEditorType.STAMP:return new dt.StampEditor(Ht)}return null},Ct=new WeakSet,ss=function(Ht,Yt){const zt=this.getNextId(),Ut=gr(this,St,zs).call(this,{parent:this,id:zt,x:Ht.offsetX,y:Ht.offsetY,uiManager:Mt(this,yt),isCentered:Yt});return Ut&&this.add(Ut),Ut},Rt=new WeakSet,js=function(){const{x:Ht,y:Yt,width:zt,height:Ut}=this.div.getBoundingClientRect(),kt=Math.max(0,Ht),Ft=Math.max(0,Yt),Qt=Math.min(window.innerWidth,Ht+zt),Zt=Math.min(window.innerHeight,Yt+Ut),rr=(kt+Qt)/2-Ht,qt=(Ft+Zt)/2-Yt,[Dt,Vt]=this.viewport.rotation%180===0?[rr,qt]:[qt,rr];return{offsetX:Dt,offsetY:Vt}},Nt=new WeakSet,Us=function(){Tr(this,_t,!0);for(const Ht of Mt(this,At).values())Ht.isEmpty()&&Ht.remove();Tr(this,_t,!1)},mn(Gt,"_initialized",!1);let mt=Gt;i.AnnotationEditorLayer=mt},(e,i,s)=>{var dt,mt,gt,bt,vt,Pt,Tt,At,wt,_t,Ro,yt,Co,xt,Io,$t,Wn,It,Hs,Ot,ko,Xt,Gs;Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var a=s(1),o=s(5),et=s(4),ot=s(29);const Yt=class Yt extends et.AnnotationEditor{constructor(kt){super({...kt,name:"freeTextEditor"});lr(this,_t);lr(this,yt);lr(this,xt);lr(this,$t);lr(this,It);lr(this,Ot);lr(this,Xt);lr(this,dt,this.editorDivBlur.bind(this));lr(this,mt,this.editorDivFocus.bind(this));lr(this,gt,this.editorDivInput.bind(this));lr(this,bt,this.editorDivKeydown.bind(this));lr(this,vt,void 0);lr(this,Pt,"");lr(this,Tt,`${this.id}-editor`);lr(this,At,void 0);lr(this,wt,null);Tr(this,vt,kt.color||Yt._defaultColor||et.AnnotationEditor._defaultLineColor),Tr(this,At,kt.fontSize||Yt._defaultFontSize)}static get _keyboardManager(){const kt=Yt.prototype,Ft=rr=>rr.isEmpty(),Qt=o.AnnotationEditorUIManager.TRANSLATE_SMALL,Zt=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,a.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],kt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],kt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],kt._translateEmpty,{args:[-Qt,0],checker:Ft}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],kt._translateEmpty,{args:[-Zt,0],checker:Ft}],[["ArrowRight","mac+ArrowRight"],kt._translateEmpty,{args:[Qt,0],checker:Ft}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],kt._translateEmpty,{args:[Zt,0],checker:Ft}],[["ArrowUp","mac+ArrowUp"],kt._translateEmpty,{args:[0,-Qt],checker:Ft}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],kt._translateEmpty,{args:[0,-Zt],checker:Ft}],[["ArrowDown","mac+ArrowDown"],kt._translateEmpty,{args:[0,Qt],checker:Ft}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],kt._translateEmpty,{args:[0,Zt],checker:Ft}]]))}static initialize(kt){et.AnnotationEditor.initialize(kt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Ft=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ft.getPropertyValue("--freetext-padding"))}static updateDefaultParams(kt,Ft){switch(kt){case a.AnnotationEditorParamsType.FREETEXT_SIZE:Yt._defaultFontSize=Ft;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:Yt._defaultColor=Ft;break}}updateParams(kt,Ft){switch(kt){case a.AnnotationEditorParamsType.FREETEXT_SIZE:gr(this,_t,Ro).call(this,Ft);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:gr(this,yt,Co).call(this,Ft);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,Yt._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,Yt._defaultColor||et.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,Mt(this,At)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,Mt(this,vt)]]}_translateEmpty(kt,Ft){this._uiManager.translateSelectedEditors(kt,Ft,!0)}getInitialTranslation(){const kt=this.parentScale;return[-Yt._internalPadding*kt,-(Yt._internalPadding+Mt(this,At))*kt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Mt(this,bt)),this.editorDiv.addEventListener("focus",Mt(this,mt)),this.editorDiv.addEventListener("blur",Mt(this,dt)),this.editorDiv.addEventListener("input",Mt(this,gt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Mt(this,Tt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Mt(this,bt)),this.editorDiv.removeEventListener("focus",Mt(this,mt)),this.editorDiv.removeEventListener("blur",Mt(this,dt)),this.editorDiv.removeEventListener("input",Mt(this,gt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(kt){this._focusEventsAllowed&&(super.focusin(kt),kt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var kt;if(this.width){gr(this,Xt,Gs).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(kt=this._initialOptions)!=null&&kt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const kt=Mt(this,Pt),Ft=Tr(this,Pt,gr(this,xt,Io).call(this).trimEnd());if(kt===Ft)return;const Qt=Zt=>{if(Tr(this,Pt,Zt),!Zt){this.remove();return}gr(this,It,Hs).call(this),this._uiManager.rebuild(this),gr(this,$t,Wn).call(this)};this.addCommands({cmd:()=>{Qt(Ft)},undo:()=>{Qt(kt)},mustExec:!1}),gr(this,$t,Wn).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(kt){this.enterInEditMode()}keydown(kt){kt.target===this.div&&kt.key==="Enter"&&(this.enterInEditMode(),kt.preventDefault())}editorDivKeydown(kt){Yt._keyboardManager.exec(this,kt)}editorDivFocus(kt){this.isEditing=!0}editorDivBlur(kt){this.isEditing=!1}editorDivInput(kt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let kt,Ft;this.width&&(kt=this.x,Ft=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Mt(this,Tt)),this.enableEditing(),et.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Zt=>{var rr;return(rr=this.editorDiv)==null?void 0:rr.setAttribute("aria-label",Zt)}),et.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Zt=>{var rr;return(rr=this.editorDiv)==null?void 0:rr.setAttribute("default-content",Zt)}),this.editorDiv.contentEditable=!0;const{style:Qt}=this.editorDiv;if(Qt.fontSize=`calc(${Mt(this,At)}px * var(--scale-factor))`,Qt.color=Mt(this,vt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Zt,rr]=this.parentDimensions;if(this.annotationElementId){const{position:qt}=Mt(this,wt);let[Dt,Vt]=this.getInitialTranslation();[Dt,Vt]=this.pageTranslationToScreen(Dt,Vt);const[Lt,jt]=this.pageDimensions,[Wt,Kt]=this.pageTranslation;let er,tr;switch(this.rotation){case 0:er=kt+(qt[0]-Wt)/Lt,tr=Ft+this.height-(qt[1]-Kt)/jt;break;case 90:er=kt+(qt[0]-Wt)/Lt,tr=Ft-(qt[1]-Kt)/jt,[Dt,Vt]=[Vt,-Dt];break;case 180:er=kt-this.width+(qt[0]-Wt)/Lt,tr=Ft-(qt[1]-Kt)/jt,[Dt,Vt]=[-Dt,-Vt];break;case 270:er=kt+(qt[0]-Wt-this.height*jt)/Lt,tr=Ft+(qt[1]-Kt-this.width*Lt)/jt,[Dt,Vt]=[-Vt,Dt];break}this.setAt(er*Zt,tr*rr,Dt,Vt)}else this.setAt(kt*Zt,Ft*rr,this.width*Zt,this.height*rr);gr(this,It,Hs).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(kt,Ft,Qt){let Zt=null;if(kt instanceof ot.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:qt,fontColor:Dt},rect:Vt,rotation:Lt,id:jt},textContent:Wt,textPosition:Kt,parent:{page:{pageNumber:er}}}=kt;if(!Wt||Wt.length===0)return null;Zt=kt={annotationType:a.AnnotationEditorType.FREETEXT,color:Array.from(Dt),fontSize:qt,value:Wt.join(`
`),position:Kt,pageIndex:er-1,rect:Vt,rotation:Lt,id:jt,deleted:!1}}const rr=super.deserialize(kt,Ft,Qt);return Tr(rr,At,kt.fontSize),Tr(rr,vt,a.Util.makeHexColor(...kt.color)),Tr(rr,Pt,kt.value),rr.annotationElementId=kt.id||null,Tr(rr,wt,Zt),rr}serialize(kt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Ft=Yt._internalPadding*this.parentScale,Qt=this.getRect(Ft,Ft),Zt=et.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Mt(this,vt)),rr={annotationType:a.AnnotationEditorType.FREETEXT,color:Zt,fontSize:Mt(this,At),value:Mt(this,Pt),pageIndex:this.pageIndex,rect:Qt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return kt?rr:this.annotationElementId&&!gr(this,Ot,ko).call(this,rr)?null:(rr.id=this.annotationElementId,rr)}};dt=new WeakMap,mt=new WeakMap,gt=new WeakMap,bt=new WeakMap,vt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,At=new WeakMap,wt=new WeakMap,_t=new WeakSet,Ro=function(kt){const Ft=Zt=>{this.editorDiv.style.fontSize=`calc(${Zt}px * var(--scale-factor))`,this.translate(0,-(Zt-Mt(this,At))*this.parentScale),Tr(this,At,Zt),gr(this,$t,Wn).call(this)},Qt=Mt(this,At);this.addCommands({cmd:()=>{Ft(kt)},undo:()=>{Ft(Qt)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},yt=new WeakSet,Co=function(kt){const Ft=Mt(this,vt);this.addCommands({cmd:()=>{Tr(this,vt,this.editorDiv.style.color=kt)},undo:()=>{Tr(this,vt,this.editorDiv.style.color=Ft)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xt=new WeakSet,Io=function(){const kt=this.editorDiv.getElementsByTagName("div");if(kt.length===0)return this.editorDiv.innerText;const Ft=[];for(const Qt of kt)Ft.push(Qt.innerText.replace(/\r\n?|\n/,""));return Ft.join(`
`)},$t=new WeakSet,Wn=function(){const[kt,Ft]=this.parentDimensions;let Qt;if(this.isAttachedToDOM)Qt=this.div.getBoundingClientRect();else{const{currentLayer:Zt,div:rr}=this,qt=rr.style.display;rr.style.display="hidden",Zt.div.append(this.div),Qt=rr.getBoundingClientRect(),rr.remove(),rr.style.display=qt}this.rotation%180===this.parentRotation%180?(this.width=Qt.width/kt,this.height=Qt.height/Ft):(this.width=Qt.height/kt,this.height=Qt.width/Ft),this.fixAndSetPosition()},It=new WeakSet,Hs=function(){if(this.editorDiv.replaceChildren(),!!Mt(this,Pt))for(const kt of Mt(this,Pt).split(`
`)){const Ft=document.createElement("div");Ft.append(kt?document.createTextNode(kt):document.createElement("br")),this.editorDiv.append(Ft)}},Ot=new WeakSet,ko=function(kt){const{value:Ft,fontSize:Qt,color:Zt,rect:rr,pageIndex:qt}=Mt(this,wt);return kt.value!==Ft||kt.fontSize!==Qt||kt.rect.some((Dt,Vt)=>Math.abs(Dt-rr[Vt])>=1)||kt.color.some((Dt,Vt)=>Dt!==Zt[Vt])||kt.pageIndex!==qt},Xt=new WeakSet,Gs=function(kt=!1){if(!this.annotationElementId)return;if(gr(this,$t,Wn).call(this),!kt&&(this.width===0||this.height===0)){setTimeout(()=>gr(this,Xt,Gs).call(this,!0),0);return}const Ft=Yt._internalPadding*this.parentScale;Mt(this,wt).rect=this.getRect(Ft,Ft)},mn(Yt,"_freeTextDefaultContent",""),mn(Yt,"_internalPadding",0),mn(Yt,"_defaultColor",null),mn(Yt,"_defaultFontSize",10),mn(Yt,"_type","freetext");let ft=Yt;i.FreeTextEditor=ft},(e,i,s)=>{var Vt,jt,Cn,Kt,$o,tr,ur,cr,nr,vr,Pr,Ar,Ir,zr,Cr,Dr,xr,hr,pr,br,kr,$r,Gr,Fo,Wr,as,Kr,Ws,Qr,qs,Er,mr,Fr,Mr,dn,hn,_r,Ks,Xr,Nr,Yr,Zr,Do,Lr,Xs;Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var a=s(1),o=s(6),et=s(3),ot=s(30),ft=s(31),dt=s(32);const mt=1e3,gt=9,bt=new WeakSet;function vt(Hr){return{width:Hr[2]-Hr[0],height:Hr[3]-Hr[1]}}class Pt{static create(ir){switch(ir.data.annotationType){case a.AnnotationType.LINK:return new At(ir);case a.AnnotationType.TEXT:return new wt(ir);case a.AnnotationType.WIDGET:switch(ir.data.fieldType){case"Tx":return new Et(ir);case"Btn":return ir.data.radioButton?new xt(ir):ir.data.checkBox?new St(ir):new Ct(ir);case"Ch":return new $t(ir);case"Sig":return new yt(ir)}return new _t(ir);case a.AnnotationType.POPUP:return new Rt(ir);case a.AnnotationType.FREETEXT:return new Nt(ir);case a.AnnotationType.LINE:return new Ot(ir);case a.AnnotationType.SQUARE:return new Gt(ir);case a.AnnotationType.CIRCLE:return new Xt(ir);case a.AnnotationType.POLYLINE:return new Ht(ir);case a.AnnotationType.CARET:return new zt(ir);case a.AnnotationType.INK:return new Ut(ir);case a.AnnotationType.POLYGON:return new Yt(ir);case a.AnnotationType.HIGHLIGHT:return new kt(ir);case a.AnnotationType.UNDERLINE:return new Ft(ir);case a.AnnotationType.SQUIGGLY:return new Qt(ir);case a.AnnotationType.STRIKEOUT:return new Zt(ir);case a.AnnotationType.STAMP:return new rr(ir);case a.AnnotationType.FILEATTACHMENT:return new qt(ir);default:return new Tt(ir)}}}const Lt=class Lt{constructor(ir,{isRenderable:Bt=!1,ignoreBorder:Jt=!1,createQuadrilaterals:or=!1}={}){lr(this,Vt,!1);this.isRenderable=Bt,this.data=ir.data,this.layer=ir.layer,this.linkService=ir.linkService,this.downloadManager=ir.downloadManager,this.imageResourcesPath=ir.imageResourcesPath,this.renderForms=ir.renderForms,this.svgFactory=ir.svgFactory,this.annotationStorage=ir.annotationStorage,this.enableScripting=ir.enableScripting,this.hasJSActions=ir.hasJSActions,this._fieldObjects=ir.fieldObjects,this.parent=ir.parent,Bt&&(this.container=this._createContainer(Jt)),or&&this._createQuadrilaterals()}static _hasPopupData({titleObj:ir,contentsObj:Bt,richText:Jt}){return!!(ir!=null&&ir.str||Bt!=null&&Bt.str||Jt!=null&&Jt.str)}get hasPopupData(){return Lt._hasPopupData(this.data)}_createContainer(ir){const{data:Bt,parent:{page:Jt,viewport:or}}=this,dr=document.createElement("section");dr.setAttribute("data-annotation-id",Bt.id),this instanceof _t||(dr.tabIndex=mt),dr.style.zIndex=this.parent.zIndex++,this.data.popupRef&&dr.setAttribute("aria-haspopup","dialog"),Bt.noRotate&&dr.classList.add("norotate");const{pageWidth:yr,pageHeight:Sr,pageX:Rr,pageY:Or}=or.rawDims;if(!Bt.rect||this instanceof Rt){const{rotation:rn}=Bt;return!Bt.hasOwnCanvas&&rn!==0&&this.setRotation(rn,dr),dr}const{width:Br,height:nn}=vt(Bt.rect),jr=a.Util.normalizeRect([Bt.rect[0],Jt.view[3]-Bt.rect[1]+Jt.view[1],Bt.rect[2],Jt.view[3]-Bt.rect[3]+Jt.view[1]]);if(!ir&&Bt.borderStyle.width>0){dr.style.borderWidth=`${Bt.borderStyle.width}px`;const rn=Bt.borderStyle.horizontalCornerRadius,sn=Bt.borderStyle.verticalCornerRadius;if(rn>0||sn>0){const cn=`calc(${rn}px * var(--scale-factor)) / calc(${sn}px * var(--scale-factor))`;dr.style.borderRadius=cn}else if(this instanceof xt){const cn=`calc(${Br}px * var(--scale-factor)) / calc(${nn}px * var(--scale-factor))`;dr.style.borderRadius=cn}switch(Bt.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:dr.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:dr.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:dr.style.borderBottomStyle="solid";break}const an=Bt.borderColor||null;an?(Tr(this,Vt,!0),dr.style.borderColor=a.Util.makeHexColor(an[0]|0,an[1]|0,an[2]|0)):dr.style.borderWidth=0}dr.style.left=`${100*(jr[0]-Rr)/yr}%`,dr.style.top=`${100*(jr[1]-Or)/Sr}%`;const{rotation:Ur}=Bt;return Bt.hasOwnCanvas||Ur===0?(dr.style.width=`${100*Br/yr}%`,dr.style.height=`${100*nn/Sr}%`):this.setRotation(Ur,dr),dr}setRotation(ir,Bt=this.container){if(!this.data.rect)return;const{pageWidth:Jt,pageHeight:or}=this.parent.viewport.rawDims,{width:dr,height:yr}=vt(this.data.rect);let Sr,Rr;ir%180===0?(Sr=100*dr/Jt,Rr=100*yr/or):(Sr=100*yr/Jt,Rr=100*dr/or),Bt.style.width=`${Sr}%`,Bt.style.height=`${Rr}%`,Bt.setAttribute("data-main-rotation",(360-ir)%360)}get _commonActions(){const ir=(Bt,Jt,or)=>{const dr=or.detail[Bt],yr=dr[0],Sr=dr.slice(1);or.target.style[Jt]=ot.ColorConverters[`${yr}_HTML`](Sr),this.annotationStorage.setValue(this.data.id,{[Jt]:ot.ColorConverters[`${yr}_rgb`](Sr)})};return(0,a.shadow)(this,"_commonActions",{display:Bt=>{const{display:Jt}=Bt.detail,or=Jt%2===1;this.container.style.visibility=or?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:or,noPrint:Jt===1||Jt===2})},print:Bt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Bt.detail.print})},hidden:Bt=>{const{hidden:Jt}=Bt.detail;this.container.style.visibility=Jt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Jt,noView:Jt})},focus:Bt=>{setTimeout(()=>Bt.target.focus({preventScroll:!1}),0)},userName:Bt=>{Bt.target.title=Bt.detail.userName},readonly:Bt=>{Bt.target.disabled=Bt.detail.readonly},required:Bt=>{this._setRequired(Bt.target,Bt.detail.required)},bgColor:Bt=>{ir("bgColor","backgroundColor",Bt)},fillColor:Bt=>{ir("fillColor","backgroundColor",Bt)},fgColor:Bt=>{ir("fgColor","color",Bt)},textColor:Bt=>{ir("textColor","color",Bt)},borderColor:Bt=>{ir("borderColor","borderColor",Bt)},strokeColor:Bt=>{ir("strokeColor","borderColor",Bt)},rotation:Bt=>{const Jt=Bt.detail.rotation;this.setRotation(Jt),this.annotationStorage.setValue(this.data.id,{rotation:Jt})}})}_dispatchEventFromSandbox(ir,Bt){const Jt=this._commonActions;for(const or of Object.keys(Bt.detail)){const dr=ir[or]||Jt[or];dr==null||dr(Bt)}}_setDefaultPropertiesFromJS(ir){if(!this.enableScripting)return;const Bt=this.annotationStorage.getRawValue(this.data.id);if(!Bt)return;const Jt=this._commonActions;for(const[or,dr]of Object.entries(Bt)){const yr=Jt[or];if(yr){const Sr={detail:{[or]:dr},target:ir};yr(Sr),delete Bt[or]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:ir}=this.data;if(!ir)return;const[Bt,Jt,or,dr]=this.data.rect;if(ir.length===1){const[,{x:sn,y:an},{x:cn,y:gn}]=ir[0];if(or===sn&&dr===an&&Bt===cn&&Jt===gn)return}const{style:yr}=this.container;let Sr;if(Mt(this,Vt)){const{borderColor:sn,borderWidth:an}=yr;yr.borderWidth=0,Sr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${sn}" stroke-width="${an}">`],this.container.classList.add("hasBorder")}const Rr=or-Bt,Or=dr-Jt,{svgFactory:Br}=this,nn=Br.createElement("svg");nn.classList.add("quadrilateralsContainer"),nn.setAttribute("width",0),nn.setAttribute("height",0);const jr=Br.createElement("defs");nn.append(jr);const Ur=Br.createElement("clipPath"),rn=`clippath_${this.data.id}`;Ur.setAttribute("id",rn),Ur.setAttribute("clipPathUnits","objectBoundingBox"),jr.append(Ur);for(const[,{x:sn,y:an},{x:cn,y:gn}]of ir){const fn=Br.createElement("rect"),_n=(cn-Bt)/Rr,Tn=(dr-an)/Or,En=(sn-cn)/Rr,kn=(an-gn)/Or;fn.setAttribute("x",_n),fn.setAttribute("y",Tn),fn.setAttribute("width",En),fn.setAttribute("height",kn),Ur.append(fn),Sr==null||Sr.push(`<rect vector-effect="non-scaling-stroke" x="${_n}" y="${Tn}" width="${En}" height="${kn}"/>`)}Mt(this,Vt)&&(Sr.push("</g></svg>')"),yr.backgroundImage=Sr.join("")),this.container.append(nn),this.container.style.clipPath=`url(#${rn})`}_createPopup(){const{container:ir,data:Bt}=this;ir.setAttribute("aria-haspopup","dialog");const Jt=new Rt({data:{color:Bt.color,titleObj:Bt.titleObj,modificationDate:Bt.modificationDate,contentsObj:Bt.contentsObj,richText:Bt.richText,parentRect:Bt.rect,borderStyle:0,id:`popup_${Bt.id}`,rotation:Bt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Jt.render())}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ir,Bt=null){const Jt=[];if(this._fieldObjects){const or=this._fieldObjects[ir];if(or)for(const{page:dr,id:yr,exportValues:Sr}of or){if(dr===-1||yr===Bt)continue;const Rr=typeof Sr=="string"?Sr:null,Or=document.querySelector(`[data-element-id="${yr}"]`);if(Or&&!bt.has(Or)){(0,a.warn)(`_getElementsByName - element not allowed: ${yr}`);continue}Jt.push({id:yr,exportValue:Rr,domElement:Or})}return Jt}for(const or of document.getElementsByName(ir)){const{exportValue:dr}=or,yr=or.getAttribute("data-element-id");yr!==Bt&&bt.has(or)&&Jt.push({id:yr,exportValue:dr,domElement:or})}return Jt}show(){var ir;this.container&&(this.container.hidden=!1),(ir=this.popup)==null||ir.maybeShow()}hide(){var ir;this.container&&(this.container.hidden=!0),(ir=this.popup)==null||ir.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const ir=this.getElementsToTriggerPopup();if(Array.isArray(ir))for(const Bt of ir)Bt.classList.add("highlightArea");else ir.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:ir,data:{id:Bt}}=this;this.container.addEventListener("dblclick",()=>{var Jt;(Jt=this.linkService.eventBus)==null||Jt.dispatch("switchannotationeditormode",{source:this,mode:ir,editId:Bt})})}};Vt=new WeakMap;let Tt=Lt;class At extends Tt{constructor(Bt,Jt=null){super(Bt,{isRenderable:!0,ignoreBorder:!!(Jt!=null&&Jt.ignoreBorder),createQuadrilaterals:!0});lr(this,jt);lr(this,Kt);this.isTooltipOnly=Bt.data.isTooltipOnly}render(){const{data:Bt,linkService:Jt}=this,or=document.createElement("a");or.setAttribute("data-element-id",Bt.id);let dr=!1;return Bt.url?(Jt.addLinkAttributes(or,Bt.url,Bt.newWindow),dr=!0):Bt.action?(this._bindNamedAction(or,Bt.action),dr=!0):Bt.attachment?(this._bindAttachment(or,Bt.attachment),dr=!0):Bt.setOCGState?(gr(this,Kt,$o).call(this,or,Bt.setOCGState),dr=!0):Bt.dest?(this._bindLink(or,Bt.dest),dr=!0):(Bt.actions&&(Bt.actions.Action||Bt.actions["Mouse Up"]||Bt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(or,Bt),dr=!0),Bt.resetForm?(this._bindResetFormAction(or,Bt.resetForm),dr=!0):this.isTooltipOnly&&!dr&&(this._bindLink(or,""),dr=!0)),this.container.classList.add("linkAnnotation"),dr&&this.container.append(or),this.container}_bindLink(Bt,Jt){Bt.href=this.linkService.getDestinationHash(Jt),Bt.onclick=()=>(Jt&&this.linkService.goToDestination(Jt),!1),(Jt||Jt==="")&&gr(this,jt,Cn).call(this)}_bindNamedAction(Bt,Jt){Bt.href=this.linkService.getAnchorUrl(""),Bt.onclick=()=>(this.linkService.executeNamedAction(Jt),!1),gr(this,jt,Cn).call(this)}_bindAttachment(Bt,Jt){Bt.href=this.linkService.getAnchorUrl(""),Bt.onclick=()=>{var or;return(or=this.downloadManager)==null||or.openOrDownloadData(this.container,Jt.content,Jt.filename),!1},gr(this,jt,Cn).call(this)}_bindJSAction(Bt,Jt){Bt.href=this.linkService.getAnchorUrl("");const or=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const dr of Object.keys(Jt.actions)){const yr=or.get(dr);yr&&(Bt[yr]=()=>{var Sr;return(Sr=this.linkService.eventBus)==null||Sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Jt.id,name:dr}}),!1})}Bt.onclick||(Bt.onclick=()=>!1),gr(this,jt,Cn).call(this)}_bindResetFormAction(Bt,Jt){const or=Bt.onclick;if(or||(Bt.href=this.linkService.getAnchorUrl("")),gr(this,jt,Cn).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),or||(Bt.onclick=()=>!1);return}Bt.onclick=()=>{var nn;or==null||or();const{fields:dr,refs:yr,include:Sr}=Jt,Rr=[];if(dr.length!==0||yr.length!==0){const jr=new Set(yr);for(const Ur of dr){const rn=this._fieldObjects[Ur]||[];for(const{id:sn}of rn)jr.add(sn)}for(const Ur of Object.values(this._fieldObjects))for(const rn of Ur)jr.has(rn.id)===Sr&&Rr.push(rn)}else for(const jr of Object.values(this._fieldObjects))Rr.push(...jr);const Or=this.annotationStorage,Br=[];for(const jr of Rr){const{id:Ur}=jr;switch(Br.push(Ur),jr.type){case"text":{const sn=jr.defaultValue||"";Or.setValue(Ur,{value:sn});break}case"checkbox":case"radiobutton":{const sn=jr.defaultValue===jr.exportValues;Or.setValue(Ur,{value:sn});break}case"combobox":case"listbox":{const sn=jr.defaultValue||"";Or.setValue(Ur,{value:sn});break}default:continue}const rn=document.querySelector(`[data-element-id="${Ur}"]`);if(rn){if(!bt.has(rn)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Ur}`);continue}}else continue;rn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((nn=this.linkService.eventBus)==null||nn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Br,name:"ResetForm"}})),!1}}}jt=new WeakSet,Cn=function(){this.container.setAttribute("data-internal-link","")},Kt=new WeakSet,$o=function(Bt,Jt){Bt.href=this.linkService.getAnchorUrl(""),Bt.onclick=()=>(this.linkService.executeSetOCGState(Jt),!1),gr(this,jt,Cn).call(this)};class wt extends Tt{constructor(ir){super(ir,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const ir=document.createElement("img");return ir.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ir.alt="[{{type}} Annotation]",ir.dataset.l10nId="text_annotation_type",ir.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(ir),this.container}}class _t extends Tt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(ir){var Bt;this.data.hasOwnCanvas&&(((Bt=ir.previousSibling)==null?void 0:Bt.nodeName)==="CANVAS"&&(ir.previousSibling.hidden=!0),ir.hidden=!1)}_getKeyModifier(ir){const{isWin:Bt,isMac:Jt}=a.FeatureTest.platform;return Bt&&ir.ctrlKey||Jt&&ir.metaKey}_setEventListener(ir,Bt,Jt,or,dr){Jt.includes("mouse")?ir.addEventListener(Jt,yr=>{var Sr;(Sr=this.linkService.eventBus)==null||Sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:or,value:dr(yr),shift:yr.shiftKey,modifier:this._getKeyModifier(yr)}})}):ir.addEventListener(Jt,yr=>{var Sr;if(Jt==="blur"){if(!Bt.focused||!yr.relatedTarget)return;Bt.focused=!1}else if(Jt==="focus"){if(Bt.focused)return;Bt.focused=!0}dr&&((Sr=this.linkService.eventBus)==null||Sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:or,value:dr(yr)}}))})}_setEventListeners(ir,Bt,Jt,or){var dr,yr,Sr;for(const[Rr,Or]of Jt)(Or==="Action"||(dr=this.data.actions)!=null&&dr[Or])&&((Or==="Focus"||Or==="Blur")&&(Bt||(Bt={focused:!1})),this._setEventListener(ir,Bt,Rr,Or,or),Or==="Focus"&&!((yr=this.data.actions)!=null&&yr.Blur)?this._setEventListener(ir,Bt,"blur","Blur",null):Or==="Blur"&&!((Sr=this.data.actions)!=null&&Sr.Focus)&&this._setEventListener(ir,Bt,"focus","Focus",null))}_setBackgroundColor(ir){const Bt=this.data.backgroundColor||null;ir.style.backgroundColor=Bt===null?"transparent":a.Util.makeHexColor(Bt[0],Bt[1],Bt[2])}_setTextStyle(ir){const Bt=["left","center","right"],{fontColor:Jt}=this.data.defaultAppearanceData,or=this.data.defaultAppearanceData.fontSize||gt,dr=ir.style;let yr;const Sr=2,Rr=Or=>Math.round(10*Or)/10;if(this.data.multiLine){const Or=Math.abs(this.data.rect[3]-this.data.rect[1]-Sr),Br=Math.round(Or/(a.LINE_FACTOR*or))||1,nn=Or/Br;yr=Math.min(or,Rr(nn/a.LINE_FACTOR))}else{const Or=Math.abs(this.data.rect[3]-this.data.rect[1]-Sr);yr=Math.min(or,Rr(Or/a.LINE_FACTOR))}dr.fontSize=`calc(${yr}px * var(--scale-factor))`,dr.color=a.Util.makeHexColor(Jt[0],Jt[1],Jt[2]),this.data.textAlignment!==null&&(dr.textAlign=Bt[this.data.textAlignment])}_setRequired(ir,Bt){Bt?ir.setAttribute("required",!0):ir.removeAttribute("required"),ir.setAttribute("aria-required",Bt)}}class Et extends _t{constructor(ir){const Bt=ir.renderForms||!ir.data.hasAppearance&&!!ir.data.fieldValue;super(ir,{isRenderable:Bt})}setPropertyOnSiblings(ir,Bt,Jt,or){const dr=this.annotationStorage;for(const yr of this._getElementsByName(ir.name,ir.id))yr.domElement&&(yr.domElement[Bt]=Jt),dr.setValue(yr.id,{[or]:Jt})}render(){var or,dr;const ir=this.annotationStorage,Bt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Jt=null;if(this.renderForms){const yr=ir.getValue(Bt,{value:this.data.fieldValue});let Sr=yr.value||"";const Rr=ir.getValue(Bt,{charLimit:this.data.maxLen}).charLimit;Rr&&Sr.length>Rr&&(Sr=Sr.slice(0,Rr));let Or=yr.formattedValue||((or=this.data.textContent)==null?void 0:or.join(`
`))||null;Or&&this.data.comb&&(Or=Or.replaceAll(/\s+/g,""));const Br={userValue:Sr,formattedValue:Or,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Jt=document.createElement("textarea"),Jt.textContent=Or??Sr,this.data.doNotScroll&&(Jt.style.overflowY="hidden")):(Jt=document.createElement("input"),Jt.type="text",Jt.setAttribute("value",Or??Sr),this.data.doNotScroll&&(Jt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Jt.hidden=!0),bt.add(Jt),Jt.setAttribute("data-element-id",Bt),Jt.disabled=this.data.readOnly,Jt.name=this.data.fieldName,Jt.tabIndex=mt,this._setRequired(Jt,this.data.required),Rr&&(Jt.maxLength=Rr),Jt.addEventListener("input",jr=>{ir.setValue(Bt,{value:jr.target.value}),this.setPropertyOnSiblings(Jt,"value",jr.target.value,"value"),Br.formattedValue=null}),Jt.addEventListener("resetform",jr=>{const Ur=this.data.defaultFieldValue??"";Jt.value=Br.userValue=Ur,Br.formattedValue=null});let nn=jr=>{const{formattedValue:Ur}=Br;Ur!=null&&(jr.target.value=Ur),jr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Jt.addEventListener("focus",Ur=>{if(Br.focused)return;const{target:rn}=Ur;Br.userValue&&(rn.value=Br.userValue),Br.lastCommittedValue=rn.value,Br.commitKey=1,Br.focused=!0}),Jt.addEventListener("updatefromsandbox",Ur=>{this.showElementAndHideCanvas(Ur.target);const rn={value(sn){Br.userValue=sn.detail.value??"",ir.setValue(Bt,{value:Br.userValue.toString()}),sn.target.value=Br.userValue},formattedValue(sn){const{formattedValue:an}=sn.detail;Br.formattedValue=an,an!=null&&sn.target!==document.activeElement&&(sn.target.value=an),ir.setValue(Bt,{formattedValue:an})},selRange(sn){sn.target.setSelectionRange(...sn.detail.selRange)},charLimit:sn=>{var fn;const{charLimit:an}=sn.detail,{target:cn}=sn;if(an===0){cn.removeAttribute("maxLength");return}cn.setAttribute("maxLength",an);let gn=Br.userValue;!gn||gn.length<=an||(gn=gn.slice(0,an),cn.value=Br.userValue=gn,ir.setValue(Bt,{value:gn}),(fn=this.linkService.eventBus)==null||fn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt,name:"Keystroke",value:gn,willCommit:!0,commitKey:1,selStart:cn.selectionStart,selEnd:cn.selectionEnd}}))}};this._dispatchEventFromSandbox(rn,Ur)}),Jt.addEventListener("keydown",Ur=>{var an;Br.commitKey=1;let rn=-1;if(Ur.key==="Escape"?rn=0:Ur.key==="Enter"&&!this.data.multiLine?rn=2:Ur.key==="Tab"&&(Br.commitKey=3),rn===-1)return;const{value:sn}=Ur.target;Br.lastCommittedValue!==sn&&(Br.lastCommittedValue=sn,Br.userValue=sn,(an=this.linkService.eventBus)==null||an.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt,name:"Keystroke",value:sn,willCommit:!0,commitKey:rn,selStart:Ur.target.selectionStart,selEnd:Ur.target.selectionEnd}}))});const jr=nn;nn=null,Jt.addEventListener("blur",Ur=>{var sn;if(!Br.focused||!Ur.relatedTarget)return;Br.focused=!1;const{value:rn}=Ur.target;Br.userValue=rn,Br.lastCommittedValue!==rn&&((sn=this.linkService.eventBus)==null||sn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt,name:"Keystroke",value:rn,willCommit:!0,commitKey:Br.commitKey,selStart:Ur.target.selectionStart,selEnd:Ur.target.selectionEnd}})),jr(Ur)}),(dr=this.data.actions)!=null&&dr.Keystroke&&Jt.addEventListener("beforeinput",Ur=>{var Tn;Br.lastCommittedValue=null;const{data:rn,target:sn}=Ur,{value:an,selectionStart:cn,selectionEnd:gn}=sn;let fn=cn,_n=gn;switch(Ur.inputType){case"deleteWordBackward":{const En=an.substring(0,cn).match(/\w*[^\w]*$/);En&&(fn-=En[0].length);break}case"deleteWordForward":{const En=an.substring(cn).match(/^[^\w]*\w*/);En&&(_n+=En[0].length);break}case"deleteContentBackward":cn===gn&&(fn-=1);break;case"deleteContentForward":cn===gn&&(_n+=1);break}Ur.preventDefault(),(Tn=this.linkService.eventBus)==null||Tn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt,name:"Keystroke",value:an,change:rn||"",willCommit:!1,selStart:fn,selEnd:_n}})}),this._setEventListeners(Jt,Br,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ur=>Ur.target.value)}if(nn&&Jt.addEventListener("blur",nn),this.data.comb){const Ur=(this.data.rect[2]-this.data.rect[0])/Rr;Jt.classList.add("comb"),Jt.style.letterSpacing=`calc(${Ur}px * var(--scale-factor) - 1ch)`}}else Jt=document.createElement("div"),Jt.textContent=this.data.fieldValue,Jt.style.verticalAlign="middle",Jt.style.display="table-cell";return this._setTextStyle(Jt),this._setBackgroundColor(Jt),this._setDefaultPropertiesFromJS(Jt),this.container.append(Jt),this.container}}class yt extends _t{constructor(ir){super(ir,{isRenderable:!!ir.data.hasOwnCanvas})}}class St extends _t{constructor(ir){super(ir,{isRenderable:ir.renderForms})}render(){const ir=this.annotationStorage,Bt=this.data,Jt=Bt.id;let or=ir.getValue(Jt,{value:Bt.exportValue===Bt.fieldValue}).value;typeof or=="string"&&(or=or!=="Off",ir.setValue(Jt,{value:or})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const dr=document.createElement("input");return bt.add(dr),dr.setAttribute("data-element-id",Jt),dr.disabled=Bt.readOnly,this._setRequired(dr,this.data.required),dr.type="checkbox",dr.name=Bt.fieldName,or&&dr.setAttribute("checked",!0),dr.setAttribute("exportValue",Bt.exportValue),dr.tabIndex=mt,dr.addEventListener("change",yr=>{const{name:Sr,checked:Rr}=yr.target;for(const Or of this._getElementsByName(Sr,Jt)){const Br=Rr&&Or.exportValue===Bt.exportValue;Or.domElement&&(Or.domElement.checked=Br),ir.setValue(Or.id,{value:Br})}ir.setValue(Jt,{value:Rr})}),dr.addEventListener("resetform",yr=>{const Sr=Bt.defaultFieldValue||"Off";yr.target.checked=Sr===Bt.exportValue}),this.enableScripting&&this.hasJSActions&&(dr.addEventListener("updatefromsandbox",yr=>{const Sr={value(Rr){Rr.target.checked=Rr.detail.value!=="Off",ir.setValue(Jt,{value:Rr.target.checked})}};this._dispatchEventFromSandbox(Sr,yr)}),this._setEventListeners(dr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],yr=>yr.target.checked)),this._setBackgroundColor(dr),this._setDefaultPropertiesFromJS(dr),this.container.append(dr),this.container}}class xt extends _t{constructor(ir){super(ir,{isRenderable:ir.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const ir=this.annotationStorage,Bt=this.data,Jt=Bt.id;let or=ir.getValue(Jt,{value:Bt.fieldValue===Bt.buttonValue}).value;typeof or=="string"&&(or=or!==Bt.buttonValue,ir.setValue(Jt,{value:or}));const dr=document.createElement("input");if(bt.add(dr),dr.setAttribute("data-element-id",Jt),dr.disabled=Bt.readOnly,this._setRequired(dr,this.data.required),dr.type="radio",dr.name=Bt.fieldName,or&&dr.setAttribute("checked",!0),dr.tabIndex=mt,dr.addEventListener("change",yr=>{const{name:Sr,checked:Rr}=yr.target;for(const Or of this._getElementsByName(Sr,Jt))ir.setValue(Or.id,{value:!1});ir.setValue(Jt,{value:Rr})}),dr.addEventListener("resetform",yr=>{const Sr=Bt.defaultFieldValue;yr.target.checked=Sr!=null&&Sr===Bt.buttonValue}),this.enableScripting&&this.hasJSActions){const yr=Bt.buttonValue;dr.addEventListener("updatefromsandbox",Sr=>{const Rr={value:Or=>{const Br=yr===Or.detail.value;for(const nn of this._getElementsByName(Or.target.name)){const jr=Br&&nn.id===Jt;nn.domElement&&(nn.domElement.checked=jr),ir.setValue(nn.id,{value:jr})}}};this._dispatchEventFromSandbox(Rr,Sr)}),this._setEventListeners(dr,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sr=>Sr.target.checked)}return this._setBackgroundColor(dr),this._setDefaultPropertiesFromJS(dr),this.container.append(dr),this.container}}class Ct extends At{constructor(ir){super(ir,{ignoreBorder:ir.data.hasAppearance})}render(){const ir=super.render();ir.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(ir.title=this.data.alternativeText);const Bt=ir.lastChild;return this.enableScripting&&this.hasJSActions&&Bt&&(this._setDefaultPropertiesFromJS(Bt),Bt.addEventListener("updatefromsandbox",Jt=>{this._dispatchEventFromSandbox({},Jt)})),ir}}class $t extends _t{constructor(ir){super(ir,{isRenderable:ir.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const ir=this.annotationStorage,Bt=this.data.id,Jt=ir.getValue(Bt,{value:this.data.fieldValue}),or=document.createElement("select");bt.add(or),or.setAttribute("data-element-id",Bt),or.disabled=this.data.readOnly,this._setRequired(or,this.data.required),or.name=this.data.fieldName,or.tabIndex=mt;let dr=this.data.combo&&this.data.options.length>0;this.data.combo||(or.size=this.data.options.length,this.data.multiSelect&&(or.multiple=!0)),or.addEventListener("resetform",Br=>{const nn=this.data.defaultFieldValue;for(const jr of or.options)jr.selected=jr.value===nn});for(const Br of this.data.options){const nn=document.createElement("option");nn.textContent=Br.displayValue,nn.value=Br.exportValue,Jt.value.includes(Br.exportValue)&&(nn.setAttribute("selected",!0),dr=!1),or.append(nn)}let yr=null;if(dr){const Br=document.createElement("option");Br.value=" ",Br.setAttribute("hidden",!0),Br.setAttribute("selected",!0),or.prepend(Br),yr=()=>{Br.remove(),or.removeEventListener("input",yr),yr=null},or.addEventListener("input",yr)}const Sr=Br=>{const nn=Br?"value":"textContent",{options:jr,multiple:Ur}=or;return Ur?Array.prototype.filter.call(jr,rn=>rn.selected).map(rn=>rn[nn]):jr.selectedIndex===-1?null:jr[jr.selectedIndex][nn]};let Rr=Sr(!1);const Or=Br=>{const nn=Br.target.options;return Array.prototype.map.call(nn,jr=>({displayValue:jr.textContent,exportValue:jr.value}))};return this.enableScripting&&this.hasJSActions?(or.addEventListener("updatefromsandbox",Br=>{const nn={value(jr){yr==null||yr();const Ur=jr.detail.value,rn=new Set(Array.isArray(Ur)?Ur:[Ur]);for(const sn of or.options)sn.selected=rn.has(sn.value);ir.setValue(Bt,{value:Sr(!0)}),Rr=Sr(!1)},multipleSelection(jr){or.multiple=!0},remove(jr){const Ur=or.options,rn=jr.detail.remove;Ur[rn].selected=!1,or.remove(rn),Ur.length>0&&Array.prototype.findIndex.call(Ur,an=>an.selected)===-1&&(Ur[0].selected=!0),ir.setValue(Bt,{value:Sr(!0),items:Or(jr)}),Rr=Sr(!1)},clear(jr){for(;or.length!==0;)or.remove(0);ir.setValue(Bt,{value:null,items:[]}),Rr=Sr(!1)},insert(jr){const{index:Ur,displayValue:rn,exportValue:sn}=jr.detail.insert,an=or.children[Ur],cn=document.createElement("option");cn.textContent=rn,cn.value=sn,an?an.before(cn):or.append(cn),ir.setValue(Bt,{value:Sr(!0),items:Or(jr)}),Rr=Sr(!1)},items(jr){const{items:Ur}=jr.detail;for(;or.length!==0;)or.remove(0);for(const rn of Ur){const{displayValue:sn,exportValue:an}=rn,cn=document.createElement("option");cn.textContent=sn,cn.value=an,or.append(cn)}or.options.length>0&&(or.options[0].selected=!0),ir.setValue(Bt,{value:Sr(!0),items:Or(jr)}),Rr=Sr(!1)},indices(jr){const Ur=new Set(jr.detail.indices);for(const rn of jr.target.options)rn.selected=Ur.has(rn.index);ir.setValue(Bt,{value:Sr(!0)}),Rr=Sr(!1)},editable(jr){jr.target.disabled=!jr.detail.editable}};this._dispatchEventFromSandbox(nn,Br)}),or.addEventListener("input",Br=>{var jr;const nn=Sr(!0);ir.setValue(Bt,{value:nn}),Br.preventDefault(),(jr=this.linkService.eventBus)==null||jr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Bt,name:"Keystroke",value:Rr,changeEx:nn,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(or,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Br=>Br.target.value)):or.addEventListener("input",function(Br){ir.setValue(Bt,{value:Sr(!0)})}),this.data.combo&&this._setTextStyle(or),this._setBackgroundColor(or),this._setDefaultPropertiesFromJS(or),this.container.append(or),this.container}}class Rt extends Tt{constructor(ir){const{data:Bt,elements:Jt}=ir;super(ir,{isRenderable:Tt._hasPopupData(Bt)}),this.elements=Jt}render(){this.container.classList.add("popupAnnotation");const ir=new It({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),Bt=[];for(const Jt of this.elements)Jt.popup=ir,Bt.push(Jt.data.id),Jt.addHighlightArea();return this.container.setAttribute("aria-controls",Bt.map(Jt=>`${a.AnnotationPrefix}${Jt}`).join(",")),this.container}}class It{constructor({container:ir,color:Bt,elements:Jt,titleObj:or,modificationDate:dr,contentsObj:yr,richText:Sr,parent:Rr,rect:Or,parentRect:Br,open:nn}){lr(this,Gr);lr(this,Wr);lr(this,Kr);lr(this,Qr);lr(this,tr,null);lr(this,ur,gr(this,Gr,Fo).bind(this));lr(this,cr,gr(this,Qr,qs).bind(this));lr(this,nr,gr(this,Kr,Ws).bind(this));lr(this,vr,gr(this,Wr,as).bind(this));lr(this,Pr,null);lr(this,Ar,null);lr(this,Ir,null);lr(this,zr,null);lr(this,Cr,null);lr(this,Dr,null);lr(this,xr,!1);lr(this,hr,null);lr(this,pr,null);lr(this,br,null);lr(this,kr,null);lr(this,$r,!1);var Ur;Tr(this,Ar,ir),Tr(this,kr,or),Tr(this,Ir,yr),Tr(this,br,Sr),Tr(this,Cr,Rr),Tr(this,Pr,Bt),Tr(this,pr,Or),Tr(this,Dr,Br),Tr(this,zr,Jt);const jr=o.PDFDateString.toDateObject(dr);jr&&Tr(this,tr,Rr.l10n.get("annotation_date_string",{date:jr.toLocaleDateString(),time:jr.toLocaleTimeString()})),this.trigger=Jt.flatMap(rn=>rn.getElementsToTriggerPopup());for(const rn of this.trigger)rn.addEventListener("click",Mt(this,vr)),rn.addEventListener("mouseenter",Mt(this,nr)),rn.addEventListener("mouseleave",Mt(this,cr)),rn.classList.add("popupTriggerArea");for(const rn of Jt)(Ur=rn.container)==null||Ur.addEventListener("keydown",Mt(this,ur));Mt(this,Ar).hidden=!0,nn&&gr(this,Wr,as).call(this)}render(){if(Mt(this,hr))return;const{page:{view:ir},viewport:{rawDims:{pageWidth:Bt,pageHeight:Jt,pageX:or,pageY:dr}}}=Mt(this,Cr),yr=Tr(this,hr,document.createElement("div"));if(yr.className="popup",Mt(this,Pr)){const fn=yr.style.outlineColor=a.Util.makeHexColor(...Mt(this,Pr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?yr.style.backgroundColor=`color-mix(in srgb, ${fn} 30%, white)`:yr.style.backgroundColor=a.Util.makeHexColor(...Mt(this,Pr).map(Tn=>Math.floor(.7*(255-Tn)+Tn)))}const Sr=document.createElement("span");Sr.className="header";const Rr=document.createElement("h1");if(Sr.append(Rr),{dir:Rr.dir,str:Rr.textContent}=Mt(this,kr),yr.append(Sr),Mt(this,tr)){const fn=document.createElement("span");fn.classList.add("popupDate"),Mt(this,tr).then(_n=>{fn.textContent=_n}),Sr.append(fn)}const Or=Mt(this,Ir),Br=Mt(this,br);if(Br!=null&&Br.str&&(!(Or!=null&&Or.str)||Or.str===Br.str))dt.XfaLayer.render({xfaHtml:Br.html,intent:"richText",div:yr}),yr.lastChild.classList.add("richText","popupContent");else{const fn=this._formatContents(Or);yr.append(fn)}let nn=!!Mt(this,Dr),jr=nn?Mt(this,Dr):Mt(this,pr);for(const fn of Mt(this,zr))if(!jr||a.Util.intersect(fn.data.rect,jr)!==null){jr=fn.data.rect,nn=!0;break}const Ur=a.Util.normalizeRect([jr[0],ir[3]-jr[1]+ir[1],jr[2],ir[3]-jr[3]+ir[1]]),sn=nn?jr[2]-jr[0]+5:0,an=Ur[0]+sn,cn=Ur[1],{style:gn}=Mt(this,Ar);gn.left=`${100*(an-or)/Bt}%`,gn.top=`${100*(cn-dr)/Jt}%`,Mt(this,Ar).append(yr)}_formatContents({str:ir,dir:Bt}){const Jt=document.createElement("p");Jt.classList.add("popupContent"),Jt.dir=Bt;const or=ir.split(/(?:\r\n?|\n)/);for(let dr=0,yr=or.length;dr<yr;++dr){const Sr=or[dr];Jt.append(document.createTextNode(Sr)),dr<yr-1&&Jt.append(document.createElement("br"))}return Jt}forceHide(){Tr(this,$r,this.isVisible),Mt(this,$r)&&(Mt(this,Ar).hidden=!0)}maybeShow(){Mt(this,$r)&&(Tr(this,$r,!1),Mt(this,Ar).hidden=!1)}get isVisible(){return Mt(this,Ar).hidden===!1}}tr=new WeakMap,ur=new WeakMap,cr=new WeakMap,nr=new WeakMap,vr=new WeakMap,Pr=new WeakMap,Ar=new WeakMap,Ir=new WeakMap,zr=new WeakMap,Cr=new WeakMap,Dr=new WeakMap,xr=new WeakMap,hr=new WeakMap,pr=new WeakMap,br=new WeakMap,kr=new WeakMap,$r=new WeakMap,Gr=new WeakSet,Fo=function(ir){ir.altKey||ir.shiftKey||ir.ctrlKey||ir.metaKey||(ir.key==="Enter"||ir.key==="Escape"&&Mt(this,xr))&&gr(this,Wr,as).call(this)},Wr=new WeakSet,as=function(){Tr(this,xr,!Mt(this,xr)),Mt(this,xr)?(gr(this,Kr,Ws).call(this),Mt(this,Ar).addEventListener("click",Mt(this,vr)),Mt(this,Ar).addEventListener("keydown",Mt(this,ur))):(gr(this,Qr,qs).call(this),Mt(this,Ar).removeEventListener("click",Mt(this,vr)),Mt(this,Ar).removeEventListener("keydown",Mt(this,ur)))},Kr=new WeakSet,Ws=function(){Mt(this,hr)||this.render(),this.isVisible?Mt(this,xr)&&Mt(this,Ar).classList.add("focused"):(Mt(this,Ar).hidden=!1,Mt(this,Ar).style.zIndex=parseInt(Mt(this,Ar).style.zIndex)+1e3)},Qr=new WeakSet,qs=function(){Mt(this,Ar).classList.remove("focused"),!(Mt(this,xr)||!this.isVisible)&&(Mt(this,Ar).hidden=!0,Mt(this,Ar).style.zIndex=parseInt(Mt(this,Ar).style.zIndex)-1e3)};class Nt extends Tt{constructor(ir){super(ir,{isRenderable:!0,ignoreBorder:!0}),this.textContent=ir.data.textContent,this.textPosition=ir.data.textPosition,this.annotationEditorType=a.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const ir=document.createElement("div");ir.classList.add("annotationTextContent"),ir.setAttribute("role","comment");for(const Bt of this.textContent){const Jt=document.createElement("span");Jt.textContent=Bt,ir.append(Jt)}this.container.append(ir)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=Nt;class Ot extends Tt{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0});lr(this,Er,null)}render(){this.container.classList.add("lineAnnotation");const Bt=this.data,{width:Jt,height:or}=vt(Bt.rect),dr=this.svgFactory.create(Jt,or,!0),yr=Tr(this,Er,this.svgFactory.createElement("svg:line"));return yr.setAttribute("x1",Bt.rect[2]-Bt.lineCoordinates[0]),yr.setAttribute("y1",Bt.rect[3]-Bt.lineCoordinates[1]),yr.setAttribute("x2",Bt.rect[2]-Bt.lineCoordinates[2]),yr.setAttribute("y2",Bt.rect[3]-Bt.lineCoordinates[3]),yr.setAttribute("stroke-width",Bt.borderStyle.width||1),yr.setAttribute("stroke","transparent"),yr.setAttribute("fill","transparent"),dr.append(yr),this.container.append(dr),!Bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,Er)}addHighlightArea(){this.container.classList.add("highlightArea")}}Er=new WeakMap;class Gt extends Tt{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0});lr(this,mr,null)}render(){this.container.classList.add("squareAnnotation");const Bt=this.data,{width:Jt,height:or}=vt(Bt.rect),dr=this.svgFactory.create(Jt,or,!0),yr=Bt.borderStyle.width,Sr=Tr(this,mr,this.svgFactory.createElement("svg:rect"));return Sr.setAttribute("x",yr/2),Sr.setAttribute("y",yr/2),Sr.setAttribute("width",Jt-yr),Sr.setAttribute("height",or-yr),Sr.setAttribute("stroke-width",yr||1),Sr.setAttribute("stroke","transparent"),Sr.setAttribute("fill","transparent"),dr.append(Sr),this.container.append(dr),!Bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,mr)}addHighlightArea(){this.container.classList.add("highlightArea")}}mr=new WeakMap;class Xt extends Tt{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0});lr(this,Fr,null)}render(){this.container.classList.add("circleAnnotation");const Bt=this.data,{width:Jt,height:or}=vt(Bt.rect),dr=this.svgFactory.create(Jt,or,!0),yr=Bt.borderStyle.width,Sr=Tr(this,Fr,this.svgFactory.createElement("svg:ellipse"));return Sr.setAttribute("cx",Jt/2),Sr.setAttribute("cy",or/2),Sr.setAttribute("rx",Jt/2-yr/2),Sr.setAttribute("ry",or/2-yr/2),Sr.setAttribute("stroke-width",yr||1),Sr.setAttribute("stroke","transparent"),Sr.setAttribute("fill","transparent"),dr.append(Sr),this.container.append(dr),!Bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,Fr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fr=new WeakMap;class Ht extends Tt{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0});lr(this,Mr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Bt=this.data,{width:Jt,height:or}=vt(Bt.rect),dr=this.svgFactory.create(Jt,or,!0);let yr=[];for(const Rr of Bt.vertices){const Or=Rr.x-Bt.rect[0],Br=Bt.rect[3]-Rr.y;yr.push(Or+","+Br)}yr=yr.join(" ");const Sr=Tr(this,Mr,this.svgFactory.createElement(this.svgElementName));return Sr.setAttribute("points",yr),Sr.setAttribute("stroke-width",Bt.borderStyle.width||1),Sr.setAttribute("stroke","transparent"),Sr.setAttribute("fill","transparent"),dr.append(Sr),this.container.append(dr),!Bt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Mt(this,Mr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mr=new WeakMap;class Yt extends Ht{constructor(ir){super(ir),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class zt extends Tt{constructor(ir){super(ir,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Ut extends Tt{constructor(Bt){super(Bt,{isRenderable:!0,ignoreBorder:!0});lr(this,dn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=a.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Bt=this.data,{width:Jt,height:or}=vt(Bt.rect),dr=this.svgFactory.create(Jt,or,!0);for(const yr of Bt.inkLists){let Sr=[];for(const Or of yr){const Br=Or.x-Bt.rect[0],nn=Bt.rect[3]-Or.y;Sr.push(`${Br},${nn}`)}Sr=Sr.join(" ");const Rr=this.svgFactory.createElement(this.svgElementName);Mt(this,dn).push(Rr),Rr.setAttribute("points",Sr),Rr.setAttribute("stroke-width",Bt.borderStyle.width||1),Rr.setAttribute("stroke","transparent"),Rr.setAttribute("fill","transparent"),!Bt.popupRef&&this.hasPopupData&&this._createPopup(),dr.append(Rr)}return this.container.append(dr),this.container}getElementsToTriggerPopup(){return Mt(this,dn)}addHighlightArea(){this.container.classList.add("highlightArea")}}dn=new WeakMap,i.InkAnnotationElement=Ut;class kt extends Tt{constructor(ir){super(ir,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Ft extends Tt{constructor(ir){super(ir,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Qt extends Tt{constructor(ir){super(ir,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Zt extends Tt{constructor(ir){super(ir,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rr extends Tt{constructor(ir){super(ir,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=rr;class qt extends Tt{constructor(Bt){var dr;super(Bt,{isRenderable:!0});lr(this,_r);lr(this,hn,null);const{filename:Jt,content:or}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(Jt,!0),this.content=or,(dr=this.linkService.eventBus)==null||dr.dispatch("fileattachmentannotation",{source:this,filename:Jt,content:or})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Bt,data:Jt}=this;let or;Jt.hasAppearance||Jt.fillAlpha===0?or=document.createElement("div"):(or=document.createElement("img"),or.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Jt.name)?"paperclip":"pushpin"}.svg`,Jt.fillAlpha&&Jt.fillAlpha<1&&(or.style=`filter: opacity(${Math.round(Jt.fillAlpha*100)}%);`)),or.addEventListener("dblclick",gr(this,_r,Ks).bind(this)),Tr(this,hn,or);const{isMac:dr}=a.FeatureTest.platform;return Bt.addEventListener("keydown",yr=>{yr.key==="Enter"&&(dr?yr.metaKey:yr.ctrlKey)&&gr(this,_r,Ks).call(this)}),!Jt.popupRef&&this.hasPopupData?this._createPopup():or.classList.add("popupTriggerArea"),Bt.append(or),Bt}getElementsToTriggerPopup(){return Mt(this,hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}hn=new WeakMap,_r=new WeakSet,Ks=function(){var Bt;(Bt=this.downloadManager)==null||Bt.openOrDownloadData(this.container,this.content,this.filename)};class Dt{constructor({div:ir,accessibilityManager:Bt,annotationCanvasMap:Jt,l10n:or,page:dr,viewport:yr}){lr(this,Zr);lr(this,Lr);lr(this,Xr,null);lr(this,Nr,null);lr(this,Yr,new Map);this.div=ir,Tr(this,Xr,Bt),Tr(this,Nr,Jt),this.l10n=or,this.page=dr,this.viewport=yr,this.zIndex=0,this.l10n||(this.l10n=ft.NullL10n)}async render(ir){const{annotations:Bt}=ir,Jt=this.div;(0,o.setLayerDimensions)(Jt,this.viewport);const or=new Map,dr={data:null,layer:Jt,linkService:ir.linkService,downloadManager:ir.downloadManager,imageResourcesPath:ir.imageResourcesPath||"",renderForms:ir.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:ir.annotationStorage||new et.AnnotationStorage,enableScripting:ir.enableScripting===!0,hasJSActions:ir.hasJSActions,fieldObjects:ir.fieldObjects,parent:this,elements:null};for(const yr of Bt){if(yr.noHTML)continue;const Sr=yr.annotationType===a.AnnotationType.POPUP;if(Sr){const Br=or.get(yr.id);if(!Br)continue;dr.elements=Br}else{const{width:Br,height:nn}=vt(yr.rect);if(Br<=0||nn<=0)continue}dr.data=yr;const Rr=Pt.create(dr);if(!Rr.isRenderable)continue;if(!Sr&&yr.popupRef){const Br=or.get(yr.popupRef);Br?Br.push(Rr):or.set(yr.popupRef,[Rr])}Rr.annotationEditorType>0&&Mt(this,Yr).set(Rr.data.id,Rr);const Or=Rr.render();yr.hidden&&(Or.style.visibility="hidden"),gr(this,Zr,Do).call(this,Or,yr.id)}gr(this,Lr,Xs).call(this),await this.l10n.translate(Jt)}update({viewport:ir}){const Bt=this.div;this.viewport=ir,(0,o.setLayerDimensions)(Bt,{rotation:ir.rotation}),gr(this,Lr,Xs).call(this),Bt.hidden=!1}getEditableAnnotations(){return Array.from(Mt(this,Yr).values())}getEditableAnnotation(ir){return Mt(this,Yr).get(ir)}}Xr=new WeakMap,Nr=new WeakMap,Yr=new WeakMap,Zr=new WeakSet,Do=function(ir,Bt){var or;const Jt=ir.firstChild||ir;Jt.id=`${a.AnnotationPrefix}${Bt}`,this.div.append(ir),(or=Mt(this,Xr))==null||or.moveElementInDOM(this.div,ir,Jt,!1)},Lr=new WeakSet,Xs=function(){if(!Mt(this,Nr))return;const ir=this.div;for(const[Bt,Jt]of Mt(this,Nr)){const or=ir.querySelector(`[data-annotation-id="${Bt}"]`);if(!or)continue;const{firstChild:dr}=or;dr?dr.nodeName==="CANVAS"?dr.replaceWith(Jt):dr.before(Jt):or.append(Jt)}Mt(this,Nr).clear()},i.AnnotationLayer=Dt},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(et){return Math.floor(Math.max(0,Math.min(1,et))*255).toString(16).padStart(2,"0")}function a(et){return Math.max(0,Math.min(255,255*et))}class o{static CMYK_G([ot,ft,dt,mt]){return["G",1-Math.min(1,.3*ot+.59*dt+.11*ft+mt)]}static G_CMYK([ot]){return["CMYK",0,0,0,1-ot]}static G_RGB([ot]){return["RGB",ot,ot,ot]}static G_rgb([ot]){return ot=a(ot),[ot,ot,ot]}static G_HTML([ot]){const ft=s(ot);return`#${ft}${ft}${ft}`}static RGB_G([ot,ft,dt]){return["G",.3*ot+.59*ft+.11*dt]}static RGB_rgb(ot){return ot.map(a)}static RGB_HTML(ot){return`#${ot.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([ot,ft,dt,mt]){return["RGB",1-Math.min(1,ot+mt),1-Math.min(1,dt+mt),1-Math.min(1,ft+mt)]}static CMYK_rgb([ot,ft,dt,mt]){return[a(1-Math.min(1,ot+mt)),a(1-Math.min(1,dt+mt)),a(1-Math.min(1,ft+mt))]}static CMYK_HTML(ot){const ft=this.CMYK_RGB(ot).slice(1);return this.RGB_HTML(ft)}static RGB_CMYK([ot,ft,dt]){const mt=1-ot,gt=1-ft,bt=1-dt,vt=Math.min(mt,gt,bt);return["CMYK",mt,gt,bt,vt]}}i.ColorConverters=o},(e,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=a;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function a(ot,ft){switch(ot){case"find_match_count":ot=`find_match_count[${ft.total===1?"one":"other"}]`;break;case"find_match_count_limit":ot=`find_match_count_limit[${ft.limit===1?"one":"other"}]`;break}return s[ot]||""}function o(ot,ft){return ft?ot.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(dt,mt)=>mt in ft?ft[mt]:"{{"+mt+"}}"):ot}const et={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(ot,ft=null,dt=a(ot,ft)){return o(dt,ft)},async translate(ot){}};i.NullL10n=et},(e,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var a=s(25);class o{static setupStorage(ot,ft,dt,mt,gt){const bt=mt.getValue(ft,{value:null});switch(dt.name){case"textarea":if(bt.value!==null&&(ot.textContent=bt.value),gt==="print")break;ot.addEventListener("input",vt=>{mt.setValue(ft,{value:vt.target.value})});break;case"input":if(dt.attributes.type==="radio"||dt.attributes.type==="checkbox"){if(bt.value===dt.attributes.xfaOn?ot.setAttribute("checked",!0):bt.value===dt.attributes.xfaOff&&ot.removeAttribute("checked"),gt==="print")break;ot.addEventListener("change",vt=>{mt.setValue(ft,{value:vt.target.checked?vt.target.getAttribute("xfaOn"):vt.target.getAttribute("xfaOff")})})}else{if(bt.value!==null&&ot.setAttribute("value",bt.value),gt==="print")break;ot.addEventListener("input",vt=>{mt.setValue(ft,{value:vt.target.value})})}break;case"select":if(bt.value!==null){ot.setAttribute("value",bt.value);for(const vt of dt.children)vt.attributes.value===bt.value?vt.attributes.selected=!0:vt.attributes.hasOwnProperty("selected")&&delete vt.attributes.selected}ot.addEventListener("input",vt=>{const Pt=vt.target.options,Tt=Pt.selectedIndex===-1?"":Pt[Pt.selectedIndex].value;mt.setValue(ft,{value:Tt})});break}}static setAttributes({html:ot,element:ft,storage:dt=null,intent:mt,linkService:gt}){const{attributes:bt}=ft,vt=ot instanceof HTMLAnchorElement;bt.type==="radio"&&(bt.name=`${bt.name}-${mt}`);for(const[Pt,Tt]of Object.entries(bt))if(Tt!=null)switch(Pt){case"class":Tt.length&&ot.setAttribute(Pt,Tt.join(" "));break;case"dataId":break;case"id":ot.setAttribute("data-element-id",Tt);break;case"style":Object.assign(ot.style,Tt);break;case"textContent":ot.textContent=Tt;break;default:(!vt||Pt!=="href"&&Pt!=="newWindow")&&ot.setAttribute(Pt,Tt)}vt&&gt.addLinkAttributes(ot,bt.href,bt.newWindow),dt&&bt.dataId&&this.setupStorage(ot,bt.dataId,ft,dt)}static render(ot){var At;const ft=ot.annotationStorage,dt=ot.linkService,mt=ot.xfaHtml,gt=ot.intent||"display",bt=document.createElement(mt.name);mt.attributes&&this.setAttributes({html:bt,element:mt,intent:gt,linkService:dt});const vt=[[mt,-1,bt]],Pt=ot.div;if(Pt.append(bt),ot.viewport){const wt=`matrix(${ot.viewport.transform.join(",")})`;Pt.style.transform=wt}gt!=="richText"&&Pt.setAttribute("class","xfaLayer xfaFont");const Tt=[];for(;vt.length>0;){const[wt,_t,Et]=vt.at(-1);if(_t+1===wt.children.length){vt.pop();continue}const yt=wt.children[++vt.at(-1)[1]];if(yt===null)continue;const{name:St}=yt;if(St==="#text"){const Ct=document.createTextNode(yt.value);Tt.push(Ct),Et.append(Ct);continue}const xt=(At=yt==null?void 0:yt.attributes)!=null&&At.xmlns?document.createElementNS(yt.attributes.xmlns,St):document.createElement(St);if(Et.append(xt),yt.attributes&&this.setAttributes({html:xt,element:yt,storage:ft,intent:gt,linkService:dt}),yt.children&&yt.children.length>0)vt.push([yt,-1,xt]);else if(yt.value){const Ct=document.createTextNode(yt.value);a.XfaText.shouldBuildText(St)&&Tt.push(Ct),xt.append(Ct)}}for(const wt of Pt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))wt.setAttribute("readOnly",!0);return{textDivs:Tt}}static update(ot){const ft=`matrix(${ot.viewport.transform.join(",")})`;ot.div.style.transform=ft,ot.div.hidden=!1}}i.XfaLayer=o},(e,i,s)=>{var mt,gt,bt,vt,Pt,Tt,At,wt,_t,Et,yt,St,xt,Ct,$t,Mo,It,Lo,Ot,Vo,Xt,Oo,Yt,Ys,Ut,No,Ft,Qs,Zt,Bo,qt,zo,Vt,jo,jt,Uo,Kt,Ho,tr,Rn,cr,Zs,vr,os,Ar,ls,zr,Vn,Dr,Js,hr,cs,br,Go,$r,ga,qr,Wo,tn,qo,Jr,_a,wr,us,mr,On;Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var a=s(1),o=s(4),et=s(29),ot=s(6),ft=s(5);const Mr=class Mr extends o.AnnotationEditor{constructor(_r){super({..._r,name:"inkEditor"});lr(this,$t);lr(this,It);lr(this,Ot);lr(this,Xt);lr(this,Yt);lr(this,Ut);lr(this,Ft);lr(this,Zt);lr(this,qt);lr(this,Vt);lr(this,jt);lr(this,Kt);lr(this,tr);lr(this,cr);lr(this,vr);lr(this,Ar);lr(this,zr);lr(this,Dr);lr(this,hr);lr(this,tn);lr(this,Jr);lr(this,wr);lr(this,mr);lr(this,mt,0);lr(this,gt,0);lr(this,bt,this.canvasPointermove.bind(this));lr(this,vt,this.canvasPointerleave.bind(this));lr(this,Pt,this.canvasPointerup.bind(this));lr(this,Tt,this.canvasPointerdown.bind(this));lr(this,At,new Path2D);lr(this,wt,!1);lr(this,_t,!1);lr(this,Et,!1);lr(this,yt,null);lr(this,St,0);lr(this,xt,0);lr(this,Ct,null);this.color=_r.color||null,this.thickness=_r.thickness||null,this.opacity=_r.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(_r){o.AnnotationEditor.initialize(_r,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(_r,Vr){switch(_r){case a.AnnotationEditorParamsType.INK_THICKNESS:Mr._defaultThickness=Vr;break;case a.AnnotationEditorParamsType.INK_COLOR:Mr._defaultColor=Vr;break;case a.AnnotationEditorParamsType.INK_OPACITY:Mr._defaultOpacity=Vr/100;break}}updateParams(_r,Vr){switch(_r){case a.AnnotationEditorParamsType.INK_THICKNESS:gr(this,$t,Mo).call(this,Vr);break;case a.AnnotationEditorParamsType.INK_COLOR:gr(this,It,Lo).call(this,Vr);break;case a.AnnotationEditorParamsType.INK_OPACITY:gr(this,Ot,Vo).call(this,Vr);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,Mr._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,Mr._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(Mr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Mr._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||Mr._defaultColor||o.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Mr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(gr(this,vr,os).call(this),gr(this,Ar,ls).call(this)),this.isAttachedToDOM||(this.parent.add(this),gr(this,zr,Vn).call(this)),gr(this,mr,On).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Mt(this,yt).disconnect(),Tr(this,yt,null),super.remove())}setParent(_r){!this.parent&&_r?this._uiManager.removeShouldRescale(this):this.parent&&_r===null&&this._uiManager.addShouldRescale(this),super.setParent(_r)}onScaleChanging(){const[_r,Vr]=this.parentDimensions,Xr=this.width*_r,Nr=this.height*Vr;this.setDimensions(Xr,Nr)}enableEditMode(){Mt(this,wt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Mt(this,Tt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Mt(this,Tt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Mt(this,wt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Tr(this,wt,!0),this.div.classList.add("disabled"),gr(this,mr,On).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(_r){this._focusEventsAllowed&&(super.focusin(_r),this.enableEditMode())}canvasPointerdown(_r){_r.button!==0||!this.isInEditMode()||Mt(this,wt)||(this.setInForeground(),_r.preventDefault(),_r.type!=="mouse"&&this.div.focus(),gr(this,Ut,No).call(this,_r.offsetX,_r.offsetY))}canvasPointermove(_r){_r.preventDefault(),gr(this,Ft,Qs).call(this,_r.offsetX,_r.offsetY)}canvasPointerup(_r){_r.preventDefault(),gr(this,cr,Zs).call(this,_r)}canvasPointerleave(_r){gr(this,cr,Zs).call(this,_r)}get isResizable(){return!this.isEmpty()&&Mt(this,wt)}render(){if(this.div)return this.div;let _r,Vr;this.width&&(_r=this.x,Vr=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(ln=>{var Lr;return(Lr=this.div)==null?void 0:Lr.setAttribute("aria-label",ln)});const[Xr,Nr,Yr,Zr]=gr(this,Xt,Oo).call(this);if(this.setAt(Xr,Nr,0,0),this.setDims(Yr,Zr),gr(this,vr,os).call(this),this.width){const[ln,Lr]=this.parentDimensions;this.setAspectRatio(this.width*ln,this.height*Lr),this.setAt(_r*ln,Vr*Lr,this.width*ln,this.height*Lr),Tr(this,Et,!0),gr(this,zr,Vn).call(this),this.setDims(this.width*ln,this.height*Lr),gr(this,tr,Rn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return gr(this,Ar,ls).call(this),this.div}setDimensions(_r,Vr){const Xr=Math.round(_r),Nr=Math.round(Vr);if(Mt(this,St)===Xr&&Mt(this,xt)===Nr)return;Tr(this,St,Xr),Tr(this,xt,Nr),this.canvas.style.visibility="hidden";const[Yr,Zr]=this.parentDimensions;this.width=_r/Yr,this.height=Vr/Zr,this.fixAndSetPosition(),Mt(this,wt)&&gr(this,Dr,Js).call(this,_r,Vr),gr(this,zr,Vn).call(this),gr(this,tr,Rn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(_r,Vr,Xr){var dr,yr,Sr;if(_r instanceof et.InkAnnotationElement)return null;const Nr=super.deserialize(_r,Vr,Xr);Nr.thickness=_r.thickness,Nr.color=a.Util.makeHexColor(..._r.color),Nr.opacity=_r.opacity;const[Yr,Zr]=Nr.pageDimensions,ln=Nr.width*Yr,Lr=Nr.height*Zr,on=Nr.parentScale,Hr=_r.thickness/2;Tr(Nr,wt,!0),Tr(Nr,St,Math.round(ln)),Tr(Nr,xt,Math.round(Lr));const{paths:ir,rect:Bt,rotation:Jt}=_r;for(let{bezier:Rr}of ir){Rr=gr(dr=Mr,qr,Wo).call(dr,Rr,Bt,Jt);const Or=[];Nr.paths.push(Or);let Br=on*(Rr[0]-Hr),nn=on*(Rr[1]-Hr);for(let Ur=2,rn=Rr.length;Ur<rn;Ur+=6){const sn=on*(Rr[Ur]-Hr),an=on*(Rr[Ur+1]-Hr),cn=on*(Rr[Ur+2]-Hr),gn=on*(Rr[Ur+3]-Hr),fn=on*(Rr[Ur+4]-Hr),_n=on*(Rr[Ur+5]-Hr);Or.push([[Br,nn],[sn,an],[cn,gn],[fn,_n]]),Br=fn,nn=_n}const jr=gr(this,br,Go).call(this,Or);Nr.bezierPath2D.push(jr)}const or=gr(yr=Nr,Jr,_a).call(yr);return Tr(Nr,gt,Math.max(o.AnnotationEditor.MIN_SIZE,or[2]-or[0])),Tr(Nr,mt,Math.max(o.AnnotationEditor.MIN_SIZE,or[3]-or[1])),gr(Sr=Nr,Dr,Js).call(Sr,ln,Lr),Nr}serialize(){if(this.isEmpty())return null;const _r=this.getRect(0,0),Vr=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:Vr,thickness:this.thickness,opacity:this.opacity,paths:gr(this,tn,qo).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,_r),pageIndex:this.pageIndex,rect:_r,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};mt=new WeakMap,gt=new WeakMap,bt=new WeakMap,vt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,At=new WeakMap,wt=new WeakMap,_t=new WeakMap,Et=new WeakMap,yt=new WeakMap,St=new WeakMap,xt=new WeakMap,Ct=new WeakMap,$t=new WeakSet,Mo=function(_r){const Vr=this.thickness;this.addCommands({cmd:()=>{this.thickness=_r,gr(this,mr,On).call(this)},undo:()=>{this.thickness=Vr,gr(this,mr,On).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},It=new WeakSet,Lo=function(_r){const Vr=this.color;this.addCommands({cmd:()=>{this.color=_r,gr(this,tr,Rn).call(this)},undo:()=>{this.color=Vr,gr(this,tr,Rn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ot=new WeakSet,Vo=function(_r){_r/=100;const Vr=this.opacity;this.addCommands({cmd:()=>{this.opacity=_r,gr(this,tr,Rn).call(this)},undo:()=>{this.opacity=Vr,gr(this,tr,Rn).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Xt=new WeakSet,Oo=function(){const{parentRotation:_r,parentDimensions:[Vr,Xr]}=this;switch(_r){case 90:return[0,Xr,Xr,Vr];case 180:return[Vr,Xr,Vr,Xr];case 270:return[Vr,0,Xr,Vr];default:return[0,0,Vr,Xr]}},Yt=new WeakSet,Ys=function(){const{ctx:_r,color:Vr,opacity:Xr,thickness:Nr,parentScale:Yr,scaleFactor:Zr}=this;_r.lineWidth=Nr*Yr/Zr,_r.lineCap="round",_r.lineJoin="round",_r.miterLimit=10,_r.strokeStyle=`${Vr}${(0,ft.opacityToHex)(Xr)}`},Ut=new WeakSet,No=function(_r,Vr){this.canvas.addEventListener("contextmenu",ot.noContextMenu),this.canvas.addEventListener("pointerleave",Mt(this,vt)),this.canvas.addEventListener("pointermove",Mt(this,bt)),this.canvas.addEventListener("pointerup",Mt(this,Pt)),this.canvas.removeEventListener("pointerdown",Mt(this,Tt)),this.isEditing=!0,Mt(this,Et)||(Tr(this,Et,!0),gr(this,zr,Vn).call(this),this.thickness||(this.thickness=Mr._defaultThickness),this.color||(this.color=Mr._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Mr._defaultOpacity)),this.currentPath.push([_r,Vr]),Tr(this,_t,!1),gr(this,Yt,Ys).call(this),Tr(this,Ct,()=>{gr(this,Vt,jo).call(this),Mt(this,Ct)&&window.requestAnimationFrame(Mt(this,Ct))}),window.requestAnimationFrame(Mt(this,Ct))},Ft=new WeakSet,Qs=function(_r,Vr){const[Xr,Nr]=this.currentPath.at(-1);if(this.currentPath.length>1&&_r===Xr&&Vr===Nr)return;const Yr=this.currentPath;let Zr=Mt(this,At);if(Yr.push([_r,Vr]),Tr(this,_t,!0),Yr.length<=2){Zr.moveTo(...Yr[0]),Zr.lineTo(_r,Vr);return}Yr.length===3&&(Tr(this,At,Zr=new Path2D),Zr.moveTo(...Yr[0])),gr(this,jt,Uo).call(this,Zr,...Yr.at(-3),...Yr.at(-2),_r,Vr)},Zt=new WeakSet,Bo=function(){if(this.currentPath.length===0)return;const _r=this.currentPath.at(-1);Mt(this,At).lineTo(..._r)},qt=new WeakSet,zo=function(_r,Vr){Tr(this,Ct,null),_r=Math.min(Math.max(_r,0),this.canvas.width),Vr=Math.min(Math.max(Vr,0),this.canvas.height),gr(this,Ft,Qs).call(this,_r,Vr),gr(this,Zt,Bo).call(this);let Xr;if(this.currentPath.length!==1)Xr=gr(this,Kt,Ho).call(this);else{const Lr=[_r,Vr];Xr=[[Lr,Lr.slice(),Lr.slice(),Lr]]}const Nr=Mt(this,At),Yr=this.currentPath;this.currentPath=[],Tr(this,At,new Path2D);const Zr=()=>{this.allRawPaths.push(Yr),this.paths.push(Xr),this.bezierPath2D.push(Nr),this.rebuild()},ln=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(gr(this,vr,os).call(this),gr(this,Ar,ls).call(this)),gr(this,mr,On).call(this))};this.addCommands({cmd:Zr,undo:ln,mustExec:!0})},Vt=new WeakSet,jo=function(){if(!Mt(this,_t))return;Tr(this,_t,!1);const _r=Math.ceil(this.thickness*this.parentScale),Vr=this.currentPath.slice(-3),Xr=Vr.map(Zr=>Zr[0]),Nr=Vr.map(Zr=>Zr[1]);Math.min(...Xr)-_r,Math.max(...Xr)+_r,Math.min(...Nr)-_r,Math.max(...Nr)+_r;const{ctx:Yr}=this;Yr.save(),Yr.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Zr of this.bezierPath2D)Yr.stroke(Zr);Yr.stroke(Mt(this,At)),Yr.restore()},jt=new WeakSet,Uo=function(_r,Vr,Xr,Nr,Yr,Zr,ln){const Lr=(Vr+Nr)/2,on=(Xr+Yr)/2,Hr=(Nr+Zr)/2,ir=(Yr+ln)/2;_r.bezierCurveTo(Lr+2*(Nr-Lr)/3,on+2*(Yr-on)/3,Hr+2*(Nr-Hr)/3,ir+2*(Yr-ir)/3,Hr,ir)},Kt=new WeakSet,Ho=function(){const _r=this.currentPath;if(_r.length<=2)return[[_r[0],_r[0],_r.at(-1),_r.at(-1)]];const Vr=[];let Xr,[Nr,Yr]=_r[0];for(Xr=1;Xr<_r.length-2;Xr++){const[Bt,Jt]=_r[Xr],[or,dr]=_r[Xr+1],yr=(Bt+or)/2,Sr=(Jt+dr)/2,Rr=[Nr+2*(Bt-Nr)/3,Yr+2*(Jt-Yr)/3],Or=[yr+2*(Bt-yr)/3,Sr+2*(Jt-Sr)/3];Vr.push([[Nr,Yr],Rr,Or,[yr,Sr]]),[Nr,Yr]=[yr,Sr]}const[Zr,ln]=_r[Xr],[Lr,on]=_r[Xr+1],Hr=[Nr+2*(Zr-Nr)/3,Yr+2*(ln-Yr)/3],ir=[Lr+2*(Zr-Lr)/3,on+2*(ln-on)/3];return Vr.push([[Nr,Yr],Hr,ir,[Lr,on]]),Vr},tr=new WeakSet,Rn=function(){if(this.isEmpty()){gr(this,hr,cs).call(this);return}gr(this,Yt,Ys).call(this);const{canvas:_r,ctx:Vr}=this;Vr.setTransform(1,0,0,1,0,0),Vr.clearRect(0,0,_r.width,_r.height),gr(this,hr,cs).call(this);for(const Xr of this.bezierPath2D)Vr.stroke(Xr)},cr=new WeakSet,Zs=function(_r){this.canvas.removeEventListener("pointerleave",Mt(this,vt)),this.canvas.removeEventListener("pointermove",Mt(this,bt)),this.canvas.removeEventListener("pointerup",Mt(this,Pt)),this.canvas.addEventListener("pointerdown",Mt(this,Tt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",ot.noContextMenu)},10),gr(this,qt,zo).call(this,_r.offsetX,_r.offsetY),this.addToAnnotationStorage(),this.setInBackground()},vr=new WeakSet,os=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(_r=>{var Vr;return(Vr=this.canvas)==null?void 0:Vr.setAttribute("aria-label",_r)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ar=new WeakSet,ls=function(){Tr(this,yt,new ResizeObserver(_r=>{const Vr=_r[0].contentRect;Vr.width&&Vr.height&&this.setDimensions(Vr.width,Vr.height)})),Mt(this,yt).observe(this.div)},zr=new WeakSet,Vn=function(){if(!Mt(this,Et))return;const[_r,Vr]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*_r),this.canvas.height=Math.ceil(this.height*Vr),gr(this,hr,cs).call(this)},Dr=new WeakSet,Js=function(_r,Vr){const Xr=gr(this,wr,us).call(this),Nr=(_r-Xr)/Mt(this,gt),Yr=(Vr-Xr)/Mt(this,mt);this.scaleFactor=Math.min(Nr,Yr)},hr=new WeakSet,cs=function(){const _r=gr(this,wr,us).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+_r,this.translationY*this.scaleFactor+_r)},br=new WeakSet,Go=function(_r){const Vr=new Path2D;for(let Xr=0,Nr=_r.length;Xr<Nr;Xr++){const[Yr,Zr,ln,Lr]=_r[Xr];Xr===0&&Vr.moveTo(...Yr),Vr.bezierCurveTo(Zr[0],Zr[1],ln[0],ln[1],Lr[0],Lr[1])}return Vr},$r=new WeakSet,ga=function(_r,Vr,Xr){const[Nr,Yr,Zr,ln]=Vr;switch(Xr){case 0:for(let Lr=0,on=_r.length;Lr<on;Lr+=2)_r[Lr]+=Nr,_r[Lr+1]=ln-_r[Lr+1];break;case 90:for(let Lr=0,on=_r.length;Lr<on;Lr+=2){const Hr=_r[Lr];_r[Lr]=_r[Lr+1]+Nr,_r[Lr+1]=Hr+Yr}break;case 180:for(let Lr=0,on=_r.length;Lr<on;Lr+=2)_r[Lr]=Zr-_r[Lr],_r[Lr+1]+=Yr;break;case 270:for(let Lr=0,on=_r.length;Lr<on;Lr+=2){const Hr=_r[Lr];_r[Lr]=Zr-_r[Lr+1],_r[Lr+1]=ln-Hr}break;default:throw new Error("Invalid rotation")}return _r},qr=new WeakSet,Wo=function(_r,Vr,Xr){const[Nr,Yr,Zr,ln]=Vr;switch(Xr){case 0:for(let Lr=0,on=_r.length;Lr<on;Lr+=2)_r[Lr]-=Nr,_r[Lr+1]=ln-_r[Lr+1];break;case 90:for(let Lr=0,on=_r.length;Lr<on;Lr+=2){const Hr=_r[Lr];_r[Lr]=_r[Lr+1]-Yr,_r[Lr+1]=Hr-Nr}break;case 180:for(let Lr=0,on=_r.length;Lr<on;Lr+=2)_r[Lr]=Zr-_r[Lr],_r[Lr+1]-=Yr;break;case 270:for(let Lr=0,on=_r.length;Lr<on;Lr+=2){const Hr=_r[Lr];_r[Lr]=ln-_r[Lr+1],_r[Lr+1]=Zr-Hr}break;default:throw new Error("Invalid rotation")}return _r},tn=new WeakSet,qo=function(_r,Vr,Xr,Nr){var on,Hr;const Yr=[],Zr=this.thickness/2,ln=_r*Vr+Zr,Lr=_r*Xr+Zr;for(const ir of this.paths){const Bt=[],Jt=[];for(let or=0,dr=ir.length;or<dr;or++){const[yr,Sr,Rr,Or]=ir[or],Br=_r*yr[0]+ln,nn=_r*yr[1]+Lr,jr=_r*Sr[0]+ln,Ur=_r*Sr[1]+Lr,rn=_r*Rr[0]+ln,sn=_r*Rr[1]+Lr,an=_r*Or[0]+ln,cn=_r*Or[1]+Lr;or===0&&(Bt.push(Br,nn),Jt.push(Br,nn)),Bt.push(jr,Ur,rn,sn,an,cn),Jt.push(jr,Ur),or===dr-1&&Jt.push(an,cn)}Yr.push({bezier:gr(on=Mr,$r,ga).call(on,Bt,Nr,this.rotation),points:gr(Hr=Mr,$r,ga).call(Hr,Jt,Nr,this.rotation)})}return Yr},Jr=new WeakSet,_a=function(){let _r=1/0,Vr=-1/0,Xr=1/0,Nr=-1/0;for(const Yr of this.paths)for(const[Zr,ln,Lr,on]of Yr){const Hr=a.Util.bezierBoundingBox(...Zr,...ln,...Lr,...on);_r=Math.min(_r,Hr[0]),Xr=Math.min(Xr,Hr[1]),Vr=Math.max(Vr,Hr[2]),Nr=Math.max(Nr,Hr[3])}return[_r,Xr,Vr,Nr]},wr=new WeakSet,us=function(){return Mt(this,wt)?Math.ceil(this.thickness*this.parentScale):0},mr=new WeakSet,On=function(_r=!1){if(this.isEmpty())return;if(!Mt(this,wt)){gr(this,tr,Rn).call(this);return}const Vr=gr(this,Jr,_a).call(this),Xr=gr(this,wr,us).call(this);Tr(this,gt,Math.max(o.AnnotationEditor.MIN_SIZE,Vr[2]-Vr[0])),Tr(this,mt,Math.max(o.AnnotationEditor.MIN_SIZE,Vr[3]-Vr[1]));const Nr=Math.ceil(Xr+Mt(this,gt)*this.scaleFactor),Yr=Math.ceil(Xr+Mt(this,mt)*this.scaleFactor),[Zr,ln]=this.parentDimensions;this.width=Nr/Zr,this.height=Yr/ln,this.setAspectRatio(Nr,Yr);const Lr=this.translationX,on=this.translationY;this.translationX=-Vr[0],this.translationY=-Vr[1],gr(this,zr,Vn).call(this),gr(this,tr,Rn).call(this),Tr(this,St,Nr),Tr(this,xt,Yr),this.setDims(Nr,Yr);const Hr=_r?Xr/this.scaleFactor/2:0;this.translate(Lr-this.translationX-Hr,on-this.translationY-Hr)},lr(Mr,br),lr(Mr,$r),lr(Mr,qr),mn(Mr,"_defaultColor",null),mn(Mr,"_defaultOpacity",1),mn(Mr,"_defaultThickness",1),mn(Mr,"_type","ink");let dt=Mr;i.InkEditor=dt},(e,i,s)=>{var dt,mt,gt,bt,vt,Pt,Tt,At,wt,_t,Et,qn,St,Kn,Ct,hs,Rt,eo,Nt,Ko,Gt,Xo,Ht,to,zt,ds,kt,Yo;Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var a=s(1),o=s(4),et=s(6),ot=s(29);const Qt=class Qt extends o.AnnotationEditor{constructor(qt){super({...qt,name:"stampEditor"});lr(this,Et);lr(this,St);lr(this,Ct);lr(this,Rt);lr(this,Nt);lr(this,Gt);lr(this,Ht);lr(this,zt);lr(this,kt);lr(this,dt,null);lr(this,mt,null);lr(this,gt,null);lr(this,bt,null);lr(this,vt,null);lr(this,Pt,null);lr(this,Tt,null);lr(this,At,null);lr(this,wt,!1);lr(this,_t,!1);Tr(this,bt,qt.bitmapUrl),Tr(this,vt,qt.bitmapFile)}static initialize(qt){o.AnnotationEditor.initialize(qt)}static get supportedTypes(){const qt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,a.shadow)(this,"supportedTypes",qt.map(Dt=>`image/${Dt}`))}static get supportedTypesStr(){return(0,a.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(qt){return this.supportedTypes.includes(qt)}static paste(qt,Dt){Dt.pasteEditor(a.AnnotationEditorType.STAMP,{bitmapFile:qt.getAsFile()})}remove(){var qt,Dt;Mt(this,mt)&&(Tr(this,dt,null),this._uiManager.imageManager.deleteId(Mt(this,mt)),(qt=Mt(this,Pt))==null||qt.remove(),Tr(this,Pt,null),(Dt=Mt(this,Tt))==null||Dt.disconnect(),Tr(this,Tt,null)),super.remove()}rebuild(){if(!this.parent){Mt(this,mt)&&gr(this,Ct,hs).call(this);return}super.rebuild(),this.div!==null&&(Mt(this,mt)&&gr(this,Ct,hs).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Mt(this,gt)||Mt(this,dt)||Mt(this,bt)||Mt(this,vt))}get isResizable(){return!0}render(){if(this.div)return this.div;let qt,Dt;if(this.width&&(qt=this.x,Dt=this.y),super.render(),this.div.hidden=!0,Mt(this,dt)?gr(this,Rt,eo).call(this):gr(this,Ct,hs).call(this),this.width){const[Vt,Lt]=this.parentDimensions;this.setAt(qt*Vt,Dt*Lt,this.width*Vt,this.height*Lt)}return this.div}static deserialize(qt,Dt,Vt){if(qt instanceof ot.StampAnnotationElement)return null;const Lt=super.deserialize(qt,Dt,Vt),{rect:jt,bitmapUrl:Wt,bitmapId:Kt,isSvg:er,accessibilityData:tr}=qt;Kt&&Vt.imageManager.isValidId(Kt)?Tr(Lt,mt,Kt):Tr(Lt,bt,Wt),Tr(Lt,wt,er);const[ur,cr]=Lt.pageDimensions;return Lt.width=(jt[2]-jt[0])/ur,Lt.height=(jt[3]-jt[1])/cr,tr&&(Lt.altTextData=tr),Lt}serialize(qt=!1,Dt=null){if(this.isEmpty())return null;const Vt={annotationType:a.AnnotationEditorType.STAMP,bitmapId:Mt(this,mt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Mt(this,wt),structTreeParentId:this._structTreeParentId};if(qt)return Vt.bitmapUrl=gr(this,zt,ds).call(this,!0),Vt.accessibilityData=this.altTextData,Vt;const{decorative:Lt,altText:jt}=this.altTextData;if(!Lt&&jt&&(Vt.accessibilityData={type:"Figure",alt:jt}),Dt===null)return Vt;Dt.stamps||(Dt.stamps=new Map);const Wt=Mt(this,wt)?(Vt.rect[2]-Vt.rect[0])*(Vt.rect[3]-Vt.rect[1]):null;if(!Dt.stamps.has(Mt(this,mt)))Dt.stamps.set(Mt(this,mt),{area:Wt,serialized:Vt}),Vt.bitmap=gr(this,zt,ds).call(this,!1);else if(Mt(this,wt)){const Kt=Dt.stamps.get(Mt(this,mt));Wt>Kt.area&&(Kt.area=Wt,Kt.serialized.bitmap.close(),Kt.serialized.bitmap=gr(this,zt,ds).call(this,!1))}return Vt}};dt=new WeakMap,mt=new WeakMap,gt=new WeakMap,bt=new WeakMap,vt=new WeakMap,Pt=new WeakMap,Tt=new WeakMap,At=new WeakMap,wt=new WeakMap,_t=new WeakMap,Et=new WeakSet,qn=function(qt,Dt=!1){if(!qt){this.remove();return}Tr(this,dt,qt.bitmap),Dt||(Tr(this,mt,qt.id),Tr(this,wt,qt.isSvg)),gr(this,Rt,eo).call(this)},St=new WeakSet,Kn=function(){Tr(this,gt,null),this._uiManager.enableWaiting(!1),Mt(this,Pt)&&this.div.focus()},Ct=new WeakSet,hs=function(){if(Mt(this,mt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Mt(this,mt)).then(Dt=>gr(this,Et,qn).call(this,Dt,!0)).finally(()=>gr(this,St,Kn).call(this));return}if(Mt(this,bt)){const Dt=Mt(this,bt);Tr(this,bt,null),this._uiManager.enableWaiting(!0),Tr(this,gt,this._uiManager.imageManager.getFromUrl(Dt).then(Vt=>gr(this,Et,qn).call(this,Vt)).finally(()=>gr(this,St,Kn).call(this)));return}if(Mt(this,vt)){const Dt=Mt(this,vt);Tr(this,vt,null),this._uiManager.enableWaiting(!0),Tr(this,gt,this._uiManager.imageManager.getFromFile(Dt).then(Vt=>gr(this,Et,qn).call(this,Vt)).finally(()=>gr(this,St,Kn).call(this)));return}const qt=document.createElement("input");qt.type="file",qt.accept=Qt.supportedTypesStr,Tr(this,gt,new Promise(Dt=>{qt.addEventListener("change",async()=>{if(!qt.files||qt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Vt=await this._uiManager.imageManager.getFromFile(qt.files[0]);gr(this,Et,qn).call(this,Vt)}Dt()}),qt.addEventListener("cancel",()=>{this.remove(),Dt()})}).finally(()=>gr(this,St,Kn).call(this))),qt.click()},Rt=new WeakSet,eo=function(){const{div:qt}=this;let{width:Dt,height:Vt}=Mt(this,dt);const[Lt,jt]=this.pageDimensions,Wt=.75;if(this.width)Dt=this.width*Lt,Vt=this.height*jt;else if(Dt>Wt*Lt||Vt>Wt*jt){const ur=Math.min(Wt*Lt/Dt,Wt*jt/Vt);Dt*=ur,Vt*=ur}const[Kt,er]=this.parentDimensions;this.setDims(Dt*Kt/Lt,Vt*er/jt),this._uiManager.enableWaiting(!1);const tr=Tr(this,Pt,document.createElement("canvas"));qt.append(tr),qt.hidden=!1,gr(this,Ht,to).call(this,Dt,Vt),gr(this,kt,Yo).call(this),Mt(this,_t)||(this.parent.addUndoableEditor(this),Tr(this,_t,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Nt=new WeakSet,Ko=function(qt,Dt){var Wt;const[Vt,Lt]=this.parentDimensions;this.width=qt/Vt,this.height=Dt/Lt,this.setDims(qt,Dt),(Wt=this._initialOptions)!=null&&Wt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Mt(this,At)!==null&&clearTimeout(Mt(this,At)),Tr(this,At,setTimeout(()=>{Tr(this,At,null),gr(this,Ht,to).call(this,qt,Dt)},200))},Gt=new WeakSet,Xo=function(qt,Dt){const{width:Vt,height:Lt}=Mt(this,dt);let jt=Vt,Wt=Lt,Kt=Mt(this,dt);for(;jt>2*qt||Wt>2*Dt;){const er=jt,tr=Wt;jt>2*qt&&(jt=jt>=16384?Math.floor(jt/2)-1:Math.ceil(jt/2)),Wt>2*Dt&&(Wt=Wt>=16384?Math.floor(Wt/2)-1:Math.ceil(Wt/2));const ur=new OffscreenCanvas(jt,Wt);ur.getContext("2d").drawImage(Kt,0,0,er,tr,0,0,jt,Wt),Kt=ur.transferToImageBitmap()}return Kt},Ht=new WeakSet,to=function(qt,Dt){qt=Math.ceil(qt),Dt=Math.ceil(Dt);const Vt=Mt(this,Pt);if(!Vt||Vt.width===qt&&Vt.height===Dt)return;Vt.width=qt,Vt.height=Dt;const Lt=Mt(this,wt)?Mt(this,dt):gr(this,Gt,Xo).call(this,qt,Dt),jt=Vt.getContext("2d");jt.filter=this._uiManager.hcmFilter,jt.drawImage(Lt,0,0,Lt.width,Lt.height,0,0,qt,Dt)},zt=new WeakSet,ds=function(qt){if(qt){if(Mt(this,wt)){const Lt=this._uiManager.imageManager.getSvgUrl(Mt(this,mt));if(Lt)return Lt}const Dt=document.createElement("canvas");return{width:Dt.width,height:Dt.height}=Mt(this,dt),Dt.getContext("2d").drawImage(Mt(this,dt),0,0),Dt.toDataURL()}if(Mt(this,wt)){const[Dt,Vt]=this.pageDimensions,Lt=Math.round(this.width*Dt*et.PixelsPerInch.PDF_TO_CSS_UNITS),jt=Math.round(this.height*Vt*et.PixelsPerInch.PDF_TO_CSS_UNITS),Wt=new OffscreenCanvas(Lt,jt);return Wt.getContext("2d").drawImage(Mt(this,dt),0,0,Mt(this,dt).width,Mt(this,dt).height,0,0,Lt,jt),Wt.transferToImageBitmap()}return structuredClone(Mt(this,dt))},kt=new WeakSet,Yo=function(){Tr(this,Tt,new ResizeObserver(qt=>{const Dt=qt[0].contentRect;Dt.width&&Dt.height&&gr(this,Nt,Ko).call(this,Dt.width,Dt.height)})),Mt(this,Tt).observe(this.div)},mn(Qt,"_type","stamp");let ft=Qt;i.StampEditor=ft}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var i=__webpack_module_cache__[e];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return et.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return ot.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return ft.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return a.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return dt.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return mt.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return a.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),et=__w_pdfjs_require__(27),ot=__w_pdfjs_require__(5),ft=__w_pdfjs_require__(29),dt=__w_pdfjs_require__(14),mt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(a,o,et,ot,ft,dt){if(dt!==ReactPropTypesSecret){var mt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw mt.name="Invariant Violation",mt}}e.isRequired=e;function i(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:i,element:e,elementType:e,instanceOf:i,node:e,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(e,i,s){if(s||arguments.length===2)for(var a=0,o=i.length,et;a<o;a++)(et||!(a in i))&&(et||(et=Array.prototype.slice.call(i,0,a)),et[a]=i[a]);return e.concat(et||Array.prototype.slice.call(i))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(e,i){var s={};return allEvents.forEach(function(a){var o=e[a];o&&(i?s[a]=function(et){return o(et,i(a))}:s[a]=o)}),s}function makeCancellablePromise(e){var i=!1,s=new Promise(function(a,o){e.then(function(et){return!i&&a(et)}).catch(function(et){return!i&&o(et)})});return{promise:s,cancel:function(){i=!0}}}var isProduction=!0,prefix="Invariant failed";function invariant(e,i){if(!e){if(isProduction)throw new Error(prefix);var s=typeof i=="function"?i():i,a=s?"".concat(prefix,": ").concat(s):prefix;throw new Error(a)}}function warning(e,i){}const DocumentContext=reactExports.createContext(null);function Message({children:e,type:i}){return React.createElement("div",{className:`react-pdf__message react-pdf__message--${i}`},e)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(i){this.pdfDocument=i}setViewer(i){this.pdfViewer=i}setExternalLinkRel(i){this.externalLinkRel=i}setExternalLinkTarget(i){this.externalLinkTarget=i}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(i){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=i}get rotation(){return 0}set rotation(i){}goToDestination(i){return new Promise(s=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(i,"Destination is not specified."),typeof i=="string"?this.pdfDocument.getDestination(i).then(s):Array.isArray(i)?s(i):i.then(s)}).then(s=>{invariant(Array.isArray(s),`"${s}" is not a valid destination array.`);const a=s[0];new Promise(o=>{invariant(this.pdfDocument,"PDF document not loaded."),a instanceof Object?this.pdfDocument.getPageIndex(a).then(et=>{o(et)}).catch(()=>{invariant(!1,`"${a}" is not a valid page reference.`)}):typeof a=="number"?o(a):invariant(!1,`"${a}" is not a valid destination reference.`)}).then(o=>{const et=o+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(et>=1&&et<=this.pagesCount,`"${et}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:o,pageNumber:et})})})}navigateTo(i){this.goToDestination(i)}goToPage(i){const s=i-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(i>=1&&i<=this.pagesCount,`"${i}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:i})}addLinkAttributes(i,s,a){i.href=s,i.rel=this.externalLinkRel||DEFAULT_LINK_REL,i.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(e){return typeof e<"u"}function isProvided(e){return isDefined(e)&&e!==null}function isString(e){return typeof e=="string"}function isArrayBuffer(e){return e instanceof ArrayBuffer}function isBlob(e){return invariant(isBrowser,"isBlob can only be used in a browser environment"),e instanceof Blob}function isDataURI(e){return isString(e)&&/^data:/.test(e)}function dataURItoByteString(e){invariant(isDataURI(e),"Invalid data URI.");const[i="",s=""]=e.split(",");return i.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}function displayCORSWarning(){}function cancelRunningTask(e){e&&e.cancel&&e.cancel()}function makePageCallback(e,i){return Object.defineProperty(e,"width",{get(){return this.view[2]*i},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*i},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function isCancelException(e){return e.name==="RenderingCancelledException"}function loadFromFile(e){return new Promise((i,s)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return s(new Error("Error while reading a file."));i(a.result)},a.onerror=o=>{if(!o.target)return s(new Error("Error while reading a file."));const{error:et}=o.target;if(!et)return s(new Error("Error while reading a file."));switch(et.code){case et.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case et.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case et.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},a.readAsArrayBuffer(e)})}function reducer$1(e,i){switch(i.type){case"RESOLVE":return{value:i.value,error:void 0};case"REJECT":return{value:!1,error:i.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function useResolver(){return reactExports.useReducer(reducer$1,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const e={};return allEvents.forEach(i=>{e[i]=PropTypes.func}),e})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function e(i,s,a){const{[s]:o,pageNumber:et,pdf:ot}=i;if(!isDefined(ot))return null;if(isDefined(o)){if(typeof o!="number")return new Error(`\`${s}\` of type \`${typeof o}\` supplied to \`${a}\`, expected \`number\`.`);if(o<0)return new Error(`Expected \`${s}\` to be greater or equal to 0.`);const{numPages:ft}=ot;if(o+1>ft)return new Error(`Expected \`${s}\` to be less or equal to ${ft-1}.`)}else if(!isDefined(et))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},isPageNumber=function e(i,s,a){const{[s]:o,pageIndex:et,pdf:ot}=i;if(!isDefined(ot))return null;if(isDefined(o)){if(typeof o!="number")return new Error(`\`${s}\` of type \`${typeof o}\` supplied to \`${a}\`, expected \`number\`.`);if(o<1)return new Error(`Expected \`${s}\` to be greater or equal to 1.`);const{numPages:ft}=ot;if(o>ft)return new Error(`Expected \`${s}\` to be less or equal to ${ft}.`)}else if(!isDefined(et))return new Error(`\`${s}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${a}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter=function(e,i,s,a){function o(et){return et instanceof s?et:new s(function(ot){ot(et)})}return new(s||(s=Promise))(function(et,ot){function ft(gt){try{mt(a.next(gt))}catch(bt){ot(bt)}}function dt(gt){try{mt(a.throw(gt))}catch(bt){ot(bt)}}function mt(gt){gt.done?et(gt.value):o(gt.value).then(ft,dt)}mt((a=a.apply(e,i||[])).next())})},__rest$1=function(e,i){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(e,i)=>{switch(i){case PasswordResponses.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");e(s);break}case PasswordResponses.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");e(s);break}}},Document=reactExports.forwardRef(function e(i,s){var{children:a,className:o,error:et="Failed to load PDF file.",externalLinkRel:ot,externalLinkTarget:ft,file:dt,inputRef:mt,imageResourcesPath:gt,loading:bt="Loading PDF",noData:vt="No PDF file specified.",onItemClick:Pt,onLoadError:Tt,onLoadProgress:At,onLoadSuccess:wt,onPassword:_t=defaultOnPassword,onSourceError:Et,onSourceSuccess:yt,options:St,renderMode:xt,rotate:Ct}=i,$t=__rest$1(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Rt,It]=useResolver(),{value:Nt,error:Ot}=Rt,[Gt,Xt]=useResolver(),{value:Ht,error:Yt}=Gt,zt=reactExports.useRef(new LinkService),Ut=reactExports.useRef([]),kt=reactExports.useRef({scrollPageIntoView:nr=>{const{dest:vr,pageNumber:Pr,pageIndex:Ar=Pr-1}=nr;if(Pt){Pt({dest:vr,pageIndex:Ar,pageNumber:Pr});return}const Ir=Ut.current[Ar];if(Ir){Ir.scrollIntoView();return}}});reactExports.useImperativeHandle(s,()=>({linkService:zt,pages:Ut,viewer:kt}),[]);function Ft(){yt&&yt()}function Qt(){Ot&&(Ot.toString(),Et&&Et(Ot))}function Zt(){It({type:"RESET"})}reactExports.useEffect(Zt,[dt,It]);const rr=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!dt)return null;if(typeof dt=="string")return isDataURI(dt)?{data:dataURItoByteString(dt)}:(displayCORSWarning(),{url:dt});if(dt instanceof PDFDataRangeTransport)return{range:dt};if(isArrayBuffer(dt))return{data:dt};if(isBrowser&&isBlob(dt))return{data:yield loadFromFile(dt)};if(invariant(typeof dt=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant("data"in dt||"range"in dt||"url"in dt,"Invalid parameter object: need either .data, .range or .url"),"url"in dt&&typeof dt.url=="string"){if(isDataURI(dt.url)){const{url:nr}=dt,vr=__rest$1(dt,["url"]),Pr=dataURItoByteString(nr);return Object.assign({data:Pr},vr)}displayCORSWarning()}return dt}),[dt]);reactExports.useEffect(()=>{const nr=makeCancellablePromise(rr());return nr.promise.then(vr=>{It({type:"RESOLVE",value:vr})}).catch(vr=>{It({type:"REJECT",error:vr})}),()=>{cancelRunningTask(nr)}},[rr,It]),reactExports.useEffect(()=>{if(!(typeof Nt>"u")){if(Nt===!1){Qt();return}Ft()}},[Nt]);function qt(){Ht&&(wt&&wt(Ht),Ut.current=new Array(Ht.numPages),zt.current.setDocument(Ht))}function Dt(){Yt&&(Yt.toString(),Tt&&Tt(Yt))}function Vt(){Xt({type:"RESET"})}reactExports.useEffect(Vt,[Xt,Nt]);function Lt(){if(!Nt)return;const nr=St?Object.assign(Object.assign({},Nt),St):Nt,vr=pdfjs.getDocument(nr);At&&(vr.onProgress=At),_t&&(vr.onPassword=_t);const Pr=vr;return Pr.promise.then(Ar=>{Xt({type:"RESOLVE",value:Ar})}).catch(Ar=>{Pr.destroyed||Xt({type:"REJECT",error:Ar})}),()=>{Pr.destroy()}}reactExports.useEffect(Lt,[St,Xt,Nt]),reactExports.useEffect(()=>{if(!(typeof Ht>"u")){if(Ht===!1){Dt();return}qt()}},[Ht]);function jt(){zt.current.setViewer(kt.current),zt.current.setExternalLinkRel(ot),zt.current.setExternalLinkTarget(ft)}reactExports.useEffect(jt,[ot,ft]);function Wt(nr,vr){Ut.current[nr]=vr}function Kt(nr){delete Ut.current[nr]}const er=reactExports.useMemo(()=>({imageResourcesPath:gt,linkService:zt.current,onItemClick:Pt,pdf:Ht,registerPage:Wt,renderMode:xt,rotate:Ct,unregisterPage:Kt}),[gt,Pt,Ht,xt,Ct]),tr=reactExports.useMemo(()=>makeEventProps($t,()=>Ht),[$t,Ht]);function ur(){return React.createElement(DocumentContext.Provider,{value:er},a)}function cr(){return dt?Ht==null?React.createElement(Message,{type:"loading"},typeof bt=="function"?bt():bt):Ht===!1?React.createElement(Message,{type:"error"},typeof et=="function"?et():et):ur():React.createElement(Message,{type:"no-data"},typeof vt=="function"?vt():vt)}return React.createElement("div",Object.assign({className:clsx("react-pdf__Document",o),ref:mt,style:{"--scale-factor":"1"}},tr),cr())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});const Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s=e.filter(Boolean);if(s.length<=1){var a=s[0];return a||null}return function(et){s.forEach(function(ot){typeof ot=="function"?ot(et):ot&&(ot.current=et)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(e){return e in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(e){return"children"in e}function isStructTreeNodeWithOnlyContentChild(e){return isStructTreeNode(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function getRoleAttributes(e){const i={};if(isStructTreeNode(e)){const{role:s}=e,a=s.match(HEADING_PATTERN);if(a)i.role="heading",i["aria-level"]=Number(a[1]);else if(isPdfRole(s)){const o=PDF_ROLE_TO_HTML_ROLE[s];o&&(i.role=o)}}return i}function getBaseAttributes(e){const i={};if(isStructTreeNode(e)){if(e.alt!==void 0&&(i["aria-label"]=e.alt),e.lang!==void 0&&(i.lang=e.lang),isStructTreeNodeWithOnlyContentChild(e)){const[s]=e.children;if(s){const a=getBaseAttributes(s);return Object.assign(Object.assign({},i),a)}}}else"id"in e&&(i["aria-owns"]=e.id);return i}function getAttributes(e){return e?Object.assign(Object.assign({},getRoleAttributes(e)),getBaseAttributes(e)):null}function StructTreeItem({className:e,node:i}){const s=reactExports.useMemo(()=>getAttributes(i),[i]),a=reactExports.useMemo(()=>!isStructTreeNode(i)||isStructTreeNodeWithOnlyContentChild(i)?null:i.children.map((o,et)=>React.createElement(StructTreeItem,{key:et,node:o})),[i]);return React.createElement("span",Object.assign({className:e},s),a)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const e=usePageContext();invariant(e,"Unable to find Page context.");const{onGetStructTreeError:i,onGetStructTreeSuccess:s}=e,[a,o]=useResolver(),{value:et,error:ot}=a,{customTextRenderer:ft,page:dt}=e;function mt(){et&&s&&s(et)}function gt(){ot&&(ot.toString(),i&&i(ot))}function bt(){o({type:"RESET"})}reactExports.useEffect(bt,[o,dt]);function vt(){if(ft||!dt)return;const Pt=makeCancellablePromise(dt.getStructTree()),Tt=Pt;return Pt.promise.then(At=>{o({type:"RESOLVE",value:At})}).catch(At=>{o({type:"REJECT",error:At})}),()=>cancelRunningTask(Tt)}return reactExports.useEffect(vt,[ft,dt,o]),reactExports.useEffect(()=>{if(et!==void 0){if(et===!1){gt();return}mt()}},[et]),et?React.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:et}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(e){const i=usePageContext();invariant(i,"Unable to find Page context.");const s=Object.assign(Object.assign({},i),e),{_className:a,canvasBackground:o,devicePixelRatio:et=getDevicePixelRatio(),onRenderError:ot,onRenderSuccess:ft,page:dt,renderForms:mt,renderTextLayer:gt,rotate:bt,scale:vt}=s,{canvasRef:Pt}=e;invariant(dt,"Attempted to render page canvas, but no page was specified.");const Tt=reactExports.useRef(null);function At(){dt&&ft&&ft(makePageCallback(dt,vt))}function wt(xt){isCancelException(xt)||(xt.toString(),ot&&ot(xt))}const _t=reactExports.useMemo(()=>dt.getViewport({scale:vt*et,rotation:bt}),[et,dt,bt,vt]),Et=reactExports.useMemo(()=>dt.getViewport({scale:vt,rotation:bt}),[dt,bt,vt]);function yt(){if(!dt)return;dt.cleanup();const{current:xt}=Tt;if(!xt)return;xt.width=_t.width,xt.height=_t.height,xt.style.width=`${Math.floor(Et.width)}px`,xt.style.height=`${Math.floor(Et.height)}px`,xt.style.visibility="hidden";const Ct={annotationMode:mt?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:xt.getContext("2d",{alpha:!1}),viewport:_t};o&&(Ct.background=o);const $t=dt.render(Ct),Rt=$t;return $t.promise.then(()=>{xt.style.visibility="",At()}).catch(wt),()=>cancelRunningTask(Rt)}reactExports.useEffect(yt,[o,Tt,et,dt,mt,_t,Et]);const St=reactExports.useCallback(()=>{const{current:xt}=Tt;xt&&(xt.width=0,xt.height=0)},[Tt]);return reactExports.useEffect(()=>St,[St]),React.createElement("canvas",{className:`${a}__canvas`,dir:"ltr",ref:mergeRefs(Pt,Tt),style:{display:"block",userSelect:"none"}},gt?React.createElement(StructTree,null):null)}function PageSVG(){const e=usePageContext();invariant(e,"Unable to find Page context.");const{_className:i,onRenderSuccess:s,onRenderError:a,page:o,rotate:et,scale:ot}=e;invariant(o,"Attempted to render page SVG, but no page was specified.");const[ft,dt]=useResolver(),{value:mt,error:gt}=ft;function bt(){o&&s&&s(makePageCallback(o,ot))}function vt(){gt&&(isCancelException(gt)||(gt.toString(),a&&a(gt)))}const Pt=reactExports.useMemo(()=>o.getViewport({scale:ot,rotation:et}),[o,et,ot]);function Tt(){dt({type:"RESET"})}reactExports.useEffect(Tt,[o,dt,Pt]);function At(){if(!o)return;const yt=makeCancellablePromise(o.getOperatorList());return yt.promise.then(St=>{new pdfjs.SVGGraphics(o.commonObjs,o.objs).getSVG(St,Pt).then(Ct=>{if(!(Ct instanceof SVGElement))throw new Error("getSVG returned unexpected result.");dt({type:"RESOLVE",value:Ct})}).catch(Ct=>{dt({type:"REJECT",error:Ct})})}).catch(St=>{dt({type:"REJECT",error:St})}),()=>cancelRunningTask(yt)}reactExports.useEffect(At,[o,dt,Pt]),reactExports.useEffect(()=>{if(mt!==void 0){if(mt===!1){vt();return}bt()}},[mt]);function wt(yt){if(!yt||!mt)return;yt.firstElementChild||yt.appendChild(mt);const{width:St,height:xt}=Pt;mt.setAttribute("width",`${St}`),mt.setAttribute("height",`${xt}`)}const{width:_t,height:Et}=Pt;return React.createElement("div",{className:`${i}__svg`,ref:yt=>wt(yt),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:_t,height:Et,userSelect:"none"}})}function isTextItem(e){return"str"in e}function TextLayer(){const e=usePageContext();invariant(e,"Unable to find Page context.");const{customTextRenderer:i,onGetTextError:s,onGetTextSuccess:a,onRenderTextLayerError:o,onRenderTextLayerSuccess:et,page:ot,pageIndex:ft,pageNumber:dt,rotate:mt,scale:gt}=e;invariant(ot,"Attempted to load page text content, but no page was specified.");const[bt,vt]=useResolver(),{value:Pt,error:Tt}=bt,At=reactExports.useRef(null),wt=reactExports.useRef();parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10);function _t(){Pt&&a&&a(Pt)}function Et(){Tt&&(Tt.toString(),s&&s(Tt))}function yt(){vt({type:"RESET"})}reactExports.useEffect(yt,[ot,vt]);function St(){if(!ot)return;const Ot=makeCancellablePromise(ot.getTextContent()),Gt=Ot;return Ot.promise.then(Xt=>{vt({type:"RESOLVE",value:Xt})}).catch(Xt=>{vt({type:"REJECT",error:Xt})}),()=>cancelRunningTask(Gt)}reactExports.useEffect(St,[ot,vt]),reactExports.useEffect(()=>{if(Pt!==void 0){if(Pt===!1){Et();return}_t()}},[Pt]);const xt=reactExports.useCallback(()=>{et&&et()},[et]),Ct=reactExports.useCallback(Ot=>{Ot.toString(),o&&o(Ot)},[o]);function $t(){const Ot=wt.current;Ot&&Ot.classList.add("active")}function Rt(){const Ot=wt.current;Ot&&Ot.classList.remove("active")}const It=reactExports.useMemo(()=>ot.getViewport({scale:gt,rotation:mt}),[ot,mt,gt]);function Nt(){if(!ot||!Pt)return;const{current:Ot}=At;if(!Ot)return;Ot.innerHTML="";const Gt=ot.streamTextContent({includeMarkedContent:!0}),Xt={container:Ot,textContentSource:Gt,viewport:It},Ht=pdfjs.renderTextLayer(Xt),Yt=Ht;return Ht.promise.then(()=>{const zt=document.createElement("div");zt.className="endOfContent",Ot.append(zt),wt.current=zt;const Ut=Ot.querySelectorAll('[role="presentation"]');if(i){let kt=0;Pt.items.forEach((Ft,Qt)=>{if(!isTextItem(Ft))return;const Zt=Ut[kt];if(!Zt)return;const rr=i(Object.assign({pageIndex:ft,pageNumber:dt,itemIndex:Qt},Ft));Zt.innerHTML=rr,kt+=Ft.str&&Ft.hasEOL?2:1})}xt()}).catch(Ct),()=>cancelRunningTask(Yt)}return reactExports.useLayoutEffect(Nt,[i,Ct,xt,ot,ft,dt,Pt,It]),React.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:Rt,onMouseDown:$t,ref:At})}function AnnotationLayer(){const e=useDocumentContext();invariant(e,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const i=usePageContext();invariant(i,"Unable to find Page context.");const s=Object.assign(Object.assign({},e),i),{imageResourcesPath:a,linkService:o,onGetAnnotationsError:et,onGetAnnotationsSuccess:ot,onRenderAnnotationLayerError:ft,onRenderAnnotationLayerSuccess:dt,page:mt,pdf:gt,renderForms:bt,rotate:vt,scale:Pt=1}=s;invariant(mt,"Attempted to load page annotations, but no page was specified.");const[Tt,At]=useResolver(),{value:wt,error:_t}=Tt,Et=reactExports.useRef(null);parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10);function yt(){wt&&ot&&ot(wt)}function St(){_t&&(_t.toString(),et&&et(_t))}function xt(){At({type:"RESET"})}reactExports.useEffect(xt,[At,mt]);function Ct(){if(!mt)return;const Ot=makeCancellablePromise(mt.getAnnotations()),Gt=Ot;return Ot.promise.then(Xt=>{At({type:"RESOLVE",value:Xt})}).catch(Xt=>{At({type:"REJECT",error:Xt})}),()=>{cancelRunningTask(Gt)}}reactExports.useEffect(Ct,[At,mt,bt]),reactExports.useEffect(()=>{if(wt!==void 0){if(wt===!1){St();return}yt()}},[wt]);function $t(){dt&&dt()}function Rt(Ot){ft&&ft(Ot)}const It=reactExports.useMemo(()=>mt.getViewport({scale:Pt,rotation:vt}),[mt,vt,Pt]);function Nt(){if(!gt||!mt||!wt)return;const{current:Ot}=Et;if(!Ot)return;const Gt=It.clone({dontFlip:!0}),Xt={accessibilityManager:null,annotationCanvasMap:null,div:Ot,l10n:null,page:mt,viewport:Gt},Ht={annotations:wt,annotationStorage:gt.annotationStorage,div:Ot,downloadManager:null,imageResourcesPath:a,linkService:o,page:mt,renderForms:bt,viewport:Gt};Ot.innerHTML="";try{new pdfjs.AnnotationLayer(Xt).render(Ht),$t()}catch(Yt){Rt(Yt)}return()=>{}}return reactExports.useEffect(Nt,[wt,a,o,mt,bt,It]),React.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:Et})}var __rest=function(e,i){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&i.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(s[a[o]]=e[a[o]]);return s};const defaultScale=1,Page=function e(i){const s=useDocumentContext();invariant(s,"Unable to find Document context. Did you wrap <Page /> in <Document />?");const a=Object.assign(Object.assign({},s),i),{_className:o="react-pdf__Page",_enableRegisterUnregisterPage:et=!0,canvasBackground:ot,canvasRef:ft,children:dt,className:mt,customRenderer:gt,customTextRenderer:bt,devicePixelRatio:vt,error:Pt="Failed to load the page.",height:Tt,inputRef:At,loading:wt="Loading page",noData:_t="No page specified.",onGetAnnotationsError:Et,onGetAnnotationsSuccess:yt,onGetStructTreeError:St,onGetStructTreeSuccess:xt,onGetTextError:Ct,onGetTextSuccess:$t,onLoadError:Rt,onLoadSuccess:It,onRenderAnnotationLayerError:Nt,onRenderAnnotationLayerSuccess:Ot,onRenderError:Gt,onRenderSuccess:Xt,onRenderTextLayerError:Ht,onRenderTextLayerSuccess:Yt,pageIndex:zt,pageNumber:Ut,pdf:kt,registerPage:Ft,renderAnnotationLayer:Qt=!0,renderForms:Zt=!1,renderMode:rr="canvas",renderTextLayer:qt=!0,rotate:Dt,scale:Vt=defaultScale,unregisterPage:Lt,width:jt}=a,Wt=__rest(a,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Kt,er]=useResolver(),{value:tr,error:ur}=Kt,cr=reactExports.useRef(null);invariant(kt,"Attempted to load a page, but no document was specified.");const nr=isProvided(Ut)?Ut-1:zt??null,vr=Ut??(isProvided(zt)?zt+1:null),Pr=Dt??(tr?tr.rotate:null),Ar=reactExports.useMemo(()=>{if(!tr)return null;let Kr=1;const Jr=Vt??defaultScale;if(jt||Tt){const Qr=tr.getViewport({scale:1,rotation:Pr});jt?Kr=jt/Qr.width:Tt&&(Kr=Tt/Qr.height)}return Jr*Kr},[Tt,tr,Pr,Vt,jt]);function Ir(){return()=>{isProvided(nr)&&et&&Lt&&Lt(nr)}}reactExports.useEffect(Ir,[et,kt,nr,Lt]);function zr(){if(It){if(!tr||!Ar)return;It(makePageCallback(tr,Ar))}if(et&&Ft){if(!isProvided(nr)||!cr.current)return;Ft(nr,cr.current)}}function Cr(){ur&&(ur.toString(),Rt&&Rt(ur))}function Dr(){er({type:"RESET"})}reactExports.useEffect(Dr,[er,kt,nr]);function xr(){if(!kt||!vr)return;const Kr=makeCancellablePromise(kt.getPage(vr)),Jr=Kr;return Kr.promise.then(Qr=>{er({type:"RESOLVE",value:Qr})}).catch(Qr=>{er({type:"REJECT",error:Qr})}),()=>cancelRunningTask(Jr)}reactExports.useEffect(xr,[er,kt,nr,vr,Ft]),reactExports.useEffect(()=>{if(tr!==void 0){if(tr===!1){Cr();return}zr()}},[tr,Ar]);const hr=reactExports.useMemo(()=>tr&&isProvided(nr)&&vr&&isProvided(Pr)&&isProvided(Ar)?{_className:o,canvasBackground:ot,customTextRenderer:bt,devicePixelRatio:vt,onGetAnnotationsError:Et,onGetAnnotationsSuccess:yt,onGetStructTreeError:St,onGetStructTreeSuccess:xt,onGetTextError:Ct,onGetTextSuccess:$t,onRenderAnnotationLayerError:Nt,onRenderAnnotationLayerSuccess:Ot,onRenderError:Gt,onRenderSuccess:Xt,onRenderTextLayerError:Ht,onRenderTextLayerSuccess:Yt,page:tr,pageIndex:nr,pageNumber:vr,renderForms:Zt,renderTextLayer:qt,rotate:Pr,scale:Ar}:null,[o,ot,bt,vt,Et,yt,St,xt,Ct,$t,Nt,Ot,Gt,Xt,Ht,Yt,tr,nr,vr,Zt,qt,Pr,Ar]),pr=reactExports.useMemo(()=>makeEventProps(Wt,()=>tr&&(Ar?makePageCallback(tr,Ar):void 0)),[Wt,tr,Ar]),br=`${nr}@${Ar}/${Pr}`,kr=`${nr}/${Pr}`;function $r(){switch(rr){case"custom":return invariant(gt,'renderMode was set to "custom", but no customRenderer was passed.'),React.createElement(gt,{key:`${br}_custom`});case"none":return null;case"svg":return React.createElement(PageSVG,{key:`${kr}_svg`});case"canvas":default:return React.createElement(PageCanvas,{key:`${br}_canvas`,canvasRef:ft})}}function Gr(){return qt?React.createElement(TextLayer,{key:`${br}_text`}):null}function qr(){return Qt?React.createElement(AnnotationLayer,{key:`${br}_annotations`}):null}function Wr(){return React.createElement(PageContext.Provider,{value:hr},$r(),Gr(),qr(),dt)}function tn(){return vr?kt===null||tr===void 0||tr===null?React.createElement(Message,{type:"loading"},typeof wt=="function"?wt():wt):kt===!1||tr===!1?React.createElement(Message,{type:"error"},typeof Pt=="function"?Pt():Pt):Wr():React.createElement(Message,{type:"no-data"},typeof _t=="function"?_t():_t)}return React.createElement("div",Object.assign({className:clsx(o,mt),"data-page-number":vr,ref:mergeRefs(At,cr),style:{"--scale-factor":`${Ar}`,backgroundColor:ot||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},pr),tn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});const Page$1=Page;pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";var SET_ZOOM_LEVEL="SET_ZOOM_LEVEL",setZoomLevel=function(e){return{type:SET_ZOOM_LEVEL,value:e}},SET_PDF_PAGINATED="SET_PDF_PAGINATED",setPDFPaginated=function(e){return{type:SET_PDF_PAGINATED,value:e}},SET_NUM_PAGES="SET_NUM_PAGES",setNumPages=function(e){return{type:SET_NUM_PAGES,value:e}},SET_CURRENT_PAGE="SET_CURRENT_PAGE",setCurrentPage=function(e){return{type:SET_CURRENT_PAGE,value:e}},__assign$6=function(){return __assign$6=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$6.apply(this,arguments)},initialPDFState={defaultZoomLevel:1,zoomLevel:1,zoomJump:.1,paginated:!0,numPages:0,currentPage:1},reducer=function(e,i){switch(e===void 0&&(e=initialPDFState),i.type){case SET_ZOOM_LEVEL:{var s=i.value;return __assign$6(__assign$6({},e),{zoomLevel:s})}case SET_PDF_PAGINATED:{var s=i.value;return __assign$6(__assign$6({},e),{paginated:s})}case SET_NUM_PAGES:{var s=i.value;return __assign$6(__assign$6({},e),{numPages:s})}case SET_CURRENT_PAGE:{var s=i.value;return __assign$6(__assign$6({},e),{currentPage:s})}default:return e}},__assign$5=function(){return __assign$5=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$5.apply(this,arguments)},PDFContext=reactExports.createContext({state:initialPDFState,dispatch:function(){return null}}),PDFProvider=function(e){var i,s,a,o,et,ot,ft,dt,mt,gt,bt=e.children,vt=e.mainState,Pt=reactExports.useReducer(reducer,__assign$5(__assign$5({},initialPDFState),{defaultZoomLevel:(a=(s=(i=vt.config)===null||i===void 0?void 0:i.pdfZoom)===null||s===void 0?void 0:s.defaultZoom)!==null&&a!==void 0?a:initialPDFState.defaultZoomLevel,zoomLevel:(ot=(et=(o=vt.config)===null||o===void 0?void 0:o.pdfZoom)===null||et===void 0?void 0:et.defaultZoom)!==null&&ot!==void 0?ot:initialPDFState.zoomLevel,zoomJump:(mt=(dt=(ft=vt.config)===null||ft===void 0?void 0:ft.pdfZoom)===null||dt===void 0?void 0:dt.zoomJump)!==null&&mt!==void 0?mt:initialPDFState.zoomJump,paginated:!((gt=vt.config)===null||gt===void 0)&&gt.pdfVerticalScrollByDefault?!1:initialPDFState.paginated,mainState:vt})),Tt=Pt[0],At=Pt[1];return React.createElement(PDFContext.Provider,{value:{state:Tt,dispatch:At}},bt)},__makeTemplateObject$a=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},PDFSinglePage=function(e){var i=e.pageNum,s=reactExports.useContext(PDFContext).state,a=s.mainState,o=s.paginated,et=s.zoomLevel,ot=s.numPages,ft=s.currentPage,dt=useTranslation().t,mt=(a==null?void 0:a.rendererRect)||null,gt=i||ft;return React.createElement(PageWrapper,{id:"pdf-page-wrapper",last:gt>=ot},!o&&React.createElement(PageTag$1,{id:"pdf-page-info"},dt("pdfPluginPageNumber",{currentPage:gt,allPagesCount:ot})),React.createElement(Page$1,{pageNumber:gt||ft,scale:et,height:((mt==null?void 0:mt.height)||100)-100,width:((mt==null?void 0:mt.width)||100)-100,loading:dt("pdfPluginLoading")}))},PageWrapper=ut.div(templateObject_1$a||(templateObject_1$a=__makeTemplateObject$a([`
  margin: 20px 0;
`],[`
  margin: 20px 0;
`]))),PageTag$1=ut.div(templateObject_2$4||(templateObject_2$4=__makeTemplateObject$a([`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  padding: 0 0 10px 10px;
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(e){return e.theme.textTertiary}),templateObject_1$a,templateObject_2$4,PDFAllPages=function(){for(var e=reactExports.useContext(PDFContext).state.numPages,i=[],s=0;s<e;s++)i.push(React.createElement(PDFSinglePage,{key:s+1,pageNum:s+1}));return React.createElement(React.Fragment,null,i)},__makeTemplateObject$9=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},PDFPages=function(){var e=reactExports.useContext(PDFContext),i=e.state,s=i.mainState,a=i.paginated,o=e.dispatch,et=useTranslation().t,ot=(s==null?void 0:s.currentDocument)||null;return reactExports.useEffect(function(){o(setNumPages(initialPDFState.numPages))},[ot]),!ot||ot.fileData===void 0?null:React.createElement(DocumentPDF,{file:ot.fileData,onLoadSuccess:function(ft){var dt=ft.numPages;return o(setNumPages(dt))},loading:React.createElement("span",null,et("pdfPluginLoading"))},a?React.createElement(PDFSinglePage,null):React.createElement(PDFAllPages,null))},DocumentPDF=ut(Document$1)(templateObject_1$9||(templateObject_1$9=__makeTemplateObject$9([`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`],[`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`]))),templateObject_1$9,__assign$4=function(){return __assign$4=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$4.apply(this,arguments)},PrevPDFNavIcon=function(e){return React.createElement(PDFNavArrow,__assign$4({},e,{reverse:!0}))},NextPDFNavIcon=function(e){return React.createElement(PDFNavArrow,__assign$4({},e))},PDFNavArrow=function(e){var i=e.color,s=e.size,a=e.reverse;return React.createElement("svg",{width:s||"100%",height:s||"100%",style:{transform:"".concat(a?"rotate(180deg)":"")},viewBox:"0 0 12 12",version:"1.1"},React.createElement("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"Rounded",transform:"translate(-548.000000, -1000.000000)"},React.createElement("g",{id:"AV",transform:"translate(100.000000, 852.000000)"},React.createElement("g",{id:"-Round-/-AV-/-skip_next",transform:"translate(442.000000, 142.000000)"},React.createElement("g",null,React.createElement("rect",{id:"Rectangle-Copy-52",x:"0",y:"0",width:"24",height:"24"}),React.createElement("path",{d:"M7.58,16.89 L13.35,12.82 C13.91,12.42 13.91,11.58 13.35,11.19 L7.58,7.11 C6.91,6.65 6,7.12 6,7.93 L6,16.07 C6,16.88 6.91,17.35 7.58,16.89 Z M16,7 L16,17 C16,17.55 16.45,18 17,18 C17.55,18 18,17.55 18,17 L18,7 C18,6.45 17.55,6 17,6 C16.45,6 16,6.45 16,7 Z",id:"icon_color",fill:i||"#aaa"})))))))},DownloadPDFIcon=function(e){var i=e.color,s=e.size,a=e.reverse;return React.createElement("svg",{width:s||"100%",height:s||"100%",style:{transform:"".concat(a?"rotate(180deg)":"")},id:"Layer_1",viewBox:"0 0 24 24"},React.createElement("path",{d:"M20.57,9.43A8,8,0,0,0,5.26,10,5,5,0,1,0,5,20h5V18H5a3,3,0,0,1,0-6,3.1,3.1,0,0,1,.79.12l1.12.31.14-1.15a6,6,0,0,1,11.74-.82l.15.54.54.16A3.46,3.46,0,0,1,22,14.5,3.5,3.5,0,0,1,18.5,18H16v2h2.5A5.48,5.48,0,0,0,20.57,9.43Z",fill:i||"#aaa"}),React.createElement("polygon",{points:"12 11 12 15.59 10.71 14.29 9.29 15.71 13 19.41 16.71 15.71 15.29 14.29 14 15.59 14 11 12 11",fill:i||"#aaa"}))},ZoomInPDFIcon=function(e){return React.createElement(ZoomPDFIcon,__assign$4({},e))},ZoomOutPDFIcon=function(e){return React.createElement(ZoomPDFIcon,__assign$4({},e,{reverse:!0}))},ZoomPDFIcon=function(e){var i=e.color,s=e.size,a=e.reverse;return React.createElement("svg",{width:s||"100%",height:s||"100%",viewBox:"0 0 32 32",version:"1.1"},React.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},React.createElement("g",{id:"search-plus-icon",fill:i||"#aaa"},React.createElement("path",{id:"search-plus",d:a?"M 13 13 L 16 13 L 19 13 L 19 16 L 16 16 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z":"M 13 13 L 13 10 L 16 10 L 16 13 L 19 13 L 19 16 L 16 16 L 16 19 L 13 19 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z"}))))},ResetZoomPDFIcon=function(e){var i=e.color,s=e.size;return React.createElement("svg",{width:s||"100%",height:s||"100%",viewBox:"0 0 24 24"},React.createElement("path",{fill:i||"#aaa",d:"M9.29,13.29,4,18.59V17a1,1,0,0,0-2,0v4a1,1,0,0,0,.08.38,1,1,0,0,0,.54.54A1,1,0,0,0,3,22H7a1,1,0,0,0,0-2H5.41l5.3-5.29a1,1,0,0,0-1.42-1.42ZM5.41,4H7A1,1,0,0,0,7,2H3a1,1,0,0,0-.38.08,1,1,0,0,0-.54.54A1,1,0,0,0,2,3V7A1,1,0,0,0,4,7V5.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM21,16a1,1,0,0,0-1,1v1.59l-5.29-5.3a1,1,0,0,0-1.42,1.42L18.59,20H17a1,1,0,0,0,0,2h4a1,1,0,0,0,.38-.08,1,1,0,0,0,.54-.54A1,1,0,0,0,22,21V17A1,1,0,0,0,21,16Zm.92-13.38a1,1,0,0,0-.54-.54A1,1,0,0,0,21,2H17a1,1,0,0,0,0,2h1.59l-5.3,5.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L20,5.41V7a1,1,0,0,0,2,0V3A1,1,0,0,0,21.92,2.62Z"}))},TogglePaginationPDFIcon=function(e){var i=e.color,s=e.size,a=e.reverse;return React.createElement("svg",{width:s||"100%",height:s||"100%",style:{transform:"".concat(a?"rotate(90deg)":"")},version:"1.1",id:"Scroll_1",viewBox:"0 0 297 297",xmlSpace:"preserve"},React.createElement("path",{fill:i||"#aaa",d:`M206.004,200.723h-31.231V96.277h31.231c0.005,0,0.014,0,0.019,0c5.289,0,9.575-4.287,9.575-9.574
  c0-2.342-0.841-4.488-2.236-6.151L156.168,3.851C154.36,1.428,151.515,0,148.492,0c-3.023,0-5.868,1.428-7.675,3.851L83.302,80.98
  c-2.166,2.902-2.507,6.779-0.883,10.017c1.624,3.236,4.936,5.28,8.559,5.28h31.231v104.445H90.978c-3.623,0-6.934,2.044-8.559,5.28
  c-1.624,3.237-1.283,7.114,0.883,10.017l57.513,77.129c1.808,2.424,4.652,3.852,7.675,3.852c3.023,0,5.868-1.428,7.676-3.852
  l57.514-77.129c2.164-2.902,2.507-6.779,0.883-10.017C212.938,202.767,209.627,200.723,206.004,200.723z`}))},__makeTemplateObject$8=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},PDFPagination=function(){var e=reactExports.useContext(PDFContext),i=e.state,s=i.currentPage,a=i.numPages,o=e.dispatch,et=useTranslation().t;return React.createElement(Container$6,{id:"pdf-pagination"},React.createElement(PageNavButtonLeft,{id:"pdf-pagination-prev",onClick:function(){return o(setCurrentPage(s-1))},disabled:s===1},React.createElement(PrevPDFNavIcon,{color:"#000",size:"50%"})),React.createElement(PageTag,{id:"pdf-pagination-info"},et("pdfPluginPageNumber",{currentPage:s,allPagesCount:a})),React.createElement(PageNavButtonRight,{id:"pdf-pagination-next",onClick:function(){return o(setCurrentPage(s+1))},disabled:s>=a},React.createElement(NextPDFNavIcon,{color:"#000",size:"50%"})))},Container$6=ut.div(templateObject_1$8||(templateObject_1$8=__makeTemplateObject$8([`
  display: flex;
  align-items: center;
`],[`
  display: flex;
  align-items: center;
`]))),PageNavButtonLeft=ut(Button)(templateObject_2$3||(templateObject_2$3=__makeTemplateObject$8([`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),PageNavButtonRight=ut(PageNavButtonLeft)(templateObject_3$1||(templateObject_3$1=__makeTemplateObject$8([`
  margin: 0 20px 0 5px;
`],[`
  margin: 0 20px 0 5px;
`]))),PageTag=ut.div(templateObject_4||(templateObject_4=__makeTemplateObject$8([`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`],[`
  color: `,`;
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`])),function(e){return e.theme.textPrimary}),templateObject_1$8,templateObject_2$3,templateObject_3$1,templateObject_4,__makeTemplateObject$7=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},PDFControls=function(){var e=useTranslation().t,i=reactExports.useContext(PDFContext),s=i.state,a=s.mainState,o=s.paginated,et=s.zoomLevel,ot=s.numPages,ft=s.zoomJump,dt=s.defaultZoomLevel,mt=i.dispatch,gt=(a==null?void 0:a.currentDocument)||null;return React.createElement(Container$5,{id:"pdf-controls"},o&&ot>1&&React.createElement(PDFPagination,null),(gt==null?void 0:gt.fileData)&&React.createElement(DownloadButton,{id:"pdf-download",href:gt==null?void 0:gt.fileData,download:(gt==null?void 0:gt.fileName)||(gt==null?void 0:gt.uri),title:e("downloadButtonLabel")},React.createElement(DownloadPDFIcon,{color:"#000",size:"75%"})),React.createElement(ControlButton,{id:"pdf-zoom-out",onMouseDown:function(){return mt(setZoomLevel(et-ft))}},React.createElement(ZoomOutPDFIcon,{color:"#000",size:"80%"})),React.createElement(ControlButton,{id:"pdf-zoom-in",onMouseDown:function(){return mt(setZoomLevel(et+ft))}},React.createElement(ZoomInPDFIcon,{color:"#000",size:"80%"})),React.createElement(ControlButton,{id:"pdf-zoom-reset",onMouseDown:function(){return mt(setZoomLevel(dt))},disabled:et===dt},React.createElement(ResetZoomPDFIcon,{color:"#000",size:"70%"})),ot>1&&React.createElement(ControlButton,{id:"pdf-toggle-pagination",onMouseDown:function(){return mt(setPDFPaginated(!o))}},React.createElement(TogglePaginationPDFIcon,{color:"#000",size:"70%",reverse:o})))},Container$5=ut.div(templateObject_1$7||(templateObject_1$7=__makeTemplateObject$7([`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`],[`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: `,`;
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`])),function(e){return e.theme.tertiary}),ControlButton=ut(Button)(templateObject_2$2||(templateObject_2$2=__makeTemplateObject$7([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),DownloadButton=ut(LinkButton)(templateObject_3||(templateObject_3=__makeTemplateObject$7([`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`],[`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`]))),templateObject_1$7,templateObject_2$2,templateObject_3,__makeTemplateObject$6=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e};pdfjs.GlobalWorkerOptions.workerSrc="//unpkg.com/pdfjs-dist@".concat(pdfjs.version,"/build/pdf.worker.min.js");var PDFRenderer=function(e){var i=e.mainState;return React.createElement(PDFProvider,{mainState:i},React.createElement(Container$4,{id:"pdf-renderer","data-testid":"pdf-renderer"},React.createElement(PDFControls,null),React.createElement(PDFPages,null)))};PDFRenderer.fileTypes=["pdf","application/pdf"];PDFRenderer.weight=0;var Container$4=ut.div(templateObject_1$6||(templateObject_1$6=__makeTemplateObject$6([`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`],[`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;

  /* width */
  &::-webkit-scrollbar {
    `,`;
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: `,`; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: `,`;
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: `,`;
  }
`])),function(e){return e.theme.disableThemeScrollbar?"":"width: 10px"},function(e){return e.theme.secondary},function(e){return e.theme.tertiary},function(e){return e.theme.primary}),templateObject_1$6,__makeTemplateObject$5=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$3=function(){return __assign$3=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$3.apply(this,arguments)},StyledImageRenderer=ut(ImageProxyRenderer)(templateObject_1$5||(templateObject_1$5=__makeTemplateObject$5([`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`],[`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`]))),PNGRenderer=function(e){return React.createElement(StyledImageRenderer,__assign$3({},e))};PNGRenderer.fileTypes=["png","image/png"];PNGRenderer.weight=0;var templateObject_1$5,_this=void 0,tiffDataView=void 0,littleEndian=void 0,fileDirectories=[],isLittleEndian=function(){var e=getBytes(2,0);if(e===18761)littleEndian=!0;else if(e===19789)littleEndian=!1;else throw TypeError("Invalid byte order value.");return littleEndian},hasTowel=function(){if(getBytes(2,2)!==42)throw RangeError("You forgot your towel!");return!0},getFieldTagName=function(e){var i={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},s;return e in i?s=i[e]:s="Tag"+e,s},getFieldTypeName=function(e){var i={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"},s;return e in i&&(s=i[e]),s},getFieldTypeLength=function(e){var i;return["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf(e)!==-1?i=1:["SHORT","SSHORT"].indexOf(e)!==-1?i=2:["LONG","SLONG","FLOAT"].indexOf(e)!==-1?i=4:["RATIONAL","SRATIONAL","DOUBLE"].indexOf(e)!==-1&&(i=8),i},getBits=function(e,i,s){s=s||0;var a=Math.floor(s/8),o=i+a,et=s+e,ot=32-e;if(et<=0)throw RangeError("No bits requested");if(et<=8)var ft=24+s,dt=tiffDataView.getUint8(o,littleEndian);else if(et<=16)var ft=16+s,dt=tiffDataView.getUint16(o,littleEndian);else if(et<=32)var ft=s,dt=tiffDataView.getUint32(o,littleEndian);else throw RangeError("Too many bits requested");var mt={bits:dt<<ft>>>ot,byteOffset:o+Math.floor(et/8),bitOffset:et%8};return mt},getBytes=function(e,i){if(e<=0)throw RangeError("No bytes requested");if(e<=1)return tiffDataView.getUint8(i,littleEndian);if(e<=2)return tiffDataView.getUint16(i,littleEndian);if(e<=3)return tiffDataView.getUint32(i,littleEndian)>>>8;if(e<=4)return tiffDataView.getUint32(i,littleEndian);throw RangeError("Too many bytes requested")},getFieldValues=function(e,i,s,a){var o=[],et=getFieldTypeLength(i),ot=et*s;if(ot<=4){if(littleEndian===!1)var ft=a>>>(4-et)*8;else var ft=a;o.push(ft)}else for(var dt=0;dt<s;dt++){var mt=et*dt;if(et>=8)if(["RATIONAL","SRATIONAL"].indexOf(i)!==-1)o.push(getBytes(4,a+mt)),o.push(getBytes(4,a+mt+4));else throw TypeError("Can't handle this field type or size");else o.push(getBytes(et,a+mt))}return i==="ASCII"&&o.forEach(function(gt,bt,vt){vt[bt]=String.fromCharCode(gt)}),o},clampColorSample=function(e,i){var s=Math.pow(2,8-i);return Math.floor(e*s+(s-1))},makeRGBAFillValue=function(e,i,s,a){return typeof a>"u"&&(a=1),"rgba("+e+", "+i+", "+s+", "+a+")"},parseFileDirectory=function(e){for(var i=getBytes(2,e),s=[],a=e+2,o=0;o<i;a+=12,o++){var et=getBytes(2,a),ot=getBytes(2,a+2),ft=getBytes(4,a+4),dt=getBytes(4,a+8),mt=getFieldTagName(et),gt=getFieldTypeName(ot),bt=getFieldValues(mt,gt,ft,dt);s[mt]={type:gt,values:bt}}fileDirectories.push(s);var vt=getBytes(4,a);return vt===0?fileDirectories:parseFileDirectory(vt)},parseTIFF=function(e,i){var s=i||document.createElement("canvas");if(e&&(tiffDataView=new DataView(e),littleEndian=isLittleEndian(),!!hasTowel())){var a=getBytes(4,4);fileDirectories=parseFileDirectory(a);var o=fileDirectories[0],et=o.ImageWidth.values[0],ot=o.ImageLength.values[0];s.width=et,s.height=ot;var ft=[],dt=o.Compression?o.Compression.values[0]:1,mt=o.SamplesPerPixel.values[0],gt=[],bt=0,vt=!1;if(o.BitsPerSample.values.forEach(function(pr,br,kr){gt[br]={bitsPerSample:pr,hasBytesPerSample:!1,bytesPerSample:void 0},pr%8===0&&(gt[br].hasBytesPerSample=!0,gt[br].bytesPerSample=pr/8),bt+=pr},_this),bt%8===0){vt=!0;var Pt=bt/8}var Tt=o.StripOffsets.values,At=Tt.length;if(o.StripByteCounts)var wt=o.StripByteCounts.values;else if(At===1)var wt=[Math.ceil(et*ot*bt/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var _t=0;_t<At;_t++){var Et=Tt[_t];ft[_t]=[];for(var yt=wt[_t],St=0,xt=0,Ct=1,$t=!0,Rt=[],It=0,Nt=0,Ot=0;St<yt;St+=Ct)switch(dt){case 1:for(var Gt=0,Rt=[];Gt<mt;Gt++)if(gt[Gt].hasBytesPerSample){var Xt=gt[Gt].bytesPerSample*Gt;Rt.push(getBytes(gt[Gt].bytesPerSample,Et+St+Xt))}else{var Ht=getBits(gt[Gt].bitsPerSample,Et+St,xt);throw Rt.push(Ht.bits),St=Ht.byteOffset-Et,xt=Ht.bitOffset,RangeError("Cannot handle sub-byte bits per sample")}if(ft[_t].push(Rt),vt)Ct=Pt;else throw Ct=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;case 32773:if($t){$t=!1;var Yt=1,zt=1,Ut=tiffDataView.getInt8(Et+St,littleEndian);Ut>=0&&Ut<=127?Yt=Ut+1:Ut>=-127&&Ut<=-1?zt=-Ut+1:$t=!0}else{for(var kt=getBytes(1,Et+St),Gt=0;Gt<zt;Gt++){if(gt[Nt].hasBytesPerSample)Ot=Ot<<8*It|kt,It++,It===gt[Nt].bytesPerSample&&(Rt.push(Ot),Ot=It=0,Nt++);else throw RangeError("Cannot handle sub-byte bits per sample");Nt===mt&&(ft[_t].push(Rt),Rt=[],Nt=0)}Yt--,Yt===0&&($t=!0)}Ct=1;break}}if(s.getContext){var Ft=s.getContext("2d");if(Ft.fillStyle=makeRGBAFillValue(255,255,255,0),o.RowsPerStrip)var Qt=o.RowsPerStrip.values[0];else var Qt=ot;var Zt=ft.length,rr=ot%Qt,qt=rr===0?Qt:rr,Dt=Qt,Vt=0,Lt=o.PhotometricInterpretation.values[0],jt=[],Wt=0;if(o.ExtraSamples&&(jt=o.ExtraSamples.values,Wt=jt.length),o.ColorMap)var Kt=o.ColorMap.values,er=Math.pow(2,gt[0].bitsPerSample);for(var _t=0;_t<Zt;_t++){_t+1===Zt&&(Dt=qt);for(var tr=ft[_t].length,ur=Vt*_t,cr=0,nr=0;nr<tr;cr++)for(var vr=0;vr<et;vr++,nr++){var Pr=ft[_t][nr],Ar=0,Ir=0,zr=0,Cr=1;if(Wt>0){for(var Dr=0;Dr<Wt;Dr++)if(jt[Dr]===1||jt[Dr]===2){Cr=Pr[3+Dr]/256;break}}switch(Lt){case 0:if(gt[0].hasBytesPerSample)var xr=Math.pow(16,gt[0].bytesPerSample*2);Pr.forEach(function(br,kr,$r){$r[kr]=xr-br});case 1:Ar=Ir=zr=clampColorSample(Pr[0],gt[0].bitsPerSample);break;case 2:Ar=clampColorSample(Pr[0],gt[0].bitsPerSample),Ir=clampColorSample(Pr[1],gt[1].bitsPerSample),zr=clampColorSample(Pr[2],gt[2].bitsPerSample);break;case 3:if(Kt===void 0)throw Error("Palette image missing color map");var hr=Pr[0];Ar=clampColorSample(Kt[hr],16),Ir=clampColorSample(Kt[er+hr],16),zr=clampColorSample(Kt[2*er+hr],16);break;case 4:throw RangeError("Not Yet Implemented: Transparency mask");case 5:throw RangeError("Not Yet Implemented: CMYK");case 6:throw RangeError("Not Yet Implemented: YCbCr");case 8:throw RangeError("Not Yet Implemented: CIELab");default:throw RangeError("Unknown Photometric Interpretation:",Lt)}Ft.fillStyle=makeRGBAFillValue(Ar,Ir,zr,Cr),Ft.fillRect(vr,ur+cr,1,1)}Vt=Dt}}return s}},__makeTemplateObject$4=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign$2=function(){return __assign$2=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$2.apply(this,arguments)},TIFFRenderer=function(e){var i=e.mainState.currentDocument,s=useTranslation().t,a=reactExports.useState(!1),o=a[0],et=a[1],ot=reactExports.useState(!1),ft=ot[0],dt=ot[1];return reactExports.useEffect(function(){if(!(!i||o)){var mt=document.getElementById("tiff-img");try{mt&&parseTIFF(i.fileData,mt),et(!0)}catch{dt(!0)}}},[i,o]),ft?React.createElement(ImageProxyRenderer,__assign$2({},e),React.createElement("div",null,s("brokenFile"))):React.createElement(ImageProxyRenderer,__assign$2({},e),React.createElement(Canvas,{id:"tiff-img"}))};TIFFRenderer.fileTypes=["tif","tiff","image/tif","image/tiff"];TIFFRenderer.weight=0;TIFFRenderer.fileLoader=arrayBufferFileLoader;var Canvas=ut.canvas(templateObject_1$4||(templateObject_1$4=__makeTemplateObject$4([`
  max-width: 95%;
  max-height: 95%;
`],[`
  max-width: 95%;
  max-height: 95%;
`]))),templateObject_1$4,__makeTemplateObject$3=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},TXTRenderer=function(e){var i=e.mainState.currentDocument;return React.createElement(Container$3,{id:"txt-renderer"},i==null?void 0:i.fileData)};TXTRenderer.fileTypes=["txt","text/plain"];TXTRenderer.weight=0;TXTRenderer.fileLoader=textFileLoader;var Container$3=ut.div(templateObject_1$3||(templateObject_1$3=__makeTemplateObject$3([`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`],[`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`]))),templateObject_1$3,papaparse_min={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,i){(function(s,a){e.exports=a()})(commonjsGlobal$1,function s(){var a=typeof self<"u"?self:typeof window<"u"?window:a!==void 0?a:{},o=!a.document&&!!a.postMessage,et=a.IS_PAPA_WORKER||!1,ot={},ft=0,dt={parse:function(Rt,It){var Nt=(It=It||{}).dynamicTyping||!1;if($t(Nt)&&(It.dynamicTypingFunction=Nt,Nt={}),It.dynamicTyping=Nt,It.transform=!!$t(It.transform)&&It.transform,It.worker&&dt.WORKERS_SUPPORTED){var Ot=function(){if(!dt.WORKERS_SUPPORTED)return!1;var Xt=(Yt=a.URL||a.webkitURL||null,zt=s.toString(),dt.BLOB_URL||(dt.BLOB_URL=Yt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",zt,")();"],{type:"text/javascript"})))),Ht=new a.Worker(Xt),Yt,zt;return Ht.onmessage=Et,Ht.id=ft++,ot[Ht.id]=Ht}();return Ot.userStep=It.step,Ot.userChunk=It.chunk,Ot.userComplete=It.complete,Ot.userError=It.error,It.step=$t(It.step),It.chunk=$t(It.chunk),It.complete=$t(It.complete),It.error=$t(It.error),delete It.worker,void Ot.postMessage({input:Rt,config:It,workerId:Ot.id})}var Gt=null;return dt.NODE_STREAM_INPUT,typeof Rt=="string"?(Rt=function(Xt){return Xt.charCodeAt(0)===65279?Xt.slice(1):Xt}(Rt),Gt=It.download?new bt(It):new Pt(It)):Rt.readable===!0&&$t(Rt.read)&&$t(Rt.on)?Gt=new Tt(It):(a.File&&Rt instanceof File||Rt instanceof Object)&&(Gt=new vt(It)),Gt.stream(Rt)},unparse:function(Rt,It){var Nt=!1,Ot=!0,Gt=",",Xt=`\r
`,Ht='"',Yt=Ht+Ht,zt=!1,Ut=null,kt=!1;(function(){if(typeof It=="object"){if(typeof It.delimiter!="string"||dt.BAD_DELIMITERS.filter(function(rr){return It.delimiter.indexOf(rr)!==-1}).length||(Gt=It.delimiter),(typeof It.quotes=="boolean"||typeof It.quotes=="function"||Array.isArray(It.quotes))&&(Nt=It.quotes),typeof It.skipEmptyLines!="boolean"&&typeof It.skipEmptyLines!="string"||(zt=It.skipEmptyLines),typeof It.newline=="string"&&(Xt=It.newline),typeof It.quoteChar=="string"&&(Ht=It.quoteChar),typeof It.header=="boolean"&&(Ot=It.header),Array.isArray(It.columns)){if(It.columns.length===0)throw new Error("Option columns is empty");Ut=It.columns}It.escapeChar!==void 0&&(Yt=It.escapeChar+Ht),(typeof It.escapeFormulae=="boolean"||It.escapeFormulae instanceof RegExp)&&(kt=It.escapeFormulae instanceof RegExp?It.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Ft=new RegExp(wt(Ht),"g");if(typeof Rt=="string"&&(Rt=JSON.parse(Rt)),Array.isArray(Rt)){if(!Rt.length||Array.isArray(Rt[0]))return Qt(null,Rt,zt);if(typeof Rt[0]=="object")return Qt(Ut||Object.keys(Rt[0]),Rt,zt)}else if(typeof Rt=="object")return typeof Rt.data=="string"&&(Rt.data=JSON.parse(Rt.data)),Array.isArray(Rt.data)&&(Rt.fields||(Rt.fields=Rt.meta&&Rt.meta.fields||Ut),Rt.fields||(Rt.fields=Array.isArray(Rt.data[0])?Rt.fields:typeof Rt.data[0]=="object"?Object.keys(Rt.data[0]):[]),Array.isArray(Rt.data[0])||typeof Rt.data[0]=="object"||(Rt.data=[Rt.data])),Qt(Rt.fields||[],Rt.data||[],zt);throw new Error("Unable to serialize unrecognized input");function Qt(rr,qt,Dt){var Vt="";typeof rr=="string"&&(rr=JSON.parse(rr)),typeof qt=="string"&&(qt=JSON.parse(qt));var Lt=Array.isArray(rr)&&0<rr.length,jt=!Array.isArray(qt[0]);if(Lt&&Ot){for(var Wt=0;Wt<rr.length;Wt++)0<Wt&&(Vt+=Gt),Vt+=Zt(rr[Wt],Wt);0<qt.length&&(Vt+=Xt)}for(var Kt=0;Kt<qt.length;Kt++){var er=Lt?rr.length:qt[Kt].length,tr=!1,ur=Lt?Object.keys(qt[Kt]).length===0:qt[Kt].length===0;if(Dt&&!Lt&&(tr=Dt==="greedy"?qt[Kt].join("").trim()==="":qt[Kt].length===1&&qt[Kt][0].length===0),Dt==="greedy"&&Lt){for(var cr=[],nr=0;nr<er;nr++){var vr=jt?rr[nr]:nr;cr.push(qt[Kt][vr])}tr=cr.join("").trim()===""}if(!tr){for(var Pr=0;Pr<er;Pr++){0<Pr&&!ur&&(Vt+=Gt);var Ar=Lt&&jt?rr[Pr]:Pr;Vt+=Zt(qt[Kt][Ar],Pr)}Kt<qt.length-1&&(!Dt||0<er&&!ur)&&(Vt+=Xt)}}return Vt}function Zt(rr,qt){if(rr==null)return"";if(rr.constructor===Date)return JSON.stringify(rr).slice(1,25);var Dt=!1;kt&&typeof rr=="string"&&kt.test(rr)&&(rr="'"+rr,Dt=!0);var Vt=rr.toString().replace(Ft,Yt);return(Dt=Dt||Nt===!0||typeof Nt=="function"&&Nt(rr,qt)||Array.isArray(Nt)&&Nt[qt]||function(Lt,jt){for(var Wt=0;Wt<jt.length;Wt++)if(-1<Lt.indexOf(jt[Wt]))return!0;return!1}(Vt,dt.BAD_DELIMITERS)||-1<Vt.indexOf(Gt)||Vt.charAt(0)===" "||Vt.charAt(Vt.length-1)===" ")?Ht+Vt+Ht:Vt}}};if(dt.RECORD_SEP="",dt.UNIT_SEP="",dt.BYTE_ORDER_MARK="\uFEFF",dt.BAD_DELIMITERS=["\r",`
`,'"',dt.BYTE_ORDER_MARK],dt.WORKERS_SUPPORTED=!o&&!!a.Worker,dt.NODE_STREAM_INPUT=1,dt.LocalChunkSize=10485760,dt.RemoteChunkSize=5242880,dt.DefaultDelimiter=",",dt.Parser=_t,dt.ParserHandle=At,dt.NetworkStreamer=bt,dt.FileStreamer=vt,dt.StringStreamer=Pt,dt.ReadableStreamStreamer=Tt,a.jQuery){var mt=a.jQuery;mt.fn.parse=function(Rt){var It=Rt.config||{},Nt=[];return this.each(function(Xt){if(!(mt(this).prop("tagName").toUpperCase()==="INPUT"&&mt(this).attr("type").toLowerCase()==="file"&&a.FileReader)||!this.files||this.files.length===0)return!0;for(var Ht=0;Ht<this.files.length;Ht++)Nt.push({file:this.files[Ht],inputElem:this,instanceConfig:mt.extend({},It)})}),Ot(),this;function Ot(){if(Nt.length!==0){var Xt,Ht,Yt,zt,Ut=Nt[0];if($t(Rt.before)){var kt=Rt.before(Ut.file,Ut.inputElem);if(typeof kt=="object"){if(kt.action==="abort")return Xt="AbortError",Ht=Ut.file,Yt=Ut.inputElem,zt=kt.reason,void($t(Rt.error)&&Rt.error({name:Xt},Ht,Yt,zt));if(kt.action==="skip")return void Gt();typeof kt.config=="object"&&(Ut.instanceConfig=mt.extend(Ut.instanceConfig,kt.config))}else if(kt==="skip")return void Gt()}var Ft=Ut.instanceConfig.complete;Ut.instanceConfig.complete=function(Qt){$t(Ft)&&Ft(Qt,Ut.file,Ut.inputElem),Gt()},dt.parse(Ut.file,Ut.instanceConfig)}else $t(Rt.complete)&&Rt.complete()}function Gt(){Nt.splice(0,1),Ot()}}}function gt(Rt){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(It){var Nt=xt(It);Nt.chunkSize=parseInt(Nt.chunkSize),It.step||It.chunk||(Nt.chunkSize=null),this._handle=new At(Nt),(this._handle.streamer=this)._config=Nt}).call(this,Rt),this.parseChunk=function(It,Nt){if(this.isFirstChunk&&$t(this._config.beforeFirstChunk)){var Ot=this._config.beforeFirstChunk(It);Ot!==void 0&&(It=Ot)}this.isFirstChunk=!1,this._halted=!1;var Gt=this._partialLine+It;this._partialLine="";var Xt=this._handle.parse(Gt,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Ht=Xt.meta.cursor;this._finished||(this._partialLine=Gt.substring(Ht-this._baseIndex),this._baseIndex=Ht),Xt&&Xt.data&&(this._rowCount+=Xt.data.length);var Yt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(et)a.postMessage({results:Xt,workerId:dt.WORKER_ID,finished:Yt});else if($t(this._config.chunk)&&!Nt){if(this._config.chunk(Xt,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Xt=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Xt.data),this._completeResults.errors=this._completeResults.errors.concat(Xt.errors),this._completeResults.meta=Xt.meta),this._completed||!Yt||!$t(this._config.complete)||Xt&&Xt.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Yt||Xt&&Xt.meta.paused||this._nextChunk(),Xt}this._halted=!0},this._sendError=function(It){$t(this._config.error)?this._config.error(It):et&&this._config.error&&a.postMessage({workerId:dt.WORKER_ID,error:It,finished:!1})}}function bt(Rt){var It;(Rt=Rt||{}).chunkSize||(Rt.chunkSize=dt.RemoteChunkSize),gt.call(this,Rt),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Nt){this._input=Nt,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(It=new XMLHttpRequest,this._config.withCredentials&&(It.withCredentials=this._config.withCredentials),o||(It.onload=Ct(this._chunkLoaded,this),It.onerror=Ct(this._chunkError,this)),It.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var Nt=this._config.downloadRequestHeaders;for(var Ot in Nt)It.setRequestHeader(Ot,Nt[Ot])}if(this._config.chunkSize){var Gt=this._start+this._config.chunkSize-1;It.setRequestHeader("Range","bytes="+this._start+"-"+Gt)}try{It.send(this._config.downloadRequestBody)}catch(Xt){this._chunkError(Xt.message)}o&&It.status===0&&this._chunkError()}},this._chunkLoaded=function(){It.readyState===4&&(It.status<200||400<=It.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:It.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(Nt){var Ot=Nt.getResponseHeader("Content-Range");return Ot===null?-1:parseInt(Ot.substring(Ot.lastIndexOf("/")+1))}(It),this.parseChunk(It.responseText)))},this._chunkError=function(Nt){var Ot=It.statusText||Nt;this._sendError(new Error(Ot))}}function vt(Rt){var It,Nt;(Rt=Rt||{}).chunkSize||(Rt.chunkSize=dt.LocalChunkSize),gt.call(this,Rt);var Ot=typeof FileReader<"u";this.stream=function(Gt){this._input=Gt,Nt=Gt.slice||Gt.webkitSlice||Gt.mozSlice,Ot?((It=new FileReader).onload=Ct(this._chunkLoaded,this),It.onerror=Ct(this._chunkError,this)):It=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Gt=this._input;if(this._config.chunkSize){var Xt=Math.min(this._start+this._config.chunkSize,this._input.size);Gt=Nt.call(Gt,this._start,Xt)}var Ht=It.readAsText(Gt,this._config.encoding);Ot||this._chunkLoaded({target:{result:Ht}})},this._chunkLoaded=function(Gt){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Gt.target.result)},this._chunkError=function(){this._sendError(It.error)}}function Pt(Rt){var It;gt.call(this,Rt=Rt||{}),this.stream=function(Nt){return It=Nt,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Nt,Ot=this._config.chunkSize;return Ot?(Nt=It.substring(0,Ot),It=It.substring(Ot)):(Nt=It,It=""),this._finished=!It,this.parseChunk(Nt)}}}function Tt(Rt){gt.call(this,Rt=Rt||{});var It=[],Nt=!0,Ot=!1;this.pause=function(){gt.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){gt.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Gt){this._input=Gt,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Ot&&It.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),It.length?this.parseChunk(It.shift()):Nt=!0},this._streamData=Ct(function(Gt){try{It.push(typeof Gt=="string"?Gt:Gt.toString(this._config.encoding)),Nt&&(Nt=!1,this._checkIsFinished(),this.parseChunk(It.shift()))}catch(Xt){this._streamError(Xt)}},this),this._streamError=Ct(function(Gt){this._streamCleanUp(),this._sendError(Gt)},this),this._streamEnd=Ct(function(){this._streamCleanUp(),Ot=!0,this._streamData("")},this),this._streamCleanUp=Ct(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function At(Rt){var It,Nt,Ot,Gt=Math.pow(2,53),Xt=-Gt,Ht=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Yt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,zt=this,Ut=0,kt=0,Ft=!1,Qt=!1,Zt=[],rr={data:[],errors:[],meta:{}};if($t(Rt.step)){var qt=Rt.step;Rt.step=function(Kt){if(rr=Kt,Lt())Vt();else{if(Vt(),rr.data.length===0)return;Ut+=Kt.data.length,Rt.preview&&Ut>Rt.preview?Nt.abort():(rr.data=rr.data[0],qt(rr,zt))}}}function Dt(Kt){return Rt.skipEmptyLines==="greedy"?Kt.join("").trim()==="":Kt.length===1&&Kt[0].length===0}function Vt(){return rr&&Ot&&(Wt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+dt.DefaultDelimiter+"'"),Ot=!1),Rt.skipEmptyLines&&(rr.data=rr.data.filter(function(Kt){return!Dt(Kt)})),Lt()&&function(){if(!rr)return;function Kt(tr,ur){$t(Rt.transformHeader)&&(tr=Rt.transformHeader(tr,ur)),Zt.push(tr)}if(Array.isArray(rr.data[0])){for(var er=0;Lt()&&er<rr.data.length;er++)rr.data[er].forEach(Kt);rr.data.splice(0,1)}else rr.data.forEach(Kt)}(),function(){if(!rr||!Rt.header&&!Rt.dynamicTyping&&!Rt.transform)return rr;function Kt(tr,ur){var cr,nr=Rt.header?{}:[];for(cr=0;cr<tr.length;cr++){var vr=cr,Pr=tr[cr];Rt.header&&(vr=cr>=Zt.length?"__parsed_extra":Zt[cr]),Rt.transform&&(Pr=Rt.transform(Pr,vr)),Pr=jt(vr,Pr),vr==="__parsed_extra"?(nr[vr]=nr[vr]||[],nr[vr].push(Pr)):nr[vr]=Pr}return Rt.header&&(cr>Zt.length?Wt("FieldMismatch","TooManyFields","Too many fields: expected "+Zt.length+" fields but parsed "+cr,kt+ur):cr<Zt.length&&Wt("FieldMismatch","TooFewFields","Too few fields: expected "+Zt.length+" fields but parsed "+cr,kt+ur)),nr}var er=1;return!rr.data.length||Array.isArray(rr.data[0])?(rr.data=rr.data.map(Kt),er=rr.data.length):rr.data=Kt(rr.data,0),Rt.header&&rr.meta&&(rr.meta.fields=Zt),kt+=er,rr}()}function Lt(){return Rt.header&&Zt.length===0}function jt(Kt,er){return tr=Kt,Rt.dynamicTypingFunction&&Rt.dynamicTyping[tr]===void 0&&(Rt.dynamicTyping[tr]=Rt.dynamicTypingFunction(tr)),(Rt.dynamicTyping[tr]||Rt.dynamicTyping)===!0?er==="true"||er==="TRUE"||er!=="false"&&er!=="FALSE"&&(function(ur){if(Ht.test(ur)){var cr=parseFloat(ur);if(Xt<cr&&cr<Gt)return!0}return!1}(er)?parseFloat(er):Yt.test(er)?new Date(er):er===""?null:er):er;var tr}function Wt(Kt,er,tr,ur){var cr={type:Kt,code:er,message:tr};ur!==void 0&&(cr.row=ur),rr.errors.push(cr)}this.parse=function(Kt,er,tr){var ur=Rt.quoteChar||'"';if(Rt.newline||(Rt.newline=function(vr,Pr){vr=vr.substring(0,1048576);var Ar=new RegExp(wt(Pr)+"([^]*?)"+wt(Pr),"gm"),Ir=(vr=vr.replace(Ar,"")).split("\r"),zr=vr.split(`
`),Cr=1<zr.length&&zr[0].length<Ir[0].length;if(Ir.length===1||Cr)return`
`;for(var Dr=0,xr=0;xr<Ir.length;xr++)Ir[xr][0]===`
`&&Dr++;return Dr>=Ir.length/2?`\r
`:"\r"}(Kt,ur)),Ot=!1,Rt.delimiter)$t(Rt.delimiter)&&(Rt.delimiter=Rt.delimiter(Kt),rr.meta.delimiter=Rt.delimiter);else{var cr=function(vr,Pr,Ar,Ir,zr){var Cr,Dr,xr,hr;zr=zr||[",","	","|",";",dt.RECORD_SEP,dt.UNIT_SEP];for(var pr=0;pr<zr.length;pr++){var br=zr[pr],kr=0,$r=0,Gr=0;xr=void 0;for(var qr=new _t({comments:Ir,delimiter:br,newline:Pr,preview:10}).parse(vr),Wr=0;Wr<qr.data.length;Wr++)if(Ar&&Dt(qr.data[Wr]))Gr++;else{var tn=qr.data[Wr].length;$r+=tn,xr!==void 0?0<tn&&(kr+=Math.abs(tn-xr),xr=tn):xr=tn}0<qr.data.length&&($r/=qr.data.length-Gr),(Dr===void 0||kr<=Dr)&&(hr===void 0||hr<$r)&&1.99<$r&&(Dr=kr,Cr=br,hr=$r)}return{successful:!!(Rt.delimiter=Cr),bestDelimiter:Cr}}(Kt,Rt.newline,Rt.skipEmptyLines,Rt.comments,Rt.delimitersToGuess);cr.successful?Rt.delimiter=cr.bestDelimiter:(Ot=!0,Rt.delimiter=dt.DefaultDelimiter),rr.meta.delimiter=Rt.delimiter}var nr=xt(Rt);return Rt.preview&&Rt.header&&nr.preview++,It=Kt,Nt=new _t(nr),rr=Nt.parse(It,er,tr),Vt(),Ft?{meta:{paused:!0}}:rr||{meta:{paused:!1}}},this.paused=function(){return Ft},this.pause=function(){Ft=!0,Nt.abort(),It=$t(Rt.chunk)?"":It.substring(Nt.getCharIndex())},this.resume=function(){zt.streamer._halted?(Ft=!1,zt.streamer.parseChunk(It,!0)):setTimeout(zt.resume,3)},this.aborted=function(){return Qt},this.abort=function(){Qt=!0,Nt.abort(),rr.meta.aborted=!0,$t(Rt.complete)&&Rt.complete(rr),It=""}}function wt(Rt){return Rt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _t(Rt){var It,Nt=(Rt=Rt||{}).delimiter,Ot=Rt.newline,Gt=Rt.comments,Xt=Rt.step,Ht=Rt.preview,Yt=Rt.fastMode,zt=It=Rt.quoteChar===void 0||Rt.quoteChar===null?'"':Rt.quoteChar;if(Rt.escapeChar!==void 0&&(zt=Rt.escapeChar),(typeof Nt!="string"||-1<dt.BAD_DELIMITERS.indexOf(Nt))&&(Nt=","),Gt===Nt)throw new Error("Comment character same as delimiter");Gt===!0?Gt="#":(typeof Gt!="string"||-1<dt.BAD_DELIMITERS.indexOf(Gt))&&(Gt=!1),Ot!==`
`&&Ot!=="\r"&&Ot!==`\r
`&&(Ot=`
`);var Ut=0,kt=!1;this.parse=function(Ft,Qt,Zt){if(typeof Ft!="string")throw new Error("Input must be a string");var rr=Ft.length,qt=Nt.length,Dt=Ot.length,Vt=Gt.length,Lt=$t(Xt),jt=[],Wt=[],Kt=[],er=Ut=0;if(!Ft)return Kr();if(Rt.header&&!Qt){var tr=Ft.split(Ot)[0].split(Nt),ur=[],cr={},nr=!1;for(var vr in tr){var Pr=tr[vr];$t(Rt.transformHeader)&&(Pr=Rt.transformHeader(Pr,vr));var Ar=Pr,Ir=cr[Pr]||0;for(0<Ir&&(nr=!0,Ar=Pr+"_"+Ir),cr[Pr]=Ir+1;ur.includes(Ar);)Ar=Ar+"_"+Ir;ur.push(Ar)}if(nr){var zr=Ft.split(Ot);zr[0]=ur.join(Nt),Ft=zr.join(Ot)}}if(Yt||Yt!==!1&&Ft.indexOf(It)===-1){for(var Cr=Ft.split(Ot),Dr=0;Dr<Cr.length;Dr++){if(Kt=Cr[Dr],Ut+=Kt.length,Dr!==Cr.length-1)Ut+=Ot.length;else if(Zt)return Kr();if(!Gt||Kt.substring(0,Vt)!==Gt){if(Lt){if(jt=[],Gr(Kt.split(Nt)),Jr(),kt)return Kr()}else Gr(Kt.split(Nt));if(Ht&&Ht<=Dr)return jt=jt.slice(0,Ht),Kr(!0)}}return Kr()}for(var xr=Ft.indexOf(Nt,Ut),hr=Ft.indexOf(Ot,Ut),pr=new RegExp(wt(zt)+wt(It),"g"),br=Ft.indexOf(It,Ut);;)if(Ft[Ut]!==It)if(Gt&&Kt.length===0&&Ft.substring(Ut,Ut+Vt)===Gt){if(hr===-1)return Kr();Ut=hr+Dt,hr=Ft.indexOf(Ot,Ut),xr=Ft.indexOf(Nt,Ut)}else if(xr!==-1&&(xr<hr||hr===-1))Kt.push(Ft.substring(Ut,xr)),Ut=xr+qt,xr=Ft.indexOf(Nt,Ut);else{if(hr===-1)break;if(Kt.push(Ft.substring(Ut,hr)),tn(hr+Dt),Lt&&(Jr(),kt))return Kr();if(Ht&&jt.length>=Ht)return Kr(!0)}else for(br=Ut,Ut++;;){if((br=Ft.indexOf(It,br+1))===-1)return Zt||Wt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:jt.length,index:Ut}),Wr();if(br===rr-1)return Wr(Ft.substring(Ut,br).replace(pr,It));if(It!==zt||Ft[br+1]!==zt){if(It===zt||br===0||Ft[br-1]!==zt){xr!==-1&&xr<br+1&&(xr=Ft.indexOf(Nt,br+1)),hr!==-1&&hr<br+1&&(hr=Ft.indexOf(Ot,br+1));var kr=qr(hr===-1?xr:Math.min(xr,hr));if(Ft.substr(br+1+kr,qt)===Nt){Kt.push(Ft.substring(Ut,br).replace(pr,It)),Ft[Ut=br+1+kr+qt]!==It&&(br=Ft.indexOf(It,Ut)),xr=Ft.indexOf(Nt,Ut),hr=Ft.indexOf(Ot,Ut);break}var $r=qr(hr);if(Ft.substring(br+1+$r,br+1+$r+Dt)===Ot){if(Kt.push(Ft.substring(Ut,br).replace(pr,It)),tn(br+1+$r+Dt),xr=Ft.indexOf(Nt,Ut),br=Ft.indexOf(It,Ut),Lt&&(Jr(),kt))return Kr();if(Ht&&jt.length>=Ht)return Kr(!0);break}Wt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:jt.length,index:Ut}),br++}}else br++}return Wr();function Gr(Qr){jt.push(Qr),er=Ut}function qr(Qr){var wr=0;if(Qr!==-1){var Er=Ft.substring(br+1,Qr);Er&&Er.trim()===""&&(wr=Er.length)}return wr}function Wr(Qr){return Zt||(Qr===void 0&&(Qr=Ft.substring(Ut)),Kt.push(Qr),Ut=rr,Gr(Kt),Lt&&Jr()),Kr()}function tn(Qr){Ut=Qr,Gr(Kt),Kt=[],hr=Ft.indexOf(Ot,Ut)}function Kr(Qr){return{data:jt,errors:Wt,meta:{delimiter:Nt,linebreak:Ot,aborted:kt,truncated:!!Qr,cursor:er+(Qt||0)}}}function Jr(){Xt(Kr()),jt=[],Wt=[]}},this.abort=function(){kt=!0},this.getCharIndex=function(){return Ut}}function Et(Rt){var It=Rt.data,Nt=ot[It.workerId],Ot=!1;if(It.error)Nt.userError(It.error,It.file);else if(It.results&&It.results.data){var Gt={abort:function(){Ot=!0,yt(It.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:St,resume:St};if($t(Nt.userStep)){for(var Xt=0;Xt<It.results.data.length&&(Nt.userStep({data:It.results.data[Xt],errors:It.results.errors,meta:It.results.meta},Gt),!Ot);Xt++);delete It.results}else $t(Nt.userChunk)&&(Nt.userChunk(It.results,Gt,It.file),delete It.results)}It.finished&&!Ot&&yt(It.workerId,It.results)}function yt(Rt,It){var Nt=ot[Rt];$t(Nt.userComplete)&&Nt.userComplete(It),Nt.terminate(),delete ot[Rt]}function St(){throw new Error("Not implemented.")}function xt(Rt){if(typeof Rt!="object"||Rt===null)return Rt;var It=Array.isArray(Rt)?[]:{};for(var Nt in Rt)It[Nt]=xt(Rt[Nt]);return It}function Ct(Rt,It){return function(){Rt.apply(It,arguments)}}function $t(Rt){return typeof Rt=="function"}return et&&(a.onmessage=function(Rt){var It=Rt.data;if(dt.WORKER_ID===void 0&&It&&(dt.WORKER_ID=It.workerId),typeof It.input=="string")a.postMessage({workerId:dt.WORKER_ID,results:dt.parse(It.input,It.config),finished:!0});else if(a.File&&It.input instanceof File||It.input instanceof Object){var Nt=dt.parse(It.input,It.config);Nt&&a.postMessage({workerId:dt.WORKER_ID,results:Nt,finished:!0})}}),(bt.prototype=Object.create(gt.prototype)).constructor=bt,(vt.prototype=Object.create(gt.prototype)).constructor=vt,(Pt.prototype=Object.create(Pt.prototype)).constructor=Pt,(Tt.prototype=Object.create(gt.prototype)).constructor=Tt,dt})})(papaparse_min);var papaparse_minExports=papaparse_min.exports;const papaparse=getDefaultExportFromCjs(papaparse_minExports);var __makeTemplateObject$2=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},CSVRenderer=function(e){var i=e.mainState,s=i.currentDocument,a=i.config,o=reactExports.useState([]),et=o[0],ot=o[1];return reactExports.useEffect(function(){var ft,dt;if(s!=null&&s.fileData){var mt=papaparse.parse(s.fileData,{delimiter:(ft=a==null?void 0:a.csvDelimiter)!==null&&ft!==void 0?ft:","});!(!((dt=mt.errors)===null||dt===void 0)&&dt.length)&&mt.data&&ot(mt.data)}},[s,a==null?void 0:a.csvDelimiter]),et.length?React.createElement(Container$2,null,React.createElement(Table,null,React.createElement("thead",null,React.createElement("tr",null,et[0].map(function(ft){return React.createElement("th",{key:ft},ft)}))),React.createElement("tbody",null,et.slice(1,et.length).map(function(ft){return React.createElement("tr",{key:ft.join("")},ft.map(function(dt){return React.createElement("td",{key:dt},dt)}))})))):null};CSVRenderer.fileTypes=["csv","text/csv"];CSVRenderer.weight=0;CSVRenderer.fileLoader=textFileLoader;var Container$2=ut.div(templateObject_1$2||(templateObject_1$2=__makeTemplateObject$2([`
  width: 100%;
`],[`
  width: 100%;
`]))),Table=ut.table(templateObject_2$1||(templateObject_2$1=__makeTemplateObject$2([`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`],[`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`]))),templateObject_1$2,templateObject_2$1,__assign$1=function(){return __assign$1=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign$1.apply(this,arguments)},JPGRenderer=function(e){return React.createElement(ImageProxyRenderer,__assign$1({},e))};JPGRenderer.fileTypes=["gif","image/gif"];JPGRenderer.weight=0;var __makeTemplateObject$1=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},VideoRenderer=function(e){var i=e.mainState.currentDocument;return i?React.createElement(Container$1,{id:"video-renderer"},React.createElement(Video,{controls:!0,src:i.uri})):null};VideoRenderer.fileTypes=["video/mp4","video/quicktime","video/x-msvideo"];VideoRenderer.weight=0;var Container$1=ut.div(templateObject_1$1||(templateObject_1$1=__makeTemplateObject$1([`
  width: 100%;
`],[`
  width: 100%;
`]))),Video=ut.video(templateObject_2||(templateObject_2=__makeTemplateObject$1([`
  width: 100%;
  height: 100%;
  border: 0;
`],[`
  width: 100%;
  height: 100%;
  border: 0;
`]))),templateObject_1$1,templateObject_2,DocViewerRenderers=[BMPRenderer,HTMLRenderer,JPGRenderer$1,MSDocRenderer,PDFRenderer,PNGRenderer,TIFFRenderer,TXTRenderer,CSVRenderer,JPGRenderer,VideoRenderer],__makeTemplateObject=function(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e},__assign=function(){return __assign=Object.assign||function(e){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},__assign.apply(this,arguments)},DocViewer=reactExports.forwardRef(function(e,i){var s=e.documents,a=e.theme;if(!s)throw new Error("Please provide an array of documents to DocViewer!");return React.createElement(DocViewerProvider,__assign({ref:i,pluginRenderers:DocViewerRenderers},e),React.createElement(tt,{theme:a?__assign(__assign({},defaultTheme),a):defaultTheme},React.createElement(Container,{id:"react-doc-viewer","data-testid":"react-doc-viewer",className:e.className,style:e.style},React.createElement(HeaderBar,null),React.createElement(ProxyRenderer,null))))});const DocViewer$1=reactExports.memo(DocViewer);var Container=ut.div(templateObject_1||(templateObject_1=__makeTemplateObject([`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #ffffff;
  width: 100%;
  height: 100%;
`],[`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: #ffffff;
  width: 100%;
  height: 100%;
`]))),templateObject_1;function ViewDocument(){const{documentId:e}=useParams(),[i,s]=reactExports.useState(),[a,o]=reactExports.useState(!1);return reactExports.useEffect(()=>{const et=async()=>{try{if(!e)return;const ot=await firebase.getFileFromDb(e);if(!(ot!=null&&ot.exists()))return;s(()=>ot.data())}catch(ot){console.trace(ot),alert("Error while getting file")}finally{o(!1)}};o(!0),et()},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!a&&(i==null?void 0:i.url)&&jsxRuntimeExports.jsx(DocViewerDoc,{url:i.url}),(a||!(i!=null&&i.url))&&jsxRuntimeExports.jsx(Loader,{})]})}function DocViewerDoc({url:e}){return console.log("rendering - ",e),jsxRuntimeExports.jsx(DocViewer$1,{documents:[{uri:e}],pluginRenderers:DocViewerRenderers})}function Router(){return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(UploadDocument,{})}),jsxRuntimeExports.jsx(Route,{path:"/view/:documentId",element:jsxRuntimeExports.jsx(ViewDocument,{})}),jsxRuntimeExports.jsx(Route,{path:"/documents",element:jsxRuntimeExports.jsx(DocumentList,{})})]})})}function App(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Router,{}),jsxRuntimeExports.jsx(Q$2,{})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
